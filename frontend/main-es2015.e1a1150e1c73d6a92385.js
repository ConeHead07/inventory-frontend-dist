(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+1n9":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function PerspectiveTransform(a11,a21,a31,a12,a22,a32,a13,a23,a33){this.a11=a11,this.a21=a21,this.a31=a31,this.a12=a12,this.a22=a22,this.a32=a32,this.a13=a13,this.a23=a23,this.a33=a33}return PerspectiveTransform.quadrilateralToQuadrilateral=function(x0,y0,x1,y1,x2,y2,x3,y3,x0p,y0p,x1p,y1p,x2p,y2p,x3p,y3p){var qToS=PerspectiveTransform.quadrilateralToSquare(x0,y0,x1,y1,x2,y2,x3,y3);return PerspectiveTransform.squareToQuadrilateral(x0p,y0p,x1p,y1p,x2p,y2p,x3p,y3p).times(qToS)},PerspectiveTransform.prototype.transformPoints=function(points){for(var max=points.length,a11=this.a11,a12=this.a12,a13=this.a13,a21=this.a21,a22=this.a22,a23=this.a23,a31=this.a31,a32=this.a32,a33=this.a33,i=0;i<max;i+=2){var x=points[i],y=points[i+1],denominator=a13*x+a23*y+a33;points[i]=(a11*x+a21*y+a31)/denominator,points[i+1]=(a12*x+a22*y+a32)/denominator}},PerspectiveTransform.prototype.transformPointsWithValues=function(xValues,yValues){for(var a11=this.a11,a12=this.a12,a13=this.a13,a21=this.a21,a22=this.a22,a23=this.a23,a31=this.a31,a32=this.a32,a33=this.a33,n=xValues.length,i=0;i<n;i++){var x=xValues[i],y=yValues[i],denominator=a13*x+a23*y+a33;xValues[i]=(a11*x+a21*y+a31)/denominator,yValues[i]=(a12*x+a22*y+a32)/denominator}},PerspectiveTransform.squareToQuadrilateral=function(x0,y0,x1,y1,x2,y2,x3,y3){var dx3=x0-x1+x2-x3,dy3=y0-y1+y2-y3;if(0===dx3&&0===dy3)return new PerspectiveTransform(x1-x0,x2-x1,x0,y1-y0,y2-y1,y0,0,0,1);var dx1=x1-x2,dx2=x3-x2,dy1=y1-y2,dy2=y3-y2,denominator=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/denominator,a23=(dx1*dy3-dx3*dy1)/denominator;return new PerspectiveTransform(x1-x0+a13*x1,x3-x0+a23*x3,x0,y1-y0+a13*y1,y3-y0+a23*y3,y0,a13,a23,1)},PerspectiveTransform.quadrilateralToSquare=function(x0,y0,x1,y1,x2,y2,x3,y3){return PerspectiveTransform.squareToQuadrilateral(x0,y0,x1,y1,x2,y2,x3,y3).buildAdjoint()},PerspectiveTransform.prototype.buildAdjoint=function(){return new PerspectiveTransform(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},PerspectiveTransform.prototype.times=function(other){return new PerspectiveTransform(this.a11*other.a11+this.a21*other.a12+this.a31*other.a13,this.a11*other.a21+this.a21*other.a22+this.a31*other.a23,this.a11*other.a31+this.a21*other.a32+this.a31*other.a33,this.a12*other.a11+this.a22*other.a12+this.a32*other.a13,this.a12*other.a21+this.a22*other.a22+this.a32*other.a23,this.a12*other.a31+this.a22*other.a32+this.a32*other.a33,this.a13*other.a11+this.a23*other.a12+this.a33*other.a13,this.a13*other.a21+this.a23*other.a22+this.a33*other.a23,this.a13*other.a31+this.a23*other.a32+this.a33*other.a33)},PerspectiveTransform}()},"+dne":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var EncodeHintType_1=__webpack_require__("Q51M"),Encoder_1=__webpack_require__("JB+I"),ErrorCorrectionLevel_1=__webpack_require__("SveX"),IllegalArgumentException_1=__webpack_require__("z1Y+"),IllegalStateException_1=__webpack_require__("dI6j");exports.BrowserQRCodeSvgWriter=function(){function BrowserQRCodeSvgWriter(){}return BrowserQRCodeSvgWriter.prototype.write=function(contents,width,height,hints){if(void 0===hints&&(hints=null),0===contents.length)throw new IllegalArgumentException_1.default("Found empty contents");if(width<0||height<0)throw new IllegalArgumentException_1.default("Requested dimensions are too small: "+width+"x"+height);var errorCorrectionLevel=ErrorCorrectionLevel_1.default.L,quietZone=BrowserQRCodeSvgWriter.QUIET_ZONE_SIZE;null!==hints&&(void 0!==hints.get(EncodeHintType_1.default.ERROR_CORRECTION)&&(errorCorrectionLevel=ErrorCorrectionLevel_1.default.fromString(hints.get(EncodeHintType_1.default.ERROR_CORRECTION).toString())),void 0!==hints.get(EncodeHintType_1.default.MARGIN)&&(quietZone=Number.parseInt(hints.get(EncodeHintType_1.default.MARGIN).toString(),10)));var code=Encoder_1.default.encode(contents,errorCorrectionLevel,hints);return this.renderResult(code,width,height,quietZone)},BrowserQRCodeSvgWriter.prototype.writeToDom=function(containerElement,contents,width,height,hints){void 0===hints&&(hints=null),"string"==typeof containerElement&&(containerElement=document.querySelector(containerElement));var svgElement=this.write(contents,width,height,hints);containerElement&&containerElement.appendChild(svgElement)},BrowserQRCodeSvgWriter.prototype.renderResult=function(code,width,height,quietZone){var input=code.getMatrix();if(null===input)throw new IllegalStateException_1.default;for(var inputWidth=input.getWidth(),inputHeight=input.getHeight(),qrWidth=inputWidth+2*quietZone,qrHeight=inputHeight+2*quietZone,outputWidth=Math.max(width,qrWidth),outputHeight=Math.max(height,qrHeight),multiple=Math.min(Math.floor(outputWidth/qrWidth),Math.floor(outputHeight/qrHeight)),leftPadding=Math.floor((outputWidth-inputWidth*multiple)/2),topPadding=Math.floor((outputHeight-inputHeight*multiple)/2),svgElement=this.createSVGElement(outputWidth,outputHeight),inputY=0,outputY=topPadding;inputY<inputHeight;inputY++,outputY+=multiple)for(var inputX=0,outputX=leftPadding;inputX<inputWidth;inputX++,outputX+=multiple)if(1===input.get(inputX,inputY)){var svgRectElement=this.createSvgRectElement(outputX,outputY,multiple,multiple);svgElement.appendChild(svgRectElement)}return svgElement},BrowserQRCodeSvgWriter.prototype.createSVGElement=function(w,h){var svgElement=document.createElementNS(BrowserQRCodeSvgWriter.SVG_NS,"svg");return svgElement.setAttributeNS(null,"height",w.toString()),svgElement.setAttributeNS(null,"width",h.toString()),svgElement},BrowserQRCodeSvgWriter.prototype.createSvgRectElement=function(x,y,w,h){var rect=document.createElementNS(BrowserQRCodeSvgWriter.SVG_NS,"rect");return rect.setAttributeNS(null,"x",x.toString()),rect.setAttributeNS(null,"y",y.toString()),rect.setAttributeNS(null,"height",w.toString()),rect.setAttributeNS(null,"width",h.toString()),rect.setAttributeNS(null,"fill","#000000"),rect},BrowserQRCodeSvgWriter.QUIET_ZONE_SIZE=4,BrowserQRCodeSvgWriter.SVG_NS="http://www.w3.org/2000/svg",BrowserQRCodeSvgWriter}()},"/fss":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitArray_1=__webpack_require__("ABEO"),System_1=__webpack_require__("pleV"),Arrays_1=__webpack_require__("PTYN"),StringBuilder_1=__webpack_require__("SgF2"),IllegalArgumentException_1=__webpack_require__("z1Y+"),BitMatrix=function(){function BitMatrix(width,height,rowSize,bits){if(this.width=width,this.height=height,this.rowSize=rowSize,this.bits=bits,null==height&&(height=width),this.height=height,width<1||height<1)throw new IllegalArgumentException_1.default("Both dimensions must be greater than 0");null==rowSize&&(rowSize=Math.floor((width+31)/32)),this.rowSize=rowSize,null==bits&&(this.bits=new Int32Array(this.rowSize*this.height))}return BitMatrix.parseFromBooleanArray=function(image){for(var height=image.length,width=image[0].length,bits=new BitMatrix(width,height),i=0;i<height;i++)for(var imageI=image[i],j=0;j<width;j++)imageI[j]&&bits.set(j,i);return bits},BitMatrix.parseFromString=function(stringRepresentation,setString,unsetString){if(null===stringRepresentation)throw new IllegalArgumentException_1.default("stringRepresentation cannot be null");for(var bits=new Array(stringRepresentation.length),bitsPos=0,rowStartPos=0,rowLength=-1,nRows=0,pos=0;pos<stringRepresentation.length;)if("\n"===stringRepresentation.charAt(pos)||"\r"===stringRepresentation.charAt(pos)){if(bitsPos>rowStartPos){if(-1===rowLength)rowLength=bitsPos-rowStartPos;else if(bitsPos-rowStartPos!==rowLength)throw new IllegalArgumentException_1.default("row lengths do not match");rowStartPos=bitsPos,nRows++}pos++}else if(stringRepresentation.substring(pos,pos+setString.length)===setString)pos+=setString.length,bits[bitsPos]=!0,bitsPos++;else{if(stringRepresentation.substring(pos,pos+unsetString.length)!==unsetString)throw new IllegalArgumentException_1.default("illegal character encountered: "+stringRepresentation.substring(pos));pos+=unsetString.length,bits[bitsPos]=!1,bitsPos++}if(bitsPos>rowStartPos){if(-1===rowLength)rowLength=bitsPos-rowStartPos;else if(bitsPos-rowStartPos!==rowLength)throw new IllegalArgumentException_1.default("row lengths do not match");nRows++}for(var matrix=new BitMatrix(rowLength,nRows),i=0;i<bitsPos;i++)bits[i]&&matrix.set(Math.floor(i%rowLength),Math.floor(i/rowLength));return matrix},BitMatrix.prototype.get=function(x,y){var offset=y*this.rowSize+Math.floor(x/32);return 0!=(this.bits[offset]>>>(31&x)&1)},BitMatrix.prototype.set=function(x,y){var offset=y*this.rowSize+Math.floor(x/32);this.bits[offset]|=1<<(31&x)&4294967295},BitMatrix.prototype.unset=function(x,y){var offset=y*this.rowSize+Math.floor(x/32);this.bits[offset]&=~(1<<(31&x)&4294967295)},BitMatrix.prototype.flip=function(x,y){var offset=y*this.rowSize+Math.floor(x/32);this.bits[offset]^=1<<(31&x)&4294967295},BitMatrix.prototype.xor=function(mask){if(this.width!==mask.getWidth()||this.height!==mask.getHeight()||this.rowSize!==mask.getRowSize())throw new IllegalArgumentException_1.default("input matrix dimensions do not match");for(var rowArray=new BitArray_1.default(Math.floor(this.width/32)+1),rowSize=this.rowSize,bits=this.bits,y=0,height=this.height;y<height;y++)for(var offset=y*rowSize,row=mask.getRow(y,rowArray).getBitArray(),x=0;x<rowSize;x++)bits[offset+x]^=row[x]},BitMatrix.prototype.clear=function(){for(var bits=this.bits,max=bits.length,i=0;i<max;i++)bits[i]=0},BitMatrix.prototype.setRegion=function(left,top,width,height){if(top<0||left<0)throw new IllegalArgumentException_1.default("Left and top must be nonnegative");if(height<1||width<1)throw new IllegalArgumentException_1.default("Height and width must be at least 1");var right=left+width,bottom=top+height;if(bottom>this.height||right>this.width)throw new IllegalArgumentException_1.default("The region must fit inside the matrix");for(var rowSize=this.rowSize,bits=this.bits,y=top;y<bottom;y++)for(var offset=y*rowSize,x=left;x<right;x++)bits[offset+Math.floor(x/32)]|=1<<(31&x)&4294967295},BitMatrix.prototype.getRow=function(y,row){null==row||row.getSize()<this.width?row=new BitArray_1.default(this.width):row.clear();for(var rowSize=this.rowSize,bits=this.bits,offset=y*rowSize,x=0;x<rowSize;x++)row.setBulk(32*x,bits[offset+x]);return row},BitMatrix.prototype.setRow=function(y,row){System_1.default.arraycopy(row.getBitArray(),0,this.bits,y*this.rowSize,this.rowSize)},BitMatrix.prototype.rotate180=function(){for(var width=this.getWidth(),height=this.getHeight(),topRow=new BitArray_1.default(width),bottomRow=new BitArray_1.default(width),i=0,length_1=Math.floor((height+1)/2);i<length_1;i++)topRow=this.getRow(i,topRow),bottomRow=this.getRow(height-1-i,bottomRow),topRow.reverse(),bottomRow.reverse(),this.setRow(i,bottomRow),this.setRow(height-1-i,topRow)},BitMatrix.prototype.getEnclosingRectangle=function(){for(var height=this.height,rowSize=this.rowSize,bits=this.bits,left=this.width,top=height,right=-1,bottom=-1,y=0;y<height;y++)for(var x32=0;x32<rowSize;x32++){var theBits=bits[y*rowSize+x32];if(0!==theBits){if(y<top&&(top=y),y>bottom&&(bottom=y),32*x32<left){for(var bit=0;0==(theBits<<31-bit&4294967295);)bit++;32*x32+bit<left&&(left=32*x32+bit)}if(32*x32+31>right){for(bit=31;theBits>>>bit==0;)bit--;32*x32+bit>right&&(right=32*x32+bit)}}}return right<left||bottom<top?null:Int32Array.from([left,top,right-left+1,bottom-top+1])},BitMatrix.prototype.getTopLeftOnBit=function(){for(var rowSize=this.rowSize,bits=this.bits,bitsOffset=0;bitsOffset<bits.length&&0===bits[bitsOffset];)bitsOffset++;if(bitsOffset===bits.length)return null;for(var y=bitsOffset/rowSize,x=bitsOffset%rowSize*32,theBits=bits[bitsOffset],bit=0;0==(theBits<<31-bit&4294967295);)bit++;return Int32Array.from([x+=bit,y])},BitMatrix.prototype.getBottomRightOnBit=function(){for(var rowSize=this.rowSize,bits=this.bits,bitsOffset=bits.length-1;bitsOffset>=0&&0===bits[bitsOffset];)bitsOffset--;if(bitsOffset<0)return null;for(var y=Math.floor(bitsOffset/rowSize),x=32*Math.floor(bitsOffset%rowSize),theBits=bits[bitsOffset],bit=31;theBits>>>bit==0;)bit--;return Int32Array.from([x+=bit,y])},BitMatrix.prototype.getWidth=function(){return this.width},BitMatrix.prototype.getHeight=function(){return this.height},BitMatrix.prototype.getRowSize=function(){return this.rowSize},BitMatrix.prototype.equals=function(o){return o instanceof BitMatrix&&this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&Arrays_1.default.equals(this.bits,o.bits)},BitMatrix.prototype.hashCode=function(){var hash=this.width;return 31*(hash=31*(hash=31*(hash=31*hash+this.width)+this.height)+this.rowSize)+Arrays_1.default.hashCode(this.bits)},BitMatrix.prototype.toString=function(setString,unsetString,lineSeparator){return void 0===setString&&(setString="x"),void 0===unsetString&&(unsetString=" "),void 0===lineSeparator&&(lineSeparator="\n"),this.buildToString(setString,unsetString,lineSeparator)},BitMatrix.prototype.buildToString=function(setString,unsetString,lineSeparator){var result=new StringBuilder_1.default;result.append(lineSeparator);for(var y=0,height=this.height;y<height;y++){for(var x=0,width=this.width;x<width;x++)result.append(this.get(x,y)?setString:unsetString);result.append(lineSeparator)}return result.toString()},BitMatrix.prototype.clone=function(){return new BitMatrix(this.width,this.height,this.rowSize,this.bits.slice())},BitMatrix}();exports.default=BitMatrix},0:function(module,exports,__webpack_require__){module.exports=__webpack_require__("zUnb")},"0mO1":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),DecodeHintType_1=__webpack_require__("2Upx"),Result_1=__webpack_require__("nEnc"),ResultMetadataType_1=__webpack_require__("Ultx"),BitMatrix_1=__webpack_require__("/fss"),Decoder_1=__webpack_require__("LYp6"),QRCodeDecoderMetaData_1=__webpack_require__("PPHm"),Detector_1=__webpack_require__("jYoH"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function QRCodeReader(){this.decoder=new Decoder_1.default}return QRCodeReader.prototype.getDecoder=function(){return this.decoder},QRCodeReader.prototype.decode=function(image,hints){var decoderResult,points;if(null!=hints&&void 0!==hints.get(DecodeHintType_1.default.PURE_BARCODE)){var bits=QRCodeReader.extractPureBits(image.getBlackMatrix());decoderResult=this.decoder.decodeBitMatrix(bits,hints),points=QRCodeReader.NO_POINTS}else{var detectorResult=new Detector_1.default(image.getBlackMatrix()).detect(hints);decoderResult=this.decoder.decodeBitMatrix(detectorResult.getBits(),hints),points=detectorResult.getPoints()}decoderResult.getOther()instanceof QRCodeDecoderMetaData_1.default&&decoderResult.getOther().applyMirroredCorrection(points);var result=new Result_1.default(decoderResult.getText(),decoderResult.getRawBytes(),void 0,points,BarcodeFormat_1.default.QR_CODE,void 0),byteSegments=decoderResult.getByteSegments();null!==byteSegments&&result.putMetadata(ResultMetadataType_1.default.BYTE_SEGMENTS,byteSegments);var ecLevel=decoderResult.getECLevel();return null!==ecLevel&&result.putMetadata(ResultMetadataType_1.default.ERROR_CORRECTION_LEVEL,ecLevel),decoderResult.hasStructuredAppend()&&(result.putMetadata(ResultMetadataType_1.default.STRUCTURED_APPEND_SEQUENCE,decoderResult.getStructuredAppendSequenceNumber()),result.putMetadata(ResultMetadataType_1.default.STRUCTURED_APPEND_PARITY,decoderResult.getStructuredAppendParity())),result},QRCodeReader.prototype.reset=function(){},QRCodeReader.extractPureBits=function(image){var leftTopBlack=image.getTopLeftOnBit(),rightBottomBlack=image.getBottomRightOnBit();if(null===leftTopBlack||null===rightBottomBlack)throw new NotFoundException_1.default;var moduleSize=this.moduleSize(leftTopBlack,image),top=leftTopBlack[1],bottom=rightBottomBlack[1],left=leftTopBlack[0],right=rightBottomBlack[0];if(left>=right||top>=bottom)throw new NotFoundException_1.default;if(bottom-top!=right-left&&(right=left+(bottom-top))>=image.getWidth())throw new NotFoundException_1.default;var matrixWidth=Math.round((right-left+1)/moduleSize),matrixHeight=Math.round((bottom-top+1)/moduleSize);if(matrixWidth<=0||matrixHeight<=0)throw new NotFoundException_1.default;if(matrixHeight!==matrixWidth)throw new NotFoundException_1.default;var nudge=Math.floor(moduleSize/2);top+=nudge;var nudgedTooFarRight=(left+=nudge)+Math.floor((matrixWidth-1)*moduleSize)-right;if(nudgedTooFarRight>0){if(nudgedTooFarRight>nudge)throw new NotFoundException_1.default;left-=nudgedTooFarRight}var nudgedTooFarDown=top+Math.floor((matrixHeight-1)*moduleSize)-bottom;if(nudgedTooFarDown>0){if(nudgedTooFarDown>nudge)throw new NotFoundException_1.default;top-=nudgedTooFarDown}for(var bits=new BitMatrix_1.default(matrixWidth,matrixHeight),y=0;y<matrixHeight;y++)for(var iOffset=top+Math.floor(y*moduleSize),x=0;x<matrixWidth;x++)image.get(left+Math.floor(x*moduleSize),iOffset)&&bits.set(x,y);return bits},QRCodeReader.moduleSize=function(leftTopBlack,image){for(var height=image.getHeight(),width=image.getWidth(),x=leftTopBlack[0],y=leftTopBlack[1],inBlack=!0,transitions=0;x<width&&y<height;){if(inBlack!==image.get(x,y)){if(5==++transitions)break;inBlack=!inBlack}x++,y++}if(x===width||y===height)throw new NotFoundException_1.default;return(x-leftTopBlack[0])/7},QRCodeReader.NO_POINTS=new Array,QRCodeReader}()},"1ASq":function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),DecodeHintType_1=__webpack_require__("2Upx"),OneDReader_1=__webpack_require__("CFkN"),EAN13Reader_1=__webpack_require__("EdUa"),EAN8Reader_1=__webpack_require__("hvFx"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(_super){function MultiFormatUPCEANReader(hints){var _this=_super.call(this)||this,possibleFormats=null==hints?null:hints.get(DecodeHintType_1.default.POSSIBLE_FORMATS),readers=[];return null!=possibleFormats&&(possibleFormats.indexOf(BarcodeFormat_1.default.EAN_13)>-1&&readers.push(new EAN13Reader_1.default),possibleFormats.indexOf(BarcodeFormat_1.default.EAN_8)>-1&&readers.push(new EAN8Reader_1.default)),0===readers.length&&(readers.push(new EAN13Reader_1.default),readers.push(new EAN8Reader_1.default)),_this.readers=readers,_this}return __extends(MultiFormatUPCEANReader,_super),MultiFormatUPCEANReader.prototype.decodeRow=function(rowNumber,row,hints){for(var _i=0,_a=this.readers;_i<_a.length;_i++){var reader=_a[_i];try{return reader.decodeRow(rowNumber,row,hints)}catch(err){}}throw new NotFoundException_1.default},MultiFormatUPCEANReader.prototype.reset=function(){for(var _i=0,_a=this.readers;_i<_a.length;_i++)_a[_i].reset()},MultiFormatUPCEANReader}(OneDReader_1.default)},"1HNL":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function RSSUtils(){}return RSSUtils.prototype.RSSUtils=function(){},RSSUtils.getRSSvalue=function(widths,maxWidth,noNarrow){for(var n=0,_i=0,widths_1=widths;_i<widths_1.length;_i++)n+=widths_1[_i];for(var val=0,narrowMask=0,elements=widths.length,bar=0;bar<elements-1;bar++){var elmWidth=void 0;for(elmWidth=1,narrowMask|=1<<bar;elmWidth<widths[bar];elmWidth++,narrowMask&=~(1<<bar)){var subVal=RSSUtils.combins(n-elmWidth-1,elements-bar-2);if(noNarrow&&0===narrowMask&&n-elmWidth-(elements-bar-1)>=elements-bar-1&&(subVal-=RSSUtils.combins(n-elmWidth-(elements-bar),elements-bar-2)),elements-bar-1>1){for(var lessVal=0,mxwElement=n-elmWidth-(elements-bar-2);mxwElement>maxWidth;mxwElement--)lessVal+=RSSUtils.combins(n-elmWidth-mxwElement-1,elements-bar-3);subVal-=lessVal*(elements-1-bar)}else n-elmWidth>maxWidth&&subVal--;val+=subVal}n-=elmWidth}return val},RSSUtils.combins=function(n,r){var maxDenom,minDenom;n-r>r?(minDenom=r,maxDenom=n-r):(minDenom=n-r,maxDenom=r);for(var val=1,j=1,i=n;i>maxDenom;i--)val*=i,j<=minDenom&&(val/=j,j++);for(;j<=minDenom;)val/=j,j++;return val},RSSUtils}()},"1NXM":function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var OneDReader_1=__webpack_require__("CFkN"),NotFoundException_1=__webpack_require__("xhJ4"),MathUtils_1=__webpack_require__("1rOS");exports.default=function(_super){function AbstractRSSReader(){var _this=_super.call(this)||this;return _this.decodeFinderCounters=new Array(4),_this.dataCharacterCounters=new Array(8),_this.oddRoundingErrors=new Array(4),_this.evenRoundingErrors=new Array(4),_this.oddCounts=new Array(_this.dataCharacterCounters.length/2),_this.evenCounts=new Array(_this.dataCharacterCounters.length/2),_this}return __extends(AbstractRSSReader,_super),AbstractRSSReader.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},AbstractRSSReader.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},AbstractRSSReader.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},AbstractRSSReader.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},AbstractRSSReader.prototype.getOddCounts=function(){return this.oddCounts},AbstractRSSReader.prototype.getEvenCounts=function(){return this.evenCounts},AbstractRSSReader.prototype.parseFinderValue=function(counters,finderPatterns){for(var value=0;value<finderPatterns.length;value++)if(OneDReader_1.default.patternMatchVariance(counters,finderPatterns[value],AbstractRSSReader.MAX_INDIVIDUAL_VARIANCE)<AbstractRSSReader.MAX_AVG_VARIANCE)return value;throw new NotFoundException_1.default},AbstractRSSReader.count=function(array){return MathUtils_1.default.sum(new Int32Array(array))},AbstractRSSReader.increment=function(array,errors){for(var index=0,biggestError=errors[0],i=1;i<array.length;i++)errors[i]>biggestError&&(biggestError=errors[i],index=i);array[index]++},AbstractRSSReader.decrement=function(array,errors){for(var index=0,biggestError=errors[0],i=1;i<array.length;i++)errors[i]<biggestError&&(biggestError=errors[i],index=i);array[index]--},AbstractRSSReader.isFinderPattern=function(counters){var firstTwoSum=counters[0]+counters[1],ratio=firstTwoSum/(firstTwoSum+counters[2]+counters[3]);if(ratio>=AbstractRSSReader.MIN_FINDER_PATTERN_RATIO&&ratio<=AbstractRSSReader.MAX_FINDER_PATTERN_RATIO){for(var minCounter=Number.MAX_SAFE_INTEGER,maxCounter=Number.MIN_SAFE_INTEGER,_i=0,counters_1=counters;_i<counters_1.length;_i++){var counter=counters_1[_i];counter>maxCounter&&(maxCounter=counter),counter<minCounter&&(minCounter=counter)}return maxCounter<10*minCounter}return!1},AbstractRSSReader.MAX_AVG_VARIANCE=.2,AbstractRSSReader.MAX_INDIVIDUAL_VARIANCE=.45,AbstractRSSReader.MIN_FINDER_PATTERN_RATIO=9.5/12,AbstractRSSReader.MAX_FINDER_PATTERN_RATIO=12.5/14,AbstractRSSReader}(OneDReader_1.default)},"1rOS":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function MathUtils(){}return MathUtils.prototype.MathUtils=function(){},MathUtils.round=function(d){return NaN===d?0:d<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:d>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:d+(d<0?-.5:.5)|0},MathUtils.distance=function(aX,aY,bX,bY){var xDiff=aX-bX,yDiff=aY-bY;return Math.sqrt(xDiff*xDiff+yDiff*yDiff)},MathUtils.sum=function(array){for(var count=0,i=0,length_1=array.length;i!==length_1;i++)count+=array[i];return count},MathUtils}()},"1uat":function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("MlIO"),function(){var C=CryptoJS,Hasher=C.lib.Hasher,C_x64=C.x64,X64Word=C_x64.Word,X64WordArray=C_x64.WordArray,C_algo=C.algo;function X64Word_create(){return X64Word.create.apply(X64Word,arguments)}var K=[X64Word_create(1116352408,3609767458),X64Word_create(1899447441,602891725),X64Word_create(3049323471,3964484399),X64Word_create(3921009573,2173295548),X64Word_create(961987163,4081628472),X64Word_create(1508970993,3053834265),X64Word_create(2453635748,2937671579),X64Word_create(2870763221,3664609560),X64Word_create(3624381080,2734883394),X64Word_create(310598401,1164996542),X64Word_create(607225278,1323610764),X64Word_create(1426881987,3590304994),X64Word_create(1925078388,4068182383),X64Word_create(2162078206,991336113),X64Word_create(2614888103,633803317),X64Word_create(3248222580,3479774868),X64Word_create(3835390401,2666613458),X64Word_create(4022224774,944711139),X64Word_create(264347078,2341262773),X64Word_create(604807628,2007800933),X64Word_create(770255983,1495990901),X64Word_create(1249150122,1856431235),X64Word_create(1555081692,3175218132),X64Word_create(1996064986,2198950837),X64Word_create(2554220882,3999719339),X64Word_create(2821834349,766784016),X64Word_create(2952996808,2566594879),X64Word_create(3210313671,3203337956),X64Word_create(3336571891,1034457026),X64Word_create(3584528711,2466948901),X64Word_create(113926993,3758326383),X64Word_create(338241895,168717936),X64Word_create(666307205,1188179964),X64Word_create(773529912,1546045734),X64Word_create(1294757372,1522805485),X64Word_create(1396182291,2643833823),X64Word_create(1695183700,2343527390),X64Word_create(1986661051,1014477480),X64Word_create(2177026350,1206759142),X64Word_create(2456956037,344077627),X64Word_create(2730485921,1290863460),X64Word_create(2820302411,3158454273),X64Word_create(3259730800,3505952657),X64Word_create(3345764771,106217008),X64Word_create(3516065817,3606008344),X64Word_create(3600352804,1432725776),X64Word_create(4094571909,1467031594),X64Word_create(275423344,851169720),X64Word_create(430227734,3100823752),X64Word_create(506948616,1363258195),X64Word_create(659060556,3750685593),X64Word_create(883997877,3785050280),X64Word_create(958139571,3318307427),X64Word_create(1322822218,3812723403),X64Word_create(1537002063,2003034995),X64Word_create(1747873779,3602036899),X64Word_create(1955562222,1575990012),X64Word_create(2024104815,1125592928),X64Word_create(2227730452,2716904306),X64Word_create(2361852424,442776044),X64Word_create(2428436474,593698344),X64Word_create(2756734187,3733110249),X64Word_create(3204031479,2999351573),X64Word_create(3329325298,3815920427),X64Word_create(3391569614,3928383900),X64Word_create(3515267271,566280711),X64Word_create(3940187606,3454069534),X64Word_create(4118630271,4000239992),X64Word_create(116418474,1914138554),X64Word_create(174292421,2731055270),X64Word_create(289380356,3203993006),X64Word_create(460393269,320620315),X64Word_create(685471733,587496836),X64Word_create(852142971,1086792851),X64Word_create(1017036298,365543100),X64Word_create(1126000580,2618297676),X64Word_create(1288033470,3409855158),X64Word_create(1501505948,4234509866),X64Word_create(1607167915,987167468),X64Word_create(1816402316,1246189591)],W=[];!function(){for(var i=0;i<80;i++)W[i]=X64Word_create()}();var SHA512=C_algo.SHA512=Hasher.extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(1779033703,4089235720),new X64Word.init(3144134277,2227873595),new X64Word.init(1013904242,4271175723),new X64Word.init(2773480762,1595750129),new X64Word.init(1359893119,2917565137),new X64Word.init(2600822924,725511199),new X64Word.init(528734635,4215389547),new X64Word.init(1541459225,327033209)])},_doProcessBlock:function(M,offset){for(var H=this._hash.words,H0=H[0],H1=H[1],H2=H[2],H3=H[3],H4=H[4],H5=H[5],H6=H[6],H7=H[7],H0h=H0.high,H0l=H0.low,H1h=H1.high,H1l=H1.low,H2h=H2.high,H2l=H2.low,H3h=H3.high,H3l=H3.low,H4h=H4.high,H4l=H4.low,H5h=H5.high,H5l=H5.low,H6h=H6.high,H6l=H6.low,H7h=H7.high,H7l=H7.low,ah=H0h,al=H0l,bh=H1h,bl=H1l,ch=H2h,cl=H2l,dh=H3h,dl=H3l,eh=H4h,el=H4l,fh=H5h,fl=H5l,gh=H6h,gl=H6l,hh=H7h,hl=H7l,i=0;i<80;i++){var Wi=W[i];if(i<16)var Wih=Wi.high=0|M[offset+2*i],Wil=Wi.low=0|M[offset+2*i+1];else{var gamma0x=W[i-15],gamma0xh=gamma0x.high,gamma0xl=gamma0x.low,gamma0l=(gamma0xl>>>1|gamma0xh<<31)^(gamma0xl>>>8|gamma0xh<<24)^(gamma0xl>>>7|gamma0xh<<25),gamma1x=W[i-2],gamma1xh=gamma1x.high,gamma1xl=gamma1x.low,gamma1l=(gamma1xl>>>19|gamma1xh<<13)^(gamma1xl<<3|gamma1xh>>>29)^(gamma1xl>>>6|gamma1xh<<26),Wi7=W[i-7],Wi16=W[i-16],Wi16l=Wi16.low;Wi.high=Wih=(Wih=(Wih=((gamma0xh>>>1|gamma0xl<<31)^(gamma0xh>>>8|gamma0xl<<24)^gamma0xh>>>7)+Wi7.high+((Wil=gamma0l+Wi7.low)>>>0<gamma0l>>>0?1:0))+((gamma1xh>>>19|gamma1xl<<13)^(gamma1xh<<3|gamma1xl>>>29)^gamma1xh>>>6)+((Wil+=gamma1l)>>>0<gamma1l>>>0?1:0))+Wi16.high+((Wil+=Wi16l)>>>0<Wi16l>>>0?1:0),Wi.low=Wil}var t1l,chh=eh&fh^~eh&gh,chl=el&fl^~el&gl,majh=ah&bh^ah&ch^bh&ch,sigma0l=(al>>>28|ah<<4)^(al<<30|ah>>>2)^(al<<25|ah>>>7),Ki=K[i],Kil=Ki.low,t1h=hh+((eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9))+((t1l=hl+((el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9)))>>>0<hl>>>0?1:0),t2l=sigma0l+(al&bl^al&cl^bl&cl);hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=dh+(t1h=(t1h=(t1h=t1h+chh+((t1l+=chl)>>>0<chl>>>0?1:0))+Ki.high+((t1l+=Kil)>>>0<Kil>>>0?1:0))+Wih+((t1l+=Wil)>>>0<Wil>>>0?1:0))+((el=dl+t1l|0)>>>0<dl>>>0?1:0)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=t1h+(((ah>>>28|al<<4)^(ah<<30|al>>>2)^(ah<<25|al>>>7))+majh+(t2l>>>0<sigma0l>>>0?1:0))+((al=t1l+t2l|0)>>>0<t1l>>>0?1:0)|0}H0l=H0.low=H0l+al,H0.high=H0h+ah+(H0l>>>0<al>>>0?1:0),H1l=H1.low=H1l+bl,H1.high=H1h+bh+(H1l>>>0<bl>>>0?1:0),H2l=H2.low=H2l+cl,H2.high=H2h+ch+(H2l>>>0<cl>>>0?1:0),H3l=H3.low=H3l+dl,H3.high=H3h+dh+(H3l>>>0<dl>>>0?1:0),H4l=H4.low=H4l+el,H4.high=H4h+eh+(H4l>>>0<el>>>0?1:0),H5l=H5.low=H5l+fl,H5.high=H5h+fh+(H5l>>>0<fl>>>0?1:0),H6l=H6.low=H6l+gl,H6.high=H6h+gh+(H6l>>>0<gl>>>0?1:0),H7l=H7.low=H7l+hl,H7.high=H7h+hh+(H7l>>>0<hl>>>0?1:0)},_doFinalize:function(){var data=this._data,dataWords=data.words,nBitsTotal=8*this._nDataBytes,nBitsLeft=8*data.sigBytes;return dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,dataWords[30+(nBitsLeft+128>>>10<<5)]=Math.floor(nBitsTotal/4294967296),dataWords[31+(nBitsLeft+128>>>10<<5)]=nBitsTotal,data.sigBytes=4*dataWords.length,this._process(),this._hash.toX32()},clone:function(){var clone=Hasher.clone.call(this);return clone._hash=this._hash.clone(),clone},blockSize:32});C.SHA512=Hasher._createHelper(SHA512),C.HmacSHA512=Hasher._createHmacHelper(SHA512)}(),CryptoJS.SHA512)},"2Gbb":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function DataCharacter(value,checksumPortion){this.value=value,this.checksumPortion=checksumPortion}return DataCharacter.prototype.getValue=function(){return this.value},DataCharacter.prototype.getChecksumPortion=function(){return this.checksumPortion},DataCharacter.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},DataCharacter.prototype.equals=function(o){return o instanceof DataCharacter&&this.value===o.value&&this.checksumPortion===o.checksumPortion},DataCharacter.prototype.hashCode=function(){return this.value^this.checksumPortion},DataCharacter}()},"2Jmu":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VideoInputDevice=function(){function VideoInputDevice(deviceId,label,groupId){this.deviceId=deviceId,this.label=label,this.kind="videoinput",this.groupId=groupId||void 0}return VideoInputDevice.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},VideoInputDevice}()},"2Upx":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(DecodeHintType){return DecodeHintType[DecodeHintType.OTHER=0]="OTHER",DecodeHintType[DecodeHintType.PURE_BARCODE=1]="PURE_BARCODE",DecodeHintType[DecodeHintType.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",DecodeHintType[DecodeHintType.TRY_HARDER=3]="TRY_HARDER",DecodeHintType[DecodeHintType.CHARACTER_SET=4]="CHARACTER_SET",DecodeHintType[DecodeHintType.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",DecodeHintType[DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",DecodeHintType[DecodeHintType.ASSUME_GS1=7]="ASSUME_GS1",DecodeHintType[DecodeHintType.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",DecodeHintType[DecodeHintType.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",DecodeHintType[DecodeHintType.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",DecodeHintType}({})},"2bqk":function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var LuminanceSource_1=__webpack_require__("yLOY");exports.default=function(_super){function InvertedLuminanceSource(delegate){var _this=_super.call(this,delegate.getWidth(),delegate.getHeight())||this;return _this.delegate=delegate,_this}return __extends(InvertedLuminanceSource,_super),InvertedLuminanceSource.prototype.getRow=function(y,row){for(var sourceRow=this.delegate.getRow(y,row),width=this.getWidth(),i=0;i<width;i++)sourceRow[i]=255-(255&sourceRow[i]);return sourceRow},InvertedLuminanceSource.prototype.getMatrix=function(){for(var matrix=this.delegate.getMatrix(),length=this.getWidth()*this.getHeight(),invertedMatrix=new Uint8ClampedArray(length),i=0;i<length;i++)invertedMatrix[i]=255-(255&matrix[i]);return invertedMatrix},InvertedLuminanceSource.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},InvertedLuminanceSource.prototype.crop=function(left,top,width,height){return new InvertedLuminanceSource(this.delegate.crop(left,top,width,height))},InvertedLuminanceSource.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},InvertedLuminanceSource.prototype.invert=function(){return this.delegate},InvertedLuminanceSource.prototype.rotateCounterClockwise=function(){return new InvertedLuminanceSource(this.delegate.rotateCounterClockwise())},InvertedLuminanceSource.prototype.rotateCounterClockwise45=function(){return new InvertedLuminanceSource(this.delegate.rotateCounterClockwise45())},InvertedLuminanceSource}(LuminanceSource_1.default)},"3DhD":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DecodeHintType_1=__webpack_require__("2Upx"),BarcodeFormat_1=__webpack_require__("qsBs"),QRCodeReader_1=__webpack_require__("0mO1"),MultiFormatOneDReader_1=__webpack_require__("QxPk"),DataMatrixReader_1=__webpack_require__("gTaM"),NotFoundException_1=__webpack_require__("xhJ4"),ReaderException_1=__webpack_require__("FXSv");exports.default=function(){function MultiFormatReader(){}return MultiFormatReader.prototype.decode=function(image,hints){return this.setHints(hints),this.decodeInternal(image)},MultiFormatReader.prototype.decodeWithState=function(image){return null==this.readers&&this.setHints(null),this.decodeInternal(image)},MultiFormatReader.prototype.setHints=function(hints){this.hints=hints;var tryHarder=null!=hints&&void 0!==hints.get(DecodeHintType_1.default.TRY_HARDER),formats=null==hints?null:hints.get(DecodeHintType_1.default.POSSIBLE_FORMATS),readers=new Array;if(null!=formats){var addOneDReader=formats.some((function(f){return f===BarcodeFormat_1.default.UPC_A||f===BarcodeFormat_1.default.UPC_E||f===BarcodeFormat_1.default.EAN_13||f===BarcodeFormat_1.default.EAN_8||f===BarcodeFormat_1.default.CODABAR||f===BarcodeFormat_1.default.CODE_39||f===BarcodeFormat_1.default.CODE_93||f===BarcodeFormat_1.default.CODE_128||f===BarcodeFormat_1.default.ITF||f===BarcodeFormat_1.default.RSS_14||f===BarcodeFormat_1.default.RSS_EXPANDED}));addOneDReader&&!tryHarder&&readers.push(new MultiFormatOneDReader_1.default(hints)),formats.includes(BarcodeFormat_1.default.QR_CODE)&&readers.push(new QRCodeReader_1.default),formats.includes(BarcodeFormat_1.default.DATA_MATRIX)&&readers.push(new DataMatrixReader_1.default),addOneDReader&&tryHarder&&readers.push(new MultiFormatOneDReader_1.default(hints))}0===readers.length&&(tryHarder||readers.push(new MultiFormatOneDReader_1.default(hints)),readers.push(new QRCodeReader_1.default),readers.push(new DataMatrixReader_1.default),tryHarder&&readers.push(new MultiFormatOneDReader_1.default(hints))),this.readers=readers},MultiFormatReader.prototype.reset=function(){if(null!==this.readers)for(var _i=0,_a=this.readers;_i<_a.length;_i++)_a[_i].reset()},MultiFormatReader.prototype.decodeInternal=function(image){if(null===this.readers)throw new ReaderException_1.default("No readers where selected, nothing can be read.");for(var _i=0,_a=this.readers;_i<_a.length;_i++){var reader=_a[_i];try{return reader.decode(image,this.hints)}catch(ex){if(ex instanceof ReaderException_1.default)continue}}throw new NotFoundException_1.default("No MultiFormat Readers were able to detect the code.")},MultiFormatReader}()},"3y9D":function(module,exports,__webpack_require__){var C,C_lib,WordArray,Hasher,W,SHA1,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),WordArray=(C_lib=(C=CryptoJS).lib).WordArray,W=[],SHA1=C.algo.SHA1=(Hasher=C_lib.Hasher).extend({_doReset:function(){this._hash=new WordArray.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){for(var H=this._hash.words,a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],i=0;i<80;i++){if(i<16)W[i]=0|M[offset+i];else{var n=W[i-3]^W[i-8]^W[i-14]^W[i-16];W[i]=n<<1|n>>>31}var t=(a<<5|a>>>27)+e+W[i];t+=i<20?1518500249+(b&c|~b&d):i<40?1859775393+(b^c^d):i<60?(b&c|b&d|c&d)-1894007588:(b^c^d)-899497514,e=d,d=c,c=b<<30|b>>>2,b=a,a=t}H[0]=H[0]+a|0,H[1]=H[1]+b|0,H[2]=H[2]+c|0,H[3]=H[3]+d|0,H[4]=H[4]+e|0},_doFinalize:function(){var data=this._data,dataWords=data.words,nBitsTotal=8*this._nDataBytes,nBitsLeft=8*data.sigBytes;return dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,dataWords[14+(nBitsLeft+64>>>9<<4)]=Math.floor(nBitsTotal/4294967296),dataWords[15+(nBitsLeft+64>>>9<<4)]=nBitsTotal,data.sigBytes=4*dataWords.length,this._process(),this._hash},clone:function(){var clone=Hasher.clone.call(this);return clone._hash=this._hash.clone(),clone}}),C.SHA1=Hasher._createHelper(SHA1),C.HmacSHA1=Hasher._createHmacHelper(SHA1),CryptoJS.SHA1)},"5YjC":function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__("E579")),__export(__webpack_require__("RqVx")),__export(__webpack_require__("W6AM")),__export(__webpack_require__("pGUY")),__export(__webpack_require__("9OQV")),__export(__webpack_require__("+dne")),__export(__webpack_require__("zWnV")),__export(__webpack_require__("2Jmu"));var ArgumentException_1=__webpack_require__("LYY4");exports.ArgumentException=ArgumentException_1.default;var ArithmeticException_1=__webpack_require__("Mnsi");exports.ArithmeticException=ArithmeticException_1.default;var ChecksumException_1=__webpack_require__("Jma6");exports.ChecksumException=ChecksumException_1.default;var Exception_1=__webpack_require__("OclX");exports.Exception=Exception_1.default;var FormatException_1=__webpack_require__("dGMj");exports.FormatException=FormatException_1.default;var IllegalArgumentException_1=__webpack_require__("z1Y+");exports.IllegalArgumentException=IllegalArgumentException_1.default;var IllegalStateException_1=__webpack_require__("dI6j");exports.IllegalStateException=IllegalStateException_1.default;var NotFoundException_1=__webpack_require__("xhJ4");exports.NotFoundException=NotFoundException_1.default;var ReaderException_1=__webpack_require__("FXSv");exports.ReaderException=ReaderException_1.default;var ReedSolomonException_1=__webpack_require__("NczI");exports.ReedSolomonException=ReedSolomonException_1.default;var UnsupportedOperationException_1=__webpack_require__("U4yT");exports.UnsupportedOperationException=UnsupportedOperationException_1.default;var WriterException_1=__webpack_require__("GrZJ");exports.WriterException=WriterException_1.default;var BarcodeFormat_1=__webpack_require__("qsBs");exports.BarcodeFormat=BarcodeFormat_1.default;var Binarizer_1=__webpack_require__("kquO");exports.Binarizer=Binarizer_1.default;var BinaryBitmap_1=__webpack_require__("N/zx");exports.BinaryBitmap=BinaryBitmap_1.default;var DecodeHintType_1=__webpack_require__("2Upx");exports.DecodeHintType=DecodeHintType_1.default;var InvertedLuminanceSource_1=__webpack_require__("2bqk");exports.InvertedLuminanceSource=InvertedLuminanceSource_1.default;var LuminanceSource_1=__webpack_require__("yLOY");exports.LuminanceSource=LuminanceSource_1.default;var MultiFormatReader_1=__webpack_require__("3DhD");exports.MultiFormatReader=MultiFormatReader_1.default;var MultiFormatWriter_1=__webpack_require__("zR+u");exports.MultiFormatWriter=MultiFormatWriter_1.default;var PlanarYUVLuminanceSource_1=__webpack_require__("jogK");exports.PlanarYUVLuminanceSource=PlanarYUVLuminanceSource_1.default;var Result_1=__webpack_require__("nEnc");exports.Result=Result_1.default;var ResultMetadataType_1=__webpack_require__("Ultx");exports.ResultMetadataType=ResultMetadataType_1.default;var RGBLuminanceSource_1=__webpack_require__("IOI/");exports.RGBLuminanceSource=RGBLuminanceSource_1.default;var BitArray_1=__webpack_require__("ABEO");exports.BitArray=BitArray_1.default;var BitMatrix_1=__webpack_require__("/fss");exports.BitMatrix=BitMatrix_1.default;var BitSource_1=__webpack_require__("770L");exports.BitSource=BitSource_1.default;var CharacterSetECI_1=__webpack_require__("pds4");exports.CharacterSetECI=CharacterSetECI_1.default;var DecoderResult_1=__webpack_require__("YTb4");exports.DecoderResult=DecoderResult_1.default;var DefaultGridSampler_1=__webpack_require__("agz5");exports.DefaultGridSampler=DefaultGridSampler_1.default;var DetectorResult_1=__webpack_require__("g153");exports.DetectorResult=DetectorResult_1.default;var EncodeHintType_1=__webpack_require__("Q51M");exports.EncodeHintType=EncodeHintType_1.default;var GlobalHistogramBinarizer_1=__webpack_require__("It5l");exports.GlobalHistogramBinarizer=GlobalHistogramBinarizer_1.default;var GridSampler_1=__webpack_require__("ZvTf");exports.GridSampler=GridSampler_1.default;var GridSamplerInstance_1=__webpack_require__("p9OP");exports.GridSamplerInstance=GridSamplerInstance_1.default;var HybridBinarizer_1=__webpack_require__("QX/D");exports.HybridBinarizer=HybridBinarizer_1.default;var PerspectiveTransform_1=__webpack_require__("+1n9");exports.PerspectiveTransform=PerspectiveTransform_1.default;var StringUtils_1=__webpack_require__("cb+Z");exports.StringUtils=StringUtils_1.default;var MathUtils_1=__webpack_require__("1rOS");exports.MathUtils=MathUtils_1.default;var WhiteRectangleDetector_1=__webpack_require__("AMbm");exports.WhiteRectangleDetector=WhiteRectangleDetector_1.default;var GenericGF_1=__webpack_require__("al1V");exports.GenericGF=GenericGF_1.default;var GenericGFPoly_1=__webpack_require__("DoMb");exports.GenericGFPoly=GenericGFPoly_1.default;var ReedSolomonDecoder_1=__webpack_require__("nVjH");exports.ReedSolomonDecoder=ReedSolomonDecoder_1.default;var ReedSolomonEncoder_1=__webpack_require__("nt+B");exports.ReedSolomonEncoder=ReedSolomonEncoder_1.default;var DataMatrixReader_1=__webpack_require__("gTaM");exports.DataMatrixReader=DataMatrixReader_1.default;var QRCodeReader_1=__webpack_require__("0mO1");exports.QRCodeReader=QRCodeReader_1.default;var QRCodeWriter_1=__webpack_require__("kuTA");exports.QRCodeWriter=QRCodeWriter_1.default;var ErrorCorrectionLevel_1=__webpack_require__("SveX");exports.QRCodeDecoderErrorCorrectionLevel=ErrorCorrectionLevel_1.default;var Encoder_1=__webpack_require__("JB+I");exports.QRCodeEncoder=Encoder_1.default;var QRCode_1=__webpack_require__("5hOO");exports.QRCodeEncoderQRCode=QRCode_1.default;var OneDReader_1=__webpack_require__("CFkN");exports.OneDReader=OneDReader_1.default;var EAN13Reader_1=__webpack_require__("EdUa");exports.EAN13Reader=EAN13Reader_1.default;var Code128Reader_1=__webpack_require__("aWuf");exports.Code128Reader=Code128Reader_1.default;var ITFReader_1=__webpack_require__("isJV");exports.ITFReader=ITFReader_1.default;var Code39Reader_1=__webpack_require__("LQhb");exports.Code39Reader=Code39Reader_1.default;var RSS14Reader_1=__webpack_require__("EJCn");exports.RSS14Reader=RSS14Reader_1.default;var MultiFormatOneDReader_1=__webpack_require__("QxPk");exports.MultiformatReader=MultiFormatOneDReader_1.default},"5hOO":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StringBuilder_1=__webpack_require__("SgF2");exports.default=function(){function QRCode(){this.maskPattern=-1}return QRCode.prototype.getMode=function(){return this.mode},QRCode.prototype.getECLevel=function(){return this.ecLevel},QRCode.prototype.getVersion=function(){return this.version},QRCode.prototype.getMaskPattern=function(){return this.maskPattern},QRCode.prototype.getMatrix=function(){return this.matrix},QRCode.prototype.toString=function(){var result=new StringBuilder_1.default;return result.append("<<\n"),result.append(" mode: "),result.append(this.mode?this.mode.toString():"null"),result.append("\n ecLevel: "),result.append(this.ecLevel?this.ecLevel.toString():"null"),result.append("\n version: "),result.append(this.version?this.version.toString():"null"),result.append("\n maskPattern: "),result.append(this.maskPattern.toString()),this.matrix?(result.append("\n matrix:\n"),result.append(this.matrix.toString())):result.append("\n matrix: null\n"),result.append(">>\n"),result.toString()},QRCode.prototype.setMode=function(value){this.mode=value},QRCode.prototype.setECLevel=function(value){this.ecLevel=value},QRCode.prototype.setVersion=function(version){this.version=version},QRCode.prototype.setMaskPattern=function(value){this.maskPattern=value},QRCode.prototype.setMatrix=function(value){this.matrix=value},QRCode.isValidMaskPattern=function(maskPattern){return maskPattern>=0&&maskPattern<QRCode.NUM_MASK_PATTERNS},QRCode.NUM_MASK_PATTERNS=8,QRCode}()},"5hvy":function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("MlIO"),function(Math){var C=CryptoJS,C_lib=C.lib,WordArray=C_lib.WordArray,Hasher=C_lib.Hasher,X64Word=C.x64.Word,C_algo=C.algo,RHO_OFFSETS=[],PI_INDEXES=[],ROUND_CONSTANTS=[];!function(){for(var x=1,y=0,t=0;t<24;t++){RHO_OFFSETS[x+5*y]=(t+1)*(t+2)/2%64;var newY=(2*x+3*y)%5;x=y%5,y=newY}for(x=0;x<5;x++)for(y=0;y<5;y++)PI_INDEXES[x+5*y]=y+(2*x+3*y)%5*5;for(var LFSR=1,i=0;i<24;i++){for(var roundConstantMsw=0,roundConstantLsw=0,j=0;j<7;j++){if(1&LFSR){var bitPosition=(1<<j)-1;bitPosition<32?roundConstantLsw^=1<<bitPosition:roundConstantMsw^=1<<bitPosition-32}128&LFSR?LFSR=LFSR<<1^113:LFSR<<=1}ROUND_CONSTANTS[i]=X64Word.create(roundConstantMsw,roundConstantLsw)}}();var T=[];!function(){for(var i=0;i<25;i++)T[i]=X64Word.create()}();var SHA3=C_algo.SHA3=Hasher.extend({cfg:Hasher.cfg.extend({outputLength:512}),_doReset:function(){for(var state=this._state=[],i=0;i<25;i++)state[i]=new X64Word.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(M,offset){for(var state=this._state,nBlockSizeLanes=this.blockSize/2,i=0;i<nBlockSizeLanes;i++){var M2i=M[offset+2*i],M2i1=M[offset+2*i+1];M2i=16711935&(M2i<<8|M2i>>>24)|4278255360&(M2i<<24|M2i>>>8),(lane=state[i]).high^=M2i1=16711935&(M2i1<<8|M2i1>>>24)|4278255360&(M2i1<<24|M2i1>>>8),lane.low^=M2i}for(var round=0;round<24;round++){for(var x=0;x<5;x++){for(var tMsw=0,tLsw=0,y=0;y<5;y++)tMsw^=(lane=state[x+5*y]).high,tLsw^=lane.low;var Tx=T[x];Tx.high=tMsw,Tx.low=tLsw}for(x=0;x<5;x++){var Tx4=T[(x+4)%5],Tx1=T[(x+1)%5],Tx1Msw=Tx1.high,Tx1Lsw=Tx1.low;for(tMsw=Tx4.high^(Tx1Msw<<1|Tx1Lsw>>>31),tLsw=Tx4.low^(Tx1Lsw<<1|Tx1Msw>>>31),y=0;y<5;y++)(lane=state[x+5*y]).high^=tMsw,lane.low^=tLsw}for(var laneIndex=1;laneIndex<25;laneIndex++){var laneMsw=(lane=state[laneIndex]).high,laneLsw=lane.low,rhoOffset=RHO_OFFSETS[laneIndex];rhoOffset<32?(tMsw=laneMsw<<rhoOffset|laneLsw>>>32-rhoOffset,tLsw=laneLsw<<rhoOffset|laneMsw>>>32-rhoOffset):(tMsw=laneLsw<<rhoOffset-32|laneMsw>>>64-rhoOffset,tLsw=laneMsw<<rhoOffset-32|laneLsw>>>64-rhoOffset);var TPiLane=T[PI_INDEXES[laneIndex]];TPiLane.high=tMsw,TPiLane.low=tLsw}var T0=T[0],state0=state[0];for(T0.high=state0.high,T0.low=state0.low,x=0;x<5;x++)for(y=0;y<5;y++){var TLane=T[laneIndex=x+5*y],Tx1Lane=T[(x+1)%5+5*y],Tx2Lane=T[(x+2)%5+5*y];(lane=state[laneIndex]).high=TLane.high^~Tx1Lane.high&Tx2Lane.high,lane.low=TLane.low^~Tx1Lane.low&Tx2Lane.low}var lane,roundConstant=ROUND_CONSTANTS[round];(lane=state[0]).high^=roundConstant.high,lane.low^=roundConstant.low}},_doFinalize:function(){var data=this._data,dataWords=data.words,nBitsLeft=8*data.sigBytes,blockSizeBits=32*this.blockSize;dataWords[nBitsLeft>>>5]|=1<<24-nBitsLeft%32,dataWords[(Math.ceil((nBitsLeft+1)/blockSizeBits)*blockSizeBits>>>5)-1]|=128,data.sigBytes=4*dataWords.length,this._process();for(var state=this._state,outputLengthBytes=this.cfg.outputLength/8,outputLengthLanes=outputLengthBytes/8,hashWords=[],i=0;i<outputLengthLanes;i++){var lane=state[i],laneMsw=lane.high,laneLsw=lane.low;laneMsw=16711935&(laneMsw<<8|laneMsw>>>24)|4278255360&(laneMsw<<24|laneMsw>>>8),hashWords.push(laneLsw=16711935&(laneLsw<<8|laneLsw>>>24)|4278255360&(laneLsw<<24|laneLsw>>>8)),hashWords.push(laneMsw)}return new WordArray.init(hashWords,outputLengthBytes)},clone:function(){for(var clone=Hasher.clone.call(this),state=clone._state=this._state.slice(0),i=0;i<25;i++)state[i]=state[i].clone();return clone}});C.SHA3=Hasher._createHelper(SHA3),C.HmacSHA3=Hasher._createHmacHelper(SHA3)}(Math),CryptoJS.SHA3)},"770L":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function BitSource(bytes){this.bytes=bytes,this.byteOffset=0,this.bitOffset=0}return BitSource.prototype.getBitOffset=function(){return this.bitOffset},BitSource.prototype.getByteOffset=function(){return this.byteOffset},BitSource.prototype.readBits=function(numBits){if(numBits<1||numBits>32||numBits>this.available())throw new IllegalArgumentException_1.default(""+numBits);var result=0,bitOffset=this.bitOffset,byteOffset=this.byteOffset,bytes=this.bytes;if(bitOffset>0){var bitsLeft=8-bitOffset,toRead=numBits<bitsLeft?numBits:bitsLeft;result=(bytes[byteOffset]&255>>8-toRead<<(bitsToNotRead=bitsLeft-toRead))>>bitsToNotRead,numBits-=toRead,8===(bitOffset+=toRead)&&(bitOffset=0,byteOffset++)}if(numBits>0){for(;numBits>=8;)result=result<<8|255&bytes[byteOffset],byteOffset++,numBits-=8;var bitsToNotRead;numBits>0&&(result=result<<numBits|(bytes[byteOffset]&255>>(bitsToNotRead=8-numBits)<<bitsToNotRead)>>bitsToNotRead,bitOffset+=numBits)}return this.bitOffset=bitOffset,this.byteOffset=byteOffset,result},BitSource.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},BitSource}()},"7xbQ":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function DataBlock(numDataCodewords,codewords){this.numDataCodewords=numDataCodewords,this.codewords=codewords}return DataBlock.getDataBlocks=function(rawCodewords,version){for(var ecBlocks=version.getECBlocks(),totalBlocks=0,ecBlockArray=ecBlocks.getECBlocks(),_i=0,ecBlockArray_1=ecBlockArray;_i<ecBlockArray_1.length;_i++)totalBlocks+=(ecBlock=ecBlockArray_1[_i]).getCount();for(var result=new Array(totalBlocks),numResultBlocks=0,_a=0,ecBlockArray_2=ecBlockArray;_a<ecBlockArray_2.length;_a++)for(var ecBlock=ecBlockArray_2[_a],i=0;i<ecBlock.getCount();i++){var numDataCodewords=ecBlock.getDataCodewords(),numBlockCodewords=ecBlocks.getECCodewords()+numDataCodewords;result[numResultBlocks++]=new DataBlock(numDataCodewords,new Uint8Array(numBlockCodewords))}var longerBlocksNumDataCodewords=result[0].codewords.length-ecBlocks.getECCodewords(),shorterBlocksNumDataCodewords=longerBlocksNumDataCodewords-1,rawCodewordsOffset=0;for(i=0;i<shorterBlocksNumDataCodewords;i++)for(var j=0;j<numResultBlocks;j++)result[j].codewords[i]=rawCodewords[rawCodewordsOffset++];var specialVersion=24===version.getVersionNumber(),numLongerBlocks=specialVersion?8:numResultBlocks;for(j=0;j<numLongerBlocks;j++)result[j].codewords[longerBlocksNumDataCodewords-1]=rawCodewords[rawCodewordsOffset++];var max=result[0].codewords.length;for(i=longerBlocksNumDataCodewords;i<max;i++)for(j=0;j<numResultBlocks;j++){var jOffset=specialVersion?(j+8)%numResultBlocks:j;result[jOffset].codewords[specialVersion&&jOffset>7?i-1:i]=rawCodewords[rawCodewordsOffset++]}if(rawCodewordsOffset!==rawCodewords.length)throw new IllegalArgumentException_1.default;return result},DataBlock.prototype.getNumDataCodewords=function(){return this.numDataCodewords},DataBlock.prototype.getCodewords=function(){return this.codewords},DataBlock}()},"9OQV":function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BrowserCodeReader_1=__webpack_require__("RqVx"),QRCodeReader_1=__webpack_require__("0mO1");exports.BrowserQRCodeReader=function(_super){function BrowserQRCodeReader(timeBetweenScansMillis){return void 0===timeBetweenScansMillis&&(timeBetweenScansMillis=500),_super.call(this,new QRCodeReader_1.default,timeBetweenScansMillis)||this}return __extends(BrowserQRCodeReader,_super),BrowserQRCodeReader}(BrowserCodeReader_1.BrowserCodeReader)},"9OqN":function(module,exports,__webpack_require__){var CTR,Encryptor,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.mode.CTR=(Encryptor=(CTR=CryptoJS.lib.BlockCipherMode.extend()).Encryptor=CTR.extend({processBlock:function(words,offset){var cipher=this._cipher,blockSize=cipher.blockSize,iv=this._iv,counter=this._counter;iv&&(counter=this._counter=iv.slice(0),this._iv=void 0);var keystream=counter.slice(0);cipher.encryptBlock(keystream,0),counter[blockSize-1]=counter[blockSize-1]+1|0;for(var i=0;i<blockSize;i++)words[offset+i]^=keystream[i]}}),CTR.Decryptor=Encryptor,CTR),CryptoJS.mode.CTR)},ABEO:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var System_1=__webpack_require__("pleV"),Integer_1=__webpack_require__("wV23"),Arrays_1=__webpack_require__("PTYN"),IllegalArgumentException_1=__webpack_require__("z1Y+"),BitArray=function(){function BitArray(size,bits){void 0===size?(this.size=0,this.bits=new Int32Array(1)):(this.size=size,this.bits=null==bits?BitArray.makeArray(size):bits)}return BitArray.prototype.getSize=function(){return this.size},BitArray.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},BitArray.prototype.ensureCapacity=function(size){if(size>32*this.bits.length){var newBits=BitArray.makeArray(size);System_1.default.arraycopy(this.bits,0,newBits,0,this.bits.length),this.bits=newBits}},BitArray.prototype.get=function(i){return 0!=(this.bits[Math.floor(i/32)]&1<<(31&i))},BitArray.prototype.set=function(i){this.bits[Math.floor(i/32)]|=1<<(31&i)},BitArray.prototype.flip=function(i){this.bits[Math.floor(i/32)]^=1<<(31&i)},BitArray.prototype.getNextSet=function(from){var size=this.size;if(from>=size)return size;var bits=this.bits,bitsOffset=Math.floor(from/32),currentBits=bits[bitsOffset];currentBits&=~((1<<(31&from))-1);for(var length=bits.length;0===currentBits;){if(++bitsOffset===length)return size;currentBits=bits[bitsOffset]}var result=32*bitsOffset+Integer_1.default.numberOfTrailingZeros(currentBits);return result>size?size:result},BitArray.prototype.getNextUnset=function(from){var size=this.size;if(from>=size)return size;var bits=this.bits,bitsOffset=Math.floor(from/32),currentBits=~bits[bitsOffset];currentBits&=~((1<<(31&from))-1);for(var length=bits.length;0===currentBits;){if(++bitsOffset===length)return size;currentBits=~bits[bitsOffset]}var result=32*bitsOffset+Integer_1.default.numberOfTrailingZeros(currentBits);return result>size?size:result},BitArray.prototype.setBulk=function(i,newBits){this.bits[Math.floor(i/32)]=newBits},BitArray.prototype.setRange=function(start,end){if(end<start||start<0||end>this.size)throw new IllegalArgumentException_1.default;if(end!==start){end--;for(var firstInt=Math.floor(start/32),lastInt=Math.floor(end/32),bits=this.bits,i=firstInt;i<=lastInt;i++)bits[i]|=(2<<(i<lastInt?31:31&end))-(1<<(i>firstInt?0:31&start))}},BitArray.prototype.clear=function(){for(var max=this.bits.length,bits=this.bits,i=0;i<max;i++)bits[i]=0},BitArray.prototype.isRange=function(start,end,value){if(end<start||start<0||end>this.size)throw new IllegalArgumentException_1.default;if(end===start)return!0;end--;for(var firstInt=Math.floor(start/32),lastInt=Math.floor(end/32),bits=this.bits,i=firstInt;i<=lastInt;i++){var mask=(2<<(i<lastInt?31:31&end))-(1<<(i>firstInt?0:31&start))&4294967295;if((bits[i]&mask)!==(value?mask:0))return!1}return!0},BitArray.prototype.appendBit=function(bit){this.ensureCapacity(this.size+1),bit&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},BitArray.prototype.appendBits=function(value,numBits){if(numBits<0||numBits>32)throw new IllegalArgumentException_1.default("Num bits must be between 0 and 32");this.ensureCapacity(this.size+numBits);for(var numBitsLeft=numBits;numBitsLeft>0;numBitsLeft--)this.appendBit(1==(value>>numBitsLeft-1&1))},BitArray.prototype.appendBitArray=function(other){var otherSize=other.size;this.ensureCapacity(this.size+otherSize);for(var i=0;i<otherSize;i++)this.appendBit(other.get(i))},BitArray.prototype.xor=function(other){if(this.size!==other.size)throw new IllegalArgumentException_1.default("Sizes don't match");for(var bits=this.bits,i=0,length_1=bits.length;i<length_1;i++)bits[i]^=other.bits[i]},BitArray.prototype.toBytes=function(bitOffset,array,offset,numBytes){for(var i=0;i<numBytes;i++){for(var theByte=0,j=0;j<8;j++)this.get(bitOffset)&&(theByte|=1<<7-j),bitOffset++;array[offset+i]=theByte}},BitArray.prototype.getBitArray=function(){return this.bits},BitArray.prototype.reverse=function(){for(var newBits=new Int32Array(this.bits.length),len=Math.floor((this.size-1)/32),oldBitsLen=len+1,bits=this.bits,i=0;i<oldBitsLen;i++){var x=bits[i];newBits[len-i]=x=(x=(x=(x=(x=x>>1&1431655765|(1431655765&x)<<1)>>2&858993459|(858993459&x)<<2)>>4&252645135|(252645135&x)<<4)>>8&16711935|(16711935&x)<<8)>>16&65535|(65535&x)<<16}if(this.size!==32*oldBitsLen){var leftOffset=32*oldBitsLen-this.size,currentInt=newBits[0]>>>leftOffset;for(i=1;i<oldBitsLen;i++){var nextInt=newBits[i];newBits[i-1]=currentInt|=nextInt<<32-leftOffset,currentInt=nextInt>>>leftOffset}newBits[oldBitsLen-1]=currentInt}this.bits=newBits},BitArray.makeArray=function(size){return new Int32Array(Math.floor((size+31)/32))},BitArray.prototype.equals=function(o){return o instanceof BitArray&&this.size===o.size&&Arrays_1.default.equals(this.bits,o.bits)},BitArray.prototype.hashCode=function(){return 31*this.size+Arrays_1.default.hashCode(this.bits)},BitArray.prototype.toString=function(){for(var result="",i=0,size=this.size;i<size;i++)0==(7&i)&&(result+=" "),result+=this.get(i)?"X":".";return result},BitArray.prototype.clone=function(){return new BitArray(this.size,this.bits.slice())},BitArray}();exports.default=BitArray},ALsQ:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.mode.CFB=function(){var CFB=CryptoJS.lib.BlockCipherMode.extend();function generateKeystreamAndEncrypt(words,offset,blockSize,cipher){var iv=this._iv;if(iv){var keystream=iv.slice(0);this._iv=void 0}else keystream=this._prevBlock;cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++)words[offset+i]^=keystream[i]}return CFB.Encryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher,blockSize=cipher.blockSize;generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher),this._prevBlock=words.slice(offset,offset+blockSize)}}),CFB.Decryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher,blockSize=cipher.blockSize,thisBlock=words.slice(offset,offset+blockSize);generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher),this._prevBlock=thisBlock}}),CFB}(),CryptoJS.mode.CFB)},AMbm:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ResultPoint_1=__webpack_require__("i5vq"),MathUtils_1=__webpack_require__("1rOS"),NotFoundException_1=__webpack_require__("xhJ4"),WhiteRectangleDetector=function(){function WhiteRectangleDetector(image,initSize,x,y){this.image=image,this.height=image.getHeight(),this.width=image.getWidth(),null==initSize&&(initSize=WhiteRectangleDetector.INIT_SIZE),null==x&&(x=image.getWidth()/2|0),null==y&&(y=image.getHeight()/2|0);var halfsize=initSize/2|0;if(this.leftInit=x-halfsize,this.rightInit=x+halfsize,this.upInit=y-halfsize,this.downInit=y+halfsize,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new NotFoundException_1.default}return WhiteRectangleDetector.prototype.detect=function(){for(var left=this.leftInit,right=this.rightInit,up=this.upInit,down=this.downInit,sizeExceeded=!1,aBlackPointFoundOnBorder=!0,atLeastOneBlackPointFoundOnBorder=!1,atLeastOneBlackPointFoundOnRight=!1,atLeastOneBlackPointFoundOnBottom=!1,atLeastOneBlackPointFoundOnLeft=!1,atLeastOneBlackPointFoundOnTop=!1,width=this.width,height=this.height;aBlackPointFoundOnBorder;){aBlackPointFoundOnBorder=!1;for(var rightBorderNotWhite=!0;(rightBorderNotWhite||!atLeastOneBlackPointFoundOnRight)&&right<width;)(rightBorderNotWhite=this.containsBlackPoint(up,down,right,!1))?(right++,aBlackPointFoundOnBorder=!0,atLeastOneBlackPointFoundOnRight=!0):atLeastOneBlackPointFoundOnRight||right++;if(right>=width){sizeExceeded=!0;break}for(var bottomBorderNotWhite=!0;(bottomBorderNotWhite||!atLeastOneBlackPointFoundOnBottom)&&down<height;)(bottomBorderNotWhite=this.containsBlackPoint(left,right,down,!0))?(down++,aBlackPointFoundOnBorder=!0,atLeastOneBlackPointFoundOnBottom=!0):atLeastOneBlackPointFoundOnBottom||down++;if(down>=height){sizeExceeded=!0;break}for(var leftBorderNotWhite=!0;(leftBorderNotWhite||!atLeastOneBlackPointFoundOnLeft)&&left>=0;)(leftBorderNotWhite=this.containsBlackPoint(up,down,left,!1))?(left--,aBlackPointFoundOnBorder=!0,atLeastOneBlackPointFoundOnLeft=!0):atLeastOneBlackPointFoundOnLeft||left--;if(left<0){sizeExceeded=!0;break}for(var topBorderNotWhite=!0;(topBorderNotWhite||!atLeastOneBlackPointFoundOnTop)&&up>=0;)(topBorderNotWhite=this.containsBlackPoint(left,right,up,!0))?(up--,aBlackPointFoundOnBorder=!0,atLeastOneBlackPointFoundOnTop=!0):atLeastOneBlackPointFoundOnTop||up--;if(up<0){sizeExceeded=!0;break}aBlackPointFoundOnBorder&&(atLeastOneBlackPointFoundOnBorder=!0)}if(!sizeExceeded&&atLeastOneBlackPointFoundOnBorder){for(var maxSize=right-left,z=null,i=1;null===z&&i<maxSize;i++)z=this.getBlackPointOnSegment(left,down-i,left+i,down);if(null==z)throw new NotFoundException_1.default;var t=null;for(i=1;null===t&&i<maxSize;i++)t=this.getBlackPointOnSegment(left,up+i,left+i,up);if(null==t)throw new NotFoundException_1.default;var x=null;for(i=1;null===x&&i<maxSize;i++)x=this.getBlackPointOnSegment(right,up+i,right-i,up);if(null==x)throw new NotFoundException_1.default;var y=null;for(i=1;null===y&&i<maxSize;i++)y=this.getBlackPointOnSegment(right,down-i,right-i,down);if(null==y)throw new NotFoundException_1.default;return this.centerEdges(y,z,x,t)}throw new NotFoundException_1.default},WhiteRectangleDetector.prototype.getBlackPointOnSegment=function(aX,aY,bX,bY){for(var dist=MathUtils_1.default.round(MathUtils_1.default.distance(aX,aY,bX,bY)),xStep=(bX-aX)/dist,yStep=(bY-aY)/dist,image=this.image,i=0;i<dist;i++){var x=MathUtils_1.default.round(aX+i*xStep),y=MathUtils_1.default.round(aY+i*yStep);if(image.get(x,y))return new ResultPoint_1.default(x,y)}return null},WhiteRectangleDetector.prototype.centerEdges=function(y,z,x,t){var yi=y.getX(),yj=y.getY(),zi=z.getX(),zj=z.getY(),xi=x.getX(),xj=x.getY(),ti=t.getX(),tj=t.getY(),CORR=WhiteRectangleDetector.CORR;return yi<this.width/2?[new ResultPoint_1.default(ti-CORR,tj+CORR),new ResultPoint_1.default(zi+CORR,zj+CORR),new ResultPoint_1.default(xi-CORR,xj-CORR),new ResultPoint_1.default(yi+CORR,yj-CORR)]:[new ResultPoint_1.default(ti+CORR,tj+CORR),new ResultPoint_1.default(zi+CORR,zj-CORR),new ResultPoint_1.default(xi-CORR,xj+CORR),new ResultPoint_1.default(yi-CORR,yj-CORR)]},WhiteRectangleDetector.prototype.containsBlackPoint=function(a,b,fixed,horizontal){var image=this.image;if(horizontal){for(var x=a;x<=b;x++)if(image.get(x,fixed))return!0}else for(var y=a;y<=b;y++)if(image.get(fixed,y))return!0;return!1},WhiteRectangleDetector.INIT_SIZE=10,WhiteRectangleDetector.CORR=1,WhiteRectangleDetector}();exports.default=WhiteRectangleDetector},BLtP:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function BlockPair(dataBytes,errorCorrectionBytes){this.dataBytes=dataBytes,this.errorCorrectionBytes=errorCorrectionBytes}return BlockPair.prototype.getDataBytes=function(){return this.dataBytes},BlockPair.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},BlockPair}()},BeCK:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var ResultPoint_1=__webpack_require__("i5vq");exports.default=function(_super){function AlignmentPattern(posX,posY,estimatedModuleSize){var _this=_super.call(this,posX,posY)||this;return _this.estimatedModuleSize=estimatedModuleSize,_this}return __extends(AlignmentPattern,_super),AlignmentPattern.prototype.aboutEquals=function(moduleSize,i,j){if(Math.abs(i-this.getY())<=moduleSize&&Math.abs(j-this.getX())<=moduleSize){var moduleSizeDiff=Math.abs(moduleSize-this.estimatedModuleSize);return moduleSizeDiff<=1||moduleSizeDiff<=this.estimatedModuleSize}return!1},AlignmentPattern.prototype.combineEstimate=function(i,j,newModuleSize){return new AlignmentPattern((this.getX()+j)/2,(this.getY()+i)/2,(this.estimatedModuleSize+newModuleSize)/2)},AlignmentPattern}(ResultPoint_1.default)},CFkN:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitArray_1=__webpack_require__("ABEO"),DecodeHintType_1=__webpack_require__("2Upx"),ResultMetadataType_1=__webpack_require__("Ultx"),ResultPoint_1=__webpack_require__("i5vq"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function OneDReader(){}return OneDReader.prototype.decode=function(image,hints){try{return this.doDecode(image,hints)}catch(nfe){if(hints&&!0===hints.get(DecodeHintType_1.default.TRY_HARDER)&&image.isRotateSupported()){var rotatedImage=image.rotateCounterClockwise(),result=this.doDecode(rotatedImage,hints),metadata=result.getResultMetadata(),orientation_1=270;null!==metadata&&!0===metadata.get(ResultMetadataType_1.default.ORIENTATION)&&(orientation_1+=metadata.get(ResultMetadataType_1.default.ORIENTATION)%360),result.putMetadata(ResultMetadataType_1.default.ORIENTATION,orientation_1);var points=result.getResultPoints();if(null!==points)for(var height=rotatedImage.getHeight(),i=0;i<points.length;i++)points[i]=new ResultPoint_1.default(height-points[i].getY()-1,points[i].getX());return result}throw new NotFoundException_1.default}},OneDReader.prototype.reset=function(){},OneDReader.prototype.doDecode=function(image,hints){var maxLines,width=image.getWidth(),height=image.getHeight(),row=new BitArray_1.default(width),tryHarder=hints&&!0===hints.get(DecodeHintType_1.default.TRY_HARDER),rowStep=Math.max(1,height>>(tryHarder?8:5));maxLines=tryHarder?height:15;for(var middle=Math.trunc(height/2),x=0;x<maxLines;x++){var rowStepsAboveOrBelow=Math.trunc((x+1)/2),rowNumber=middle+rowStep*(0==(1&x)?rowStepsAboveOrBelow:-rowStepsAboveOrBelow);if(rowNumber<0||rowNumber>=height)break;try{row=image.getBlackRow(rowNumber,row)}catch(ignored){continue}for(var _loop_1=function(attempt){if(1===attempt&&(row.reverse(),hints&&!0===hints.get(DecodeHintType_1.default.NEED_RESULT_POINT_CALLBACK))){var newHints_1=new Map;hints.forEach((function(hint,key){return newHints_1.set(key,hint)})),newHints_1.delete(DecodeHintType_1.default.NEED_RESULT_POINT_CALLBACK),hints=newHints_1}try{var result=this_1.decodeRow(rowNumber,row,hints);if(1===attempt){result.putMetadata(ResultMetadataType_1.default.ORIENTATION,180);var points=result.getResultPoints();null!==points&&(points[0]=new ResultPoint_1.default(width-points[0].getX()-1,points[0].getY()),points[1]=new ResultPoint_1.default(width-points[1].getX()-1,points[1].getY()))}return{value:result}}catch(re){}},this_1=this,attempt=0;attempt<2;attempt++){var state_1=_loop_1(attempt);if("object"==typeof state_1)return state_1.value}}throw new NotFoundException_1.default},OneDReader.recordPattern=function(row,start,counters){for(var numCounters=counters.length,index=0;index<numCounters;index++)counters[index]=0;var end=row.getSize();if(start>=end)throw new NotFoundException_1.default;for(var isWhite=!row.get(start),counterPosition=0,i=start;i<end;){if(row.get(i)!==isWhite)counters[counterPosition]++;else{if(++counterPosition===numCounters)break;counters[counterPosition]=1,isWhite=!isWhite}i++}if(counterPosition!==numCounters&&(counterPosition!==numCounters-1||i!==end))throw new NotFoundException_1.default},OneDReader.recordPatternInReverse=function(row,start,counters){for(var numTransitionsLeft=counters.length,last=row.get(start);start>0&&numTransitionsLeft>=0;)row.get(--start)!==last&&(numTransitionsLeft--,last=!last);if(numTransitionsLeft>=0)throw new NotFoundException_1.default;OneDReader.recordPattern(row,start+1,counters)},OneDReader.patternMatchVariance=function(counters,pattern,maxIndividualVariance){for(var numCounters=counters.length,total=0,patternLength=0,i=0;i<numCounters;i++)total+=counters[i],patternLength+=pattern[i];if(total<patternLength)return Number.POSITIVE_INFINITY;var unitBarWidth=total/patternLength;maxIndividualVariance*=unitBarWidth;for(var totalVariance=0,x=0;x<numCounters;x++){var counter=counters[x],scaledPattern=pattern[x]*unitBarWidth,variance=counter>scaledPattern?counter-scaledPattern:scaledPattern-counter;if(variance>maxIndividualVariance)return Number.POSITIVE_INFINITY;totalVariance+=variance}return totalVariance/total},OneDReader}()},D8zn:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function FinderPatternInfo(patternCenters){this.bottomLeft=patternCenters[0],this.topLeft=patternCenters[1],this.topRight=patternCenters[2]}return FinderPatternInfo.prototype.getBottomLeft=function(){return this.bottomLeft},FinderPatternInfo.prototype.getTopLeft=function(){return this.topLeft},FinderPatternInfo.prototype.getTopRight=function(){return this.topRight},FinderPatternInfo}()},DoMb:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GenericGF_1=__webpack_require__("al1V"),System_1=__webpack_require__("pleV"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function GenericGFPoly(field,coefficients){if(0===coefficients.length)throw new IllegalArgumentException_1.default;this.field=field;var coefficientsLength=coefficients.length;if(coefficientsLength>1&&0===coefficients[0]){for(var firstNonZero=1;firstNonZero<coefficientsLength&&0===coefficients[firstNonZero];)firstNonZero++;firstNonZero===coefficientsLength?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(coefficientsLength-firstNonZero),System_1.default.arraycopy(coefficients,firstNonZero,this.coefficients,0,this.coefficients.length))}else this.coefficients=coefficients}return GenericGFPoly.prototype.getCoefficients=function(){return this.coefficients},GenericGFPoly.prototype.getDegree=function(){return this.coefficients.length-1},GenericGFPoly.prototype.isZero=function(){return 0===this.coefficients[0]},GenericGFPoly.prototype.getCoefficient=function(degree){return this.coefficients[this.coefficients.length-1-degree]},GenericGFPoly.prototype.evaluateAt=function(a){if(0===a)return this.getCoefficient(0);var result,coefficients=this.coefficients;if(1===a){result=0;for(var i=0,length_1=coefficients.length;i!==length_1;i++)result=GenericGF_1.default.addOrSubtract(result,coefficients[i]);return result}result=coefficients[0];var size=coefficients.length,field=this.field;for(i=1;i<size;i++)result=GenericGF_1.default.addOrSubtract(field.multiply(a,result),coefficients[i]);return result},GenericGFPoly.prototype.addOrSubtract=function(other){if(!this.field.equals(other.field))throw new IllegalArgumentException_1.default("GenericGFPolys do not have same GenericGF field");if(this.isZero())return other;if(other.isZero())return this;var smallerCoefficients=this.coefficients,largerCoefficients=other.coefficients;if(smallerCoefficients.length>largerCoefficients.length){var temp=smallerCoefficients;smallerCoefficients=largerCoefficients,largerCoefficients=temp}var sumDiff=new Int32Array(largerCoefficients.length),lengthDiff=largerCoefficients.length-smallerCoefficients.length;System_1.default.arraycopy(largerCoefficients,0,sumDiff,0,lengthDiff);for(var i=lengthDiff;i<largerCoefficients.length;i++)sumDiff[i]=GenericGF_1.default.addOrSubtract(smallerCoefficients[i-lengthDiff],largerCoefficients[i]);return new GenericGFPoly(this.field,sumDiff)},GenericGFPoly.prototype.multiply=function(other){if(!this.field.equals(other.field))throw new IllegalArgumentException_1.default("GenericGFPolys do not have same GenericGF field");if(this.isZero()||other.isZero())return this.field.getZero();for(var aCoefficients=this.coefficients,aLength=aCoefficients.length,bCoefficients=other.coefficients,bLength=bCoefficients.length,product=new Int32Array(aLength+bLength-1),field=this.field,i=0;i<aLength;i++)for(var aCoeff=aCoefficients[i],j=0;j<bLength;j++)product[i+j]=GenericGF_1.default.addOrSubtract(product[i+j],field.multiply(aCoeff,bCoefficients[j]));return new GenericGFPoly(field,product)},GenericGFPoly.prototype.multiplyScalar=function(scalar){if(0===scalar)return this.field.getZero();if(1===scalar)return this;for(var size=this.coefficients.length,field=this.field,product=new Int32Array(size),coefficients=this.coefficients,i=0;i<size;i++)product[i]=field.multiply(coefficients[i],scalar);return new GenericGFPoly(field,product)},GenericGFPoly.prototype.multiplyByMonomial=function(degree,coefficient){if(degree<0)throw new IllegalArgumentException_1.default;if(0===coefficient)return this.field.getZero();for(var coefficients=this.coefficients,size=coefficients.length,product=new Int32Array(size+degree),field=this.field,i=0;i<size;i++)product[i]=field.multiply(coefficients[i],coefficient);return new GenericGFPoly(field,product)},GenericGFPoly.prototype.divide=function(other){if(!this.field.equals(other.field))throw new IllegalArgumentException_1.default("GenericGFPolys do not have same GenericGF field");if(other.isZero())throw new IllegalArgumentException_1.default("Divide by 0");for(var field=this.field,quotient=field.getZero(),remainder=this,denominatorLeadingTerm=other.getCoefficient(other.getDegree()),inverseDenominatorLeadingTerm=field.inverse(denominatorLeadingTerm);remainder.getDegree()>=other.getDegree()&&!remainder.isZero();){var degreeDifference=remainder.getDegree()-other.getDegree(),scale=field.multiply(remainder.getCoefficient(remainder.getDegree()),inverseDenominatorLeadingTerm),term=other.multiplyByMonomial(degreeDifference,scale),iterationQuotient=field.buildMonomial(degreeDifference,scale);quotient=quotient.addOrSubtract(iterationQuotient),remainder=remainder.addOrSubtract(term)}return[quotient,remainder]},GenericGFPoly.prototype.toString=function(){for(var result="",degree=this.getDegree();degree>=0;degree--){var coefficient=this.getCoefficient(degree);if(0!==coefficient){if(coefficient<0?(result+=" - ",coefficient=-coefficient):result.length>0&&(result+=" + "),0===degree||1!==coefficient){var alphaPower=this.field.log(coefficient);0===alphaPower?result+="1":1===alphaPower?result+="a":(result+="a^",result+=alphaPower)}0!==degree&&(1===degree?result+="x":(result+="x^",result+=degree))}}return result},GenericGFPoly}()},E4JC:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("ETIr"),__webpack_require__("cv67"),__webpack_require__("K3mO"),__webpack_require__("OLod"),function(){var C=CryptoJS,StreamCipher=C.lib.StreamCipher,S=[],C_=[],G=[],Rabbit=C.algo.Rabbit=StreamCipher.extend({_doReset:function(){for(var K=this._key.words,iv=this.cfg.iv,i=0;i<4;i++)K[i]=16711935&(K[i]<<8|K[i]>>>24)|4278255360&(K[i]<<24|K[i]>>>8);var X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16],C=this._C=[K[2]<<16|K[2]>>>16,4294901760&K[0]|65535&K[1],K[3]<<16|K[3]>>>16,4294901760&K[1]|65535&K[2],K[0]<<16|K[0]>>>16,4294901760&K[2]|65535&K[3],K[1]<<16|K[1]>>>16,4294901760&K[3]|65535&K[0]];for(this._b=0,i=0;i<4;i++)nextState.call(this);for(i=0;i<8;i++)C[i]^=X[i+4&7];if(iv){var IV=iv.words,IV_0=IV[0],IV_1=IV[1],i0=16711935&(IV_0<<8|IV_0>>>24)|4278255360&(IV_0<<24|IV_0>>>8),i2=16711935&(IV_1<<8|IV_1>>>24)|4278255360&(IV_1<<24|IV_1>>>8),i1=i0>>>16|4294901760&i2,i3=i2<<16|65535&i0;for(C[0]^=i0,C[1]^=i1,C[2]^=i2,C[3]^=i3,C[4]^=i0,C[5]^=i1,C[6]^=i2,C[7]^=i3,i=0;i<4;i++)nextState.call(this)}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this),S[0]=X[0]^X[5]>>>16^X[3]<<16,S[1]=X[2]^X[7]>>>16^X[5]<<16,S[2]=X[4]^X[1]>>>16^X[7]<<16,S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++)S[i]=16711935&(S[i]<<8|S[i]>>>24)|4278255360&(S[i]<<24|S[i]>>>8),M[offset+i]^=S[i]},blockSize:4,ivSize:2});function nextState(){for(var X=this._X,C=this._C,i=0;i<8;i++)C_[i]=C[i];for(C[0]=C[0]+1295307597+this._b|0,C[1]=C[1]+3545052371+(C[0]>>>0<C_[0]>>>0?1:0)|0,C[2]=C[2]+886263092+(C[1]>>>0<C_[1]>>>0?1:0)|0,C[3]=C[3]+1295307597+(C[2]>>>0<C_[2]>>>0?1:0)|0,C[4]=C[4]+3545052371+(C[3]>>>0<C_[3]>>>0?1:0)|0,C[5]=C[5]+886263092+(C[4]>>>0<C_[4]>>>0?1:0)|0,C[6]=C[6]+1295307597+(C[5]>>>0<C_[5]>>>0?1:0)|0,C[7]=C[7]+3545052371+(C[6]>>>0<C_[6]>>>0?1:0)|0,this._b=C[7]>>>0<C_[7]>>>0?1:0,i=0;i<8;i++){var gx=X[i]+C[i],ga=65535&gx,gb=gx>>>16;G[i]=((ga*ga>>>17)+ga*gb>>>15)+gb*gb^((4294901760&gx)*gx|0)+((65535&gx)*gx|0)}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0,X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0,X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0,X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0,X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0,X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0,X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0,X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.Rabbit=StreamCipher._createHelper(Rabbit)}(),CryptoJS.Rabbit)},E579:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BrowserCodeReader_1=__webpack_require__("RqVx"),MultiFormatOneDReader_1=__webpack_require__("QxPk");exports.BrowserBarcodeReader=function(_super){function BrowserBarcodeReader(timeBetweenScansMillis,hints){return void 0===timeBetweenScansMillis&&(timeBetweenScansMillis=500),_super.call(this,new MultiFormatOneDReader_1.default(hints),timeBetweenScansMillis,hints)||this}return __extends(BrowserBarcodeReader,_super),BrowserBarcodeReader}(BrowserCodeReader_1.BrowserCodeReader)},EJCn:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var AbstractRSSReader_1=__webpack_require__("1NXM"),Pair_1=__webpack_require__("qkIr"),Result_1=__webpack_require__("nEnc"),DecodeHintType_1=__webpack_require__("2Upx"),NotFoundException_1=__webpack_require__("xhJ4"),StringBuilder_1=__webpack_require__("SgF2"),BarcodeFormat_1=__webpack_require__("qsBs"),ResultPoint_1=__webpack_require__("i5vq"),FinderPattern_1=__webpack_require__("OKB3"),DataCharacter_1=__webpack_require__("2Gbb"),MathUtils_1=__webpack_require__("1rOS"),RSSUtils_1=__webpack_require__("1HNL"),System_1=__webpack_require__("pleV"),OneDReader_1=__webpack_require__("CFkN");exports.default=function(_super){function RSS14Reader(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.possibleLeftPairs=[],_this.possibleRightPairs=[],_this}return __extends(RSS14Reader,_super),RSS14Reader.prototype.decodeRow=function(rowNumber,row,hints){var leftPair=this.decodePair(row,!1,rowNumber,hints);RSS14Reader.addOrTally(this.possibleLeftPairs,leftPair),row.reverse();var rightPair=this.decodePair(row,!0,rowNumber,hints);RSS14Reader.addOrTally(this.possibleRightPairs,rightPair),row.reverse();for(var _i=0,_a=this.possibleLeftPairs;_i<_a.length;_i++){var left=_a[_i];if(left.getCount()>1)for(var _b=0,_c=this.possibleRightPairs;_b<_c.length;_b++){var right=_c[_b];if(right.getCount()>1&&RSS14Reader.checkChecksum(left,right))return RSS14Reader.constructResult(left,right)}}throw new NotFoundException_1.default},RSS14Reader.addOrTally=function(possiblePairs,pair){if(null!=pair){for(var found=!1,_i=0,possiblePairs_1=possiblePairs;_i<possiblePairs_1.length;_i++){var other=possiblePairs_1[_i];if(other.getValue()===pair.getValue()){other.incrementCount(),found=!0;break}}found||possiblePairs.push(pair)}},RSS14Reader.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},RSS14Reader.constructResult=function(leftPair,rightPair){for(var symbolValue=4537077*leftPair.getValue()+rightPair.getValue(),text=new String(symbolValue).toString(),buffer=new StringBuilder_1.default,i=13-text.length;i>0;i--)buffer.append("0");buffer.append(text);var checkDigit=0;for(i=0;i<13;i++){var digit=buffer.charAt(i).charCodeAt(0)-"0".charCodeAt(0);checkDigit+=0==(1&i)?3*digit:digit}10==(checkDigit=10-checkDigit%10)&&(checkDigit=0),buffer.append(checkDigit.toString());var leftPoints=leftPair.getFinderPattern().getResultPoints(),rightPoints=rightPair.getFinderPattern().getResultPoints();return new Result_1.default(buffer.toString(),null,0,[leftPoints[0],leftPoints[1],rightPoints[0],rightPoints[1]],BarcodeFormat_1.default.RSS_14,(new Date).getTime())},RSS14Reader.checkChecksum=function(leftPair,rightPair){var checkValue=(leftPair.getChecksumPortion()+16*rightPair.getChecksumPortion())%79,targetCheckValue=9*leftPair.getFinderPattern().getValue()+rightPair.getFinderPattern().getValue();return targetCheckValue>72&&targetCheckValue--,targetCheckValue>8&&targetCheckValue--,checkValue===targetCheckValue},RSS14Reader.prototype.decodePair=function(row,right,rowNumber,hints){try{var startEnd=this.findFinderPattern(row,right),pattern=this.parseFoundFinderPattern(row,rowNumber,right,startEnd),resultPointCallback=null==hints?null:hints.get(DecodeHintType_1.default.NEED_RESULT_POINT_CALLBACK);if(null!=resultPointCallback){var center=(startEnd[0]+startEnd[1])/2;right&&(center=row.getSize()-1-center),resultPointCallback.foundPossibleResultPoint(new ResultPoint_1.default(center,rowNumber))}var outside=this.decodeDataCharacter(row,pattern,!0),inside=this.decodeDataCharacter(row,pattern,!1);return new Pair_1.default(1597*outside.getValue()+inside.getValue(),outside.getChecksumPortion()+4*inside.getChecksumPortion(),pattern)}catch(err){return null}},RSS14Reader.prototype.decodeDataCharacter=function(row,pattern,outsideChar){for(var counters=this.getDataCharacterCounters(),x=0;x<counters.length;x++)counters[x]=0;if(outsideChar)OneDReader_1.default.recordPatternInReverse(row,pattern.getStartEnd()[0],counters);else{OneDReader_1.default.recordPattern(row,pattern.getStartEnd()[1]+1,counters);for(var i=0,j=counters.length-1;i<j;i++,j--){var temp=counters[i];counters[i]=counters[j],counters[j]=temp}}var numModules=outsideChar?16:15,elementWidth=MathUtils_1.default.sum(new Int32Array(counters))/numModules,oddCounts=this.getOddCounts(),evenCounts=this.getEvenCounts(),oddRoundingErrors=this.getOddRoundingErrors(),evenRoundingErrors=this.getEvenRoundingErrors();for(i=0;i<counters.length;i++){var value=counters[i]/elementWidth,count=Math.floor(value+.5);count<1?count=1:count>8&&(count=8);var offset=Math.floor(i/2);0==(1&i)?(oddCounts[offset]=count,oddRoundingErrors[offset]=value-count):(evenCounts[offset]=count,evenRoundingErrors[offset]=value-count)}this.adjustOddEvenCounts(outsideChar,numModules);var oddSum=0,oddChecksumPortion=0;for(i=oddCounts.length-1;i>=0;i--)oddChecksumPortion*=9,oddChecksumPortion+=oddCounts[i],oddSum+=oddCounts[i];var evenChecksumPortion=0,evenSum=0;for(i=evenCounts.length-1;i>=0;i--)evenChecksumPortion*=9,evenChecksumPortion+=evenCounts[i],evenSum+=evenCounts[i];var group,oddWidest,checksumPortion=oddChecksumPortion+3*evenChecksumPortion;if(outsideChar){if(0!=(1&oddSum)||oddSum>12||oddSum<4)throw new NotFoundException_1.default;var evenWidest=9-(oddWidest=RSS14Reader.OUTSIDE_ODD_WIDEST[group=(12-oddSum)/2]),vOdd=RSSUtils_1.default.getRSSvalue(oddCounts,oddWidest,!1),vEven=RSSUtils_1.default.getRSSvalue(evenCounts,evenWidest,!0);return new DataCharacter_1.default(vOdd*RSS14Reader.OUTSIDE_EVEN_TOTAL_SUBSET[group]+vEven+RSS14Reader.OUTSIDE_GSUM[group],checksumPortion)}if(0!=(1&evenSum)||evenSum>10||evenSum<4)throw new NotFoundException_1.default;return evenWidest=9-(oddWidest=RSS14Reader.INSIDE_ODD_WIDEST[group=(10-evenSum)/2]),vOdd=RSSUtils_1.default.getRSSvalue(oddCounts,oddWidest,!0),vEven=RSSUtils_1.default.getRSSvalue(evenCounts,evenWidest,!1),new DataCharacter_1.default(vEven*RSS14Reader.INSIDE_ODD_TOTAL_SUBSET[group]+vOdd+RSS14Reader.INSIDE_GSUM[group],checksumPortion)},RSS14Reader.prototype.findFinderPattern=function(row,rightFinderPattern){var counters=this.getDecodeFinderCounters();counters[0]=0,counters[1]=0,counters[2]=0,counters[3]=0;for(var width=row.getSize(),isWhite=!1,rowOffset=0;rowOffset<width&&rightFinderPattern!==(isWhite=!row.get(rowOffset));)rowOffset++;for(var counterPosition=0,patternStart=rowOffset,x=rowOffset;x<width;x++)if(row.get(x)!==isWhite)counters[counterPosition]++;else{if(3===counterPosition){if(AbstractRSSReader_1.default.isFinderPattern(counters))return[patternStart,x];patternStart+=counters[0]+counters[1],counters[0]=counters[2],counters[1]=counters[3],counters[2]=0,counters[3]=0,counterPosition--}else counterPosition++;counters[counterPosition]=1,isWhite=!isWhite}throw new NotFoundException_1.default},RSS14Reader.prototype.parseFoundFinderPattern=function(row,rowNumber,right,startEnd){for(var firstIsBlack=row.get(startEnd[0]),firstElementStart=startEnd[0]-1;firstElementStart>=0&&firstIsBlack!==row.get(firstElementStart);)firstElementStart--;firstElementStart++;var firstCounter=startEnd[0]-firstElementStart,counters=this.getDecodeFinderCounters(),copy=new Array(counters.length);System_1.default.arraycopy(counters,0,copy,1,counters.length-1),copy[0]=firstCounter;var value=this.parseFinderValue(copy,RSS14Reader.FINDER_PATTERNS),start=firstElementStart,end=startEnd[1];return right&&(start=row.getSize()-1-start,end=row.getSize()-1-end),new FinderPattern_1.default(value,[firstElementStart,startEnd[1]],start,end,rowNumber)},RSS14Reader.prototype.adjustOddEvenCounts=function(outsideChar,numModules){var oddSum=MathUtils_1.default.sum(new Int32Array(this.getOddCounts())),evenSum=MathUtils_1.default.sum(new Int32Array(this.getEvenCounts())),incrementOdd=!1,decrementOdd=!1,incrementEven=!1,decrementEven=!1;outsideChar?(oddSum>12?decrementOdd=!0:oddSum<4&&(incrementOdd=!0),evenSum>12?decrementEven=!0:evenSum<4&&(incrementEven=!0)):(oddSum>11?decrementOdd=!0:oddSum<5&&(incrementOdd=!0),evenSum>10?decrementEven=!0:evenSum<4&&(incrementEven=!0));var mismatch=oddSum+evenSum-numModules,oddParityBad=(1&oddSum)==(outsideChar?1:0),evenParityBad=1==(1&evenSum);if(1===mismatch)if(oddParityBad){if(evenParityBad)throw new NotFoundException_1.default;decrementOdd=!0}else{if(!evenParityBad)throw new NotFoundException_1.default;decrementEven=!0}else if(-1===mismatch)if(oddParityBad){if(evenParityBad)throw new NotFoundException_1.default;incrementOdd=!0}else{if(!evenParityBad)throw new NotFoundException_1.default;incrementEven=!0}else{if(0!==mismatch)throw new NotFoundException_1.default;if(oddParityBad){if(!evenParityBad)throw new NotFoundException_1.default;oddSum<evenSum?(incrementOdd=!0,decrementEven=!0):(decrementOdd=!0,incrementEven=!0)}else if(evenParityBad)throw new NotFoundException_1.default}if(incrementOdd){if(decrementOdd)throw new NotFoundException_1.default;AbstractRSSReader_1.default.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(decrementOdd&&AbstractRSSReader_1.default.decrement(this.getOddCounts(),this.getOddRoundingErrors()),incrementEven){if(decrementEven)throw new NotFoundException_1.default;AbstractRSSReader_1.default.increment(this.getEvenCounts(),this.getOddRoundingErrors())}decrementEven&&AbstractRSSReader_1.default.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},RSS14Reader.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],RSS14Reader.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],RSS14Reader.OUTSIDE_GSUM=[0,161,961,2015,2715],RSS14Reader.INSIDE_GSUM=[0,336,1036,1516],RSS14Reader.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],RSS14Reader.INSIDE_ODD_WIDEST=[2,4,6,8],RSS14Reader.FINDER_PATTERNS=[[3,8,2,1],[3,5,5,1],[3,3,7,1],[3,1,9,1],[2,7,4,1],[2,5,6,1],[2,3,8,1],[1,5,7,1],[1,3,9,1]],RSS14Reader}(AbstractRSSReader_1.default)},ELcG:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),function(Math){var C=CryptoJS,C_lib=C.lib,WordArray=C_lib.WordArray,Hasher=C_lib.Hasher,C_algo=C.algo,_zl=WordArray.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_zr=WordArray.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_sl=WordArray.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_sr=WordArray.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_hl=WordArray.create([0,1518500249,1859775393,2400959708,2840853838]),_hr=WordArray.create([1352829926,1548603684,1836072691,2053994217,0]),RIPEMD160=C_algo.RIPEMD160=Hasher.extend({_doReset:function(){this._hash=WordArray.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er,t,H=this._hash.words,hl=_hl.words,hr=_hr.words,zl=_zl.words,zr=_zr.words,sl=_sl.words,sr=_sr.words;for(ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4],i=0;i<80;i+=1)t=al+M[offset+zl[i]]|0,t+=i<16?f1(bl,cl,dl)+hl[0]:i<32?f2(bl,cl,dl)+hl[1]:i<48?f3(bl,cl,dl)+hl[2]:i<64?f4(bl,cl,dl)+hl[3]:f5(bl,cl,dl)+hl[4],t=(t=rotl(t|=0,sl[i]))+el|0,al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+zr[i]]|0,t+=i<16?f5(br,cr,dr)+hr[0]:i<32?f4(br,cr,dr)+hr[1]:i<48?f3(br,cr,dr)+hr[2]:i<64?f2(br,cr,dr)+hr[3]:f1(br,cr,dr)+hr[4],t=(t=rotl(t|=0,sr[i]))+er|0,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t},_doFinalize:function(){var data=this._data,dataWords=data.words,nBitsTotal=8*this._nDataBytes,nBitsLeft=8*data.sigBytes;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,dataWords[14+(nBitsLeft+64>>>9<<4)]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8),data.sigBytes=4*(dataWords.length+1),this._process();for(var hash=this._hash,H=hash.words,i=0;i<5;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}return hash},clone:function(){var clone=Hasher.clone.call(this);return clone._hash=this._hash.clone(),clone}});function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}C.RIPEMD160=Hasher._createHelper(RIPEMD160),C.HmacRIPEMD160=Hasher._createHmacHelper(RIPEMD160)}(Math),CryptoJS.RIPEMD160)},ETIr:function(module,exports,__webpack_require__){var WordArray,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),WordArray=CryptoJS.lib.WordArray,CryptoJS.enc.Base64={stringify:function(wordArray){var words=wordArray.words,sigBytes=wordArray.sigBytes,map=this._map;wordArray.clamp();for(var base64Chars=[],i=0;i<sigBytes;i+=3)for(var triplet=(words[i>>>2]>>>24-i%4*8&255)<<16|(words[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|words[i+2>>>2]>>>24-(i+2)%4*8&255,j=0;j<4&&i+.75*j<sigBytes;j++)base64Chars.push(map.charAt(triplet>>>6*(3-j)&63));var paddingChar=map.charAt(64);if(paddingChar)for(;base64Chars.length%4;)base64Chars.push(paddingChar);return base64Chars.join("")},parse:function(base64Str){var base64StrLength=base64Str.length,map=this._map,reverseMap=this._reverseMap;if(!reverseMap){reverseMap=this._reverseMap=[];for(var j=0;j<map.length;j++)reverseMap[map.charCodeAt(j)]=j}var paddingChar=map.charAt(64);if(paddingChar){var paddingIndex=base64Str.indexOf(paddingChar);-1!==paddingIndex&&(base64StrLength=paddingIndex)}return function(base64Str,base64StrLength,reverseMap){for(var words=[],nBytes=0,i=0;i<base64StrLength;i++)if(i%4){var bits1=reverseMap[base64Str.charCodeAt(i-1)]<<i%4*2,bits2=reverseMap[base64Str.charCodeAt(i)]>>>6-i%4*2;words[nBytes>>>2]|=(bits1|bits2)<<24-nBytes%4*8,nBytes++}return WordArray.create(words,nBytes)}(base64Str,base64StrLength,reverseMap)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},CryptoJS.enc.Base64)},EdSt:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function DataBlock(numDataCodewords,codewords){this.numDataCodewords=numDataCodewords,this.codewords=codewords}return DataBlock.getDataBlocks=function(rawCodewords,version,ecLevel){if(rawCodewords.length!==version.getTotalCodewords())throw new IllegalArgumentException_1.default;for(var ecBlocks=version.getECBlocksForLevel(ecLevel),totalBlocks=0,ecBlockArray=ecBlocks.getECBlocks(),_i=0,ecBlockArray_1=ecBlockArray;_i<ecBlockArray_1.length;_i++)totalBlocks+=(ecBlock=ecBlockArray_1[_i]).getCount();for(var result=new Array(totalBlocks),numResultBlocks=0,_a=0,ecBlockArray_2=ecBlockArray;_a<ecBlockArray_2.length;_a++)for(var ecBlock=ecBlockArray_2[_a],i=0;i<ecBlock.getCount();i++){var numDataCodewords=ecBlock.getDataCodewords(),numBlockCodewords=ecBlocks.getECCodewordsPerBlock()+numDataCodewords;result[numResultBlocks++]=new DataBlock(numDataCodewords,new Uint8Array(numBlockCodewords))}for(var shorterBlocksTotalCodewords=result[0].codewords.length,longerBlocksStartAt=result.length-1;longerBlocksStartAt>=0&&result[longerBlocksStartAt].codewords.length!==shorterBlocksTotalCodewords;)longerBlocksStartAt--;longerBlocksStartAt++;var shorterBlocksNumDataCodewords=shorterBlocksTotalCodewords-ecBlocks.getECCodewordsPerBlock(),rawCodewordsOffset=0;for(i=0;i<shorterBlocksNumDataCodewords;i++)for(var j=0;j<numResultBlocks;j++)result[j].codewords[i]=rawCodewords[rawCodewordsOffset++];for(j=longerBlocksStartAt;j<numResultBlocks;j++)result[j].codewords[shorterBlocksNumDataCodewords]=rawCodewords[rawCodewordsOffset++];var max=result[0].codewords.length;for(i=shorterBlocksNumDataCodewords;i<max;i++)for(j=0;j<numResultBlocks;j++)result[j].codewords[j<longerBlocksStartAt?i:i+1]=rawCodewords[rawCodewordsOffset++];return result},DataBlock.prototype.getNumDataCodewords=function(){return this.numDataCodewords},DataBlock.prototype.getCodewords=function(){return this.codewords},DataBlock}()},EdUa:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),UPCEANReader_1=__webpack_require__("uT6O"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(_super){function EAN13Reader(){var _this=_super.call(this)||this;return _this.decodeMiddleCounters=[0,0,0,0],_this}return __extends(EAN13Reader,_super),EAN13Reader.prototype.decodeMiddle=function(row,startRange,resultString){var counters=this.decodeMiddleCounters;counters[0]=0,counters[1]=0,counters[2]=0,counters[3]=0;for(var end=row.getSize(),rowOffset=startRange[1],lgPatternFound=0,x=0;x<6&&rowOffset<end;x++){var bestMatch=UPCEANReader_1.default.decodeDigit(row,counters,rowOffset,UPCEANReader_1.default.L_AND_G_PATTERNS);resultString+=String.fromCharCode("0".charCodeAt(0)+bestMatch%10);for(var _i=0,counters_1=counters;_i<counters_1.length;_i++)rowOffset+=counters_1[_i];bestMatch>=10&&(lgPatternFound|=1<<5-x)}for(resultString=EAN13Reader.determineFirstDigit(resultString,lgPatternFound),rowOffset=UPCEANReader_1.default.findGuardPattern(row,rowOffset,!0,UPCEANReader_1.default.MIDDLE_PATTERN,new Array(UPCEANReader_1.default.MIDDLE_PATTERN.length).fill(0))[1],x=0;x<6&&rowOffset<end;x++){bestMatch=UPCEANReader_1.default.decodeDigit(row,counters,rowOffset,UPCEANReader_1.default.L_PATTERNS),resultString+=String.fromCharCode("0".charCodeAt(0)+bestMatch);for(var _a=0,counters_2=counters;_a<counters_2.length;_a++)rowOffset+=counters_2[_a]}return{rowOffset:rowOffset,resultString:resultString}},EAN13Reader.prototype.getBarcodeFormat=function(){return BarcodeFormat_1.default.EAN_13},EAN13Reader.determineFirstDigit=function(resultString,lgPatternFound){for(var d=0;d<10;d++)if(lgPatternFound===this.FIRST_DIGIT_ENCODINGS[d])return String.fromCharCode("0".charCodeAt(0)+d)+resultString;throw new NotFoundException_1.default},EAN13Reader.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],EAN13Reader}(UPCEANReader_1.default)},"F+F2":function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),function(){if("function"==typeof ArrayBuffer){var WordArray=CryptoJS.lib.WordArray,superInit=WordArray.init;(WordArray.init=function(typedArray){if(typedArray instanceof ArrayBuffer&&(typedArray=new Uint8Array(typedArray)),(typedArray instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&typedArray instanceof Uint8ClampedArray||typedArray instanceof Int16Array||typedArray instanceof Uint16Array||typedArray instanceof Int32Array||typedArray instanceof Uint32Array||typedArray instanceof Float32Array||typedArray instanceof Float64Array)&&(typedArray=new Uint8Array(typedArray.buffer,typedArray.byteOffset,typedArray.byteLength)),typedArray instanceof Uint8Array){for(var typedArrayByteLength=typedArray.byteLength,words=[],i=0;i<typedArrayByteLength;i++)words[i>>>2]|=typedArray[i]<<24-i%4*8;superInit.call(this,words,typedArrayByteLength)}else superInit.apply(this,arguments)}).prototype=WordArray}}(),CryptoJS.lib.WordArray)},FXSv:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function ReaderException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ReaderException,_super),ReaderException}(Exception_1.default)},FoUL:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Arrays_1=__webpack_require__("PTYN"),StringBuilder_1=__webpack_require__("SgF2");exports.default=function(){function ByteMatrix(width,height){this.width=width,this.height=height;for(var bytes=new Array(height),i=0;i!==height;i++)bytes[i]=new Uint8Array(width);this.bytes=bytes}return ByteMatrix.prototype.getHeight=function(){return this.height},ByteMatrix.prototype.getWidth=function(){return this.width},ByteMatrix.prototype.get=function(x,y){return this.bytes[y][x]},ByteMatrix.prototype.getArray=function(){return this.bytes},ByteMatrix.prototype.setNumber=function(x,y,value){this.bytes[y][x]=value},ByteMatrix.prototype.setBoolean=function(x,y,value){this.bytes[y][x]=value?1:0},ByteMatrix.prototype.clear=function(value){for(var _i=0,_a=this.bytes;_i<_a.length;_i++)Arrays_1.default.fillUint8Array(_a[_i],value)},ByteMatrix.prototype.equals=function(o){if(!(o instanceof ByteMatrix))return!1;var other=o;if(this.width!==other.width)return!1;if(this.height!==other.height)return!1;for(var y=0,height=this.height;y<height;++y)for(var bytesY=this.bytes[y],otherBytesY=other.bytes[y],x=0,width=this.width;x<width;++x)if(bytesY[x]!==otherBytesY[x])return!1;return!0},ByteMatrix.prototype.toString=function(){for(var result=new StringBuilder_1.default,y=0,height=this.height;y<height;++y){for(var bytesY=this.bytes[y],x=0,width=this.width;x<width;++x)switch(bytesY[x]){case 0:result.append(" 0");break;case 1:result.append(" 1");break;default:result.append("  ")}result.append("\n")}return result.toString()},ByteMatrix}()},GRuw:function(module,exports,__webpack_require__){var C,WordArray,C_algo,SHA256,SHA224,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("lPiR"),WordArray=(C=CryptoJS).lib.WordArray,SHA224=(C_algo=C.algo).SHA224=(SHA256=C_algo.SHA256).extend({_doReset:function(){this._hash=new WordArray.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var hash=SHA256._doFinalize.call(this);return hash.sigBytes-=4,hash}}),C.SHA224=SHA256._createHelper(SHA224),C.HmacSHA224=SHA256._createHmacHelper(SHA224),CryptoJS.SHA224)},GSVm:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function ECBlocks(ecCodewordsPerBlock){for(var ecBlocks=[],_i=1;_i<arguments.length;_i++)ecBlocks[_i-1]=arguments[_i];this.ecCodewordsPerBlock=ecCodewordsPerBlock,this.ecBlocks=ecBlocks}return ECBlocks.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},ECBlocks.prototype.getNumBlocks=function(){for(var total=0,_i=0,ecBlocks_1=this.ecBlocks;_i<ecBlocks_1.length;_i++)total+=ecBlocks_1[_i].getCount();return total},ECBlocks.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},ECBlocks.prototype.getECBlocks=function(){return this.ecBlocks},ECBlocks}()},GrZJ:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function WriterException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WriterException,_super),WriterException}(Exception_1.default)},"IA+L":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IllegalArgumentException_1=__webpack_require__("z1Y+"),ModeValues=exports.ModeValues=function(ModeValues){return ModeValues[ModeValues.TERMINATOR=0]="TERMINATOR",ModeValues[ModeValues.NUMERIC=1]="NUMERIC",ModeValues[ModeValues.ALPHANUMERIC=2]="ALPHANUMERIC",ModeValues[ModeValues.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ModeValues[ModeValues.BYTE=4]="BYTE",ModeValues[ModeValues.ECI=5]="ECI",ModeValues[ModeValues.KANJI=6]="KANJI",ModeValues[ModeValues.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ModeValues[ModeValues.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ModeValues[ModeValues.HANZI=9]="HANZI",ModeValues}(exports.ModeValues||{});exports.default=function(){function Mode(value,stringValue,characterCountBitsForVersions,bits){this.value=value,this.stringValue=stringValue,this.characterCountBitsForVersions=characterCountBitsForVersions,this.bits=bits,Mode.FOR_BITS.set(bits,this),Mode.FOR_VALUE.set(value,this)}return Mode.forBits=function(bits){var mode=Mode.FOR_BITS.get(bits);if(void 0===mode)throw new IllegalArgumentException_1.default;return mode},Mode.prototype.getCharacterCountBits=function(version){var versionNumber=version.getVersionNumber();return this.characterCountBitsForVersions[versionNumber<=9?0:versionNumber<=26?1:2]},Mode.prototype.getValue=function(){return this.value},Mode.prototype.getBits=function(){return this.bits},Mode.prototype.equals=function(o){return o instanceof Mode&&this.value===o.value},Mode.prototype.toString=function(){return this.stringValue},Mode.FOR_BITS=new Map,Mode.FOR_VALUE=new Map,Mode.TERMINATOR=new Mode(ModeValues.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Mode.NUMERIC=new Mode(ModeValues.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Mode.ALPHANUMERIC=new Mode(ModeValues.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Mode.STRUCTURED_APPEND=new Mode(ModeValues.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Mode.BYTE=new Mode(ModeValues.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Mode.ECI=new Mode(ModeValues.ECI,"ECI",Int32Array.from([0,0,0]),7),Mode.KANJI=new Mode(ModeValues.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Mode.FNC1_FIRST_POSITION=new Mode(ModeValues.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Mode.FNC1_SECOND_POSITION=new Mode(ModeValues.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Mode.HANZI=new Mode(ModeValues.HANZI,"HANZI",Int32Array.from([8,10,12]),13),Mode}()},"IOI/":function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__("2bqk");var InvertedLuminanceSource_1=__webpack_require__("2bqk"),LuminanceSource_1=__webpack_require__("yLOY"),System_1=__webpack_require__("pleV"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(_super){function RGBLuminanceSource(luminances,width,height,dataWidth,dataHeight,left,top){var _this=_super.call(this,width,height)||this;if(_this.dataWidth=dataWidth,_this.dataHeight=dataHeight,_this.left=left,_this.top=top,4===luminances.BYTES_PER_ELEMENT){for(var size=width*height,luminancesUint8Array=new Uint8ClampedArray(size),offset=0;offset<size;offset++){var pixel=luminances[offset];luminancesUint8Array[offset]=((pixel>>16&255)+(pixel>>7&510)+(255&pixel))/4&255}_this.luminances=luminancesUint8Array}else _this.luminances=luminances;if(void 0===dataWidth&&(_this.dataWidth=width),void 0===dataHeight&&(_this.dataHeight=height),void 0===left&&(_this.left=0),void 0===top&&(_this.top=0),_this.left+width>_this.dataWidth||_this.top+height>_this.dataHeight)throw new IllegalArgumentException_1.default("Crop rectangle does not fit within image data.");return _this}return __extends(RGBLuminanceSource,_super),RGBLuminanceSource.prototype.getRow=function(y,row){if(y<0||y>=this.getHeight())throw new IllegalArgumentException_1.default("Requested row is outside the image: "+y);var width=this.getWidth();return(null==row||row.length<width)&&(row=new Uint8ClampedArray(width)),System_1.default.arraycopy(this.luminances,(y+this.top)*this.dataWidth+this.left,row,0,width),row},RGBLuminanceSource.prototype.getMatrix=function(){var width=this.getWidth(),height=this.getHeight();if(width===this.dataWidth&&height===this.dataHeight)return this.luminances;var area=width*height,matrix=new Uint8ClampedArray(area),inputOffset=this.top*this.dataWidth+this.left;if(width===this.dataWidth)return System_1.default.arraycopy(this.luminances,inputOffset,matrix,0,area),matrix;for(var y=0;y<height;y++)System_1.default.arraycopy(this.luminances,inputOffset,matrix,y*width,width),inputOffset+=this.dataWidth;return matrix},RGBLuminanceSource.prototype.isCropSupported=function(){return!0},RGBLuminanceSource.prototype.crop=function(left,top,width,height){return new RGBLuminanceSource(this.luminances,width,height,this.dataWidth,this.dataHeight,this.left+left,this.top+top)},RGBLuminanceSource.prototype.invert=function(){return new InvertedLuminanceSource_1.default(this)},RGBLuminanceSource}(LuminanceSource_1.default)},ISut:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),UPCEANReader_1=__webpack_require__("uT6O"),Result_1=__webpack_require__("nEnc"),ResultPoint_1=__webpack_require__("i5vq"),ResultMetadataType_1=__webpack_require__("Ultx"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function UPCEANExtension2Support(){this.decodeMiddleCounters=[0,0,0,0],this.decodeRowStringBuffer=""}return UPCEANExtension2Support.prototype.decodeRow=function(rowNumber,row,extensionStartRange){var result=this.decodeRowStringBuffer,end=this.decodeMiddle(row,extensionStartRange,result),resultString=result.toString(),extensionData=UPCEANExtension2Support.parseExtensionString(resultString),resultPoints=[new ResultPoint_1.default((extensionStartRange[0]+extensionStartRange[1])/2,rowNumber),new ResultPoint_1.default(end,rowNumber)],extensionResult=new Result_1.default(resultString,null,0,resultPoints,BarcodeFormat_1.default.UPC_EAN_EXTENSION,(new Date).getTime());return null!=extensionData&&extensionResult.putAllMetadata(extensionData),extensionResult},UPCEANExtension2Support.prototype.decodeMiddle=function(row,startRange,resultString){var counters=this.decodeMiddleCounters;counters[0]=0,counters[1]=0,counters[2]=0,counters[3]=0;for(var end=row.getSize(),rowOffset=startRange[1],checkParity=0,x=0;x<2&&rowOffset<end;x++){var bestMatch=UPCEANReader_1.default.decodeDigit(row,counters,rowOffset,UPCEANReader_1.default.L_AND_G_PATTERNS);resultString+=String.fromCharCode("0".charCodeAt(0)+bestMatch%10);for(var _i=0,counters_1=counters;_i<counters_1.length;_i++)rowOffset+=counters_1[_i];bestMatch>=10&&(checkParity|=1<<1-x),1!==x&&(rowOffset=row.getNextSet(rowOffset),rowOffset=row.getNextUnset(rowOffset))}if(2!==resultString.length)throw new NotFoundException_1.default;if(parseInt(resultString.toString())%4!==checkParity)throw new NotFoundException_1.default;return rowOffset},UPCEANExtension2Support.parseExtensionString=function(raw){return 2!==raw.length?null:new Map([[ResultMetadataType_1.default.ISSUE_NUMBER,parseInt(raw)]])},UPCEANExtension2Support}()},Ib8C:function(module,exports,__webpack_require__){var CryptoJS;module.exports=CryptoJS=CryptoJS||function(Math,undefined){var create=Object.create||function(){function F(){}return function(obj){var subtype;return F.prototype=obj,subtype=new F,F.prototype=null,subtype}}(),C={},C_lib=C.lib={},Base=C_lib.Base={extend:function(overrides){var subtype=create(this);return overrides&&subtype.mixIn(overrides),subtype.hasOwnProperty("init")&&this.init!==subtype.init||(subtype.init=function(){subtype.$super.init.apply(this,arguments)}),subtype.init.prototype=subtype,subtype.$super=this,subtype},create:function(){var instance=this.extend();return instance.init.apply(instance,arguments),instance},init:function(){},mixIn:function(properties){for(var propertyName in properties)properties.hasOwnProperty(propertyName)&&(this[propertyName]=properties[propertyName]);properties.hasOwnProperty("toString")&&(this.toString=properties.toString)},clone:function(){return this.init.prototype.extend(this)}},WordArray=C_lib.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[],this.sigBytes=null!=sigBytes?sigBytes:4*words.length},toString:function(encoder){return(encoder||Hex).stringify(this)},concat:function(wordArray){var thisWords=this.words,thatWords=wordArray.words,thisSigBytes=this.sigBytes,thatSigBytes=wordArray.sigBytes;if(this.clamp(),thisSigBytes%4)for(var i=0;i<thatSigBytes;i++)thisWords[thisSigBytes+i>>>2]|=(thatWords[i>>>2]>>>24-i%4*8&255)<<24-(thisSigBytes+i)%4*8;else for(i=0;i<thatSigBytes;i+=4)thisWords[thisSigBytes+i>>>2]=thatWords[i>>>2];return this.sigBytes+=thatSigBytes,this},clamp:function(){var words=this.words,sigBytes=this.sigBytes;words[sigBytes>>>2]&=4294967295<<32-sigBytes%4*8,words.length=Math.ceil(sigBytes/4)},clone:function(){var clone=Base.clone.call(this);return clone.words=this.words.slice(0),clone},random:function(nBytes){for(var rcache,words=[],r=function(m_w){m_w=m_w;var m_z=987654321,mask=4294967295;return function(){var result=((m_z=36969*(65535&m_z)+(m_z>>16)&mask)<<16)+(m_w=18e3*(65535&m_w)+(m_w>>16)&mask)&mask;return result/=4294967296,(result+=.5)*(Math.random()>.5?1:-1)}},i=0;i<nBytes;i+=4){var _r=r(4294967296*(rcache||Math.random()));rcache=987654071*_r(),words.push(4294967296*_r()|0)}return new WordArray.init(words,nBytes)}}),C_enc=C.enc={},Hex=C_enc.Hex={stringify:function(wordArray){for(var words=wordArray.words,sigBytes=wordArray.sigBytes,hexChars=[],i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;hexChars.push((bite>>>4).toString(16)),hexChars.push((15&bite).toString(16))}return hexChars.join("")},parse:function(hexStr){for(var hexStrLength=hexStr.length,words=[],i=0;i<hexStrLength;i+=2)words[i>>>3]|=parseInt(hexStr.substr(i,2),16)<<24-i%8*4;return new WordArray.init(words,hexStrLength/2)}},Latin1=C_enc.Latin1={stringify:function(wordArray){for(var words=wordArray.words,sigBytes=wordArray.sigBytes,latin1Chars=[],i=0;i<sigBytes;i++)latin1Chars.push(String.fromCharCode(words[i>>>2]>>>24-i%4*8&255));return latin1Chars.join("")},parse:function(latin1Str){for(var latin1StrLength=latin1Str.length,words=[],i=0;i<latin1StrLength;i++)words[i>>>2]|=(255&latin1Str.charCodeAt(i))<<24-i%4*8;return new WordArray.init(words,latin1StrLength)}},Utf8=C_enc.Utf8={stringify:function(wordArray){try{return decodeURIComponent(escape(Latin1.stringify(wordArray)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(utf8Str){return Latin1.parse(unescape(encodeURIComponent(utf8Str)))}},BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm=Base.extend({reset:function(){this._data=new WordArray.init,this._nDataBytes=0},_append:function(data){"string"==typeof data&&(data=Utf8.parse(data)),this._data.concat(data),this._nDataBytes+=data.sigBytes},_process:function(doFlush){var data=this._data,dataWords=data.words,dataSigBytes=data.sigBytes,blockSize=this.blockSize,nBlocksReady=dataSigBytes/(4*blockSize),nWordsReady=(nBlocksReady=doFlush?Math.ceil(nBlocksReady):Math.max((0|nBlocksReady)-this._minBufferSize,0))*blockSize,nBytesReady=Math.min(4*nWordsReady,dataSigBytes);if(nWordsReady){for(var offset=0;offset<nWordsReady;offset+=blockSize)this._doProcessBlock(dataWords,offset);var processedWords=dataWords.splice(0,nWordsReady);data.sigBytes-=nBytesReady}return new WordArray.init(processedWords,nBytesReady)},clone:function(){var clone=Base.clone.call(this);return clone._data=this._data.clone(),clone},_minBufferSize:0}),C_algo=(C_lib.Hasher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),init:function(cfg){this.cfg=this.cfg.extend(cfg),this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this),this._doReset()},update:function(messageUpdate){return this._append(messageUpdate),this._process(),this},finalize:function(messageUpdate){return messageUpdate&&this._append(messageUpdate),this._doFinalize()},blockSize:16,_createHelper:function(hasher){return function(message,cfg){return new hasher.init(cfg).finalize(message)}},_createHmacHelper:function(hasher){return function(message,key){return new C_algo.HMAC.init(hasher,key).finalize(message)}}}),C.algo={});return C}(Math)},It5l:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Binarizer_1=__webpack_require__("kquO"),BitArray_1=__webpack_require__("ABEO"),BitMatrix_1=__webpack_require__("/fss"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(_super){function GlobalHistogramBinarizer(source){var _this=_super.call(this,source)||this;return _this.luminances=GlobalHistogramBinarizer.EMPTY,_this.buckets=new Int32Array(GlobalHistogramBinarizer.LUMINANCE_BUCKETS),_this}return __extends(GlobalHistogramBinarizer,_super),GlobalHistogramBinarizer.prototype.getBlackRow=function(y,row){var source=this.getLuminanceSource(),width=source.getWidth();null==row||row.getSize()<width?row=new BitArray_1.default(width):row.clear(),this.initArrays(width);for(var localLuminances=source.getRow(y,this.luminances),localBuckets=this.buckets,x=0;x<width;x++)localBuckets[(255&localLuminances[x])>>GlobalHistogramBinarizer.LUMINANCE_SHIFT]++;var blackPoint=GlobalHistogramBinarizer.estimateBlackPoint(localBuckets);if(width<3)for(x=0;x<width;x++)(255&localLuminances[x])<blackPoint&&row.set(x);else{var left=255&localLuminances[0],center=255&localLuminances[1];for(x=1;x<width-1;x++){var right=255&localLuminances[x+1];(4*center-left-right)/2<blackPoint&&row.set(x),left=center,center=right}}return row},GlobalHistogramBinarizer.prototype.getBlackMatrix=function(){var source=this.getLuminanceSource(),width=source.getWidth(),height=source.getHeight(),matrix=new BitMatrix_1.default(width,height);this.initArrays(width);for(var localBuckets=this.buckets,y=1;y<5;y++)for(var localLuminances_1=source.getRow(height*y/5,this.luminances),right=Math.floor(4*width/5),x=Math.floor(width/5);x<right;x++)localBuckets[(255&localLuminances_1[x])>>GlobalHistogramBinarizer.LUMINANCE_SHIFT]++;var blackPoint=GlobalHistogramBinarizer.estimateBlackPoint(localBuckets),localLuminances=source.getMatrix();for(y=0;y<height;y++){var offset=y*width;for(x=0;x<width;x++)(255&localLuminances[offset+x])<blackPoint&&matrix.set(x,y)}return matrix},GlobalHistogramBinarizer.prototype.createBinarizer=function(source){return new GlobalHistogramBinarizer(source)},GlobalHistogramBinarizer.prototype.initArrays=function(luminanceSize){this.luminances.length<luminanceSize&&(this.luminances=new Uint8ClampedArray(luminanceSize));for(var buckets=this.buckets,x=0;x<GlobalHistogramBinarizer.LUMINANCE_BUCKETS;x++)buckets[x]=0},GlobalHistogramBinarizer.estimateBlackPoint=function(buckets){for(var numBuckets=buckets.length,maxBucketCount=0,firstPeak=0,firstPeakSize=0,x=0;x<numBuckets;x++)buckets[x]>firstPeakSize&&(firstPeak=x,firstPeakSize=buckets[x]),buckets[x]>maxBucketCount&&(maxBucketCount=buckets[x]);var secondPeak=0,secondPeakScore=0;for(x=0;x<numBuckets;x++){var distanceToBiggest=x-firstPeak;(score=buckets[x]*distanceToBiggest*distanceToBiggest)>secondPeakScore&&(secondPeak=x,secondPeakScore=score)}if(firstPeak>secondPeak){var temp=firstPeak;firstPeak=secondPeak,secondPeak=temp}if(secondPeak-firstPeak<=numBuckets/16)throw new NotFoundException_1.default;var bestValley=secondPeak-1,bestValleyScore=-1;for(x=secondPeak-1;x>firstPeak;x--){var score,fromFirst=x-firstPeak;(score=fromFirst*fromFirst*(secondPeak-x)*(maxBucketCount-buckets[x]))>bestValleyScore&&(bestValley=x,bestValleyScore=score)}return bestValley<<GlobalHistogramBinarizer.LUMINANCE_SHIFT},GlobalHistogramBinarizer.LUMINANCE_SHIFT=8-(GlobalHistogramBinarizer.LUMINANCE_BITS=5),GlobalHistogramBinarizer.LUMINANCE_BUCKETS=1<<GlobalHistogramBinarizer.LUMINANCE_BITS,GlobalHistogramBinarizer.EMPTY=Uint8ClampedArray.from([0]),GlobalHistogramBinarizer}(Binarizer_1.default)},"JB+I":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var EncodeHintType_1=__webpack_require__("Q51M"),BitArray_1=__webpack_require__("ABEO"),CharacterSetECI_1=__webpack_require__("pds4"),GenericGF_1=__webpack_require__("al1V"),ReedSolomonEncoder_1=__webpack_require__("nt+B"),Mode_1=__webpack_require__("IA+L"),Version_1=__webpack_require__("okgz"),MaskUtil_1=__webpack_require__("y09Z"),ByteMatrix_1=__webpack_require__("FoUL"),QRCode_1=__webpack_require__("5hOO"),MatrixUtil_1=__webpack_require__("hAcV"),StringEncoding_1=__webpack_require__("oyvp"),BlockPair_1=__webpack_require__("BLtP"),WriterException_1=__webpack_require__("GrZJ"),Encoder=function(){function Encoder(){}return Encoder.calculateMaskPenalty=function(matrix){return MaskUtil_1.default.applyMaskPenaltyRule1(matrix)+MaskUtil_1.default.applyMaskPenaltyRule2(matrix)+MaskUtil_1.default.applyMaskPenaltyRule3(matrix)+MaskUtil_1.default.applyMaskPenaltyRule4(matrix)},Encoder.encode=function(content,ecLevel,hints){void 0===hints&&(hints=null);var encoding=Encoder.DEFAULT_BYTE_MODE_ENCODING,hasEncodingHint=null!==hints&&void 0!==hints.get(EncodeHintType_1.default.CHARACTER_SET);hasEncodingHint&&(encoding=hints.get(EncodeHintType_1.default.CHARACTER_SET).toString());var mode=this.chooseMode(content,encoding),headerBits=new BitArray_1.default;if(mode===Mode_1.default.BYTE&&(hasEncodingHint||Encoder.DEFAULT_BYTE_MODE_ENCODING!==encoding)){var eci=CharacterSetECI_1.default.getCharacterSetECIByName(encoding);void 0!==eci&&this.appendECI(eci,headerBits)}this.appendModeInfo(mode,headerBits);var version,dataBits=new BitArray_1.default;if(this.appendBytes(content,mode,dataBits,encoding),null!==hints&&void 0!==hints.get(EncodeHintType_1.default.QR_VERSION)){var versionNumber=Number.parseInt(hints.get(EncodeHintType_1.default.QR_VERSION).toString(),10);version=Version_1.default.getVersionForNumber(versionNumber);var bitsNeeded=this.calculateBitsNeeded(mode,headerBits,dataBits,version);if(!this.willFit(bitsNeeded,version,ecLevel))throw new WriterException_1.default("Data too big for requested version")}else version=this.recommendVersion(ecLevel,mode,headerBits,dataBits);var headerAndDataBits=new BitArray_1.default;headerAndDataBits.appendBitArray(headerBits);var numLetters=mode===Mode_1.default.BYTE?dataBits.getSizeInBytes():content.length;this.appendLengthInfo(numLetters,version,mode,headerAndDataBits),headerAndDataBits.appendBitArray(dataBits);var ecBlocks=version.getECBlocksForLevel(ecLevel),numDataBytes=version.getTotalCodewords()-ecBlocks.getTotalECCodewords();this.terminateBits(numDataBytes,headerAndDataBits);var finalBits=this.interleaveWithECBytes(headerAndDataBits,version.getTotalCodewords(),numDataBytes,ecBlocks.getNumBlocks()),qrCode=new QRCode_1.default;qrCode.setECLevel(ecLevel),qrCode.setMode(mode),qrCode.setVersion(version);var dimension=version.getDimensionForVersion(),matrix=new ByteMatrix_1.default(dimension,dimension),maskPattern=this.chooseMaskPattern(finalBits,ecLevel,version,matrix);return qrCode.setMaskPattern(maskPattern),MatrixUtil_1.default.buildMatrix(finalBits,ecLevel,version,maskPattern,matrix),qrCode.setMatrix(matrix),qrCode},Encoder.recommendVersion=function(ecLevel,mode,headerBits,dataBits){var provisionalBitsNeeded=this.calculateBitsNeeded(mode,headerBits,dataBits,Version_1.default.getVersionForNumber(1)),provisionalVersion=this.chooseVersion(provisionalBitsNeeded,ecLevel),bitsNeeded=this.calculateBitsNeeded(mode,headerBits,dataBits,provisionalVersion);return this.chooseVersion(bitsNeeded,ecLevel)},Encoder.calculateBitsNeeded=function(mode,headerBits,dataBits,version){return headerBits.getSize()+mode.getCharacterCountBits(version)+dataBits.getSize()},Encoder.getAlphanumericCode=function(code){return code<Encoder.ALPHANUMERIC_TABLE.length?Encoder.ALPHANUMERIC_TABLE[code]:-1},Encoder.chooseMode=function(content,encoding){if(void 0===encoding&&(encoding=null),CharacterSetECI_1.default.SJIS.getName()===encoding&&this.isOnlyDoubleByteKanji(content))return Mode_1.default.KANJI;for(var hasNumeric=!1,hasAlphanumeric=!1,i=0,length_1=content.length;i<length_1;++i){var c=content.charAt(i);if(Encoder.isDigit(c))hasNumeric=!0;else{if(-1===this.getAlphanumericCode(c.charCodeAt(0)))return Mode_1.default.BYTE;hasAlphanumeric=!0}}return hasAlphanumeric?Mode_1.default.ALPHANUMERIC:hasNumeric?Mode_1.default.NUMERIC:Mode_1.default.BYTE},Encoder.isOnlyDoubleByteKanji=function(content){var bytes;try{bytes=StringEncoding_1.default.encode(content,CharacterSetECI_1.default.SJIS)}catch(ignored){return!1}var length=bytes.length;if(length%2!=0)return!1;for(var i=0;i<length;i+=2){var byte1=255&bytes[i];if((byte1<129||byte1>159)&&(byte1<224||byte1>235))return!1}return!0},Encoder.chooseMaskPattern=function(bits,ecLevel,version,matrix){for(var minPenalty=Number.MAX_SAFE_INTEGER,bestMaskPattern=-1,maskPattern=0;maskPattern<QRCode_1.default.NUM_MASK_PATTERNS;maskPattern++){MatrixUtil_1.default.buildMatrix(bits,ecLevel,version,maskPattern,matrix);var penalty=this.calculateMaskPenalty(matrix);penalty<minPenalty&&(minPenalty=penalty,bestMaskPattern=maskPattern)}return bestMaskPattern},Encoder.chooseVersion=function(numInputBits,ecLevel){for(var versionNum=1;versionNum<=40;versionNum++){var version=Version_1.default.getVersionForNumber(versionNum);if(Encoder.willFit(numInputBits,version,ecLevel))return version}throw new WriterException_1.default("Data too big")},Encoder.willFit=function(numInputBits,version,ecLevel){return version.getTotalCodewords()-version.getECBlocksForLevel(ecLevel).getTotalECCodewords()>=(numInputBits+7)/8},Encoder.terminateBits=function(numDataBytes,bits){var capacity=8*numDataBytes;if(bits.getSize()>capacity)throw new WriterException_1.default("data bits cannot fit in the QR Code"+bits.getSize()+" > "+capacity);for(var i=0;i<4&&bits.getSize()<capacity;++i)bits.appendBit(!1);var numBitsInLastByte=7&bits.getSize();if(numBitsInLastByte>0)for(i=numBitsInLastByte;i<8;i++)bits.appendBit(!1);var numPaddingBytes=numDataBytes-bits.getSizeInBytes();for(i=0;i<numPaddingBytes;++i)bits.appendBits(0==(1&i)?236:17,8);if(bits.getSize()!==capacity)throw new WriterException_1.default("Bits size does not equal capacity")},Encoder.getNumDataBytesAndNumECBytesForBlockID=function(numTotalBytes,numDataBytes,numRSBlocks,blockID,numDataBytesInBlock,numECBytesInBlock){if(blockID>=numRSBlocks)throw new WriterException_1.default("Block ID too large");var numRsBlocksInGroup2=numTotalBytes%numRSBlocks,numRsBlocksInGroup1=numRSBlocks-numRsBlocksInGroup2,numTotalBytesInGroup1=Math.floor(numTotalBytes/numRSBlocks),numTotalBytesInGroup2=numTotalBytesInGroup1+1,numDataBytesInGroup1=Math.floor(numDataBytes/numRSBlocks),numDataBytesInGroup2=numDataBytesInGroup1+1,numEcBytesInGroup1=numTotalBytesInGroup1-numDataBytesInGroup1,numEcBytesInGroup2=numTotalBytesInGroup2-numDataBytesInGroup2;if(numEcBytesInGroup1!==numEcBytesInGroup2)throw new WriterException_1.default("EC bytes mismatch");if(numRSBlocks!==numRsBlocksInGroup1+numRsBlocksInGroup2)throw new WriterException_1.default("RS blocks mismatch");if(numTotalBytes!==(numDataBytesInGroup1+numEcBytesInGroup1)*numRsBlocksInGroup1+(numDataBytesInGroup2+numEcBytesInGroup2)*numRsBlocksInGroup2)throw new WriterException_1.default("Total bytes mismatch");blockID<numRsBlocksInGroup1?(numDataBytesInBlock[0]=numDataBytesInGroup1,numECBytesInBlock[0]=numEcBytesInGroup1):(numDataBytesInBlock[0]=numDataBytesInGroup2,numECBytesInBlock[0]=numEcBytesInGroup2)},Encoder.interleaveWithECBytes=function(bits,numTotalBytes,numDataBytes,numRSBlocks){if(bits.getSizeInBytes()!==numDataBytes)throw new WriterException_1.default("Number of bits and data bytes does not match");for(var dataBytesOffset=0,maxNumDataBytes=0,maxNumEcBytes=0,blocks=new Array,i=0;i<numRSBlocks;++i){var numDataBytesInBlock=new Int32Array(1),numEcBytesInBlock=new Int32Array(1);Encoder.getNumDataBytesAndNumECBytesForBlockID(numTotalBytes,numDataBytes,numRSBlocks,i,numDataBytesInBlock,numEcBytesInBlock);var size=numDataBytesInBlock[0],dataBytes=new Uint8Array(size);bits.toBytes(8*dataBytesOffset,dataBytes,0,size);var ecBytes=Encoder.generateECBytes(dataBytes,numEcBytesInBlock[0]);blocks.push(new BlockPair_1.default(dataBytes,ecBytes)),maxNumDataBytes=Math.max(maxNumDataBytes,size),maxNumEcBytes=Math.max(maxNumEcBytes,ecBytes.length),dataBytesOffset+=numDataBytesInBlock[0]}if(numDataBytes!==dataBytesOffset)throw new WriterException_1.default("Data bytes does not match offset");var result=new BitArray_1.default;for(i=0;i<maxNumDataBytes;++i)for(var _i=0,blocks_1=blocks;_i<blocks_1.length;_i++)i<(dataBytes=blocks_1[_i].getDataBytes()).length&&result.appendBits(dataBytes[i],8);for(i=0;i<maxNumEcBytes;++i)for(var _a=0,blocks_2=blocks;_a<blocks_2.length;_a++)i<(ecBytes=blocks_2[_a].getErrorCorrectionBytes()).length&&result.appendBits(ecBytes[i],8);if(numTotalBytes!==result.getSizeInBytes())throw new WriterException_1.default("Interleaving error: "+numTotalBytes+" and "+result.getSizeInBytes()+" differ.");return result},Encoder.generateECBytes=function(dataBytes,numEcBytesInBlock){for(var numDataBytes=dataBytes.length,toEncode=new Int32Array(numDataBytes+numEcBytesInBlock),i=0;i<numDataBytes;i++)toEncode[i]=255&dataBytes[i];new ReedSolomonEncoder_1.default(GenericGF_1.default.QR_CODE_FIELD_256).encode(toEncode,numEcBytesInBlock);var ecBytes=new Uint8Array(numEcBytesInBlock);for(i=0;i<numEcBytesInBlock;i++)ecBytes[i]=toEncode[numDataBytes+i];return ecBytes},Encoder.appendModeInfo=function(mode,bits){bits.appendBits(mode.getBits(),4)},Encoder.appendLengthInfo=function(numLetters,version,mode,bits){var numBits=mode.getCharacterCountBits(version);if(numLetters>=1<<numBits)throw new WriterException_1.default(numLetters+" is bigger than "+((1<<numBits)-1));bits.appendBits(numLetters,numBits)},Encoder.appendBytes=function(content,mode,bits,encoding){switch(mode){case Mode_1.default.NUMERIC:Encoder.appendNumericBytes(content,bits);break;case Mode_1.default.ALPHANUMERIC:Encoder.appendAlphanumericBytes(content,bits);break;case Mode_1.default.BYTE:Encoder.append8BitBytes(content,bits,encoding);break;case Mode_1.default.KANJI:Encoder.appendKanjiBytes(content,bits);break;default:throw new WriterException_1.default("Invalid mode: "+mode)}},Encoder.getDigit=function(singleCharacter){return singleCharacter.charCodeAt(0)-48},Encoder.isDigit=function(singleCharacter){var cn=Encoder.getDigit(singleCharacter);return cn>=0&&cn<=9},Encoder.appendNumericBytes=function(content,bits){for(var length=content.length,i=0;i<length;){var num1=Encoder.getDigit(content.charAt(i));if(i+2<length){var num2=Encoder.getDigit(content.charAt(i+1)),num3=Encoder.getDigit(content.charAt(i+2));bits.appendBits(100*num1+10*num2+num3,10),i+=3}else i+1<length?(num2=Encoder.getDigit(content.charAt(i+1)),bits.appendBits(10*num1+num2,7),i+=2):(bits.appendBits(num1,4),i++)}},Encoder.appendAlphanumericBytes=function(content,bits){for(var length=content.length,i=0;i<length;){var code1=Encoder.getAlphanumericCode(content.charCodeAt(i));if(-1===code1)throw new WriterException_1.default;if(i+1<length){var code2=Encoder.getAlphanumericCode(content.charCodeAt(i+1));if(-1===code2)throw new WriterException_1.default;bits.appendBits(45*code1+code2,11),i+=2}else bits.appendBits(code1,6),i++}},Encoder.append8BitBytes=function(content,bits,encoding){var bytes;try{bytes=StringEncoding_1.default.encode(content,encoding)}catch(uee){throw new WriterException_1.default(uee)}for(var i=0,length_2=bytes.length;i!==length_2;i++)bits.appendBits(bytes[i],8)},Encoder.appendKanjiBytes=function(content,bits){var bytes;try{bytes=StringEncoding_1.default.encode(content,CharacterSetECI_1.default.SJIS)}catch(uee){throw new WriterException_1.default(uee)}for(var length=bytes.length,i=0;i<length;i+=2){var code=(255&bytes[i])<<8&4294967295|255&bytes[i+1],subtracted=-1;if(code>=33088&&code<=40956?subtracted=code-33088:code>=57408&&code<=60351&&(subtracted=code-49472),-1===subtracted)throw new WriterException_1.default("Invalid byte sequence");bits.appendBits(192*(subtracted>>8)+(255&subtracted),13)}},Encoder.appendECI=function(eci,bits){bits.appendBits(Mode_1.default.ECI.getBits(),4),bits.appendBits(eci.getValue(),8)},Encoder.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Encoder.DEFAULT_BYTE_MODE_ENCODING=CharacterSetECI_1.default.UTF8.getName(),Encoder}();exports.default=Encoder},Jma6:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function ChecksumException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ChecksumException,_super),ChecksumException}(Exception_1.default)},K3mO:function(module,exports,__webpack_require__){var C,C_lib,Base,WordArray,C_algo,EvpKDF,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("3y9D"),__webpack_require__("WYAk"),WordArray=(C_lib=(C=CryptoJS).lib).WordArray,EvpKDF=(C_algo=C.algo).EvpKDF=(Base=C_lib.Base).extend({cfg:Base.extend({keySize:4,hasher:C_algo.MD5,iterations:1}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){for(var cfg=this.cfg,hasher=cfg.hasher.create(),derivedKey=WordArray.create(),derivedKeyWords=derivedKey.words,keySize=cfg.keySize,iterations=cfg.iterations;derivedKeyWords.length<keySize;){block&&hasher.update(block);var block=hasher.update(password).finalize(salt);hasher.reset();for(var i=1;i<iterations;i++)block=hasher.finalize(block),hasher.reset();derivedKey.concat(block)}return derivedKey.sigBytes=4*keySize,derivedKey}}),C.EvpKDF=function(password,salt,cfg){return EvpKDF.create(cfg).compute(password,salt)},CryptoJS.EvpKDF)},KmYQ:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.pad.ZeroPadding={pad:function(data,blockSize){var blockSizeBytes=4*blockSize;data.clamp(),data.sigBytes+=blockSizeBytes-(data.sigBytes%blockSizeBytes||blockSizeBytes)},unpad:function(data){for(var dataWords=data.words,i=data.sigBytes-1;!(dataWords[i>>>2]>>>24-i%4*8&255);)i--;data.sigBytes=i+1}},CryptoJS.pad.ZeroPadding)},LQhb:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),ChecksumException_1=__webpack_require__("Jma6"),FormatException_1=__webpack_require__("dGMj"),NotFoundException_1=__webpack_require__("xhJ4"),OneDReader_1=__webpack_require__("CFkN"),Result_1=__webpack_require__("nEnc"),ResultPoint_1=__webpack_require__("i5vq");exports.default=function(_super){function Code39Reader(usingCheckDigit,extendedMode){void 0===usingCheckDigit&&(usingCheckDigit=!1),void 0===extendedMode&&(extendedMode=!1);var _this=_super.call(this)||this;return _this.usingCheckDigit=usingCheckDigit,_this.extendedMode=extendedMode,_this.decodeRowResult="",_this.counters=new Array(9),_this}return __extends(Code39Reader,_super),Code39Reader.prototype.decodeRow=function(rowNumber,row,hints){var theCounters=this.counters;theCounters.fill(0),this.decodeRowResult="";var decodedChar,lastStart,resultString,start=Code39Reader.findAsteriskPattern(row,theCounters),nextStart=row.getNextSet(start[1]),end=row.getSize();do{Code39Reader.recordPattern(row,nextStart,theCounters);var pattern=Code39Reader.toNarrowWidePattern(theCounters);if(pattern<0)throw new NotFoundException_1.default;decodedChar=Code39Reader.patternToChar(pattern),this.decodeRowResult+=decodedChar,lastStart=nextStart;for(var _i=0,theCounters_1=theCounters;_i<theCounters_1.length;_i++)nextStart+=theCounters_1[_i];nextStart=row.getNextSet(nextStart)}while("*"!==decodedChar);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);for(var lastPatternSize=0,_a=0,theCounters_2=theCounters;_a<theCounters_2.length;_a++)lastPatternSize+=theCounters_2[_a];if(nextStart!==end&&2*(nextStart-lastStart-lastPatternSize)<lastPatternSize)throw new NotFoundException_1.default;if(this.usingCheckDigit){for(var max=this.decodeRowResult.length-1,total=0,i=0;i<max;i++)total+=Code39Reader.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(i));if(this.decodeRowResult.charAt(max)!==Code39Reader.ALPHABET_STRING.charAt(total%43))throw new ChecksumException_1.default;this.decodeRowResult=this.decodeRowResult.substring(0,max)}if(0===this.decodeRowResult.length)throw new NotFoundException_1.default;resultString=this.extendedMode?Code39Reader.decodeExtended(this.decodeRowResult):this.decodeRowResult;var right=lastStart+lastPatternSize/2;return new Result_1.default(resultString,null,0,[new ResultPoint_1.default((start[1]+start[0])/2,rowNumber),new ResultPoint_1.default(right,rowNumber)],BarcodeFormat_1.default.CODE_39,(new Date).getTime())},Code39Reader.findAsteriskPattern=function(row,counters){for(var width=row.getSize(),rowOffset=row.getNextSet(0),counterPosition=0,patternStart=rowOffset,isWhite=!1,patternLength=counters.length,i=rowOffset;i<width;i++)if(row.get(i)!==isWhite)counters[counterPosition]++;else{if(counterPosition===patternLength-1){if(this.toNarrowWidePattern(counters)===Code39Reader.ASTERISK_ENCODING&&row.isRange(Math.max(0,patternStart-Math.floor((i-patternStart)/2)),patternStart,!1))return[patternStart,i];patternStart+=counters[0]+counters[1],counters.copyWithin(0,2,2+counterPosition-1),counters[counterPosition-1]=0,counters[counterPosition]=0,counterPosition--}else counterPosition++;counters[counterPosition]=1,isWhite=!isWhite}throw new NotFoundException_1.default},Code39Reader.toNarrowWidePattern=function(counters){var wideCounters,numCounters=counters.length,maxNarrowCounter=0;do{for(var minCounter=2147483647,_i=0,counters_1=counters;_i<counters_1.length;_i++)(counter=counters_1[_i])<minCounter&&counter>maxNarrowCounter&&(minCounter=counter);maxNarrowCounter=minCounter,wideCounters=0;for(var totalWideCountersWidth=0,pattern=0,i=0;i<numCounters;i++)(counter=counters[i])>maxNarrowCounter&&(pattern|=1<<numCounters-1-i,wideCounters++,totalWideCountersWidth+=counter);if(3===wideCounters){for(i=0;i<numCounters&&wideCounters>0;i++){var counter;if((counter=counters[i])>maxNarrowCounter&&(wideCounters--,2*counter>=totalWideCountersWidth))return-1}return pattern}}while(wideCounters>3);return-1},Code39Reader.patternToChar=function(pattern){for(var i=0;i<Code39Reader.CHARACTER_ENCODINGS.length;i++)if(Code39Reader.CHARACTER_ENCODINGS[i]===pattern)return Code39Reader.ALPHABET_STRING.charAt(i);if(pattern===Code39Reader.ASTERISK_ENCODING)return"*";throw new NotFoundException_1.default},Code39Reader.decodeExtended=function(encoded){for(var length=encoded.length,decoded="",i=0;i<length;i++){var c=encoded.charAt(i);if("+"===c||"$"===c||"%"===c||"/"===c){var next=encoded.charAt(i+1),decodedChar="\0";switch(c){case"+":if(!(next>="A"&&next<="Z"))throw new FormatException_1.default;decodedChar=String.fromCharCode(next.charCodeAt(0)+32);break;case"$":if(!(next>="A"&&next<="Z"))throw new FormatException_1.default;decodedChar=String.fromCharCode(next.charCodeAt(0)-64);break;case"%":if(next>="A"&&next<="E")decodedChar=String.fromCharCode(next.charCodeAt(0)-38);else if(next>="F"&&next<="J")decodedChar=String.fromCharCode(next.charCodeAt(0)-11);else if(next>="K"&&next<="O")decodedChar=String.fromCharCode(next.charCodeAt(0)+16);else if(next>="P"&&next<="T")decodedChar=String.fromCharCode(next.charCodeAt(0)+43);else if("U"===next)decodedChar="\0";else if("V"===next)decodedChar="@";else if("W"===next)decodedChar="`";else{if("X"!==next&&"Y"!==next&&"Z"!==next)throw new FormatException_1.default;decodedChar=""}break;case"/":if(next>="A"&&next<="O")decodedChar=String.fromCharCode(next.charCodeAt(0)-32);else{if("Z"!==next)throw new FormatException_1.default;decodedChar=":"}}decoded+=decodedChar,i++}else decoded+=c}return decoded},Code39Reader.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Code39Reader.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Code39Reader.ASTERISK_ENCODING=148,Code39Reader}(OneDReader_1.default)},LYY4:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function ArgumentException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ArgumentException,_super),ArgumentException}(Exception_1.default)},LYp6:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitMatrix_1=__webpack_require__("/fss"),GenericGF_1=__webpack_require__("al1V"),ReedSolomonDecoder_1=__webpack_require__("nVjH"),BitMatrixParser_1=__webpack_require__("RwQb"),QRCodeDecoderMetaData_1=__webpack_require__("PPHm"),DataBlock_1=__webpack_require__("EdSt"),DecodedBitStreamParser_1=__webpack_require__("XFMn"),ChecksumException_1=__webpack_require__("Jma6");exports.default=function(){function Decoder(){this.rsDecoder=new ReedSolomonDecoder_1.default(GenericGF_1.default.QR_CODE_FIELD_256)}return Decoder.prototype.decodeBooleanArray=function(image,hints){return this.decodeBitMatrix(BitMatrix_1.default.parseFromBooleanArray(image),hints)},Decoder.prototype.decodeBitMatrix=function(bits,hints){var parser=new BitMatrixParser_1.default(bits),ex=null;try{return this.decodeBitMatrixParser(parser,hints)}catch(e){ex=e}try{parser.remask(),parser.setMirror(!0),parser.readVersion(),parser.readFormatInformation(),parser.mirror();var result=this.decodeBitMatrixParser(parser,hints);return result.setOther(new QRCodeDecoderMetaData_1.default(!0)),result}catch(e){if(null!==ex)throw ex;throw e}},Decoder.prototype.decodeBitMatrixParser=function(parser,hints){for(var version=parser.readVersion(),ecLevel=parser.readFormatInformation().getErrorCorrectionLevel(),codewords=parser.readCodewords(),dataBlocks=DataBlock_1.default.getDataBlocks(codewords,version,ecLevel),totalBytes=0,_i=0,dataBlocks_1=dataBlocks;_i<dataBlocks_1.length;_i++)totalBytes+=(dataBlock=dataBlocks_1[_i]).getNumDataCodewords();for(var resultBytes=new Uint8Array(totalBytes),resultOffset=0,_a=0,dataBlocks_2=dataBlocks;_a<dataBlocks_2.length;_a++){var dataBlock,codewordBytes=(dataBlock=dataBlocks_2[_a]).getCodewords(),numDataCodewords=dataBlock.getNumDataCodewords();this.correctErrors(codewordBytes,numDataCodewords);for(var i=0;i<numDataCodewords;i++)resultBytes[resultOffset++]=codewordBytes[i]}return DecodedBitStreamParser_1.default.decode(resultBytes,version,ecLevel,hints)},Decoder.prototype.correctErrors=function(codewordBytes,numDataCodewords){var codewordsInts=new Int32Array(codewordBytes);try{this.rsDecoder.decode(codewordsInts,codewordBytes.length-numDataCodewords)}catch(ignored){throw new ChecksumException_1.default}for(var i=0;i<numDataCodewords;i++)codewordBytes[i]=codewordsInts[i]},Decoder}()},LvDl:function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){var FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",wrapFlags=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:"+rsCombo+"|"+rsFitz+")?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+"(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*",rsEmoji="(?:"+["[\\u2700-\\u27bf]",rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,"[\\ud800-\\udfff]"].join("|")+")",reApos=RegExp("['’]","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeModule&&freeModule.require&&freeModule.require("util").types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!(null==array||!array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,(function(value,key,collection){if(predicate(value,key,collection))return result=key,!1})),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!=value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NaN}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,(function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)})),accumulator}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}var deburrLetter=basePropertyOf({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),escapeHtmlChar=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function hasUnicode(string){return reHasUnicode.test(string)}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=[value,value]})),result}function stringSize(string){return hasUnicode(string)?function(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?function(string){return string.match(reUnicode)||[]}(string):function(string){return string.split("")}(string)}var unescapeHtmlChar=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_=function runInContext(context){var uid,Array=(context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps))).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:void 0,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,symIterator=Symbol?Symbol.iterator:void 0,symToStringTag=Symbol?Symbol.toStringTag:void 0,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=void 0}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:void 0}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(void 0!==value&&!eq(object[key],value)||void 0===value&&!(key in object))&&baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,(function(value,key,collection){setter(accumulator,value,iteratee(value),collection)})),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?void 0:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number==number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?function(source,object){return copyObject(source,getSymbolsIn(source),object)}(value,function(object,source){return object&&copyObject(source,keysIn(source),object)}(result,value)):function(source,object){return copyObject(source,getSymbols(source),object)}(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case"[object Uint8ClampedArray]":case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return new Ctor;case symbolTag:return symbolValueOf?Object(symbolValueOf.call(object)):{}}}(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var props=isArr?void 0:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],value=object[key];if(void 0===value&&!(key in object)||!(0,source[key])(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout((function(){func.apply(void 0,args)}),wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=200&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},(lodash.prototype=baseLodash.prototype).constructor=lodash,(LodashWrapper.prototype=baseCreate(baseLodash.prototype)).constructor=LodashWrapper,(LazyWrapper.prototype=baseCreate(baseLodash.prototype)).constructor=LazyWrapper,Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,0))},ListCache.prototype.get=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function(value){return this.__data__.has(value)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function(key){return this.__data__.get(key)},Stack.prototype.has=function(key){return this.__data__.has(key)},Stack.prototype.set=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,(function(value,index,collection){predicate(value,index,collection)&&result.push(value)})),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,(function(key){return isFunction(object[key])}))}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}(value):function(value){return nativeObjectToString.call(value)}(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):void 0}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInvoke(object,path,args){var func=null==(object=parent(object,path=castPath(path,object)))?object:object[toKey(last(path))];return null==func?void 0:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:if(convert||(convert=setToArray),object.size!=other.size&&!(1&bitmask))return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack))}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||(func=value,maskSrcKey&&maskSrcKey in func))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value));var func}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,(function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))!function(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}}),keysIn)}function baseNth(array,n){var length=array.length;if(length)return isIndex(n+=n<0?length:0,length)?array[n]:void 0}function baseOrderBy(collection,iteratees,orders){var index=-1;return iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee())),function(array,comparer){var length=array.length;for(array.sort((function(object,other){return function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}(object,other,orders)}));length--;)array[length]=array[length].value;return array}(baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}})))}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRepeat(string,n){var result="";if(!string||n<1||n>9007199254740991)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,(function(value,index,collection){return!(result=predicate(value,index,collection))})),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value==value&&high<=2147483647){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=null==array?0:array.length,valIsNaN=value!=value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=void 0===value;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=void 0!==computed,othIsNull=null===computed,othIsReflexive=computed==computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,4294967294)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NaN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return null==(object=parent(object,path=castPath(path,object)))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,(function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))}),result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;)assignFunc(result,props[index],index<valsLength?values[index]:void 0);return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCaseFirst(methodName){return function(string){var strSymbols=hasUnicode(string=toString(string))?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}function createFlow(fromRight){return flatRest((function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):void 0;wrapper=data&&isLaziable(data[0])&&424==data[1]&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}))}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=128&bitmask,isBind=1&bitmask,isBindKey=2&bitmask,isCurried=24&bitmask,isFlip=512&bitmask,Ctor=isBindKey?void 0:createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}function createInverter(setter,toIteratee){return function(object,iteratee){return function(object,setter,iteratee,accumulator){return baseForOwn(object,(function(value,key,object){setter(accumulator,iteratee(value),key,object)})),accumulator}(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(void 0===value&&void 0===other)return defaultValue;if(void 0!==value&&(result=value),void 0!==other){if(void 0===result)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest((function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest((function(args){var thisArg=this;return arrayFunc(iteratees,(function(iteratee){return apply(iteratee,thisArg,args)}))}))}))}function createPadding(length,chars){var charsLength=(chars=void 0===chars?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),function(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=void 0===step?start<end?1:-1:toFinite(step),fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=8&bitmask;bitmask|=isCurry?32:64,4&(bitmask&=~(isCurry?64:32))||(bitmask&=-4);var newData=[func,bitmask,thisArg,isCurry?partials:void 0,isCurry?holders:void 0,isCurry?void 0:partials,isCurry?void 0:holders,argPos,ary,arity],result=wrapFunc.apply(void 0,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),(precision=null==precision?0:nativeMin(toInteger(precision),292))&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e");return+((pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"))[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):function(object,props){return arrayMap(props,(function(key){return[key,object[key]]}))}(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=2&bitmask;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=-97,partials=holders=void 0),ary=void 0===ary?ary:nativeMax(toInteger(ary),0),arity=void 0===arity?arity:toInteger(arity),length-=holders?holders.length:0,64&bitmask){var partialsRight=partials,holdersRight=holders;partials=holders=void 0}var data=isBindKey?void 0:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask;if(!(newBitmask<131||128==srcBitmask&&8==bitmask||128==srcBitmask&&256==bitmask&&data[7].length<=source[8]||384==srcBitmask&&source[7].length<=source[8]&&8==bitmask))return data;1&srcBitmask&&(data[2]=source[2],newBitmask|=1&bitmask?0:4);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}(value=source[5])&&(data[5]=(partials=data[5])?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]),(value=source[7])&&(data[7]=value),128&srcBitmask&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask}(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=void 0===newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&24&bitmask&&(bitmask&=-25),bitmask&&1!=bitmask)result=8==bitmask||16==bitmask?function(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);if((length-=holders.length)<arity)return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,void 0,args,holders,void 0,void 0,arity-length);var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}}(func,bitmask,arity):32!=bitmask&&33!=bitmask||holders.length?createHybrid.apply(void 0,newData):function(func,bitmask,thisArg,partials){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}(func,bitmask,thisArg,partials);else var result=function(func,bitmask,thisArg){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}}(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return void 0===objValue||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,void 0,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?void 0:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,void 0,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var value,type,data=map.__data__;return("string"==(type=typeof(value=key))||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=function(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&object[key]===srcValue&&(void 0!==srcValue||key in Object(object))}}function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:void 0}return array}function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,function(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}(source,function(details,bitmask){return arrayEach(wrapFlags,(function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)})),details.sort()}(function(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=void 0===size?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}var result,cache,stringToPath=(result=memoize((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}),(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache,result);function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}var difference=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]})),differenceBy=baseRest((function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]})),differenceWith=baseRest((function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),void 0,comparator):[]}));function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return void 0!==fromIndex&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return null!=array&&array.length?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:void 0}var intersection=baseRest((function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]})),intersectionBy=baseRest((function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=void 0:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]})),intersectionWith=baseRest((function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return(comparator="function"==typeof comparator?comparator:void 0)&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,void 0,comparator):[]}));function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest((function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,(function(index){return isIndex(index,length)?+index:index})).sort(compareAscending)),result}));function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest((function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))})),unionBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=void 0),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))})),unionWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:void 0,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),void 0,comparator)}));function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,(function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0})),baseTimes(length,(function(index){return arrayMap(array,baseProperty(index))}))}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,(function(group){return apply(iteratee,void 0,group)}))}var without=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]})),xor=baseRest((function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))})),xorBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=void 0),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))})),xorWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:void 0,baseXor(arrayFilter(arrays,isArrayLikeObject),void 0,comparator)})),zip=baseRest(unzip),zipWith=baseRest((function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:void 0;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):void 0,unzipWith(arrays,iteratee)}));function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest((function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?((value=value.slice(start,+start+(length?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:void 0}),new LodashWrapper(value,this.__chain__).thru((function(array){return length&&!array.length&&array.push(void 0),array}))):this.thru(interceptor)})),countBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)})),find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])})),invokeMap=baseRest((function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)})),result})),keyBy=createAggregator((function(result,value,key){baseAssignValue(result,key,value)}));function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}var partition=createAggregator((function(result,value,key){result[key?0:1].push(value)}),(function(){return[[],[]]})),sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])})),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){return n=guard?void 0:n,createWrap(func,128,void 0,void 0,void 0,void 0,n=func&&null==n?func.length:n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=void 0),result}}var bind=baseRest((function(func,thisArg,partials){var bitmask=1;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=32}return createWrap(func,bitmask,thisArg,partials,holders)})),bindKey=baseRest((function(object,key,partials){var bitmask=3;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=32}return createWrap(key,bitmask,object,partials,holders)}));function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}var defer=baseRest((function(func,args){return baseDelay(func,1,args)})),delay=baseRest((function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)}));function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}memoize.Cache=MapCache;var overArgs=castRest((function(func,transforms){var funcsLength=(transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()))).length;return baseRest((function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)}))})),partial=baseRest((function(func,partials){return createWrap(func,32,void 0,partials,replaceHolders(partials,getHolder(partial)))})),partialRight=baseRest((function(func,partials){return createWrap(func,64,void 0,partials,replaceHolders(partials,getHolder(partialRight)))})),rearg=flatRest((function(func,indexes){return createWrap(func,256,void 0,void 0,void 0,indexes)}));function eq(value,other){return value===other||value!=value&&other!=other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation((function(value,other){return value>=other})),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):function(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||"[object DOMException]"==tag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag},isSet=nodeIsSet?baseUnary(nodeIsSet):function(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]},lt=createRelationalOperation(baseLt),lte=createRelationalOperation((function(value,other){return value<=other}));function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return function(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){return value?(value=toNumber(value))===1/0||value===-1/0?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,4294967295):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner((function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])})),assignIn=createAssigner((function(object,source){copyObject(source,keysIn(source),object)})),assignInWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)})),assignWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)})),at=flatRest(baseAt),defaults=baseRest((function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:void 0;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(void 0===value||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object})),defaultsDeep=baseRest((function(args){return args.push(void 0,customDefaultsMerge),apply(mergeWith,void 0,args)}));function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key}),constant(identity)),invertBy=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]}),getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):function(object){if(!isObject(object))return function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}(object)}var merge=createAssigner((function(object,source,srcIndex){baseMerge(object,source,srcIndex)})),mergeWith=createAssigner((function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)})),omit=flatRest((function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,(function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path})),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result})),pick=flatRest((function(object,paths){return null==object?{}:function(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}(object,paths)}));function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=getIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder((function(result,word,index){return result+(index?"-":"")+word.toLowerCase()})),lowerCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toLowerCase()})),lowerFirst=createCaseFirst("toLowerCase"),snakeCase=createCompounder((function(result,word,index){return result+(index?"_":"")+word.toLowerCase()})),startCase=createCompounder((function(result,word,index){return result+(index?" ":"")+upperFirst(word)})),upperCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toUpperCase()})),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?function(string){return reHasUnicodeWord.test(string)}(string)?function(string){return string.match(reUnicodeWord)||[]}(string):function(string){return string.match(reAsciiWord)||[]}(string):string.match(pattern)||[]}var attempt=baseRest((function(func,args){try{return apply(func,void 0,args)}catch(e){return isError(e)?e:new Error(e)}})),bindAll=flatRest((function(object,methodNames){return arrayEach(methodNames,(function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))})),object}));function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,1))}var method=baseRest((function(path,args){return function(object){return baseInvoke(object,path,args)}})),methodOf=baseRest((function(object,args){return function(path){return baseInvoke(object,path,args)}}));function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,(function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})})),object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):function(path){return function(object){return baseGet(object,path)}}(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var source,add=createMathOperation((function(augend,addend){return augend+addend}),0),ceil=createRound("ceil"),divide=createMathOperation((function(dividend,divisor){return dividend/divisor}),1),floor=createRound("floor"),multiply=createMathOperation((function(multiplier,multiplicand){return multiplier*multiplicand}),1),round=createRound("round"),subtract=createMathOperation((function(minuend,subtrahend){return minuend-subtrahend}),0);return lodash.after=function(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=function(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]},lodash.chain=chain,lodash.chunk=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):void 0===size)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result},lodash.compact=function(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result},lodash.concat=function(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))},lodash.cond=function(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,(function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]})):[],baseRest((function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}}))},lodash.conforms=function(source){return function(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}(baseClone(source,1))},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)},lodash.curry=function curry(func,arity,guard){var result=createWrap(func,8,void 0,void 0,void 0,void 0,void 0,arity=guard?void 0:arity);return result.placeholder=curry.placeholder,result},lodash.curryRight=function curryRight(func,arity,guard){var result=createWrap(func,16,void 0,void 0,void 0,void 0,void 0,arity=guard?void 0:arity);return result.placeholder=curryRight.placeholder,result},lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=guard||void 0===n?1:toInteger(n))<0?0:n,length):[]},lodash.dropRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,0,(n=length-(n=guard||void 0===n?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]},lodash.dropWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]},lodash.fill=function(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function(array,value,start,end){var length=array.length;for((start=toInteger(start))<0&&(start=-start>length?0:length+start),(end=void 0===end||end>length?length:toInteger(end))<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))},lodash.flatMap=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)},lodash.flatMapDeep=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1/0)},lodash.flatMapDepth=function(collection,iteratee,depth){return depth=void 0===depth?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)},lodash.flatten=flatten,lodash.flattenDeep=function(array){return null!=array&&array.length?baseFlatten(array,1/0):[]},lodash.flattenDepth=function(array,depth){return null!=array&&array.length?baseFlatten(array,depth=void 0===depth?1:toInteger(depth)):[]},lodash.flip=function(func){return createWrap(func,512)},lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=function(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result},lodash.functions=function(object){return null==object?[]:baseFunctions(object,keys(object))},lodash.functionsIn=function(object){return null==object?[]:baseFunctions(object,keysIn(object))},lodash.groupBy=groupBy,lodash.initial=function(array){return null!=array&&array.length?baseSlice(array,0,-1):[]},lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)})),result},lodash.mapValues=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result},lodash.matches=function(source){return baseMatches(baseClone(source,1))},lodash.matchesProperty=function(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,1))},lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function(n){return n=toInteger(n),baseRest((function(args){return baseNth(args,n)}))},lodash.omit=omit,lodash.omitBy=function(object,predicate){return pickBy(object,negate(getIteratee(predicate)))},lodash.once=function(func){return before(2,func)},lodash.orderBy=function(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?void 0:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))},lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function(object){return function(path){return null==object?void 0:baseGet(object,path)}},lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=function(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array},lodash.pullAllWith=function(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,void 0,comparator):array},lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))},lodash.remove=function(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return baseRest(func,start=void 0===start?start:toInteger(start))},lodash.reverse=reverse,lodash.sampleSize=function(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):void 0===n)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)},lodash.set=function(object,path,value){return null==object?object:baseSet(object,path,value)},lodash.setWith=function(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:void 0,null==object?object:baseSet(object,path,value,customizer)},lodash.shuffle=function(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)},lodash.slice=function(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=void 0===end?length:toInteger(end)),baseSlice(array,start,end)):[]},lodash.sortBy=sortBy,lodash.sortedUniq=function(array){return array&&array.length?baseSortedUniq(array):[]},lodash.sortedUniqBy=function(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]},lodash.split=function(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=void 0),(limit=void 0===limit?4294967295:limit>>>0)?(string=toString(string))&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit):[]},lodash.spread=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest((function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)}))},lodash.tail=function(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]},lodash.take=function(array,n,guard){return array&&array.length?baseSlice(array,0,(n=guard||void 0===n?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=length-(n=guard||void 0===n?1:toInteger(n)))<0?0:n,length):[]},lodash.takeRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]},lodash.takeWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]},lodash.tap=function(value,interceptor){return interceptor(value),value},lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=function(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))},lodash.toPlainObject=toPlainObject,lodash.transform=function(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)})),accumulator},lodash.unary=function(func){return ary(func,1)},lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=function(array){return array&&array.length?baseUniq(array):[]},lodash.uniqBy=function(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]},lodash.uniqWith=function(array,comparator){return comparator="function"==typeof comparator?comparator:void 0,array&&array.length?baseUniq(array,void 0,comparator):[]},lodash.unset=function(object,path){return null==object||baseUnset(object,path)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))},lodash.updateWith=function(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:void 0,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)},lodash.values=values,lodash.valuesIn=function(object){return null==object?[]:baseValues(object,keysIn(object))},lodash.without=without,lodash.words=words,lodash.wrap=function(value,wrapper){return partial(castFunction(wrapper),value)},lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=function(props,values){return baseZipObject(props||[],values||[],assignValue)},lodash.zipObjectDeep=function(props,values){return baseZipObject(props||[],values||[],baseSet)},lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=function(number,lower,upper){return void 0===upper&&(upper=lower,lower=void 0),void 0!==upper&&(upper=(upper=toNumber(upper))==upper?upper:0),void 0!==lower&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)},lodash.clone=function(value){return baseClone(value,4)},lodash.cloneDeep=function(value){return baseClone(value,5)},lodash.cloneDeepWith=function(value,customizer){return baseClone(value,5,customizer="function"==typeof customizer?customizer:void 0)},lodash.cloneWith=function(value,customizer){return baseClone(value,4,customizer="function"==typeof customizer?customizer:void 0)},lodash.conformsTo=function(object,source){return null==source||baseConformsTo(object,source,keys(source))},lodash.deburr=deburr,lodash.defaultTo=function(value,defaultValue){return null==value||value!=value?defaultValue:value},lodash.divide=divide,lodash.endsWith=function(string,target,position){string=toString(string),target=baseToString(target);var length=string.length,end=position=void 0===position?length:baseClamp(toInteger(position),0,length);return(position-=target.length)>=0&&string.slice(position,end)==target},lodash.eq=eq,lodash.escape=function(string){return(string=toString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function(string){return(string=toString(string))&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string},lodash.every=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,getIteratee(predicate,3))},lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)},lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)},lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)},lodash.forInRight=function(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)},lodash.forOwn=function(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))},lodash.forOwnRight=function(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))},lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=function(object,path){return null!=object&&hasPath(object,path,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1},lodash.indexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)},lodash.inRange=function(number,start,end){return start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),function(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}(number=toNumber(number),start,end)},lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag},lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=function(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)},lodash.isEmpty=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0},lodash.isEqual=function(value,other){return baseIsEqual(value,other)},lodash.isEqualWith=function(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:void 0)?customizer(value,other):void 0;return void 0===result?baseIsEqual(value,other,void 0,customizer):!!result},lodash.isError=isError,lodash.isFinite=function(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=function(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))},lodash.isMatchWith=function(object,source,customizer){return customizer="function"==typeof customizer?customizer:void 0,baseIsMatch(object,source,getMatchData(source),customizer)},lodash.isNaN=function(value){return isNumber(value)&&value!=+value},lodash.isNative=function(value){if(isMaskable(value))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(value)},lodash.isNil=function(value){return null==value},lodash.isNull=function(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=function(value){return isInteger(value)&&value>=-9007199254740991&&value<=9007199254740991},lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function(value){return void 0===value},lodash.isWeakMap=function(value){return isObjectLike(value)&&getTag(value)==weakMapTag},lodash.isWeakSet=function(value){return isObjectLike(value)&&"[object WeakSet]"==baseGetTag(value)},lodash.join=function(array,separator){return null==array?"":nativeJoin.call(array,separator)},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return void 0!==fromIndex&&(index=(index=toInteger(fromIndex))<0?nativeMax(length+index,0):nativeMin(index,length-1)),value==value?function(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)},lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=function(array){return array&&array.length?baseExtremum(array,identity,baseGt):void 0},lodash.maxBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):void 0},lodash.mean=function(array){return baseMean(array,identity)},lodash.meanBy=function(array,iteratee){return baseMean(array,getIteratee(iteratee,2))},lodash.min=function(array){return array&&array.length?baseExtremum(array,identity,baseLt):void 0},lodash.minBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):void 0},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function(){return{}},lodash.stubString=function(){return""},lodash.stubTrue=function(){return!0},lodash.multiply=multiply,lodash.nth=function(array,n){return array&&array.length?baseNth(array,toInteger(n)):void 0},lodash.noConflict=function(){return root._===this&&(root._=oldDash),this},lodash.noop=noop,lodash.now=now,lodash.pad=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)},lodash.padEnd=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string},lodash.padStart=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string},lodash.parseInt=function(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)},lodash.random=function(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=void 0),void 0===floating&&("boolean"==typeof upper?(floating=upper,upper=void 0):"boolean"==typeof lower&&(floating=lower,lower=void 0)),void 0===lower&&void 0===upper?(lower=0,upper=1):(lower=toFinite(lower),void 0===upper?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)},lodash.reduce=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)},lodash.reduceRight=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)},lodash.repeat=function(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):void 0===n)?1:toInteger(n),baseRepeat(toString(string),n)},lodash.replace=function(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])},lodash.result=function(object,path,defaultValue){var index=-1,length=(path=castPath(path,object)).length;for(length||(length=1,object=void 0);++index<length;){var value=null==object?void 0:object[toKey(path[index])];void 0===value&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object},lodash.round=round,lodash.runInContext=runInContext,lodash.sample=function(collection){return(isArray(collection)?arraySample:baseSample)(collection)},lodash.size=function(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length},lodash.snakeCase=snakeCase,lodash.some=function(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,getIteratee(predicate,3))},lodash.sortedIndex=function(array,value){return baseSortedIndex(array,value)},lodash.sortedIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))},lodash.sortedIndexOf=function(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1},lodash.sortedLastIndex=function(array,value){return baseSortedIndex(array,value,!0)},lodash.sortedLastIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)},lodash.sortedLastIndexOf=function(array,value){if(null!=array&&array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1},lodash.startCase=startCase,lodash.startsWith=function(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target},lodash.subtract=subtract,lodash.sum=function(array){return array&&array.length?baseSum(array,identity):0},lodash.sumBy=function(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0},lodash.template=function(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=void 0),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,(function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match})),source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt((function(){return Function(importsKeys,sourceURL+"return "+source).apply(void 0,importsValues)}));if(result.source=source,isError(result))throw result;return result},lodash.times=function(n,iteratee){if((n=toInteger(n))<1||n>9007199254740991)return[];var index=4294967295,length=nativeMin(n,4294967295);n-=4294967295;for(var result=baseTimes(length,iteratee=getIteratee(iteratee));++index<n;)iteratee(index);return result},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function(value){return toString(value).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function(value){return value?baseClamp(toInteger(value),-9007199254740991,9007199254740991):0===value?value:0},lodash.toString=toString,lodash.toUpper=function(value){return toString(value).toUpperCase()},lodash.trim=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")},lodash.trimEnd=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")},lodash.trimStart=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")},lodash.truncate=function(string,options){var length=30,omission="...";if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}var strLength=(string=toString(string)).length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(void 0===separator)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,void 0===newEnd?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function(string){return(string=toString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function(prefix){var id=++idCounter;return toString(prefix)+id},lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(source={},baseForOwn(lodash,(function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)})),source),{chain:!1}),lodash.VERSION="4.17.15",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(methodName){lodash[methodName].placeholder=lodash})),arrayEach(["drop","take"],(function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=void 0===n?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,4294967295),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}})),arrayEach(["filter","map","takeWhile"],(function(methodName,index){var type=index+1,isFilter=1==type||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}})),arrayEach(["head","last"],(function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}})),arrayEach(["initial","tail"],(function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}})),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest((function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map((function(value){return baseInvoke(value,path,args)}))})),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),void 0!==end&&(result=(end=toInteger(end))<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(4294967295)},baseForOwn(LazyWrapper.prototype,(function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:void 0}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})})),arrayEach(["pop","push","shift","sort","splice","unshift"],(function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName]((function(value){return func.apply(isArray(value)?value:[],args)}))}})),baseForOwn(LazyWrapper.prototype,(function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";hasOwnProperty.call(realNames,key)||(realNames[key]=[]),realNames[key].push({name:methodName,func:lodashFunc})}})),realNames[createHybrid(void 0,2).name]=[{name:"wrapper",func:void 0}],LazyWrapper.prototype.clone=function(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result},LazyWrapper.prototype.reverse=function(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],type=data.type,computed=(0,data.iteratee)(value);if(2==type)value=computed;else if(!computed){if(1==type)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.at=wrapperAt,lodash.prototype.chain=function(){return chain(this)},lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function(){void 0===this.__values__&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?void 0:this.__values__[this.__index__++]}},lodash.prototype.plant=function(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=void 0,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),(wrapped=wrapped.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:void 0}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=function(){return this}),lodash}();root._=_,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return _}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)}).call(this,__webpack_require__("YuTi")(module))},MlIO:function(module,exports,__webpack_require__){var C_lib,Base,X32WordArray,C_x64,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),Base=(C_lib=CryptoJS.lib).Base,X32WordArray=C_lib.WordArray,(C_x64=CryptoJS.x64={}).Word=Base.extend({init:function(high,low){this.high=high,this.low=low}}),C_x64.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[],this.sigBytes=null!=sigBytes?sigBytes:8*words.length},toX32:function(){for(var x64Words=this.words,x64WordsLength=x64Words.length,x32Words=[],i=0;i<x64WordsLength;i++){var x64Word=x64Words[i];x32Words.push(x64Word.high),x32Words.push(x64Word.low)}return X32WordArray.create(x32Words,this.sigBytes)},clone:function(){for(var clone=Base.clone.call(this),words=clone.words=this.words.slice(0),wordsLength=words.length,i=0;i<wordsLength;i++)words[i]=words[i].clone();return clone}}),CryptoJS)},Mnsi:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function ArithmeticException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ArithmeticException,_super),ArithmeticException}(Exception_1.default)},"N/zx":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function BinaryBitmap(binarizer){if(this.binarizer=binarizer,null===binarizer)throw new IllegalArgumentException_1.default("Binarizer must be non-null.")}return BinaryBitmap.prototype.getWidth=function(){return this.binarizer.getWidth()},BinaryBitmap.prototype.getHeight=function(){return this.binarizer.getHeight()},BinaryBitmap.prototype.getBlackRow=function(y,row){return this.binarizer.getBlackRow(y,row)},BinaryBitmap.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},BinaryBitmap.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},BinaryBitmap.prototype.crop=function(left,top,width,height){var newSource=this.binarizer.getLuminanceSource().crop(left,top,width,height);return new BinaryBitmap(this.binarizer.createBinarizer(newSource))},BinaryBitmap.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},BinaryBitmap.prototype.rotateCounterClockwise=function(){var newSource=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new BinaryBitmap(this.binarizer.createBinarizer(newSource))},BinaryBitmap.prototype.rotateCounterClockwise45=function(){var newSource=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new BinaryBitmap(this.binarizer.createBinarizer(newSource))},BinaryBitmap.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(e){return""}},BinaryBitmap}()},NFKh:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("MlIO"),__webpack_require__("F+F2"),__webpack_require__("qM6L"),__webpack_require__("ETIr"),__webpack_require__("cv67"),__webpack_require__("3y9D"),__webpack_require__("lPiR"),__webpack_require__("GRuw"),__webpack_require__("1uat"),__webpack_require__("uGsb"),__webpack_require__("5hvy"),__webpack_require__("ELcG"),__webpack_require__("WYAk"),__webpack_require__("e7zE"),__webpack_require__("K3mO"),__webpack_require__("OLod"),__webpack_require__("ALsQ"),__webpack_require__("9OqN"),__webpack_require__("qu8F"),__webpack_require__("S6kV"),__webpack_require__("gb/T"),__webpack_require__("qBft"),__webpack_require__("oRuE"),__webpack_require__("jO9C"),__webpack_require__("KmYQ"),__webpack_require__("uGxW"),__webpack_require__("bQjk"),__webpack_require__("wZgz"),__webpack_require__("pA7S"),__webpack_require__("w7YG"),__webpack_require__("E4JC"),__webpack_require__("PVpz"),CryptoJS)},NczI:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function ReedSolomonException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ReedSolomonException,_super),ReedSolomonException}(Exception_1.default)},OKB3:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ResultPoint_1=__webpack_require__("i5vq");exports.default=function(){function FinderPattern(value,startEnd,start,end,rowNumber){this.value=value,this.startEnd=startEnd,this.value=value,this.startEnd=startEnd,this.resultPoints=new Array,this.resultPoints.push(new ResultPoint_1.default(start,rowNumber)),this.resultPoints.push(new ResultPoint_1.default(end,rowNumber))}return FinderPattern.prototype.getValue=function(){return this.value},FinderPattern.prototype.getStartEnd=function(){return this.startEnd},FinderPattern.prototype.getResultPoints=function(){return this.resultPoints},FinderPattern.prototype.equals=function(o){return o instanceof FinderPattern&&this.value===o.value},FinderPattern.prototype.hashCode=function(){return this.value},FinderPattern}()},OLod:function(module,exports,__webpack_require__){var CryptoJS,C,C_lib,Base,WordArray,BufferedBlockAlgorithm,C_enc,Base64,EvpKDF,Cipher,C_mode,BlockCipherMode,CBC,Pkcs7,CipherParams,OpenSSLFormatter,SerializableCipher,OpenSSLKdf,PasswordBasedCipher;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("K3mO"),void(CryptoJS.lib.Cipher||(C=CryptoJS,C_lib=C.lib,Base=C_lib.Base,WordArray=C_lib.WordArray,BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm,C_enc=C.enc,Base64=C_enc.Base64,EvpKDF=C.algo.EvpKDF,Cipher=C_lib.Cipher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),createEncryptor:function(key,cfg){return this.create(this._ENC_XFORM_MODE,key,cfg)},createDecryptor:function(key,cfg){return this.create(this._DEC_XFORM_MODE,key,cfg)},init:function(xformMode,key,cfg){this.cfg=this.cfg.extend(cfg),this._xformMode=xformMode,this._key=key,this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this),this._doReset()},process:function(dataUpdate){return this._append(dataUpdate),this._process()},finalize:function(dataUpdate){return dataUpdate&&this._append(dataUpdate),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function selectCipherStrategy(key){return"string"==typeof key?PasswordBasedCipher:SerializableCipher}return function(cipher){return{encrypt:function(message,key,cfg){return selectCipherStrategy(key).encrypt(cipher,message,key,cfg)},decrypt:function(ciphertext,key,cfg){return selectCipherStrategy(key).decrypt(cipher,ciphertext,key,cfg)}}}}()}),C_lib.StreamCipher=Cipher.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),C_mode=C.mode={},BlockCipherMode=C_lib.BlockCipherMode=Base.extend({createEncryptor:function(cipher,iv){return this.Encryptor.create(cipher,iv)},createDecryptor:function(cipher,iv){return this.Decryptor.create(cipher,iv)},init:function(cipher,iv){this._cipher=cipher,this._iv=iv}}),CBC=C_mode.CBC=function(){var CBC=BlockCipherMode.extend();function xorBlock(words,offset,blockSize){var iv=this._iv;if(iv){var block=iv;this._iv=void 0}else block=this._prevBlock;for(var i=0;i<blockSize;i++)words[offset+i]^=block[i]}return CBC.Encryptor=CBC.extend({processBlock:function(words,offset){var cipher=this._cipher,blockSize=cipher.blockSize;xorBlock.call(this,words,offset,blockSize),cipher.encryptBlock(words,offset),this._prevBlock=words.slice(offset,offset+blockSize)}}),CBC.Decryptor=CBC.extend({processBlock:function(words,offset){var cipher=this._cipher,blockSize=cipher.blockSize,thisBlock=words.slice(offset,offset+blockSize);cipher.decryptBlock(words,offset),xorBlock.call(this,words,offset,blockSize),this._prevBlock=thisBlock}}),CBC}(),Pkcs7=(C.pad={}).Pkcs7={pad:function(data,blockSize){for(var blockSizeBytes=4*blockSize,nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes,paddingWord=nPaddingBytes<<24|nPaddingBytes<<16|nPaddingBytes<<8|nPaddingBytes,paddingWords=[],i=0;i<nPaddingBytes;i+=4)paddingWords.push(paddingWord);var padding=WordArray.create(paddingWords,nPaddingBytes);data.concat(padding)},unpad:function(data){data.sigBytes-=255&data.words[data.sigBytes-1>>>2]}},C_lib.BlockCipher=Cipher.extend({cfg:Cipher.cfg.extend({mode:CBC,padding:Pkcs7}),reset:function(){Cipher.reset.call(this);var cfg=this.cfg,iv=cfg.iv,mode=cfg.mode;if(this._xformMode==this._ENC_XFORM_MODE)var modeCreator=mode.createEncryptor;else modeCreator=mode.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==modeCreator?this._mode.init(this,iv&&iv.words):(this._mode=modeCreator.call(mode,this,iv&&iv.words),this._mode.__creator=modeCreator)},_doProcessBlock:function(words,offset){this._mode.processBlock(words,offset)},_doFinalize:function(){var padding=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){padding.pad(this._data,this.blockSize);var finalProcessedBlocks=this._process(!0)}else finalProcessedBlocks=this._process(!0),padding.unpad(finalProcessedBlocks);return finalProcessedBlocks},blockSize:4}),CipherParams=C_lib.CipherParams=Base.extend({init:function(cipherParams){this.mixIn(cipherParams)},toString:function(formatter){return(formatter||this.formatter).stringify(this)}}),OpenSSLFormatter=(C.format={}).OpenSSL={stringify:function(cipherParams){var ciphertext=cipherParams.ciphertext,salt=cipherParams.salt;if(salt)var wordArray=WordArray.create([1398893684,1701076831]).concat(salt).concat(ciphertext);else wordArray=ciphertext;return wordArray.toString(Base64)},parse:function(openSSLStr){var ciphertext=Base64.parse(openSSLStr),ciphertextWords=ciphertext.words;if(1398893684==ciphertextWords[0]&&1701076831==ciphertextWords[1]){var salt=WordArray.create(ciphertextWords.slice(2,4));ciphertextWords.splice(0,4),ciphertext.sigBytes-=16}return CipherParams.create({ciphertext:ciphertext,salt:salt})}},SerializableCipher=C_lib.SerializableCipher=Base.extend({cfg:Base.extend({format:OpenSSLFormatter}),encrypt:function(cipher,message,key,cfg){cfg=this.cfg.extend(cfg);var encryptor=cipher.createEncryptor(key,cfg),ciphertext=encryptor.finalize(message),cipherCfg=encryptor.cfg;return CipherParams.create({ciphertext:ciphertext,key:key,iv:cipherCfg.iv,algorithm:cipher,mode:cipherCfg.mode,padding:cipherCfg.padding,blockSize:cipher.blockSize,formatter:cfg.format})},decrypt:function(cipher,ciphertext,key,cfg){return cfg=this.cfg.extend(cfg),ciphertext=this._parse(ciphertext,cfg.format),cipher.createDecryptor(key,cfg).finalize(ciphertext.ciphertext)},_parse:function(ciphertext,format){return"string"==typeof ciphertext?format.parse(ciphertext,this):ciphertext}}),OpenSSLKdf=(C.kdf={}).OpenSSL={execute:function(password,keySize,ivSize,salt){salt||(salt=WordArray.random(8));var key=EvpKDF.create({keySize:keySize+ivSize}).compute(password,salt),iv=WordArray.create(key.words.slice(keySize),4*ivSize);return key.sigBytes=4*keySize,CipherParams.create({key:key,iv:iv,salt:salt})}},PasswordBasedCipher=C_lib.PasswordBasedCipher=SerializableCipher.extend({cfg:SerializableCipher.cfg.extend({kdf:OpenSSLKdf}),encrypt:function(cipher,message,password,cfg){var derivedParams=(cfg=this.cfg.extend(cfg)).kdf.execute(password,cipher.keySize,cipher.ivSize);cfg.iv=derivedParams.iv;var ciphertext=SerializableCipher.encrypt.call(this,cipher,message,derivedParams.key,cfg);return ciphertext.mixIn(derivedParams),ciphertext},decrypt:function(cipher,ciphertext,password,cfg){cfg=this.cfg.extend(cfg),ciphertext=this._parse(ciphertext,cfg.format);var derivedParams=cfg.kdf.execute(password,cipher.keySize,cipher.ivSize,ciphertext.salt);return cfg.iv=derivedParams.iv,SerializableCipher.decrypt.call(this,cipher,ciphertext,derivedParams.key,cfg)}}))))},OclX:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var ts_custom_error_1=__webpack_require__("bBhn");exports.default=function(_super){function Exception(message){void 0===message&&(message=void 0);var _this=_super.call(this,message)||this;return _this.message=message,_this}return __extends(Exception,_super),Exception}(ts_custom_error_1.CustomError)},Ogyy:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),UPCEANReader_1=__webpack_require__("uT6O"),Result_1=__webpack_require__("nEnc"),ResultPoint_1=__webpack_require__("i5vq"),ResultMetadataType_1=__webpack_require__("Ultx"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function UPCEANExtension5Support(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=[0,0,0,0],this.decodeRowStringBuffer=""}return UPCEANExtension5Support.prototype.decodeRow=function(rowNumber,row,extensionStartRange){var result=this.decodeRowStringBuffer,end=this.decodeMiddle(row,extensionStartRange,result),resultString=result.toString(),extensionData=UPCEANExtension5Support.parseExtensionString(resultString),resultPoints=[new ResultPoint_1.default((extensionStartRange[0]+extensionStartRange[1])/2,rowNumber),new ResultPoint_1.default(end,rowNumber)],extensionResult=new Result_1.default(resultString,null,0,resultPoints,BarcodeFormat_1.default.UPC_EAN_EXTENSION,(new Date).getTime());return null!=extensionData&&extensionResult.putAllMetadata(extensionData),extensionResult},UPCEANExtension5Support.prototype.decodeMiddle=function(row,startRange,resultString){var counters=this.decodeMiddleCounters;counters[0]=0,counters[1]=0,counters[2]=0,counters[3]=0;for(var end=row.getSize(),rowOffset=startRange[1],lgPatternFound=0,x=0;x<5&&rowOffset<end;x++){var bestMatch=UPCEANReader_1.default.decodeDigit(row,counters,rowOffset,UPCEANReader_1.default.L_AND_G_PATTERNS);resultString+=String.fromCharCode("0".charCodeAt(0)+bestMatch%10);for(var _i=0,counters_1=counters;_i<counters_1.length;_i++)rowOffset+=counters_1[_i];bestMatch>=10&&(lgPatternFound|=1<<4-x),4!==x&&(rowOffset=row.getNextSet(rowOffset),rowOffset=row.getNextUnset(rowOffset))}if(5!==resultString.length)throw new NotFoundException_1.default;var checkDigit=this.determineCheckDigit(lgPatternFound);if(UPCEANExtension5Support.extensionChecksum(resultString.toString())!==checkDigit)throw new NotFoundException_1.default;return rowOffset},UPCEANExtension5Support.extensionChecksum=function(s){for(var length=s.length,sum=0,i=length-2;i>=0;i-=2)sum+=s.charAt(i).charCodeAt(0)-"0".charCodeAt(0);for(sum*=3,i=length-1;i>=0;i-=2)sum+=s.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return(sum*=3)%10},UPCEANExtension5Support.prototype.determineCheckDigit=function(lgPatternFound){for(var d=0;d<10;d++)if(lgPatternFound===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new NotFoundException_1.default},UPCEANExtension5Support.parseExtensionString=function(raw){if(5!==raw.length)return null;var value=UPCEANExtension5Support.parseExtension5String(raw);return null==value?null:new Map([[ResultMetadataType_1.default.SUGGESTED_PRICE,value]])},UPCEANExtension5Support.parseExtension5String=function(raw){var currency;switch(raw.charAt(0)){case"0":currency="£";break;case"5":currency="$";break;case"9":switch(raw){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}currency="";break;default:currency=""}var rawAmount=parseInt(raw.substring(1)),hundredths=rawAmount%100;return currency+(rawAmount/100).toString()+"."+(hundredths<10?"0"+hundredths:hundredths.toString())},UPCEANExtension5Support}()},OprD:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DataMaskValues=exports.DataMaskValues=function(DataMaskValues){return DataMaskValues[DataMaskValues.DATA_MASK_000=0]="DATA_MASK_000",DataMaskValues[DataMaskValues.DATA_MASK_001=1]="DATA_MASK_001",DataMaskValues[DataMaskValues.DATA_MASK_010=2]="DATA_MASK_010",DataMaskValues[DataMaskValues.DATA_MASK_011=3]="DATA_MASK_011",DataMaskValues[DataMaskValues.DATA_MASK_100=4]="DATA_MASK_100",DataMaskValues[DataMaskValues.DATA_MASK_101=5]="DATA_MASK_101",DataMaskValues[DataMaskValues.DATA_MASK_110=6]="DATA_MASK_110",DataMaskValues[DataMaskValues.DATA_MASK_111=7]="DATA_MASK_111",DataMaskValues}(exports.DataMaskValues||{}),DataMask=function(){function DataMask(value,isMasked){this.value=value,this.isMasked=isMasked}return DataMask.prototype.unmaskBitMatrix=function(bits,dimension){for(var i=0;i<dimension;i++)for(var j=0;j<dimension;j++)this.isMasked(i,j)&&bits.flip(j,i)},DataMask.values=new Map([[DataMaskValues.DATA_MASK_000,new DataMask(DataMaskValues.DATA_MASK_000,(function(i,j){return 0==(i+j&1)}))],[DataMaskValues.DATA_MASK_001,new DataMask(DataMaskValues.DATA_MASK_001,(function(i,j){return 0==(1&i)}))],[DataMaskValues.DATA_MASK_010,new DataMask(DataMaskValues.DATA_MASK_010,(function(i,j){return j%3==0}))],[DataMaskValues.DATA_MASK_011,new DataMask(DataMaskValues.DATA_MASK_011,(function(i,j){return(i+j)%3==0}))],[DataMaskValues.DATA_MASK_100,new DataMask(DataMaskValues.DATA_MASK_100,(function(i,j){return 0==(Math.floor(i/2)+Math.floor(j/3)&1)}))],[DataMaskValues.DATA_MASK_101,new DataMask(DataMaskValues.DATA_MASK_101,(function(i,j){return i*j%6==0}))],[DataMaskValues.DATA_MASK_110,new DataMask(DataMaskValues.DATA_MASK_110,(function(i,j){return i*j%6<3}))],[DataMaskValues.DATA_MASK_111,new DataMask(DataMaskValues.DATA_MASK_111,(function(i,j){return 0==(i+j+i*j%3&1)}))]]),DataMask}();exports.default=DataMask},PPHm:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function QRCodeDecoderMetaData(mirrored){this.mirrored=mirrored}return QRCodeDecoderMetaData.prototype.isMirrored=function(){return this.mirrored},QRCodeDecoderMetaData.prototype.applyMirroredCorrection=function(points){if(this.mirrored&&null!==points&&!(points.length<3)){var bottomLeft=points[0];points[0]=points[2],points[2]=bottomLeft}},QRCodeDecoderMetaData}()},PTYN:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var System_1=__webpack_require__("pleV");exports.default=function(){function Arrays(){}return Arrays.equals=function(first,second){if(!first)return!1;if(!second)return!1;if(!first.length)return!1;if(!second.length)return!1;if(first.length!==second.length)return!1;for(var i=0,length_1=first.length;i<length_1;i++)if(first[i]!==second[i])return!1;return!0},Arrays.hashCode=function(a){if(null===a)return 0;for(var result=1,_i=0,a_1=a;_i<a_1.length;_i++)result=31*result+a_1[_i];return result},Arrays.fillUint8Array=function(a,value){for(var i=0;i!==a.length;i++)a[i]=value},Arrays.copyOf=function(original,newLength){var copy=new Int32Array(newLength);return System_1.default.arraycopy(original,0,copy,0,Math.min(original.length,newLength)),copy},Arrays.binarySearch=function(ar,el,comparator){void 0===comparator&&(comparator=Arrays.numberComparator);for(var m=0,n=ar.length-1;m<=n;){var k=n+m>>1,cmp=comparator(el,ar[k]);if(cmp>0)m=k+1;else{if(!(cmp<0))return k;n=k-1}}return-m-1},Arrays.numberComparator=function(a,b){return a-b},Arrays}()},PVpz:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("ETIr"),__webpack_require__("cv67"),__webpack_require__("K3mO"),__webpack_require__("OLod"),function(){var C=CryptoJS,StreamCipher=C.lib.StreamCipher,S=[],C_=[],G=[],RabbitLegacy=C.algo.RabbitLegacy=StreamCipher.extend({_doReset:function(){var K=this._key.words,iv=this.cfg.iv,X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16],C=this._C=[K[2]<<16|K[2]>>>16,4294901760&K[0]|65535&K[1],K[3]<<16|K[3]>>>16,4294901760&K[1]|65535&K[2],K[0]<<16|K[0]>>>16,4294901760&K[2]|65535&K[3],K[1]<<16|K[1]>>>16,4294901760&K[3]|65535&K[0]];this._b=0;for(var i=0;i<4;i++)nextState.call(this);for(i=0;i<8;i++)C[i]^=X[i+4&7];if(iv){var IV=iv.words,IV_0=IV[0],IV_1=IV[1],i0=16711935&(IV_0<<8|IV_0>>>24)|4278255360&(IV_0<<24|IV_0>>>8),i2=16711935&(IV_1<<8|IV_1>>>24)|4278255360&(IV_1<<24|IV_1>>>8),i1=i0>>>16|4294901760&i2,i3=i2<<16|65535&i0;for(C[0]^=i0,C[1]^=i1,C[2]^=i2,C[3]^=i3,C[4]^=i0,C[5]^=i1,C[6]^=i2,C[7]^=i3,i=0;i<4;i++)nextState.call(this)}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this),S[0]=X[0]^X[5]>>>16^X[3]<<16,S[1]=X[2]^X[7]>>>16^X[5]<<16,S[2]=X[4]^X[1]>>>16^X[7]<<16,S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++)S[i]=16711935&(S[i]<<8|S[i]>>>24)|4278255360&(S[i]<<24|S[i]>>>8),M[offset+i]^=S[i]},blockSize:4,ivSize:2});function nextState(){for(var X=this._X,C=this._C,i=0;i<8;i++)C_[i]=C[i];for(C[0]=C[0]+1295307597+this._b|0,C[1]=C[1]+3545052371+(C[0]>>>0<C_[0]>>>0?1:0)|0,C[2]=C[2]+886263092+(C[1]>>>0<C_[1]>>>0?1:0)|0,C[3]=C[3]+1295307597+(C[2]>>>0<C_[2]>>>0?1:0)|0,C[4]=C[4]+3545052371+(C[3]>>>0<C_[3]>>>0?1:0)|0,C[5]=C[5]+886263092+(C[4]>>>0<C_[4]>>>0?1:0)|0,C[6]=C[6]+1295307597+(C[5]>>>0<C_[5]>>>0?1:0)|0,C[7]=C[7]+3545052371+(C[6]>>>0<C_[6]>>>0?1:0)|0,this._b=C[7]>>>0<C_[7]>>>0?1:0,i=0;i<8;i++){var gx=X[i]+C[i],ga=65535&gx,gb=gx>>>16;G[i]=((ga*ga>>>17)+ga*gb>>>15)+gb*gb^((4294901760&gx)*gx|0)+((65535&gx)*gx|0)}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0,X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0,X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0,X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0,X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0,X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0,X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0,X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.RabbitLegacy=StreamCipher._createHelper(RabbitLegacy)}(),CryptoJS.RabbitLegacy)},Q51M:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(EncodeHintType){return EncodeHintType[EncodeHintType.ERROR_CORRECTION=0]="ERROR_CORRECTION",EncodeHintType[EncodeHintType.CHARACTER_SET=1]="CHARACTER_SET",EncodeHintType[EncodeHintType.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",EncodeHintType[EncodeHintType.MIN_SIZE=3]="MIN_SIZE",EncodeHintType[EncodeHintType.MAX_SIZE=4]="MAX_SIZE",EncodeHintType[EncodeHintType.MARGIN=5]="MARGIN",EncodeHintType[EncodeHintType.PDF417_COMPACT=6]="PDF417_COMPACT",EncodeHintType[EncodeHintType.PDF417_COMPACTION=7]="PDF417_COMPACTION",EncodeHintType[EncodeHintType.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",EncodeHintType[EncodeHintType.AZTEC_LAYERS=9]="AZTEC_LAYERS",EncodeHintType[EncodeHintType.QR_VERSION=10]="QR_VERSION",EncodeHintType}({})},"QX/D":function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var GlobalHistogramBinarizer_1=__webpack_require__("It5l"),BitMatrix_1=__webpack_require__("/fss");exports.default=function(_super){function HybridBinarizer(source){var _this=_super.call(this,source)||this;return _this.matrix=null,_this}return __extends(HybridBinarizer,_super),HybridBinarizer.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var source=this.getLuminanceSource(),width=source.getWidth(),height=source.getHeight();if(width>=HybridBinarizer.MINIMUM_DIMENSION&&height>=HybridBinarizer.MINIMUM_DIMENSION){var luminances=source.getMatrix(),subWidth=width>>HybridBinarizer.BLOCK_SIZE_POWER;0!=(width&HybridBinarizer.BLOCK_SIZE_MASK)&&subWidth++;var subHeight=height>>HybridBinarizer.BLOCK_SIZE_POWER;0!=(height&HybridBinarizer.BLOCK_SIZE_MASK)&&subHeight++;var blackPoints=HybridBinarizer.calculateBlackPoints(luminances,subWidth,subHeight,width,height),newMatrix=new BitMatrix_1.default(width,height);HybridBinarizer.calculateThresholdForBlock(luminances,subWidth,subHeight,width,height,blackPoints,newMatrix),this.matrix=newMatrix}else this.matrix=_super.prototype.getBlackMatrix.call(this);return this.matrix},HybridBinarizer.prototype.createBinarizer=function(source){return new HybridBinarizer(source)},HybridBinarizer.calculateThresholdForBlock=function(luminances,subWidth,subHeight,width,height,blackPoints,matrix){for(var maxYOffset=height-HybridBinarizer.BLOCK_SIZE,maxXOffset=width-HybridBinarizer.BLOCK_SIZE,y=0;y<subHeight;y++){var yoffset=y<<HybridBinarizer.BLOCK_SIZE_POWER;yoffset>maxYOffset&&(yoffset=maxYOffset);for(var top_1=HybridBinarizer.cap(y,2,subHeight-3),x=0;x<subWidth;x++){var xoffset=x<<HybridBinarizer.BLOCK_SIZE_POWER;xoffset>maxXOffset&&(xoffset=maxXOffset);for(var left=HybridBinarizer.cap(x,2,subWidth-3),sum=0,z=-2;z<=2;z++){var blackRow=blackPoints[top_1+z];sum+=blackRow[left-2]+blackRow[left-1]+blackRow[left]+blackRow[left+1]+blackRow[left+2]}HybridBinarizer.thresholdBlock(luminances,xoffset,yoffset,sum/25,width,matrix)}}},HybridBinarizer.cap=function(value,min,max){return value<min?min:value>max?max:value},HybridBinarizer.thresholdBlock=function(luminances,xoffset,yoffset,threshold,stride,matrix){for(var y=0,offset=yoffset*stride+xoffset;y<HybridBinarizer.BLOCK_SIZE;y++,offset+=stride)for(var x=0;x<HybridBinarizer.BLOCK_SIZE;x++)(255&luminances[offset+x])<=threshold&&matrix.set(xoffset+x,yoffset+y)},HybridBinarizer.calculateBlackPoints=function(luminances,subWidth,subHeight,width,height){for(var maxYOffset=height-HybridBinarizer.BLOCK_SIZE,maxXOffset=width-HybridBinarizer.BLOCK_SIZE,blackPoints=new Array(subHeight),y=0;y<subHeight;y++){blackPoints[y]=new Int32Array(subWidth);var yoffset=y<<HybridBinarizer.BLOCK_SIZE_POWER;yoffset>maxYOffset&&(yoffset=maxYOffset);for(var x=0;x<subWidth;x++){var xoffset=x<<HybridBinarizer.BLOCK_SIZE_POWER;xoffset>maxXOffset&&(xoffset=maxXOffset);for(var sum=0,min=255,max=0,yy=0,offset=yoffset*width+xoffset;yy<HybridBinarizer.BLOCK_SIZE;yy++,offset+=width){for(var xx=0;xx<HybridBinarizer.BLOCK_SIZE;xx++){var pixel=255&luminances[offset+xx];sum+=pixel,pixel<min&&(min=pixel),pixel>max&&(max=pixel)}if(max-min>HybridBinarizer.MIN_DYNAMIC_RANGE)for(yy++,offset+=width;yy<HybridBinarizer.BLOCK_SIZE;yy++,offset+=width)for(xx=0;xx<HybridBinarizer.BLOCK_SIZE;xx++)sum+=255&luminances[offset+xx]}var average=sum>>2*HybridBinarizer.BLOCK_SIZE_POWER;if(max-min<=HybridBinarizer.MIN_DYNAMIC_RANGE&&(average=min/2,y>0&&x>0)){var averageNeighborBlackPoint=(blackPoints[y-1][x]+2*blackPoints[y][x-1]+blackPoints[y-1][x-1])/4;min<averageNeighborBlackPoint&&(average=averageNeighborBlackPoint)}blackPoints[y][x]=average}}return blackPoints},HybridBinarizer.BLOCK_SIZE_MASK=(HybridBinarizer.BLOCK_SIZE=1<<(HybridBinarizer.BLOCK_SIZE_POWER=3))-1,HybridBinarizer.MINIMUM_DIMENSION=5*HybridBinarizer.BLOCK_SIZE,HybridBinarizer.MIN_DYNAMIC_RANGE=24,HybridBinarizer}(GlobalHistogramBinarizer_1.default)},QxPk:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),Code39Reader_1=__webpack_require__("LQhb"),Code128Reader_1=__webpack_require__("aWuf"),RSS14Reader_1=__webpack_require__("EJCn"),DecodeHintType_1=__webpack_require__("2Upx"),ITFReader_1=__webpack_require__("isJV"),MultiFormatUPCEANReader_1=__webpack_require__("1ASq"),NotFoundException_1=__webpack_require__("xhJ4"),OneDReader_1=__webpack_require__("CFkN");exports.default=function(_super){function MultiFormatOneDReader(hints){var _this=_super.call(this)||this;_this.readers=[];var possibleFormats=hints?hints.get(DecodeHintType_1.default.POSSIBLE_FORMATS):null,useCode39CheckDigit=hints&&void 0!==hints.get(DecodeHintType_1.default.ASSUME_CODE_39_CHECK_DIGIT);return possibleFormats&&((possibleFormats.includes(BarcodeFormat_1.default.EAN_13)||possibleFormats.includes(BarcodeFormat_1.default.EAN_8))&&_this.readers.push(new MultiFormatUPCEANReader_1.default(hints)),possibleFormats.includes(BarcodeFormat_1.default.CODE_39)&&_this.readers.push(new Code39Reader_1.default(useCode39CheckDigit)),possibleFormats.includes(BarcodeFormat_1.default.CODE_128)&&_this.readers.push(new Code128Reader_1.default),possibleFormats.includes(BarcodeFormat_1.default.ITF)&&_this.readers.push(new ITFReader_1.default),possibleFormats.includes(BarcodeFormat_1.default.RSS_14)&&_this.readers.push(new RSS14Reader_1.default)),0===_this.readers.length&&(_this.readers.push(new Code39Reader_1.default),_this.readers.push(new MultiFormatUPCEANReader_1.default(hints)),_this.readers.push(new Code128Reader_1.default),_this.readers.push(new ITFReader_1.default),_this.readers.push(new RSS14Reader_1.default)),_this}return __extends(MultiFormatOneDReader,_super),MultiFormatOneDReader.prototype.decodeRow=function(rowNumber,row,hints){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(rowNumber,row,hints)}catch(re){}throw new NotFoundException_1.default},MultiFormatOneDReader.prototype.reset=function(){this.readers.forEach((function(reader){return reader.reset()}))},MultiFormatOneDReader}(OneDReader_1.default)},RqVx:function(module,exports,__webpack_require__){var __awaiter=__webpack_require__("mrSG").__awaiter,__generator=__webpack_require__("mrSG").__generator;Object.defineProperty(exports,"__esModule",{value:!0});var ArgumentException_1=__webpack_require__("LYY4"),BinaryBitmap_1=__webpack_require__("N/zx"),ChecksumException_1=__webpack_require__("Jma6"),HybridBinarizer_1=__webpack_require__("QX/D"),FormatException_1=__webpack_require__("dGMj"),NotFoundException_1=__webpack_require__("xhJ4"),HTMLCanvasElementLuminanceSource_1=__webpack_require__("zWnV"),VideoInputDevice_1=__webpack_require__("2Jmu");exports.BrowserCodeReader=function(){function BrowserCodeReader(reader,timeBetweenScansMillis,_hints){void 0===timeBetweenScansMillis&&(timeBetweenScansMillis=500),this.reader=reader,this.timeBetweenScansMillis=timeBetweenScansMillis,this._hints=_hints,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(BrowserCodeReader.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserCodeReader.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserCodeReader.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserCodeReader.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(millis){this._timeBetweenDecodingAttempts=millis<0?0:millis},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserCodeReader.prototype,"hints",{get:function(){return this._hints},set:function(hints){this._hints=hints||null},enumerable:!0,configurable:!0}),BrowserCodeReader.prototype.listVideoInputDevices=function(){return __awaiter(this,void 0,void 0,(function(){var devices,videoDevices,_i,devices_1,device,kind;return __generator(this,(function(_a){switch(_a.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(devices=_a.sent(),videoDevices=[],_i=0,devices_1=devices;_i<devices_1.length;_i++)"videoinput"===(kind="video"===(device=devices_1[_i]).kind?"videoinput":device.kind)&&videoDevices.push({deviceId:device.deviceId||device.id,label:device.label||"Video device "+(videoDevices.length+1),kind:kind,groupId:device.groupId});return[2,videoDevices]}}))}))},BrowserCodeReader.prototype.getVideoInputDevices=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,_a.sent().map((function(d){return new VideoInputDevice_1.VideoInputDevice(d.deviceId,d.label)}))]}}))}))},BrowserCodeReader.prototype.findDeviceById=function(deviceId){return __awaiter(this,void 0,void 0,(function(){var devices;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(devices=_a.sent())?[2,devices.find((function(x){return x.deviceId===deviceId}))]:[2,null]}}))}))},BrowserCodeReader.prototype.decodeFromInputVideoDevice=function(deviceId,videoSource){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.decodeOnceFromVideoDevice(deviceId,videoSource)];case 1:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.decodeOnceFromVideoDevice=function(deviceId,videoSource){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:deviceId?{deviceId:{exact:deviceId}}:{facingMode:"environment"}},videoSource)];case 1:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.decodeOnceFromConstraints=function(constraints,videoSource){return __awaiter(this,void 0,void 0,(function(){var stream;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(constraints)];case 1:return stream=_a.sent(),[4,this.decodeOnceFromStream(stream,videoSource)];case 2:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.decodeOnceFromStream=function(stream,videoSource){return __awaiter(this,void 0,void 0,(function(){var video;return __generator(this,(function(_a){switch(_a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(stream,videoSource)];case 1:return video=_a.sent(),[4,this.decodeOnce(video)];case 2:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.decodeFromInputVideoDeviceContinuously=function(deviceId,videoSource,callbackFn){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.decodeFromVideoDevice(deviceId,videoSource,callbackFn)];case 1:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.decodeFromVideoDevice=function(deviceId,videoSource,callbackFn){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.decodeFromConstraints({video:deviceId?{deviceId:{exact:deviceId}}:{facingMode:"environment"}},videoSource,callbackFn)];case 1:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.decodeFromConstraints=function(constraints,videoSource,callbackFn){return __awaiter(this,void 0,void 0,(function(){var stream;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(constraints)];case 1:return stream=_a.sent(),[4,this.decodeFromStream(stream,videoSource,callbackFn)];case 2:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.decodeFromStream=function(stream,videoSource,callbackFn){return __awaiter(this,void 0,void 0,(function(){var video;return __generator(this,(function(_a){switch(_a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(stream,videoSource)];case 1:return video=_a.sent(),[4,this.decodeContinuously(video,callbackFn)];case 2:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},BrowserCodeReader.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},BrowserCodeReader.prototype.attachStreamToVideo=function(stream,videoSource){return __awaiter(this,void 0,void 0,(function(){var videoElement;return __generator(this,(function(_a){switch(_a.label){case 0:return videoElement=this.prepareVideoElement(videoSource),this.addVideoSource(videoElement,stream),this.videoElement=videoElement,this.stream=stream,[4,this.playVideoOnLoadAsync(videoElement)];case 1:return _a.sent(),[2,videoElement]}}))}))},BrowserCodeReader.prototype.playVideoOnLoadAsync=function(videoElement){var _this=this;return new Promise((function(resolve,reject){return _this.playVideoOnLoad(videoElement,(function(){return resolve()}))}))},BrowserCodeReader.prototype.playVideoOnLoad=function(element,callbackFn){var _this=this;this.videoEndedListener=function(){return _this.stopStreams()},this.videoCanPlayListener=function(){return _this.tryPlayVideo(element)},element.addEventListener("ended",this.videoEndedListener),element.addEventListener("canplay",this.videoCanPlayListener),element.addEventListener("playing",callbackFn),this.tryPlayVideo(element)},BrowserCodeReader.prototype.isVideoPlaying=function(video){return video.currentTime>0&&!video.paused&&!video.ended&&video.readyState>2},BrowserCodeReader.prototype.tryPlayVideo=function(videoElement){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_b){switch(_b.label){case 0:if(this.isVideoPlaying(videoElement))return console.warn("Trying to play video that is already playing."),[2];_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,videoElement.play()];case 2:return _b.sent(),[3,4];case 3:return _b.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}}))}))},BrowserCodeReader.prototype.getMediaElement=function(mediaElementId,type){var mediaElement=document.getElementById(mediaElementId);if(!mediaElement)throw new ArgumentException_1.default("element with id '"+mediaElementId+"' not found");if(mediaElement.nodeName.toLowerCase()!==type.toLowerCase())throw new ArgumentException_1.default("element with id '"+mediaElementId+"' must be an "+type+" element");return mediaElement},BrowserCodeReader.prototype.decodeFromImage=function(source,url){if(!source&&!url)throw new ArgumentException_1.default("either imageElement with a src set or an url must be provided");return url&&!source?this.decodeFromImageUrl(url):this.decodeFromImageElement(source)},BrowserCodeReader.prototype.decodeFromVideo=function(source,url){if(!source&&!url)throw new ArgumentException_1.default("Either an element with a src set or an URL must be provided");return url&&!source?this.decodeFromVideoUrl(url):this.decodeFromVideoElement(source)},BrowserCodeReader.prototype.decodeFromVideoContinuously=function(source,url,callbackFn){if(void 0===source&&void 0===url)throw new ArgumentException_1.default("Either an element with a src set or an URL must be provided");return url&&!source?this.decodeFromVideoUrlContinuously(url,callbackFn):this.decodeFromVideoElementContinuously(source,callbackFn)},BrowserCodeReader.prototype.decodeFromImageElement=function(source){if(!source)throw new ArgumentException_1.default("An image element must be provided.");this.reset();var element=this.prepareImageElement(source);return this.imageElement=element,this.isImageLoaded(element)?this.decodeOnce(element,!1,!0):this._decodeOnLoadImage(element)},BrowserCodeReader.prototype.decodeFromVideoElement=function(source){var element=this._decodeFromVideoElementSetup(source);return this._decodeOnLoadVideo(element)},BrowserCodeReader.prototype.decodeFromVideoElementContinuously=function(source,callbackFn){var element=this._decodeFromVideoElementSetup(source);return this._decodeOnLoadVideoContinuously(element,callbackFn)},BrowserCodeReader.prototype._decodeFromVideoElementSetup=function(source){if(!source)throw new ArgumentException_1.default("A video element must be provided.");this.reset();var element=this.prepareVideoElement(source);return this.videoElement=element,element},BrowserCodeReader.prototype.decodeFromImageUrl=function(url){if(!url)throw new ArgumentException_1.default("An URL must be provided.");this.reset();var element=this.prepareImageElement();this.imageElement=element;var decodeTask=this._decodeOnLoadImage(element);return element.src=url,decodeTask},BrowserCodeReader.prototype.decodeFromVideoUrl=function(url){if(!url)throw new ArgumentException_1.default("An URL must be provided.");this.reset();var element=this.prepareVideoElement(),decodeTask=this.decodeFromVideoElement(element);return element.src=url,decodeTask},BrowserCodeReader.prototype.decodeFromVideoUrlContinuously=function(url,callbackFn){if(!url)throw new ArgumentException_1.default("An URL must be provided.");this.reset();var element=this.prepareVideoElement(),decodeTask=this.decodeFromVideoElementContinuously(element,callbackFn);return element.src=url,decodeTask},BrowserCodeReader.prototype._decodeOnLoadImage=function(element){var _this=this;return new Promise((function(resolve,reject){_this.imageLoadedListener=function(){return _this.decodeOnce(element,!1,!0).then(resolve,reject)},element.addEventListener("load",_this.imageLoadedListener)}))},BrowserCodeReader.prototype._decodeOnLoadVideo=function(videoElement){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.playVideoOnLoadAsync(videoElement)];case 1:return _a.sent(),[4,this.decodeOnce(videoElement)];case 2:return[2,_a.sent()]}}))}))},BrowserCodeReader.prototype._decodeOnLoadVideoContinuously=function(videoElement,callbackFn){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.playVideoOnLoadAsync(videoElement)];case 1:return _a.sent(),this.decodeContinuously(videoElement,callbackFn),[2]}}))}))},BrowserCodeReader.prototype.isImageLoaded=function(img){return!!img.complete&&0!==img.naturalWidth},BrowserCodeReader.prototype.prepareImageElement=function(imageSource){var imageElement;return void 0===imageSource&&((imageElement=document.createElement("img")).width=200,imageElement.height=200),"string"==typeof imageSource&&(imageElement=this.getMediaElement(imageSource,"img")),imageSource instanceof HTMLImageElement&&(imageElement=imageSource),imageElement},BrowserCodeReader.prototype.prepareVideoElement=function(videoSource){var videoElement;return videoSource||"undefined"==typeof document||((videoElement=document.createElement("video")).width=200,videoElement.height=200),"string"==typeof videoSource&&(videoElement=this.getMediaElement(videoSource,"video")),videoSource instanceof HTMLVideoElement&&(videoElement=videoSource),videoElement.setAttribute("autoplay","true"),videoElement.setAttribute("muted","true"),videoElement.setAttribute("playsinline","true"),videoElement},BrowserCodeReader.prototype.decodeOnce=function(element,retryIfNotFound,retryIfChecksumOrFormatError){var _this=this;void 0===retryIfNotFound&&(retryIfNotFound=!0),void 0===retryIfChecksumOrFormatError&&(retryIfChecksumOrFormatError=!0),this._stopAsyncDecode=!1;var loop=function(resolve,reject){if(_this._stopAsyncDecode)return reject(new NotFoundException_1.default("Video stream has ended before any code could be detected.")),void(_this._stopAsyncDecode=void 0);try{var result=_this.decode(element);resolve(result)}catch(e){if(retryIfNotFound&&e instanceof NotFoundException_1.default||(e instanceof ChecksumException_1.default||e instanceof FormatException_1.default)&&retryIfChecksumOrFormatError)return setTimeout((function(){return loop(resolve,reject)}),_this._timeBetweenDecodingAttempts);reject(e)}};return new Promise((function(resolve,reject){return loop(resolve,reject)}))},BrowserCodeReader.prototype.decodeContinuously=function(element,callbackFn){var _this=this;this._stopContinuousDecode=!1;var loop=function(){if(_this._stopContinuousDecode)_this._stopContinuousDecode=void 0;else try{var result=_this.decode(element);callbackFn(result,null),setTimeout((function(){return loop()}),_this.timeBetweenScansMillis)}catch(e){callbackFn(null,e),(e instanceof ChecksumException_1.default||e instanceof FormatException_1.default||e instanceof NotFoundException_1.default)&&setTimeout((function(){return loop()}),_this._timeBetweenDecodingAttempts)}};loop()},BrowserCodeReader.prototype.decode=function(element){var binaryBitmap=this.createBinaryBitmap(element);return this.decodeBitmap(binaryBitmap)},BrowserCodeReader.prototype.createBinaryBitmap=function(mediaElement){var ctx=this.getCaptureCanvasContext(mediaElement);this.drawImageOnCanvas(ctx,mediaElement);var canvas=this.getCaptureCanvas(mediaElement),luminanceSource=new HTMLCanvasElementLuminanceSource_1.HTMLCanvasElementLuminanceSource(canvas),hybridBinarizer=new HybridBinarizer_1.default(luminanceSource);return new BinaryBitmap_1.default(hybridBinarizer)},BrowserCodeReader.prototype.getCaptureCanvasContext=function(mediaElement){if(!this.captureCanvasContext){var ctx=this.getCaptureCanvas(mediaElement).getContext("2d");this.captureCanvasContext=ctx}return this.captureCanvasContext},BrowserCodeReader.prototype.getCaptureCanvas=function(mediaElement){if(!this.captureCanvas){var elem=this.createCaptureCanvas(mediaElement);this.captureCanvas=elem}return this.captureCanvas},BrowserCodeReader.prototype.drawImageOnCanvas=function(canvasElementContext,srcElement){canvasElementContext.drawImage(srcElement,0,0)},BrowserCodeReader.prototype.decodeBitmap=function(binaryBitmap){return this.reader.decode(binaryBitmap,this._hints)},BrowserCodeReader.prototype.createCaptureCanvas=function(mediaElement){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var width,height,canvasElement=document.createElement("canvas");return void 0!==mediaElement&&(mediaElement instanceof HTMLVideoElement?(width=mediaElement.videoWidth,height=mediaElement.videoHeight):mediaElement instanceof HTMLImageElement&&(width=mediaElement.naturalWidth||mediaElement.width,height=mediaElement.naturalHeight||mediaElement.height)),canvasElement.style.width=width+"px",canvasElement.style.height=height+"px",canvasElement.width=width,canvasElement.height=height,canvasElement},BrowserCodeReader.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach((function(t){return t.stop()})),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},BrowserCodeReader.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},BrowserCodeReader.prototype._destroyVideoElement=function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},BrowserCodeReader.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},BrowserCodeReader.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},BrowserCodeReader.prototype.addVideoSource=function(videoElement,stream){try{videoElement.srcObject=stream}catch(err){videoElement.src=URL.createObjectURL(stream)}},BrowserCodeReader.prototype.cleanVideoSource=function(videoElement){try{videoElement.srcObject=null}catch(err){videoElement.src=""}this.videoElement.removeAttribute("src")},BrowserCodeReader}()},RwQb:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Version_1=__webpack_require__("okgz"),FormatInformation_1=__webpack_require__("ainZ"),DataMask_1=__webpack_require__("OprD"),FormatException_1=__webpack_require__("dGMj");exports.default=function(){function BitMatrixParser(bitMatrix){var dimension=bitMatrix.getHeight();if(dimension<21||1!=(3&dimension))throw new FormatException_1.default;this.bitMatrix=bitMatrix}return BitMatrixParser.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var formatInfoBits1=0,i=0;i<6;i++)formatInfoBits1=this.copyBit(i,8,formatInfoBits1);formatInfoBits1=this.copyBit(7,8,formatInfoBits1),formatInfoBits1=this.copyBit(8,8,formatInfoBits1),formatInfoBits1=this.copyBit(8,7,formatInfoBits1);for(var j=5;j>=0;j--)formatInfoBits1=this.copyBit(8,j,formatInfoBits1);var dimension=this.bitMatrix.getHeight(),formatInfoBits2=0,jMin=dimension-7;for(j=dimension-1;j>=jMin;j--)formatInfoBits2=this.copyBit(8,j,formatInfoBits2);for(i=dimension-8;i<dimension;i++)formatInfoBits2=this.copyBit(i,8,formatInfoBits2);if(this.parsedFormatInfo=FormatInformation_1.default.decodeFormatInformation(formatInfoBits1,formatInfoBits2),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new FormatException_1.default},BitMatrixParser.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var dimension=this.bitMatrix.getHeight(),provisionalVersion=Math.floor((dimension-17)/4);if(provisionalVersion<=6)return Version_1.default.getVersionForNumber(provisionalVersion);for(var versionBits=0,ijMin=dimension-11,j=5;j>=0;j--)for(var i=dimension-9;i>=ijMin;i--)versionBits=this.copyBit(i,j,versionBits);var theParsedVersion=Version_1.default.decodeVersionInformation(versionBits);if(null!==theParsedVersion&&theParsedVersion.getDimensionForVersion()===dimension)return this.parsedVersion=theParsedVersion,theParsedVersion;for(versionBits=0,i=5;i>=0;i--)for(j=dimension-9;j>=ijMin;j--)versionBits=this.copyBit(i,j,versionBits);if(null!==(theParsedVersion=Version_1.default.decodeVersionInformation(versionBits))&&theParsedVersion.getDimensionForVersion()===dimension)return this.parsedVersion=theParsedVersion,theParsedVersion;throw new FormatException_1.default},BitMatrixParser.prototype.copyBit=function(i,j,versionBits){return(this.isMirror?this.bitMatrix.get(j,i):this.bitMatrix.get(i,j))?versionBits<<1|1:versionBits<<1},BitMatrixParser.prototype.readCodewords=function(){var formatInfo=this.readFormatInformation(),version=this.readVersion(),dataMask=DataMask_1.default.values.get(formatInfo.getDataMask()),dimension=this.bitMatrix.getHeight();dataMask.unmaskBitMatrix(this.bitMatrix,dimension);for(var functionPattern=version.buildFunctionPattern(),readingUp=!0,result=new Uint8Array(version.getTotalCodewords()),resultOffset=0,currentByte=0,bitsRead=0,j=dimension-1;j>0;j-=2){6===j&&j--;for(var count=0;count<dimension;count++)for(var i=readingUp?dimension-1-count:count,col=0;col<2;col++)functionPattern.get(j-col,i)||(bitsRead++,currentByte<<=1,this.bitMatrix.get(j-col,i)&&(currentByte|=1),8===bitsRead&&(result[resultOffset++]=currentByte,bitsRead=0,currentByte=0));readingUp=!readingUp}if(resultOffset!==version.getTotalCodewords())throw new FormatException_1.default;return result},BitMatrixParser.prototype.remask=function(){if(null!==this.parsedFormatInfo){var dataMask=DataMask_1.default.values[this.parsedFormatInfo.getDataMask()],dimension=this.bitMatrix.getHeight();dataMask.unmaskBitMatrix(this.bitMatrix,dimension)}},BitMatrixParser.prototype.setMirror=function(isMirror){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=isMirror},BitMatrixParser.prototype.mirror=function(){for(var bitMatrix=this.bitMatrix,x=0,width=bitMatrix.getWidth();x<width;x++)for(var y=x+1,height=bitMatrix.getHeight();y<height;y++)bitMatrix.get(x,y)!==bitMatrix.get(y,x)&&(bitMatrix.flip(y,x),bitMatrix.flip(x,y))},BitMatrixParser}()},S6kV:function(module,exports,__webpack_require__){var OFB,Encryptor,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.mode.OFB=(Encryptor=(OFB=CryptoJS.lib.BlockCipherMode.extend()).Encryptor=OFB.extend({processBlock:function(words,offset){var cipher=this._cipher,blockSize=cipher.blockSize,iv=this._iv,keystream=this._keystream;iv&&(keystream=this._keystream=iv.slice(0),this._iv=void 0),cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++)words[offset+i]^=keystream[i]}}),OFB.Decryptor=Encryptor,OFB),CryptoJS.mode.OFB)},SgF2:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function StringBuilder(value){void 0===value&&(value=""),this.value=value}return StringBuilder.prototype.append=function(s){return this.value+="string"==typeof s?s.toString():String.fromCharCode(s),this},StringBuilder.prototype.length=function(){return this.value.length},StringBuilder.prototype.charAt=function(n){return this.value.charAt(n)},StringBuilder.prototype.deleteCharAt=function(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)},StringBuilder.prototype.setCharAt=function(n,c){this.value=this.value.substr(0,n)+c+this.value.substr(n+1)},StringBuilder.prototype.toString=function(){return this.value},StringBuilder.prototype.insert=function(n,c){this.value=this.value.substr(0,n)+c+this.value.substr(n+c.length)},StringBuilder}()},SveX:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ArgumentException_1=__webpack_require__("LYY4"),IllegalArgumentException_1=__webpack_require__("z1Y+"),ErrorCorrectionLevelValues=exports.ErrorCorrectionLevelValues=function(ErrorCorrectionLevelValues){return ErrorCorrectionLevelValues[ErrorCorrectionLevelValues.L=0]="L",ErrorCorrectionLevelValues[ErrorCorrectionLevelValues.M=1]="M",ErrorCorrectionLevelValues[ErrorCorrectionLevelValues.Q=2]="Q",ErrorCorrectionLevelValues[ErrorCorrectionLevelValues.H=3]="H",ErrorCorrectionLevelValues}(exports.ErrorCorrectionLevelValues||{});exports.default=function(){function ErrorCorrectionLevel(value,stringValue,bits){this.value=value,this.stringValue=stringValue,this.bits=bits,ErrorCorrectionLevel.FOR_BITS.set(bits,this),ErrorCorrectionLevel.FOR_VALUE.set(value,this)}return ErrorCorrectionLevel.prototype.getValue=function(){return this.value},ErrorCorrectionLevel.prototype.getBits=function(){return this.bits},ErrorCorrectionLevel.fromString=function(s){switch(s){case"L":return ErrorCorrectionLevel.L;case"M":return ErrorCorrectionLevel.M;case"Q":return ErrorCorrectionLevel.Q;case"H":return ErrorCorrectionLevel.H;default:throw new ArgumentException_1.default(s+"not available")}},ErrorCorrectionLevel.prototype.toString=function(){return this.stringValue},ErrorCorrectionLevel.prototype.equals=function(o){return o instanceof ErrorCorrectionLevel&&this.value===o.value},ErrorCorrectionLevel.forBits=function(bits){if(bits<0||bits>=ErrorCorrectionLevel.FOR_BITS.size)throw new IllegalArgumentException_1.default;return ErrorCorrectionLevel.FOR_BITS.get(bits)},ErrorCorrectionLevel.FOR_BITS=new Map,ErrorCorrectionLevel.FOR_VALUE=new Map,ErrorCorrectionLevel.L=new ErrorCorrectionLevel(ErrorCorrectionLevelValues.L,"L",1),ErrorCorrectionLevel.M=new ErrorCorrectionLevel(ErrorCorrectionLevelValues.M,"M",0),ErrorCorrectionLevel.Q=new ErrorCorrectionLevel(ErrorCorrectionLevelValues.Q,"Q",3),ErrorCorrectionLevel.H=new ErrorCorrectionLevel(ErrorCorrectionLevelValues.H,"H",2),ErrorCorrectionLevel}()},TWbq:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var UPCEANReader_1=__webpack_require__("uT6O"),UPCEANExtension5Support_1=__webpack_require__("Ogyy"),UPCEANExtension2Support_1=__webpack_require__("ISut");exports.default=function(){function UPCEANExtensionSupport(){}return UPCEANExtensionSupport.decodeRow=function(rowNumber,row,rowOffset){var extensionStartRange=UPCEANReader_1.default.findGuardPattern(row,rowOffset,!1,this.EXTENSION_START_PATTERN,new Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new UPCEANExtension5Support_1.default).decodeRow(rowNumber,row,extensionStartRange)}catch(err){return(new UPCEANExtension2Support_1.default).decodeRow(rowNumber,row,extensionStartRange)}},UPCEANExtensionSupport.EXTENSION_START_PATTERN=[1,1,2],UPCEANExtensionSupport}()},U4yT:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function UnsupportedOperationException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(UnsupportedOperationException,_super),UnsupportedOperationException}(Exception_1.default)},Ultx:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(ResultMetadataType){return ResultMetadataType[ResultMetadataType.OTHER=0]="OTHER",ResultMetadataType[ResultMetadataType.ORIENTATION=1]="ORIENTATION",ResultMetadataType[ResultMetadataType.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ResultMetadataType[ResultMetadataType.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ResultMetadataType[ResultMetadataType.ISSUE_NUMBER=4]="ISSUE_NUMBER",ResultMetadataType[ResultMetadataType.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ResultMetadataType[ResultMetadataType.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ResultMetadataType[ResultMetadataType.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ResultMetadataType[ResultMetadataType.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ResultMetadataType[ResultMetadataType.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ResultMetadataType[ResultMetadataType.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",ResultMetadataType}({})},Vbaj:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DecoderResult_1=__webpack_require__("YTb4"),BitSource_1=__webpack_require__("770L"),StringBuilder_1=__webpack_require__("SgF2"),StringEncoding_1=__webpack_require__("oyvp"),__1=__webpack_require__("5YjC"),FormatException_1=__webpack_require__("dGMj"),IllegalStateException_1=__webpack_require__("dI6j"),Mode=function(Mode){return Mode[Mode.PAD_ENCODE=0]="PAD_ENCODE",Mode[Mode.ASCII_ENCODE=1]="ASCII_ENCODE",Mode[Mode.C40_ENCODE=2]="C40_ENCODE",Mode[Mode.TEXT_ENCODE=3]="TEXT_ENCODE",Mode[Mode.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Mode[Mode.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Mode[Mode.BASE256_ENCODE=6]="BASE256_ENCODE",Mode}({});exports.default=function(){function DecodedBitStreamParser(){}return DecodedBitStreamParser.decode=function(bytes){var bits=new BitSource_1.default(bytes),result=new StringBuilder_1.default,resultTrailer=new StringBuilder_1.default,byteSegments=new Array,mode=Mode.ASCII_ENCODE;do{if(mode===Mode.ASCII_ENCODE)mode=this.decodeAsciiSegment(bits,result,resultTrailer);else{switch(mode){case Mode.C40_ENCODE:this.decodeC40Segment(bits,result);break;case Mode.TEXT_ENCODE:this.decodeTextSegment(bits,result);break;case Mode.ANSIX12_ENCODE:this.decodeAnsiX12Segment(bits,result);break;case Mode.EDIFACT_ENCODE:this.decodeEdifactSegment(bits,result);break;case Mode.BASE256_ENCODE:this.decodeBase256Segment(bits,result,byteSegments);break;default:throw new FormatException_1.default}mode=Mode.ASCII_ENCODE}}while(mode!==Mode.PAD_ENCODE&&bits.available()>0);return resultTrailer.length()>0&&result.append(resultTrailer.toString()),new DecoderResult_1.default(bytes,result.toString(),0===byteSegments.length?null:byteSegments,null)},DecodedBitStreamParser.decodeAsciiSegment=function(bits,result,resultTrailer){var upperShift=!1;do{var oneByte=bits.readBits(8);if(0===oneByte)throw new FormatException_1.default;if(oneByte<=128)return upperShift&&(oneByte+=128),result.append(String.fromCharCode(oneByte-1)),Mode.ASCII_ENCODE;if(129===oneByte)return Mode.PAD_ENCODE;if(oneByte<=229){var value=oneByte-130;value<10&&result.append("0"),result.append(""+value)}else switch(oneByte){case 230:return Mode.C40_ENCODE;case 231:return Mode.BASE256_ENCODE;case 232:result.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:upperShift=!0;break;case 236:result.append("[)>05"),resultTrailer.insert(0,"");break;case 237:result.append("[)>06"),resultTrailer.insert(0,"");break;case 238:return Mode.ANSIX12_ENCODE;case 239:return Mode.TEXT_ENCODE;case 240:return Mode.EDIFACT_ENCODE;case 241:break;default:if(254!==oneByte||0!==bits.available())throw new FormatException_1.default}}while(bits.available()>0);return Mode.ASCII_ENCODE},DecodedBitStreamParser.decodeC40Segment=function(bits,result){var upperShift=!1,cValues=[],shift=0;do{if(8===bits.available())return;var firstByte=bits.readBits(8);if(254===firstByte)return;this.parseTwoBytes(firstByte,bits.readBits(8),cValues);for(var i=0;i<3;i++){var cValue=cValues[i];switch(shift){case 0:if(cValue<3)shift=cValue+1;else{if(!(cValue<this.C40_BASIC_SET_CHARS.length))throw new FormatException_1.default;var c40char=this.C40_BASIC_SET_CHARS[cValue];upperShift?(result.append(String.fromCharCode(c40char.charCodeAt(0)+128)),upperShift=!1):result.append(c40char)}break;case 1:upperShift?(result.append(String.fromCharCode(cValue+128)),upperShift=!1):result.append(String.fromCharCode(cValue)),shift=0;break;case 2:if(cValue<this.C40_SHIFT2_SET_CHARS.length)c40char=this.C40_SHIFT2_SET_CHARS[cValue],upperShift?(result.append(String.fromCharCode(c40char.charCodeAt(0)+128)),upperShift=!1):result.append(c40char);else switch(cValue){case 27:result.append(String.fromCharCode(29));break;case 30:upperShift=!0;break;default:throw new FormatException_1.default}shift=0;break;case 3:upperShift?(result.append(String.fromCharCode(cValue+224)),upperShift=!1):result.append(String.fromCharCode(cValue+96)),shift=0;break;default:throw new FormatException_1.default}}}while(bits.available()>0)},DecodedBitStreamParser.decodeTextSegment=function(bits,result){var upperShift=!1,cValues=[],shift=0;do{if(8===bits.available())return;var firstByte=bits.readBits(8);if(254===firstByte)return;this.parseTwoBytes(firstByte,bits.readBits(8),cValues);for(var i=0;i<3;i++){var cValue=cValues[i];switch(shift){case 0:if(cValue<3)shift=cValue+1;else{if(!(cValue<this.TEXT_BASIC_SET_CHARS.length))throw new FormatException_1.default;var textChar=this.TEXT_BASIC_SET_CHARS[cValue];upperShift?(result.append(String.fromCharCode(textChar.charCodeAt(0)+128)),upperShift=!1):result.append(textChar)}break;case 1:upperShift?(result.append(String.fromCharCode(cValue+128)),upperShift=!1):result.append(String.fromCharCode(cValue)),shift=0;break;case 2:if(cValue<this.TEXT_SHIFT2_SET_CHARS.length)textChar=this.TEXT_SHIFT2_SET_CHARS[cValue],upperShift?(result.append(String.fromCharCode(textChar.charCodeAt(0)+128)),upperShift=!1):result.append(textChar);else switch(cValue){case 27:result.append(String.fromCharCode(29));break;case 30:upperShift=!0;break;default:throw new FormatException_1.default}shift=0;break;case 3:if(!(cValue<this.TEXT_SHIFT3_SET_CHARS.length))throw new FormatException_1.default;textChar=this.TEXT_SHIFT3_SET_CHARS[cValue],upperShift?(result.append(String.fromCharCode(textChar.charCodeAt(0)+128)),upperShift=!1):result.append(textChar),shift=0;break;default:throw new FormatException_1.default}}}while(bits.available()>0)},DecodedBitStreamParser.decodeAnsiX12Segment=function(bits,result){var cValues=[];do{if(8===bits.available())return;var firstByte=bits.readBits(8);if(254===firstByte)return;this.parseTwoBytes(firstByte,bits.readBits(8),cValues);for(var i=0;i<3;i++){var cValue=cValues[i];switch(cValue){case 0:result.append("\r");break;case 1:result.append("*");break;case 2:result.append(">");break;case 3:result.append(" ");break;default:if(cValue<14)result.append(String.fromCharCode(cValue+44));else{if(!(cValue<40))throw new FormatException_1.default;result.append(String.fromCharCode(cValue+51))}}}}while(bits.available()>0)},DecodedBitStreamParser.parseTwoBytes=function(firstByte,secondByte,result){var fullBitValue=(firstByte<<8)+secondByte-1,temp=Math.floor(fullBitValue/1600);result[0]=temp,fullBitValue-=1600*temp,temp=Math.floor(fullBitValue/40),result[1]=temp,result[2]=fullBitValue-40*temp},DecodedBitStreamParser.decodeEdifactSegment=function(bits,result){do{if(bits.available()<=16)return;for(var i=0;i<4;i++){var edifactValue=bits.readBits(6);if(31===edifactValue){var bitsLeft=8-bits.getBitOffset();return void(8!==bitsLeft&&bits.readBits(bitsLeft))}0==(32&edifactValue)&&(edifactValue|=64),result.append(String.fromCharCode(edifactValue))}}while(bits.available()>0)},DecodedBitStreamParser.decodeBase256Segment=function(bits,result,byteSegments){var count,codewordPosition=1+bits.getByteOffset(),d1=this.unrandomize255State(bits.readBits(8),codewordPosition++);if((count=0===d1?bits.available()/8|0:d1<250?d1:250*(d1-249)+this.unrandomize255State(bits.readBits(8),codewordPosition++))<0)throw new FormatException_1.default;for(var bytes=new Uint8Array(count),i=0;i<count;i++){if(bits.available()<8)throw new FormatException_1.default;bytes[i]=this.unrandomize255State(bits.readBits(8),codewordPosition++)}byteSegments.push(bytes);try{result.append(StringEncoding_1.default.decode(bytes,__1.StringUtils.ISO88591))}catch(uee){throw new IllegalStateException_1.default("Platform does not support required encoding: "+uee.message)}},DecodedBitStreamParser.unrandomize255State=function(randomizedBase256Codeword,base256CodewordPosition){var tempVariable=randomizedBase256Codeword-(149*base256CodewordPosition%255+1);return tempVariable>=0?tempVariable:tempVariable+256},DecodedBitStreamParser.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],DecodedBitStreamParser.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],DecodedBitStreamParser.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],DecodedBitStreamParser.TEXT_SHIFT2_SET_CHARS=DecodedBitStreamParser.C40_SHIFT2_SET_CHARS,DecodedBitStreamParser.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],DecodedBitStreamParser}()},W6AM:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BrowserCodeReader_1=__webpack_require__("RqVx"),DataMatrixReader_1=__webpack_require__("gTaM");exports.BrowserDatamatrixCodeReader=function(_super){function BrowserDatamatrixCodeReader(timeBetweenScansMillis){return void 0===timeBetweenScansMillis&&(timeBetweenScansMillis=500),_super.call(this,new DataMatrixReader_1.default,timeBetweenScansMillis)||this}return __extends(BrowserDatamatrixCodeReader,_super),BrowserDatamatrixCodeReader}(BrowserCodeReader_1.BrowserCodeReader)},WYAk:function(module,exports,__webpack_require__){var CryptoJS,Utf8;module.exports=(CryptoJS=__webpack_require__("Ib8C"),Utf8=CryptoJS.enc.Utf8,void(CryptoJS.algo.HMAC=CryptoJS.lib.Base.extend({init:function(hasher,key){hasher=this._hasher=new hasher.init,"string"==typeof key&&(key=Utf8.parse(key));var hasherBlockSize=hasher.blockSize,hasherBlockSizeBytes=4*hasherBlockSize;key.sigBytes>hasherBlockSizeBytes&&(key=hasher.finalize(key)),key.clamp();for(var oKey=this._oKey=key.clone(),iKey=this._iKey=key.clone(),oKeyWords=oKey.words,iKeyWords=iKey.words,i=0;i<hasherBlockSize;i++)oKeyWords[i]^=1549556828,iKeyWords[i]^=909522486;oKey.sigBytes=iKey.sigBytes=hasherBlockSizeBytes,this.reset()},reset:function(){var hasher=this._hasher;hasher.reset(),hasher.update(this._iKey)},update:function(messageUpdate){return this._hasher.update(messageUpdate),this},finalize:function(messageUpdate){var hasher=this._hasher,innerHash=hasher.finalize(messageUpdate);return hasher.reset(),hasher.finalize(this._oKey.clone().concat(innerHash))}})))},XFMn:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitSource_1=__webpack_require__("770L"),CharacterSetECI_1=__webpack_require__("pds4"),DecoderResult_1=__webpack_require__("YTb4"),StringUtils_1=__webpack_require__("cb+Z"),Mode_1=__webpack_require__("IA+L"),StringBuilder_1=__webpack_require__("SgF2"),StringEncoding_1=__webpack_require__("oyvp"),FormatException_1=__webpack_require__("dGMj");exports.default=function(){function DecodedBitStreamParser(){}return DecodedBitStreamParser.decode=function(bytes,version,ecLevel,hints){var bits=new BitSource_1.default(bytes),result=new StringBuilder_1.default,byteSegments=new Array,symbolSequence=-1,parityData=-1;try{var currentCharacterSetECI=null,fc1InEffect=!1,mode=void 0;do{if(bits.available()<4)mode=Mode_1.default.TERMINATOR;else{var modeBits=bits.readBits(4);mode=Mode_1.default.forBits(modeBits)}switch(mode){case Mode_1.default.TERMINATOR:break;case Mode_1.default.FNC1_FIRST_POSITION:case Mode_1.default.FNC1_SECOND_POSITION:fc1InEffect=!0;break;case Mode_1.default.STRUCTURED_APPEND:if(bits.available()<16)throw new FormatException_1.default;symbolSequence=bits.readBits(8),parityData=bits.readBits(8);break;case Mode_1.default.ECI:var value=DecodedBitStreamParser.parseECIValue(bits);if(null===(currentCharacterSetECI=CharacterSetECI_1.default.getCharacterSetECIByValue(value)))throw new FormatException_1.default;break;case Mode_1.default.HANZI:var subset=bits.readBits(4),countHanzi=bits.readBits(mode.getCharacterCountBits(version));subset===DecodedBitStreamParser.GB2312_SUBSET&&DecodedBitStreamParser.decodeHanziSegment(bits,result,countHanzi);break;default:var count=bits.readBits(mode.getCharacterCountBits(version));switch(mode){case Mode_1.default.NUMERIC:DecodedBitStreamParser.decodeNumericSegment(bits,result,count);break;case Mode_1.default.ALPHANUMERIC:DecodedBitStreamParser.decodeAlphanumericSegment(bits,result,count,fc1InEffect);break;case Mode_1.default.BYTE:DecodedBitStreamParser.decodeByteSegment(bits,result,count,currentCharacterSetECI,byteSegments,hints);break;case Mode_1.default.KANJI:DecodedBitStreamParser.decodeKanjiSegment(bits,result,count);break;default:throw new FormatException_1.default}}}while(mode!==Mode_1.default.TERMINATOR)}catch(iae){throw new FormatException_1.default}return new DecoderResult_1.default(bytes,result.toString(),0===byteSegments.length?null:byteSegments,null===ecLevel?null:ecLevel.toString(),symbolSequence,parityData)},DecodedBitStreamParser.decodeHanziSegment=function(bits,result,count){if(13*count>bits.available())throw new FormatException_1.default;for(var buffer=new Uint8Array(2*count),offset=0;count>0;){var twoBytes=bits.readBits(13),assembledTwoBytes=twoBytes/96<<8&4294967295|twoBytes%96;buffer[offset]=(assembledTwoBytes+=assembledTwoBytes<959?41377:42657)>>8&255,buffer[offset+1]=255&assembledTwoBytes,offset+=2,count--}try{result.append(StringEncoding_1.default.decode(buffer,StringUtils_1.default.GB2312))}catch(ignored){throw new FormatException_1.default(ignored)}},DecodedBitStreamParser.decodeKanjiSegment=function(bits,result,count){if(13*count>bits.available())throw new FormatException_1.default;for(var buffer=new Uint8Array(2*count),offset=0;count>0;){var twoBytes=bits.readBits(13),assembledTwoBytes=twoBytes/192<<8&4294967295|twoBytes%192;buffer[offset]=(assembledTwoBytes+=assembledTwoBytes<7936?33088:49472)>>8,buffer[offset+1]=assembledTwoBytes,offset+=2,count--}try{result.append(StringEncoding_1.default.decode(buffer,StringUtils_1.default.SHIFT_JIS))}catch(ignored){throw new FormatException_1.default(ignored)}},DecodedBitStreamParser.decodeByteSegment=function(bits,result,count,currentCharacterSetECI,byteSegments,hints){if(8*count>bits.available())throw new FormatException_1.default;for(var encoding,readBytes=new Uint8Array(count),i=0;i<count;i++)readBytes[i]=bits.readBits(8);encoding=null===currentCharacterSetECI?StringUtils_1.default.guessEncoding(readBytes,hints):currentCharacterSetECI.getName();try{result.append(StringEncoding_1.default.decode(readBytes,encoding))}catch(ignored){throw new FormatException_1.default(ignored)}byteSegments.push(readBytes)},DecodedBitStreamParser.toAlphaNumericChar=function(value){if(value>=DecodedBitStreamParser.ALPHANUMERIC_CHARS.length)throw new FormatException_1.default;return DecodedBitStreamParser.ALPHANUMERIC_CHARS[value]},DecodedBitStreamParser.decodeAlphanumericSegment=function(bits,result,count,fc1InEffect){for(var start=result.length();count>1;){if(bits.available()<11)throw new FormatException_1.default;var nextTwoCharsBits=bits.readBits(11);result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(nextTwoCharsBits/45))),result.append(DecodedBitStreamParser.toAlphaNumericChar(nextTwoCharsBits%45)),count-=2}if(1===count){if(bits.available()<6)throw new FormatException_1.default;result.append(DecodedBitStreamParser.toAlphaNumericChar(bits.readBits(6)))}if(fc1InEffect)for(var i=start;i<result.length();i++)"%"===result.charAt(i)&&(i<result.length()-1&&"%"===result.charAt(i+1)?result.deleteCharAt(i+1):result.setCharAt(i,String.fromCharCode(29)))},DecodedBitStreamParser.decodeNumericSegment=function(bits,result,count){for(;count>=3;){if(bits.available()<10)throw new FormatException_1.default;var threeDigitsBits=bits.readBits(10);if(threeDigitsBits>=1e3)throw new FormatException_1.default;result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(threeDigitsBits/100))),result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(threeDigitsBits/10)%10)),result.append(DecodedBitStreamParser.toAlphaNumericChar(threeDigitsBits%10)),count-=3}if(2===count){if(bits.available()<7)throw new FormatException_1.default;var twoDigitsBits=bits.readBits(7);if(twoDigitsBits>=100)throw new FormatException_1.default;result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(twoDigitsBits/10))),result.append(DecodedBitStreamParser.toAlphaNumericChar(twoDigitsBits%10))}else if(1===count){if(bits.available()<4)throw new FormatException_1.default;var digitBits=bits.readBits(4);if(digitBits>=10)throw new FormatException_1.default;result.append(DecodedBitStreamParser.toAlphaNumericChar(digitBits))}},DecodedBitStreamParser.parseECIValue=function(bits){var firstByte=bits.readBits(8);if(0==(128&firstByte))return 127&firstByte;if(128==(192&firstByte))return(63&firstByte)<<8&4294967295|bits.readBits(8);if(192==(224&firstByte))return(31&firstByte)<<16&4294967295|bits.readBits(16);throw new FormatException_1.default},DecodedBitStreamParser.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",DecodedBitStreamParser.GB2312_SUBSET=1,DecodedBitStreamParser}()},YTb4:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DecoderResult=function(){function DecoderResult(rawBytes,text,byteSegments,ecLevel,structuredAppendSequenceNumber,structuredAppendParity){void 0===structuredAppendSequenceNumber&&(structuredAppendSequenceNumber=-1),void 0===structuredAppendParity&&(structuredAppendParity=-1),this.rawBytes=rawBytes,this.text=text,this.byteSegments=byteSegments,this.ecLevel=ecLevel,this.structuredAppendSequenceNumber=structuredAppendSequenceNumber,this.structuredAppendParity=structuredAppendParity,this.numBits=null==rawBytes?0:8*rawBytes.length}return DecoderResult.prototype.getRawBytes=function(){return this.rawBytes},DecoderResult.prototype.getNumBits=function(){return this.numBits},DecoderResult.prototype.setNumBits=function(numBits){this.numBits=numBits},DecoderResult.prototype.getText=function(){return this.text},DecoderResult.prototype.getByteSegments=function(){return this.byteSegments},DecoderResult.prototype.getECLevel=function(){return this.ecLevel},DecoderResult.prototype.getErrorsCorrected=function(){return this.errorsCorrected},DecoderResult.prototype.setErrorsCorrected=function(errorsCorrected){this.errorsCorrected=errorsCorrected},DecoderResult.prototype.getErasures=function(){return this.erasures},DecoderResult.prototype.setErasures=function(erasures){this.erasures=erasures},DecoderResult.prototype.getOther=function(){return this.other},DecoderResult.prototype.setOther=function(other){this.other=other},DecoderResult.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},DecoderResult.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},DecoderResult.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},DecoderResult}();exports.default=DecoderResult},YuTi:function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},"Z/r2":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitMatrix_1=__webpack_require__("/fss"),Version_1=__webpack_require__("ZINF"),FormatException_1=__webpack_require__("dGMj"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function BitMatrixParser(bitMatrix){var dimension=bitMatrix.getHeight();if(dimension<8||dimension>144||0!=(1&dimension))throw new FormatException_1.default;this.version=BitMatrixParser.readVersion(bitMatrix),this.mappingBitMatrix=this.extractDataRegion(bitMatrix),this.readMappingMatrix=new BitMatrix_1.default(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return BitMatrixParser.prototype.getVersion=function(){return this.version},BitMatrixParser.readVersion=function(bitMatrix){var numRows=bitMatrix.getHeight(),numColumns=bitMatrix.getWidth();return Version_1.default.getVersionForDimensions(numRows,numColumns)},BitMatrixParser.prototype.readCodewords=function(){var result=new Int8Array(this.version.getTotalCodewords()),resultOffset=0,row=4,column=0,numRows=this.mappingBitMatrix.getHeight(),numColumns=this.mappingBitMatrix.getWidth(),corner1Read=!1,corner2Read=!1,corner3Read=!1,corner4Read=!1;do{if(row!==numRows||0!==column||corner1Read)if(row!==numRows-2||0!==column||0==(3&numColumns)||corner2Read)if(row!==numRows+4||2!==column||0!=(7&numColumns)||corner3Read)if(row!==numRows-2||0!==column||4!=(7&numColumns)||corner4Read){do{row<numRows&&column>=0&&!this.readMappingMatrix.get(column,row)&&(result[resultOffset++]=255&this.readUtah(row,column,numRows,numColumns)),row-=2,column+=2}while(row>=0&&column<numColumns);row+=1,column+=3;do{row>=0&&column<numColumns&&!this.readMappingMatrix.get(column,row)&&(result[resultOffset++]=255&this.readUtah(row,column,numRows,numColumns)),row+=2,column-=2}while(row<numRows&&column>=0);row+=3,column+=1}else result[resultOffset++]=255&this.readCorner4(numRows,numColumns),row-=2,column+=2,corner4Read=!0;else result[resultOffset++]=255&this.readCorner3(numRows,numColumns),row-=2,column+=2,corner3Read=!0;else result[resultOffset++]=255&this.readCorner2(numRows,numColumns),row-=2,column+=2,corner2Read=!0;else result[resultOffset++]=255&this.readCorner1(numRows,numColumns),row-=2,column+=2,corner1Read=!0}while(row<numRows||column<numColumns);if(resultOffset!==this.version.getTotalCodewords())throw new FormatException_1.default;return result},BitMatrixParser.prototype.readModule=function(row,column,numRows,numColumns){return row<0&&(row+=numRows,column+=4-(numRows+4&7)),column<0&&(column+=numColumns,row+=4-(numColumns+4&7)),this.readMappingMatrix.set(column,row),this.mappingBitMatrix.get(column,row)},BitMatrixParser.prototype.readUtah=function(row,column,numRows,numColumns){var currentByte=0;return this.readModule(row-2,column-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(row-2,column-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(row-1,column-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(row-1,column-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(row-1,column,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(row,column-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(row,column-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(row,column,numRows,numColumns)&&(currentByte|=1),currentByte},BitMatrixParser.prototype.readCorner1=function(numRows,numColumns){var currentByte=0;return this.readModule(numRows-1,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(numRows-1,1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(numRows-1,2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(1,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(2,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(3,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte},BitMatrixParser.prototype.readCorner2=function(numRows,numColumns){var currentByte=0;return this.readModule(numRows-3,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(numRows-2,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(numRows-1,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-4,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-3,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(1,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte},BitMatrixParser.prototype.readCorner3=function(numRows,numColumns){var currentByte=0;return this.readModule(numRows-1,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(numRows-1,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-3,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(1,numColumns-3,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(1,numColumns-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(1,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte},BitMatrixParser.prototype.readCorner4=function(numRows,numColumns){var currentByte=0;return this.readModule(numRows-3,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(numRows-2,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(numRows-1,0,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-2,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(0,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(1,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(2,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte<<=1,this.readModule(3,numColumns-1,numRows,numColumns)&&(currentByte|=1),currentByte},BitMatrixParser.prototype.extractDataRegion=function(bitMatrix){var symbolSizeRows=this.version.getSymbolSizeRows(),symbolSizeColumns=this.version.getSymbolSizeColumns();if(bitMatrix.getHeight()!==symbolSizeRows)throw new IllegalArgumentException_1.default("Dimension of bitMatrix must match the version size");for(var dataRegionSizeRows=this.version.getDataRegionSizeRows(),dataRegionSizeColumns=this.version.getDataRegionSizeColumns(),numDataRegionsRow=symbolSizeRows/dataRegionSizeRows|0,numDataRegionsColumn=symbolSizeColumns/dataRegionSizeColumns|0,bitMatrixWithoutAlignment=new BitMatrix_1.default(numDataRegionsColumn*dataRegionSizeColumns,numDataRegionsRow*dataRegionSizeRows),dataRegionRow=0;dataRegionRow<numDataRegionsRow;++dataRegionRow)for(var dataRegionRowOffset=dataRegionRow*dataRegionSizeRows,dataRegionColumn=0;dataRegionColumn<numDataRegionsColumn;++dataRegionColumn)for(var dataRegionColumnOffset=dataRegionColumn*dataRegionSizeColumns,i=0;i<dataRegionSizeRows;++i)for(var readRowOffset=dataRegionRow*(dataRegionSizeRows+2)+1+i,writeRowOffset=dataRegionRowOffset+i,j=0;j<dataRegionSizeColumns;++j)bitMatrix.get(dataRegionColumn*(dataRegionSizeColumns+2)+1+j,readRowOffset)&&bitMatrixWithoutAlignment.set(dataRegionColumnOffset+j,writeRowOffset);return bitMatrixWithoutAlignment},BitMatrixParser}()},ZINF:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var FormatException_1=__webpack_require__("dGMj"),ECBlocks=function(){function ECBlocks(ecCodewords,ecBlocks1,ecBlocks2){this.ecCodewords=ecCodewords,this.ecBlocks=[ecBlocks1],ecBlocks2&&this.ecBlocks.push(ecBlocks2)}return ECBlocks.prototype.getECCodewords=function(){return this.ecCodewords},ECBlocks.prototype.getECBlocks=function(){return this.ecBlocks},ECBlocks}();exports.ECBlocks=ECBlocks;var ECB=function(){function ECB(count,dataCodewords){this.count=count,this.dataCodewords=dataCodewords}return ECB.prototype.getCount=function(){return this.count},ECB.prototype.getDataCodewords=function(){return this.dataCodewords},ECB}();exports.ECB=ECB,exports.default=function(){function Version(versionNumber,symbolSizeRows,symbolSizeColumns,dataRegionSizeRows,dataRegionSizeColumns,ecBlocks){this.versionNumber=versionNumber,this.symbolSizeRows=symbolSizeRows,this.symbolSizeColumns=symbolSizeColumns,this.dataRegionSizeRows=dataRegionSizeRows,this.dataRegionSizeColumns=dataRegionSizeColumns,this.ecBlocks=ecBlocks;for(var total=0,ecCodewords=ecBlocks.getECCodewords(),_i=0,ecbArray_1=ecBlocks.getECBlocks();_i<ecbArray_1.length;_i++){var ecBlock=ecbArray_1[_i];total+=ecBlock.getCount()*(ecBlock.getDataCodewords()+ecCodewords)}this.totalCodewords=total}return Version.prototype.getVersionNumber=function(){return this.versionNumber},Version.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},Version.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},Version.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},Version.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},Version.prototype.getTotalCodewords=function(){return this.totalCodewords},Version.prototype.getECBlocks=function(){return this.ecBlocks},Version.getVersionForDimensions=function(numRows,numColumns){if(0!=(1&numRows)||0!=(1&numColumns))throw new FormatException_1.default;for(var _i=0,_a=Version.VERSIONS;_i<_a.length;_i++){var version=_a[_i];if(version.symbolSizeRows===numRows&&version.symbolSizeColumns===numColumns)return version}throw new FormatException_1.default},Version.prototype.toString=function(){return""+this.versionNumber},Version.buildVersions=function(){return[new Version(1,10,10,8,8,new ECBlocks(5,new ECB(1,3))),new Version(2,12,12,10,10,new ECBlocks(7,new ECB(1,5))),new Version(3,14,14,12,12,new ECBlocks(10,new ECB(1,8))),new Version(4,16,16,14,14,new ECBlocks(12,new ECB(1,12))),new Version(5,18,18,16,16,new ECBlocks(14,new ECB(1,18))),new Version(6,20,20,18,18,new ECBlocks(18,new ECB(1,22))),new Version(7,22,22,20,20,new ECBlocks(20,new ECB(1,30))),new Version(8,24,24,22,22,new ECBlocks(24,new ECB(1,36))),new Version(9,26,26,24,24,new ECBlocks(28,new ECB(1,44))),new Version(10,32,32,14,14,new ECBlocks(36,new ECB(1,62))),new Version(11,36,36,16,16,new ECBlocks(42,new ECB(1,86))),new Version(12,40,40,18,18,new ECBlocks(48,new ECB(1,114))),new Version(13,44,44,20,20,new ECBlocks(56,new ECB(1,144))),new Version(14,48,48,22,22,new ECBlocks(68,new ECB(1,174))),new Version(15,52,52,24,24,new ECBlocks(42,new ECB(2,102))),new Version(16,64,64,14,14,new ECBlocks(56,new ECB(2,140))),new Version(17,72,72,16,16,new ECBlocks(36,new ECB(4,92))),new Version(18,80,80,18,18,new ECBlocks(48,new ECB(4,114))),new Version(19,88,88,20,20,new ECBlocks(56,new ECB(4,144))),new Version(20,96,96,22,22,new ECBlocks(68,new ECB(4,174))),new Version(21,104,104,24,24,new ECBlocks(56,new ECB(6,136))),new Version(22,120,120,18,18,new ECBlocks(68,new ECB(6,175))),new Version(23,132,132,20,20,new ECBlocks(62,new ECB(8,163))),new Version(24,144,144,22,22,new ECBlocks(62,new ECB(8,156),new ECB(2,155))),new Version(25,8,18,6,16,new ECBlocks(7,new ECB(1,5))),new Version(26,8,32,6,14,new ECBlocks(11,new ECB(1,10))),new Version(27,12,26,10,24,new ECBlocks(14,new ECB(1,16))),new Version(28,12,36,10,16,new ECBlocks(18,new ECB(1,22))),new Version(29,16,36,14,16,new ECBlocks(24,new ECB(1,32))),new Version(30,16,48,14,22,new ECBlocks(28,new ECB(1,49)))]},Version.VERSIONS=Version.buildVersions(),Version}()},ZvTf:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function GridSampler(){}return GridSampler.checkAndNudgePoints=function(image,points){for(var width=image.getWidth(),height=image.getHeight(),nudged=!0,offset=0;offset<points.length&&nudged;offset+=2){var x=Math.floor(points[offset]),y=Math.floor(points[offset+1]);if(x<-1||x>width||y<-1||y>height)throw new NotFoundException_1.default;nudged=!1,-1===x?(points[offset]=0,nudged=!0):x===width&&(points[offset]=width-1,nudged=!0),-1===y?(points[offset+1]=0,nudged=!0):y===height&&(points[offset+1]=height-1,nudged=!0)}for(nudged=!0,offset=points.length-2;offset>=0&&nudged;offset-=2){if(x=Math.floor(points[offset]),y=Math.floor(points[offset+1]),x<-1||x>width||y<-1||y>height)throw new NotFoundException_1.default;nudged=!1,-1===x?(points[offset]=0,nudged=!0):x===width&&(points[offset]=width-1,nudged=!0),-1===y?(points[offset+1]=0,nudged=!0):y===height&&(points[offset+1]=height-1,nudged=!0)}},GridSampler}()},aWuf:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),DecodeHintType_1=__webpack_require__("2Upx"),Result_1=__webpack_require__("nEnc"),ResultPoint_1=__webpack_require__("i5vq"),OneDReader_1=__webpack_require__("CFkN"),NotFoundException_1=__webpack_require__("xhJ4"),FormatException_1=__webpack_require__("dGMj"),ChecksumException_1=__webpack_require__("Jma6");exports.default=function(_super){function Code128Reader(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Code128Reader,_super),Code128Reader.findStartPattern=function(row){for(var width=row.getSize(),rowOffset=row.getNextSet(0),counterPosition=0,counters=[0,0,0,0,0,0],patternStart=rowOffset,isWhite=!1,i=rowOffset;i<width;i++)if(row.get(i)!==isWhite)counters[counterPosition]++;else{if(5===counterPosition){for(var bestVariance=Code128Reader.MAX_AVG_VARIANCE,bestMatch=-1,startCode=Code128Reader.CODE_START_A;startCode<=Code128Reader.CODE_START_C;startCode++){var variance=OneDReader_1.default.patternMatchVariance(counters,Code128Reader.CODE_PATTERNS[startCode],Code128Reader.MAX_INDIVIDUAL_VARIANCE);variance<bestVariance&&(bestVariance=variance,bestMatch=startCode)}if(bestMatch>=0&&row.isRange(Math.max(0,patternStart-(i-patternStart)/2),patternStart,!1))return[patternStart,i,bestMatch];patternStart+=counters[0]+counters[1],counters.splice(0,2),counters[counterPosition-1]=0,counters[counterPosition]=0,counterPosition--}else counterPosition++;counters[counterPosition]=1,isWhite=!isWhite}throw new NotFoundException_1.default},Code128Reader.decodeCode=function(row,counters,rowOffset){OneDReader_1.default.recordPattern(row,rowOffset,counters);for(var bestVariance=Code128Reader.MAX_AVG_VARIANCE,bestMatch=-1,d=0;d<Code128Reader.CODE_PATTERNS.length;d++){var variance=this.patternMatchVariance(counters,Code128Reader.CODE_PATTERNS[d],Code128Reader.MAX_INDIVIDUAL_VARIANCE);variance<bestVariance&&(bestVariance=variance,bestMatch=d)}if(bestMatch>=0)return bestMatch;throw new NotFoundException_1.default},Code128Reader.prototype.decodeRow=function(rowNumber,row,hints){var codeSet,convertFNC1=hints&&!0===hints.get(DecodeHintType_1.default.ASSUME_GS1),startPatternInfo=Code128Reader.findStartPattern(row),startCode=startPatternInfo[2],currentRawCodesIndex=0,rawCodes=new Uint8Array(20);switch(rawCodes[currentRawCodesIndex++]=startCode,startCode){case Code128Reader.CODE_START_A:codeSet=Code128Reader.CODE_CODE_A;break;case Code128Reader.CODE_START_B:codeSet=Code128Reader.CODE_CODE_B;break;case Code128Reader.CODE_START_C:codeSet=Code128Reader.CODE_CODE_C;break;default:throw new FormatException_1.default}for(var done=!1,isNextShifted=!1,result="",lastStart=startPatternInfo[0],nextStart=startPatternInfo[1],counters=[0,0,0,0,0,0],lastCode=0,code=0,checksumTotal=startCode,multiplier=0,lastCharacterWasPrintable=!0,upperMode=!1,shiftUpperMode=!1;!done;){var unshift=isNextShifted;switch(isNextShifted=!1,lastCode=code,code=Code128Reader.decodeCode(row,counters,nextStart),rawCodes[currentRawCodesIndex++]=code,code!==Code128Reader.CODE_STOP&&(lastCharacterWasPrintable=!0),code!==Code128Reader.CODE_STOP&&(checksumTotal+=++multiplier*code),lastStart=nextStart,nextStart+=counters.reduce((function(previous,current){return previous+current}),0),code){case Code128Reader.CODE_START_A:case Code128Reader.CODE_START_B:case Code128Reader.CODE_START_C:throw new FormatException_1.default}switch(codeSet){case Code128Reader.CODE_CODE_A:if(code<64)result+=String.fromCharCode(shiftUpperMode===upperMode?" ".charCodeAt(0)+code:" ".charCodeAt(0)+code+128),shiftUpperMode=!1;else if(code<96)result+=String.fromCharCode(shiftUpperMode===upperMode?code-64:code+64),shiftUpperMode=!1;else switch(code!==Code128Reader.CODE_STOP&&(lastCharacterWasPrintable=!1),code){case Code128Reader.CODE_FNC_1:convertFNC1&&(result+=0===result.length?"]C1":String.fromCharCode(29));break;case Code128Reader.CODE_FNC_2:case Code128Reader.CODE_FNC_3:break;case Code128Reader.CODE_FNC_4_A:!upperMode&&shiftUpperMode?(upperMode=!0,shiftUpperMode=!1):upperMode&&shiftUpperMode?(upperMode=!1,shiftUpperMode=!1):shiftUpperMode=!0;break;case Code128Reader.CODE_SHIFT:isNextShifted=!0,codeSet=Code128Reader.CODE_CODE_B;break;case Code128Reader.CODE_CODE_B:codeSet=Code128Reader.CODE_CODE_B;break;case Code128Reader.CODE_CODE_C:codeSet=Code128Reader.CODE_CODE_C;break;case Code128Reader.CODE_STOP:done=!0}break;case Code128Reader.CODE_CODE_B:if(code<96)result+=String.fromCharCode(shiftUpperMode===upperMode?" ".charCodeAt(0)+code:" ".charCodeAt(0)+code+128),shiftUpperMode=!1;else switch(code!==Code128Reader.CODE_STOP&&(lastCharacterWasPrintable=!1),code){case Code128Reader.CODE_FNC_1:convertFNC1&&(result+=0===result.length?"]C1":String.fromCharCode(29));break;case Code128Reader.CODE_FNC_2:case Code128Reader.CODE_FNC_3:break;case Code128Reader.CODE_FNC_4_B:!upperMode&&shiftUpperMode?(upperMode=!0,shiftUpperMode=!1):upperMode&&shiftUpperMode?(upperMode=!1,shiftUpperMode=!1):shiftUpperMode=!0;break;case Code128Reader.CODE_SHIFT:isNextShifted=!0,codeSet=Code128Reader.CODE_CODE_A;break;case Code128Reader.CODE_CODE_A:codeSet=Code128Reader.CODE_CODE_A;break;case Code128Reader.CODE_CODE_C:codeSet=Code128Reader.CODE_CODE_C;break;case Code128Reader.CODE_STOP:done=!0}break;case Code128Reader.CODE_CODE_C:if(code<100)code<10&&(result+="0"),result+=code;else switch(code!==Code128Reader.CODE_STOP&&(lastCharacterWasPrintable=!1),code){case Code128Reader.CODE_FNC_1:convertFNC1&&(result+=0===result.length?"]C1":String.fromCharCode(29));break;case Code128Reader.CODE_CODE_A:codeSet=Code128Reader.CODE_CODE_A;break;case Code128Reader.CODE_CODE_B:codeSet=Code128Reader.CODE_CODE_B;break;case Code128Reader.CODE_STOP:done=!0}}unshift&&(codeSet=codeSet===Code128Reader.CODE_CODE_A?Code128Reader.CODE_CODE_B:Code128Reader.CODE_CODE_A)}var lastPatternSize=nextStart-lastStart;if(nextStart=row.getNextUnset(nextStart),!row.isRange(nextStart,Math.min(row.getSize(),nextStart+(nextStart-lastStart)/2),!1))throw new NotFoundException_1.default;if((checksumTotal-=multiplier*lastCode)%103!==lastCode)throw new ChecksumException_1.default;var resultLength=result.length;if(0===resultLength)throw new NotFoundException_1.default;resultLength>0&&lastCharacterWasPrintable&&(result=result.substring(0,codeSet===Code128Reader.CODE_CODE_C?resultLength-2:resultLength-1));for(var left=(startPatternInfo[1]+startPatternInfo[0])/2,right=lastStart+lastPatternSize/2,rawCodesSize=rawCodes.length,rawBytes=new Uint8Array(rawCodesSize),i=0;i<rawCodesSize;i++)rawBytes[i]=rawCodes[i];var points=[new ResultPoint_1.default(left,rowNumber),new ResultPoint_1.default(right,rowNumber)];return new Result_1.default(result,rawBytes,0,points,BarcodeFormat_1.default.CODE_128,(new Date).getTime())},Code128Reader.CODE_PATTERNS=[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]],Code128Reader.MAX_AVG_VARIANCE=.25,Code128Reader.MAX_INDIVIDUAL_VARIANCE=.7,Code128Reader.CODE_SHIFT=98,Code128Reader.CODE_CODE_C=99,Code128Reader.CODE_CODE_B=100,Code128Reader.CODE_CODE_A=101,Code128Reader.CODE_FNC_1=102,Code128Reader.CODE_FNC_2=97,Code128Reader.CODE_FNC_3=96,Code128Reader.CODE_FNC_4_A=101,Code128Reader.CODE_FNC_4_B=100,Code128Reader.CODE_START_A=103,Code128Reader.CODE_START_B=104,Code128Reader.CODE_START_C=105,Code128Reader.CODE_STOP=106,Code128Reader}(OneDReader_1.default)},af8v:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DecodeHintType_1=__webpack_require__("2Upx"),ResultPoint_1=__webpack_require__("i5vq"),FinderPattern_1=__webpack_require__("nW3M"),FinderPatternInfo_1=__webpack_require__("D8zn"),NotFoundException_1=__webpack_require__("xhJ4"),FinderPatternFinder=function(){function FinderPatternFinder(image,resultPointCallback){this.image=image,this.resultPointCallback=resultPointCallback,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=resultPointCallback}return FinderPatternFinder.prototype.getImage=function(){return this.image},FinderPatternFinder.prototype.getPossibleCenters=function(){return this.possibleCenters},FinderPatternFinder.prototype.find=function(hints){var tryHarder=null!=hints&&void 0!==hints.get(DecodeHintType_1.default.TRY_HARDER),pureBarcode=null!=hints&&void 0!==hints.get(DecodeHintType_1.default.PURE_BARCODE),image=this.image,maxI=image.getHeight(),maxJ=image.getWidth(),iSkip=Math.floor(3*maxI/(4*FinderPatternFinder.MAX_MODULES));(iSkip<FinderPatternFinder.MIN_SKIP||tryHarder)&&(iSkip=FinderPatternFinder.MIN_SKIP);for(var done=!1,stateCount=new Int32Array(5),i=iSkip-1;i<maxI&&!done;i+=iSkip){stateCount[0]=0,stateCount[1]=0,stateCount[2]=0,stateCount[3]=0,stateCount[4]=0;for(var currentState=0,j=0;j<maxJ;j++)if(image.get(j,i))1==(1&currentState)&&currentState++,stateCount[currentState]++;else if(0==(1&currentState))if(4===currentState)if(FinderPatternFinder.foundPatternCross(stateCount)){if(!0!==this.handlePossibleCenter(stateCount,i,j,pureBarcode)){stateCount[0]=stateCount[2],stateCount[1]=stateCount[3],stateCount[2]=stateCount[4],stateCount[3]=1,stateCount[4]=0,currentState=3;continue}if(iSkip=2,!0===this.hasSkipped)done=this.haveMultiplyConfirmedCenters();else{var rowSkip=this.findRowSkip();rowSkip>stateCount[2]&&(i+=rowSkip-stateCount[2]-iSkip,j=maxJ-1)}currentState=0,stateCount[0]=0,stateCount[1]=0,stateCount[2]=0,stateCount[3]=0,stateCount[4]=0}else stateCount[0]=stateCount[2],stateCount[1]=stateCount[3],stateCount[2]=stateCount[4],stateCount[3]=1,stateCount[4]=0,currentState=3;else stateCount[++currentState]++;else stateCount[currentState]++;FinderPatternFinder.foundPatternCross(stateCount)&&!0===this.handlePossibleCenter(stateCount,i,maxJ,pureBarcode)&&(iSkip=stateCount[0],this.hasSkipped&&(done=this.haveMultiplyConfirmedCenters()))}var patternInfo=this.selectBestPatterns();return ResultPoint_1.default.orderBestPatterns(patternInfo),new FinderPatternInfo_1.default(patternInfo)},FinderPatternFinder.centerFromEnd=function(stateCount,end){return end-stateCount[4]-stateCount[3]-stateCount[2]/2},FinderPatternFinder.foundPatternCross=function(stateCount){for(var totalModuleSize=0,i=0;i<5;i++){var count=stateCount[i];if(0===count)return!1;totalModuleSize+=count}if(totalModuleSize<7)return!1;var moduleSize=totalModuleSize/7,maxVariance=moduleSize/2;return Math.abs(moduleSize-stateCount[0])<maxVariance&&Math.abs(moduleSize-stateCount[1])<maxVariance&&Math.abs(3*moduleSize-stateCount[2])<3*maxVariance&&Math.abs(moduleSize-stateCount[3])<maxVariance&&Math.abs(moduleSize-stateCount[4])<maxVariance},FinderPatternFinder.prototype.getCrossCheckStateCount=function(){var crossCheckStateCount=this.crossCheckStateCount;return crossCheckStateCount[0]=0,crossCheckStateCount[1]=0,crossCheckStateCount[2]=0,crossCheckStateCount[3]=0,crossCheckStateCount[4]=0,crossCheckStateCount},FinderPatternFinder.prototype.crossCheckDiagonal=function(startI,centerJ,maxCount,originalStateCountTotal){for(var stateCount=this.getCrossCheckStateCount(),i=0,image=this.image;startI>=i&&centerJ>=i&&image.get(centerJ-i,startI-i);)stateCount[2]++,i++;if(startI<i||centerJ<i)return!1;for(;startI>=i&&centerJ>=i&&!image.get(centerJ-i,startI-i)&&stateCount[1]<=maxCount;)stateCount[1]++,i++;if(startI<i||centerJ<i||stateCount[1]>maxCount)return!1;for(;startI>=i&&centerJ>=i&&image.get(centerJ-i,startI-i)&&stateCount[0]<=maxCount;)stateCount[0]++,i++;if(stateCount[0]>maxCount)return!1;var maxI=image.getHeight(),maxJ=image.getWidth();for(i=1;startI+i<maxI&&centerJ+i<maxJ&&image.get(centerJ+i,startI+i);)stateCount[2]++,i++;if(startI+i>=maxI||centerJ+i>=maxJ)return!1;for(;startI+i<maxI&&centerJ+i<maxJ&&!image.get(centerJ+i,startI+i)&&stateCount[3]<maxCount;)stateCount[3]++,i++;if(startI+i>=maxI||centerJ+i>=maxJ||stateCount[3]>=maxCount)return!1;for(;startI+i<maxI&&centerJ+i<maxJ&&image.get(centerJ+i,startI+i)&&stateCount[4]<maxCount;)stateCount[4]++,i++;return!(stateCount[4]>=maxCount)&&Math.abs(stateCount[0]+stateCount[1]+stateCount[2]+stateCount[3]+stateCount[4]-originalStateCountTotal)<2*originalStateCountTotal&&FinderPatternFinder.foundPatternCross(stateCount)},FinderPatternFinder.prototype.crossCheckVertical=function(startI,centerJ,maxCount,originalStateCountTotal){for(var image=this.image,maxI=image.getHeight(),stateCount=this.getCrossCheckStateCount(),i=startI;i>=0&&image.get(centerJ,i);)stateCount[2]++,i--;if(i<0)return NaN;for(;i>=0&&!image.get(centerJ,i)&&stateCount[1]<=maxCount;)stateCount[1]++,i--;if(i<0||stateCount[1]>maxCount)return NaN;for(;i>=0&&image.get(centerJ,i)&&stateCount[0]<=maxCount;)stateCount[0]++,i--;if(stateCount[0]>maxCount)return NaN;for(i=startI+1;i<maxI&&image.get(centerJ,i);)stateCount[2]++,i++;if(i===maxI)return NaN;for(;i<maxI&&!image.get(centerJ,i)&&stateCount[3]<maxCount;)stateCount[3]++,i++;if(i===maxI||stateCount[3]>=maxCount)return NaN;for(;i<maxI&&image.get(centerJ,i)&&stateCount[4]<maxCount;)stateCount[4]++,i++;return stateCount[4]>=maxCount||5*Math.abs(stateCount[0]+stateCount[1]+stateCount[2]+stateCount[3]+stateCount[4]-originalStateCountTotal)>=2*originalStateCountTotal?NaN:FinderPatternFinder.foundPatternCross(stateCount)?FinderPatternFinder.centerFromEnd(stateCount,i):NaN},FinderPatternFinder.prototype.crossCheckHorizontal=function(startJ,centerI,maxCount,originalStateCountTotal){for(var image=this.image,maxJ=image.getWidth(),stateCount=this.getCrossCheckStateCount(),j=startJ;j>=0&&image.get(j,centerI);)stateCount[2]++,j--;if(j<0)return NaN;for(;j>=0&&!image.get(j,centerI)&&stateCount[1]<=maxCount;)stateCount[1]++,j--;if(j<0||stateCount[1]>maxCount)return NaN;for(;j>=0&&image.get(j,centerI)&&stateCount[0]<=maxCount;)stateCount[0]++,j--;if(stateCount[0]>maxCount)return NaN;for(j=startJ+1;j<maxJ&&image.get(j,centerI);)stateCount[2]++,j++;if(j===maxJ)return NaN;for(;j<maxJ&&!image.get(j,centerI)&&stateCount[3]<maxCount;)stateCount[3]++,j++;if(j===maxJ||stateCount[3]>=maxCount)return NaN;for(;j<maxJ&&image.get(j,centerI)&&stateCount[4]<maxCount;)stateCount[4]++,j++;return stateCount[4]>=maxCount||5*Math.abs(stateCount[0]+stateCount[1]+stateCount[2]+stateCount[3]+stateCount[4]-originalStateCountTotal)>=originalStateCountTotal?NaN:FinderPatternFinder.foundPatternCross(stateCount)?FinderPatternFinder.centerFromEnd(stateCount,j):NaN},FinderPatternFinder.prototype.handlePossibleCenter=function(stateCount,i,j,pureBarcode){var stateCountTotal=stateCount[0]+stateCount[1]+stateCount[2]+stateCount[3]+stateCount[4],centerJ=FinderPatternFinder.centerFromEnd(stateCount,j),centerI=this.crossCheckVertical(i,Math.floor(centerJ),stateCount[2],stateCountTotal);if(!isNaN(centerI)&&(centerJ=this.crossCheckHorizontal(Math.floor(centerJ),Math.floor(centerI),stateCount[2],stateCountTotal),!isNaN(centerJ)&&(!pureBarcode||this.crossCheckDiagonal(Math.floor(centerI),Math.floor(centerJ),stateCount[2],stateCountTotal)))){for(var estimatedModuleSize=stateCountTotal/7,found=!1,possibleCenters=this.possibleCenters,index=0,length_1=possibleCenters.length;index<length_1;index++){var center=possibleCenters[index];if(center.aboutEquals(estimatedModuleSize,centerI,centerJ)){possibleCenters[index]=center.combineEstimate(centerI,centerJ,estimatedModuleSize),found=!0;break}}if(!found){var point=new FinderPattern_1.default(centerJ,centerI,estimatedModuleSize);possibleCenters.push(point),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(point)}return!0}return!1},FinderPatternFinder.prototype.findRowSkip=function(){if(this.possibleCenters.length<=1)return 0;for(var firstConfirmedCenter=null,_i=0,_a=this.possibleCenters;_i<_a.length;_i++){var center=_a[_i];if(center.getCount()>=FinderPatternFinder.CENTER_QUORUM){if(null!=firstConfirmedCenter)return this.hasSkipped=!0,Math.floor((Math.abs(firstConfirmedCenter.getX()-center.getX())-Math.abs(firstConfirmedCenter.getY()-center.getY()))/2);firstConfirmedCenter=center}}return 0},FinderPatternFinder.prototype.haveMultiplyConfirmedCenters=function(){for(var confirmedCount=0,totalModuleSize=0,max=this.possibleCenters.length,_i=0,_a=this.possibleCenters;_i<_a.length;_i++)(pattern=_a[_i]).getCount()>=FinderPatternFinder.CENTER_QUORUM&&(confirmedCount++,totalModuleSize+=pattern.getEstimatedModuleSize());if(confirmedCount<3)return!1;for(var average=totalModuleSize/max,totalDeviation=0,_b=0,_c=this.possibleCenters;_b<_c.length;_b++){var pattern=_c[_b];totalDeviation+=Math.abs(pattern.getEstimatedModuleSize()-average)}return totalDeviation<=.05*totalModuleSize},FinderPatternFinder.prototype.selectBestPatterns=function(){var startSize=this.possibleCenters.length;if(startSize<3)throw new NotFoundException_1.default;var average,possibleCenters=this.possibleCenters;if(startSize>3){for(var totalModuleSize=0,square=0,_i=0,_a=this.possibleCenters;_i<_a.length;_i++){var size=_a[_i].getEstimatedModuleSize();totalModuleSize+=size,square+=size*size}average=totalModuleSize/startSize;var stdDev=Math.sqrt(square/startSize-average*average);possibleCenters.sort((function(center1,center2){var dA=Math.abs(center2.getEstimatedModuleSize()-average),dB=Math.abs(center1.getEstimatedModuleSize()-average);return dA<dB?-1:dA>dB?1:0}));for(var limit=Math.max(.2*average,stdDev),i=0;i<possibleCenters.length&&possibleCenters.length>3;i++)Math.abs(possibleCenters[i].getEstimatedModuleSize()-average)>limit&&(possibleCenters.splice(i,1),i--)}if(possibleCenters.length>3){totalModuleSize=0;for(var _b=0,possibleCenters_1=possibleCenters;_b<possibleCenters_1.length;_b++)totalModuleSize+=possibleCenters_1[_b].getEstimatedModuleSize();average=totalModuleSize/possibleCenters.length,possibleCenters.sort((function(center1,center2){if(center2.getCount()===center1.getCount()){var dA=Math.abs(center2.getEstimatedModuleSize()-average),dB=Math.abs(center1.getEstimatedModuleSize()-average);return dA<dB?1:dA>dB?-1:0}return center2.getCount()-center1.getCount()})),possibleCenters.splice(3)}return[possibleCenters[0],possibleCenters[1],possibleCenters[2]]},FinderPatternFinder.CENTER_QUORUM=2,FinderPatternFinder.MIN_SKIP=3,FinderPatternFinder.MAX_MODULES=57,FinderPatternFinder}();exports.default=FinderPatternFinder},agz5:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var GridSampler_1=__webpack_require__("ZvTf"),BitMatrix_1=__webpack_require__("/fss"),PerspectiveTransform_1=__webpack_require__("+1n9"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(_super){function DefaultGridSampler(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DefaultGridSampler,_super),DefaultGridSampler.prototype.sampleGrid=function(image,dimensionX,dimensionY,p1ToX,p1ToY,p2ToX,p2ToY,p3ToX,p3ToY,p4ToX,p4ToY,p1FromX,p1FromY,p2FromX,p2FromY,p3FromX,p3FromY,p4FromX,p4FromY){var transform=PerspectiveTransform_1.default.quadrilateralToQuadrilateral(p1ToX,p1ToY,p2ToX,p2ToY,p3ToX,p3ToY,p4ToX,p4ToY,p1FromX,p1FromY,p2FromX,p2FromY,p3FromX,p3FromY,p4FromX,p4FromY);return this.sampleGridWithTransform(image,dimensionX,dimensionY,transform)},DefaultGridSampler.prototype.sampleGridWithTransform=function(image,dimensionX,dimensionY,transform){if(dimensionX<=0||dimensionY<=0)throw new NotFoundException_1.default;for(var bits=new BitMatrix_1.default(dimensionX,dimensionY),points=new Float32Array(2*dimensionX),y=0;y<dimensionY;y++){for(var max=points.length,iValue=y+.5,x=0;x<max;x+=2)points[x]=x/2+.5,points[x+1]=iValue;transform.transformPoints(points),GridSampler_1.default.checkAndNudgePoints(image,points);try{for(x=0;x<max;x+=2)image.get(Math.floor(points[x]),Math.floor(points[x+1]))&&bits.set(x/2,y)}catch(aioobe){throw new NotFoundException_1.default}}return bits},DefaultGridSampler}(GridSampler_1.default)},ainZ:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ErrorCorrectionLevel_1=__webpack_require__("SveX"),Integer_1=__webpack_require__("wV23");exports.default=function(){function FormatInformation(formatInfo){this.errorCorrectionLevel=ErrorCorrectionLevel_1.default.forBits(formatInfo>>3&3),this.dataMask=7&formatInfo}return FormatInformation.numBitsDiffering=function(a,b){return Integer_1.default.bitCount(a^b)},FormatInformation.decodeFormatInformation=function(maskedFormatInfo1,maskedFormatInfo2){var formatInfo=FormatInformation.doDecodeFormatInformation(maskedFormatInfo1,maskedFormatInfo2);return null!==formatInfo?formatInfo:FormatInformation.doDecodeFormatInformation(maskedFormatInfo1^FormatInformation.FORMAT_INFO_MASK_QR,maskedFormatInfo2^FormatInformation.FORMAT_INFO_MASK_QR)},FormatInformation.doDecodeFormatInformation=function(maskedFormatInfo1,maskedFormatInfo2){for(var bestDifference=Number.MAX_SAFE_INTEGER,bestFormatInfo=0,_i=0,_a=FormatInformation.FORMAT_INFO_DECODE_LOOKUP;_i<_a.length;_i++){var decodeInfo=_a[_i],targetInfo=decodeInfo[0];if(targetInfo===maskedFormatInfo1||targetInfo===maskedFormatInfo2)return new FormatInformation(decodeInfo[1]);var bitsDifference=FormatInformation.numBitsDiffering(maskedFormatInfo1,targetInfo);bitsDifference<bestDifference&&(bestFormatInfo=decodeInfo[1],bestDifference=bitsDifference),maskedFormatInfo1!==maskedFormatInfo2&&(bitsDifference=FormatInformation.numBitsDiffering(maskedFormatInfo2,targetInfo))<bestDifference&&(bestFormatInfo=decodeInfo[1],bestDifference=bitsDifference)}return bestDifference<=3?new FormatInformation(bestFormatInfo):null},FormatInformation.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},FormatInformation.prototype.getDataMask=function(){return this.dataMask},FormatInformation.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},FormatInformation.prototype.equals=function(o){return o instanceof FormatInformation&&this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask},FormatInformation.FORMAT_INFO_MASK_QR=21522,FormatInformation.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],FormatInformation}()},al1V:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GenericGFPoly_1=__webpack_require__("DoMb"),Integer_1=__webpack_require__("wV23"),IllegalArgumentException_1=__webpack_require__("z1Y+"),ArithmeticException_1=__webpack_require__("Mnsi");exports.default=function(){function GenericGF(primitive,size,generatorBase){this.primitive=primitive,this.size=size,this.generatorBase=generatorBase;for(var expTable=new Int32Array(size),x=1,i=0;i<size;i++)expTable[i]=x,(x*=2)>=size&&(x^=primitive,x&=size-1);this.expTable=expTable;var logTable=new Int32Array(size);for(i=0;i<size-1;i++)logTable[expTable[i]]=i;this.logTable=logTable,this.zero=new GenericGFPoly_1.default(this,Int32Array.from([0])),this.one=new GenericGFPoly_1.default(this,Int32Array.from([1]))}return GenericGF.prototype.getZero=function(){return this.zero},GenericGF.prototype.getOne=function(){return this.one},GenericGF.prototype.buildMonomial=function(degree,coefficient){if(degree<0)throw new IllegalArgumentException_1.default;if(0===coefficient)return this.zero;var coefficients=new Int32Array(degree+1);return coefficients[0]=coefficient,new GenericGFPoly_1.default(this,coefficients)},GenericGF.addOrSubtract=function(a,b){return a^b},GenericGF.prototype.exp=function(a){return this.expTable[a]},GenericGF.prototype.log=function(a){if(0===a)throw new IllegalArgumentException_1.default;return this.logTable[a]},GenericGF.prototype.inverse=function(a){if(0===a)throw new ArithmeticException_1.default;return this.expTable[this.size-this.logTable[a]-1]},GenericGF.prototype.multiply=function(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]},GenericGF.prototype.getSize=function(){return this.size},GenericGF.prototype.getGeneratorBase=function(){return this.generatorBase},GenericGF.prototype.toString=function(){return"GF(0x"+Integer_1.default.toHexString(this.primitive)+","+this.size+")"},GenericGF.prototype.equals=function(o){return o===this},GenericGF.AZTEC_DATA_12=new GenericGF(4201,4096,1),GenericGF.AZTEC_DATA_10=new GenericGF(1033,1024,1),GenericGF.AZTEC_DATA_6=new GenericGF(67,64,1),GenericGF.AZTEC_PARAM=new GenericGF(19,16,1),GenericGF.QR_CODE_FIELD_256=new GenericGF(285,256,0),GenericGF.DATA_MATRIX_FIELD_256=new GenericGF(301,256,1),GenericGF.AZTEC_DATA_8=GenericGF.DATA_MATRIX_FIELD_256,GenericGF.MAXICODE_FIELD_64=GenericGF.AZTEC_DATA_6,GenericGF}()},bBhn:function(module,exports,__webpack_require__){!function(exports){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};function fixStack(target,fn){void 0===fn&&(fn=target.constructor);var captureStackTrace=Error.captureStackTrace;captureStackTrace&&captureStackTrace(target,fn)}var CustomError=function(_super){function CustomError(message){var target,prototype,setPrototypeOf,_newTarget=this.constructor,_this=_super.call(this,message)||this;return Object.defineProperty(_this,"name",{value:_newTarget.name,enumerable:!1}),target=_this,prototype=_newTarget.prototype,(setPrototypeOf=Object.setPrototypeOf)?setPrototypeOf(target,prototype):target.__proto__=prototype,fixStack(_this),_this}return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}(CustomError,_super),CustomError}(Error);exports.CustomError=CustomError,exports.customErrorFactory=function(fn,parent){function CustomError(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(!(this instanceof CustomError))return new(CustomError.bind.apply(CustomError,[void 0].concat(args)));parent.apply(this,args),fn.apply(this,args),this.name=fn.name||parent.name,fixStack(this,CustomError)}return void 0===parent&&(parent=Error),Object.defineProperties(CustomError,{prototype:{value:Object.create(parent.prototype,{constructor:{value:CustomError,writable:!0,configurable:!0}})}})}}(exports)},bQjk:function(module,exports,__webpack_require__){var CipherParams,Hex,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CipherParams=CryptoJS.lib.CipherParams,Hex=CryptoJS.enc.Hex,CryptoJS.format.Hex={stringify:function(cipherParams){return cipherParams.ciphertext.toString(Hex)},parse:function(input){var ciphertext=Hex.parse(input);return CipherParams.create({ciphertext:ciphertext})}},CryptoJS.format.Hex)},"cb+Z":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DecodeHintType_1=__webpack_require__("2Upx"),CharacterSetECI_1=__webpack_require__("pds4");exports.default=function(){function StringUtils(){}return StringUtils.prototype.StringUtils=function(){},StringUtils.guessEncoding=function(bytes,hints){if(null!=hints&&void 0!==hints.get(DecodeHintType_1.default.CHARACTER_SET))return hints.get(DecodeHintType_1.default.CHARACTER_SET).toString();for(var length=bytes.length,canBeISO88591=!0,canBeShiftJIS=!0,canBeUTF8=!0,utf8BytesLeft=0,utf2BytesChars=0,utf3BytesChars=0,utf4BytesChars=0,sjisBytesLeft=0,sjisKatakanaChars=0,sjisCurKatakanaWordLength=0,sjisCurDoubleBytesWordLength=0,sjisMaxKatakanaWordLength=0,sjisMaxDoubleBytesWordLength=0,isoHighOther=0,utf8bom=bytes.length>3&&239===bytes[0]&&187===bytes[1]&&191===bytes[2],i=0;i<length&&(canBeISO88591||canBeShiftJIS||canBeUTF8);i++){var value=255&bytes[i];canBeUTF8&&(utf8BytesLeft>0?0==(128&value)?canBeUTF8=!1:utf8BytesLeft--:0!=(128&value)&&(0==(64&value)?canBeUTF8=!1:(utf8BytesLeft++,0==(32&value)?utf2BytesChars++:(utf8BytesLeft++,0==(16&value)?utf3BytesChars++:(utf8BytesLeft++,0==(8&value)?utf4BytesChars++:canBeUTF8=!1))))),canBeISO88591&&(value>127&&value<160?canBeISO88591=!1:value>159&&(value<192||215===value||247===value)&&isoHighOther++),canBeShiftJIS&&(sjisBytesLeft>0?value<64||127===value||value>252?canBeShiftJIS=!1:sjisBytesLeft--:128===value||160===value||value>239?canBeShiftJIS=!1:value>160&&value<224?(sjisKatakanaChars++,sjisCurDoubleBytesWordLength=0,++sjisCurKatakanaWordLength>sjisMaxKatakanaWordLength&&(sjisMaxKatakanaWordLength=sjisCurKatakanaWordLength)):value>127?(sjisBytesLeft++,sjisCurKatakanaWordLength=0,++sjisCurDoubleBytesWordLength>sjisMaxDoubleBytesWordLength&&(sjisMaxDoubleBytesWordLength=sjisCurDoubleBytesWordLength)):(sjisCurKatakanaWordLength=0,sjisCurDoubleBytesWordLength=0))}return canBeUTF8&&utf8BytesLeft>0&&(canBeUTF8=!1),canBeShiftJIS&&sjisBytesLeft>0&&(canBeShiftJIS=!1),canBeUTF8&&(utf8bom||utf2BytesChars+utf3BytesChars+utf4BytesChars>0)?StringUtils.UTF8:canBeShiftJIS&&(StringUtils.ASSUME_SHIFT_JIS||sjisMaxKatakanaWordLength>=3||sjisMaxDoubleBytesWordLength>=3)?StringUtils.SHIFT_JIS:canBeISO88591&&canBeShiftJIS?2===sjisMaxKatakanaWordLength&&2===sjisKatakanaChars||10*isoHighOther>=length?StringUtils.SHIFT_JIS:StringUtils.ISO88591:canBeISO88591?StringUtils.ISO88591:canBeShiftJIS?StringUtils.SHIFT_JIS:canBeUTF8?StringUtils.UTF8:StringUtils.PLATFORM_DEFAULT_ENCODING},StringUtils.SHIFT_JIS=CharacterSetECI_1.default.SJIS.getName(),StringUtils.GB2312="GB2312",StringUtils.ISO88591=CharacterSetECI_1.default.ISO8859_1.getName(),StringUtils.EUC_JP="EUC_JP",StringUtils.UTF8=CharacterSetECI_1.default.UTF8.getName(),StringUtils.PLATFORM_DEFAULT_ENCODING=StringUtils.UTF8,StringUtils.ASSUME_SHIFT_JIS=!1,StringUtils}()},cv67:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),function(Math){var C=CryptoJS,C_lib=C.lib,WordArray=C_lib.WordArray,Hasher=C_lib.Hasher,C_algo=C.algo,T=[];!function(){for(var i=0;i<64;i++)T[i]=4294967296*Math.abs(Math.sin(i+1))|0}();var MD5=C_algo.MD5=Hasher.extend({_doReset:function(){this._hash=new WordArray.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var H=this._hash.words,M_offset_0=M[offset+0],M_offset_1=M[offset+1],M_offset_2=M[offset+2],M_offset_3=M[offset+3],M_offset_4=M[offset+4],M_offset_5=M[offset+5],M_offset_6=M[offset+6],M_offset_7=M[offset+7],M_offset_8=M[offset+8],M_offset_9=M[offset+9],M_offset_10=M[offset+10],M_offset_11=M[offset+11],M_offset_12=M[offset+12],M_offset_13=M[offset+13],M_offset_14=M[offset+14],M_offset_15=M[offset+15],a=H[0],b=H[1],c=H[2],d=H[3];a=FF(a,b,c,d,M_offset_0,7,T[0]),d=FF(d,a,b,c,M_offset_1,12,T[1]),c=FF(c,d,a,b,M_offset_2,17,T[2]),b=FF(b,c,d,a,M_offset_3,22,T[3]),a=FF(a,b,c,d,M_offset_4,7,T[4]),d=FF(d,a,b,c,M_offset_5,12,T[5]),c=FF(c,d,a,b,M_offset_6,17,T[6]),b=FF(b,c,d,a,M_offset_7,22,T[7]),a=FF(a,b,c,d,M_offset_8,7,T[8]),d=FF(d,a,b,c,M_offset_9,12,T[9]),c=FF(c,d,a,b,M_offset_10,17,T[10]),b=FF(b,c,d,a,M_offset_11,22,T[11]),a=FF(a,b,c,d,M_offset_12,7,T[12]),d=FF(d,a,b,c,M_offset_13,12,T[13]),c=FF(c,d,a,b,M_offset_14,17,T[14]),a=GG(a,b=FF(b,c,d,a,M_offset_15,22,T[15]),c,d,M_offset_1,5,T[16]),d=GG(d,a,b,c,M_offset_6,9,T[17]),c=GG(c,d,a,b,M_offset_11,14,T[18]),b=GG(b,c,d,a,M_offset_0,20,T[19]),a=GG(a,b,c,d,M_offset_5,5,T[20]),d=GG(d,a,b,c,M_offset_10,9,T[21]),c=GG(c,d,a,b,M_offset_15,14,T[22]),b=GG(b,c,d,a,M_offset_4,20,T[23]),a=GG(a,b,c,d,M_offset_9,5,T[24]),d=GG(d,a,b,c,M_offset_14,9,T[25]),c=GG(c,d,a,b,M_offset_3,14,T[26]),b=GG(b,c,d,a,M_offset_8,20,T[27]),a=GG(a,b,c,d,M_offset_13,5,T[28]),d=GG(d,a,b,c,M_offset_2,9,T[29]),c=GG(c,d,a,b,M_offset_7,14,T[30]),a=HH(a,b=GG(b,c,d,a,M_offset_12,20,T[31]),c,d,M_offset_5,4,T[32]),d=HH(d,a,b,c,M_offset_8,11,T[33]),c=HH(c,d,a,b,M_offset_11,16,T[34]),b=HH(b,c,d,a,M_offset_14,23,T[35]),a=HH(a,b,c,d,M_offset_1,4,T[36]),d=HH(d,a,b,c,M_offset_4,11,T[37]),c=HH(c,d,a,b,M_offset_7,16,T[38]),b=HH(b,c,d,a,M_offset_10,23,T[39]),a=HH(a,b,c,d,M_offset_13,4,T[40]),d=HH(d,a,b,c,M_offset_0,11,T[41]),c=HH(c,d,a,b,M_offset_3,16,T[42]),b=HH(b,c,d,a,M_offset_6,23,T[43]),a=HH(a,b,c,d,M_offset_9,4,T[44]),d=HH(d,a,b,c,M_offset_12,11,T[45]),c=HH(c,d,a,b,M_offset_15,16,T[46]),a=II(a,b=HH(b,c,d,a,M_offset_2,23,T[47]),c,d,M_offset_0,6,T[48]),d=II(d,a,b,c,M_offset_7,10,T[49]),c=II(c,d,a,b,M_offset_14,15,T[50]),b=II(b,c,d,a,M_offset_5,21,T[51]),a=II(a,b,c,d,M_offset_12,6,T[52]),d=II(d,a,b,c,M_offset_3,10,T[53]),c=II(c,d,a,b,M_offset_10,15,T[54]),b=II(b,c,d,a,M_offset_1,21,T[55]),a=II(a,b,c,d,M_offset_8,6,T[56]),d=II(d,a,b,c,M_offset_15,10,T[57]),c=II(c,d,a,b,M_offset_6,15,T[58]),b=II(b,c,d,a,M_offset_13,21,T[59]),a=II(a,b,c,d,M_offset_4,6,T[60]),d=II(d,a,b,c,M_offset_11,10,T[61]),c=II(c,d,a,b,M_offset_2,15,T[62]),b=II(b,c,d,a,M_offset_9,21,T[63]),H[0]=H[0]+a|0,H[1]=H[1]+b|0,H[2]=H[2]+c|0,H[3]=H[3]+d|0},_doFinalize:function(){var data=this._data,dataWords=data.words,nBitsTotal=8*this._nDataBytes,nBitsLeft=8*data.sigBytes;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;var nBitsTotalH=Math.floor(nBitsTotal/4294967296),nBitsTotalL=nBitsTotal;dataWords[15+(nBitsLeft+64>>>9<<4)]=16711935&(nBitsTotalH<<8|nBitsTotalH>>>24)|4278255360&(nBitsTotalH<<24|nBitsTotalH>>>8),dataWords[14+(nBitsLeft+64>>>9<<4)]=16711935&(nBitsTotalL<<8|nBitsTotalL>>>24)|4278255360&(nBitsTotalL<<24|nBitsTotalL>>>8),data.sigBytes=4*(dataWords.length+1),this._process();for(var hash=this._hash,H=hash.words,i=0;i<4;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}return hash},clone:function(){var clone=Hasher.clone.call(this);return clone._hash=this._hash.clone(),clone}});function FF(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+x+t;return(n<<s|n>>>32-s)+b}function GG(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+x+t;return(n<<s|n>>>32-s)+b}function HH(a,b,c,d,x,s,t){var n=a+(b^c^d)+x+t;return(n<<s|n>>>32-s)+b}function II(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+x+t;return(n<<s|n>>>32-s)+b}C.MD5=Hasher._createHelper(MD5),C.HmacMD5=Hasher._createHmacHelper(MD5)}(Math),CryptoJS.MD5)},dGMj:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function FormatException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(FormatException,_super),FormatException}(Exception_1.default)},dI6j:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function IllegalStateException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(IllegalStateException,_super),IllegalStateException}(Exception_1.default)},dkdS:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ResultPoint_1=__webpack_require__("i5vq"),DetectorResult_1=__webpack_require__("g153"),GridSamplerInstance_1=__webpack_require__("p9OP"),MathUtils_1=__webpack_require__("1rOS"),WhiteRectangleDetector_1=__webpack_require__("AMbm"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function Detector(image){this.image=image,this.rectangleDetector=new WhiteRectangleDetector_1.default(image)}return Detector.prototype.detect=function(){var cornerPoints=this.rectangleDetector.detect(),pointA=cornerPoints[0],pointB=cornerPoints[1],pointC=cornerPoints[2],pointD=cornerPoints[3],transitions=[];transitions.push(this.transitionsBetween(pointA,pointB)),transitions.push(this.transitionsBetween(pointA,pointC)),transitions.push(this.transitionsBetween(pointB,pointD)),transitions.push(this.transitionsBetween(pointC,pointD)),transitions.sort(ResultPointsAndTransitions.resultPointsAndTransitionsComparator);var lSideOne=transitions[0],lSideTwo=transitions[1],pointCount=new Map;Detector.increment(pointCount,lSideOne.getFrom()),Detector.increment(pointCount,lSideOne.getTo()),Detector.increment(pointCount,lSideTwo.getFrom()),Detector.increment(pointCount,lSideTwo.getTo());for(var maybeTopLeft=null,bottomLeft=null,maybeBottomRight=null,_i=0,_a=Array.from(pointCount.entries());_i<_a.length;_i++){var _b=_a[_i],point=_b[0];2===_b[1]?bottomLeft=point:null==maybeTopLeft?maybeTopLeft=point:maybeBottomRight=point}if(null==maybeTopLeft||null==bottomLeft||null==maybeBottomRight)throw new NotFoundException_1.default;var corners=[maybeTopLeft,bottomLeft,maybeBottomRight];ResultPoint_1.default.orderBestPatterns(corners);var bottomRight=corners[0];bottomLeft=corners[1];var topRight,topLeft=corners[2];topRight=pointCount.has(pointA)?pointCount.has(pointB)?pointCount.has(pointC)?pointD:pointC:pointB:pointA;var bits,correctedTopRight,dimensionTop=this.transitionsBetween(topLeft,topRight).getTransitions(),dimensionRight=this.transitionsBetween(bottomRight,topRight).getTransitions();if(1==(1&dimensionTop)&&dimensionTop++,1==(1&dimensionRight)&&dimensionRight++,4*(dimensionTop+=2)>=7*(dimensionRight+=2)||4*dimensionRight>=7*dimensionTop)null==(correctedTopRight=this.correctTopRightRectangular(bottomLeft,bottomRight,topLeft,topRight,dimensionTop,dimensionRight))&&(correctedTopRight=topRight),1==(1&(dimensionTop=this.transitionsBetween(topLeft,correctedTopRight).getTransitions()))&&dimensionTop++,1==(1&(dimensionRight=this.transitionsBetween(bottomRight,correctedTopRight).getTransitions()))&&dimensionRight++,bits=Detector.sampleGrid(this.image,topLeft,bottomLeft,bottomRight,correctedTopRight,dimensionTop,dimensionRight);else{var dimension=Math.min(dimensionRight,dimensionTop);null==(correctedTopRight=this.correctTopRight(bottomLeft,bottomRight,topLeft,topRight,dimension))&&(correctedTopRight=topRight);var dimensionCorrected=Math.max(this.transitionsBetween(topLeft,correctedTopRight).getTransitions(),this.transitionsBetween(bottomRight,correctedTopRight).getTransitions());1==(1&++dimensionCorrected)&&dimensionCorrected++,bits=Detector.sampleGrid(this.image,topLeft,bottomLeft,bottomRight,correctedTopRight,dimensionCorrected,dimensionCorrected)}return new DetectorResult_1.default(bits,[topLeft,bottomLeft,bottomRight,correctedTopRight])},Detector.prototype.correctTopRightRectangular=function(bottomLeft,bottomRight,topLeft,topRight,dimensionTop,dimensionRight){var corr=Detector.distance(bottomLeft,bottomRight)/dimensionTop,norm=Detector.distance(topLeft,topRight),cos=(topRight.getX()-topLeft.getX())/norm,sin=(topRight.getY()-topLeft.getY())/norm,c1=new ResultPoint_1.default(topRight.getX()+corr*cos,topRight.getY()+corr*sin);corr=Detector.distance(bottomLeft,topLeft)/dimensionRight,norm=Detector.distance(bottomRight,topRight),cos=(topRight.getX()-bottomRight.getX())/norm,sin=(topRight.getY()-bottomRight.getY())/norm;var c2=new ResultPoint_1.default(topRight.getX()+corr*cos,topRight.getY()+corr*sin);return this.isValid(c1)?this.isValid(c2)?Math.abs(dimensionTop-this.transitionsBetween(topLeft,c1).getTransitions())+Math.abs(dimensionRight-this.transitionsBetween(bottomRight,c1).getTransitions())<=Math.abs(dimensionTop-this.transitionsBetween(topLeft,c2).getTransitions())+Math.abs(dimensionRight-this.transitionsBetween(bottomRight,c2).getTransitions())?c1:c2:c1:this.isValid(c2)?c2:null},Detector.prototype.correctTopRight=function(bottomLeft,bottomRight,topLeft,topRight,dimension){var corr=Detector.distance(bottomLeft,bottomRight)/dimension,norm=Detector.distance(topLeft,topRight),cos=(topRight.getX()-topLeft.getX())/norm,sin=(topRight.getY()-topLeft.getY())/norm,c1=new ResultPoint_1.default(topRight.getX()+corr*cos,topRight.getY()+corr*sin);corr=Detector.distance(bottomLeft,topLeft)/dimension,norm=Detector.distance(bottomRight,topRight),cos=(topRight.getX()-bottomRight.getX())/norm,sin=(topRight.getY()-bottomRight.getY())/norm;var c2=new ResultPoint_1.default(topRight.getX()+corr*cos,topRight.getY()+corr*sin);return this.isValid(c1)?this.isValid(c2)?Math.abs(this.transitionsBetween(topLeft,c1).getTransitions()-this.transitionsBetween(bottomRight,c1).getTransitions())<=Math.abs(this.transitionsBetween(topLeft,c2).getTransitions()-this.transitionsBetween(bottomRight,c2).getTransitions())?c1:c2:c1:this.isValid(c2)?c2:null},Detector.prototype.isValid=function(p){return p.getX()>=0&&p.getX()<this.image.getWidth()&&p.getY()>0&&p.getY()<this.image.getHeight()},Detector.distance=function(a,b){return MathUtils_1.default.round(ResultPoint_1.default.distance(a,b))},Detector.increment=function(table,key){var value=table.get(key);table.set(key,null==value?1:value+1)},Detector.sampleGrid=function(image,topLeft,bottomLeft,bottomRight,topRight,dimensionX,dimensionY){return GridSamplerInstance_1.default.getInstance().sampleGrid(image,dimensionX,dimensionY,.5,.5,dimensionX-.5,.5,dimensionX-.5,dimensionY-.5,.5,dimensionY-.5,topLeft.getX(),topLeft.getY(),topRight.getX(),topRight.getY(),bottomRight.getX(),bottomRight.getY(),bottomLeft.getX(),bottomLeft.getY())},Detector.prototype.transitionsBetween=function(from,to){var fromX=0|from.getX(),fromY=0|from.getY(),toX=0|to.getX(),toY=0|to.getY(),steep=Math.abs(toY-fromY)>Math.abs(toX-fromX);if(steep){var temp=fromX;fromX=fromY,fromY=temp,temp=toX,toX=toY,toY=temp}for(var dx=Math.abs(toX-fromX),dy=Math.abs(toY-fromY),error=-dx/2,ystep=fromY<toY?1:-1,xstep=fromX<toX?1:-1,transitions=0,inBlack=this.image.get(steep?fromY:fromX,steep?fromX:fromY),x=fromX,y=fromY;x!==toX;x+=xstep){var isBlack=this.image.get(steep?y:x,steep?x:y);if(isBlack!==inBlack&&(transitions++,inBlack=isBlack),(error+=dy)>0){if(y===toY)break;y+=ystep,error-=dx}}return new ResultPointsAndTransitions(from,to,transitions)},Detector}();var ResultPointsAndTransitions=function(){function ResultPointsAndTransitions(from,to,transitions){this.from=from,this.to=to,this.transitions=transitions}return ResultPointsAndTransitions.prototype.getFrom=function(){return this.from},ResultPointsAndTransitions.prototype.getTo=function(){return this.to},ResultPointsAndTransitions.prototype.getTransitions=function(){return this.transitions},ResultPointsAndTransitions.prototype.toString=function(){return this.from+"/"+this.to+"/"+this.transitions},ResultPointsAndTransitions.resultPointsAndTransitionsComparator=function(o1,o2){return o1.getTransitions()-o2.getTransitions()},ResultPointsAndTransitions}()},e7zE:function(module,exports,__webpack_require__){var C,C_lib,Base,WordArray,C_algo,HMAC,PBKDF2,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("3y9D"),__webpack_require__("WYAk"),WordArray=(C_lib=(C=CryptoJS).lib).WordArray,HMAC=(C_algo=C.algo).HMAC,PBKDF2=C_algo.PBKDF2=(Base=C_lib.Base).extend({cfg:Base.extend({keySize:4,hasher:C_algo.SHA1,iterations:1}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){for(var cfg=this.cfg,hmac=HMAC.create(cfg.hasher,password),derivedKey=WordArray.create(),blockIndex=WordArray.create([1]),derivedKeyWords=derivedKey.words,blockIndexWords=blockIndex.words,keySize=cfg.keySize,iterations=cfg.iterations;derivedKeyWords.length<keySize;){var block=hmac.update(salt).finalize(blockIndex);hmac.reset();for(var blockWords=block.words,blockWordsLength=blockWords.length,intermediate=block,i=1;i<iterations;i++){intermediate=hmac.finalize(intermediate),hmac.reset();for(var intermediateWords=intermediate.words,j=0;j<blockWordsLength;j++)blockWords[j]^=intermediateWords[j]}derivedKey.concat(block),blockIndexWords[0]++}return derivedKey.sigBytes=4*keySize,derivedKey}}),C.PBKDF2=function(password,salt,cfg){return PBKDF2.create(cfg).compute(password,salt)},CryptoJS.PBKDF2)},eZrR:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AlignmentPattern_1=__webpack_require__("BeCK"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function AlignmentPatternFinder(image,startX,startY,width,height,moduleSize,resultPointCallback){this.image=image,this.startX=startX,this.startY=startY,this.width=width,this.height=height,this.moduleSize=moduleSize,this.resultPointCallback=resultPointCallback,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return AlignmentPatternFinder.prototype.find=function(){for(var startX=this.startX,height=this.height,maxJ=startX+this.width,middleI=this.startY+height/2,stateCount=new Int32Array(3),image=this.image,iGen=0;iGen<height;iGen++){var i=middleI+(0==(1&iGen)?Math.floor((iGen+1)/2):-Math.floor((iGen+1)/2));stateCount[0]=0,stateCount[1]=0,stateCount[2]=0;for(var j=startX;j<maxJ&&!image.get(j,i);)j++;for(var currentState=0;j<maxJ;){if(image.get(j,i))if(1===currentState)stateCount[1]++;else if(2===currentState){var confirmed;if(this.foundPatternCross(stateCount)&&null!==(confirmed=this.handlePossibleCenter(stateCount,i,j)))return confirmed;stateCount[0]=stateCount[2],stateCount[1]=1,stateCount[2]=0,currentState=1}else stateCount[++currentState]++;else 1===currentState&&currentState++,stateCount[currentState]++;j++}if(this.foundPatternCross(stateCount)&&null!==(confirmed=this.handlePossibleCenter(stateCount,i,maxJ)))return confirmed}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new NotFoundException_1.default},AlignmentPatternFinder.centerFromEnd=function(stateCount,end){return end-stateCount[2]-stateCount[1]/2},AlignmentPatternFinder.prototype.foundPatternCross=function(stateCount){for(var moduleSize=this.moduleSize,maxVariance=moduleSize/2,i=0;i<3;i++)if(Math.abs(moduleSize-stateCount[i])>=maxVariance)return!1;return!0},AlignmentPatternFinder.prototype.crossCheckVertical=function(startI,centerJ,maxCount,originalStateCountTotal){var image=this.image,maxI=image.getHeight(),stateCount=this.crossCheckStateCount;stateCount[0]=0,stateCount[1]=0,stateCount[2]=0;for(var i=startI;i>=0&&image.get(centerJ,i)&&stateCount[1]<=maxCount;)stateCount[1]++,i--;if(i<0||stateCount[1]>maxCount)return NaN;for(;i>=0&&!image.get(centerJ,i)&&stateCount[0]<=maxCount;)stateCount[0]++,i--;if(stateCount[0]>maxCount)return NaN;for(i=startI+1;i<maxI&&image.get(centerJ,i)&&stateCount[1]<=maxCount;)stateCount[1]++,i++;if(i===maxI||stateCount[1]>maxCount)return NaN;for(;i<maxI&&!image.get(centerJ,i)&&stateCount[2]<=maxCount;)stateCount[2]++,i++;return stateCount[2]>maxCount||5*Math.abs(stateCount[0]+stateCount[1]+stateCount[2]-originalStateCountTotal)>=2*originalStateCountTotal?NaN:this.foundPatternCross(stateCount)?AlignmentPatternFinder.centerFromEnd(stateCount,i):NaN},AlignmentPatternFinder.prototype.handlePossibleCenter=function(stateCount,i,j){var stateCountTotal=stateCount[0]+stateCount[1]+stateCount[2],centerJ=AlignmentPatternFinder.centerFromEnd(stateCount,j),centerI=this.crossCheckVertical(i,centerJ,2*stateCount[1],stateCountTotal);if(!isNaN(centerI)){for(var estimatedModuleSize=(stateCount[0]+stateCount[1]+stateCount[2])/3,_i=0,_a=this.possibleCenters;_i<_a.length;_i++){var center=_a[_i];if(center.aboutEquals(estimatedModuleSize,centerI,centerJ))return center.combineEstimate(centerI,centerJ,estimatedModuleSize)}var point=new AlignmentPattern_1.default(centerJ,centerI,estimatedModuleSize);this.possibleCenters.push(point),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(point)}return null},AlignmentPatternFinder}()},g153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function DetectorResult(bits,points){this.bits=bits,this.points=points}return DetectorResult.prototype.getBits=function(){return this.bits},DetectorResult.prototype.getPoints=function(){return this.points},DetectorResult}()},gTaM:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Decoder_1=__webpack_require__("vLI9"),Result_1=__webpack_require__("nEnc"),BarcodeFormat_1=__webpack_require__("qsBs"),DecodeHintType_1=__webpack_require__("2Upx"),ResultMetadataType_1=__webpack_require__("Ultx"),BitMatrix_1=__webpack_require__("/fss"),Detector_1=__webpack_require__("dkdS"),System_1=__webpack_require__("pleV"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function DataMatrixReader(){this.decoder=new Decoder_1.default}return DataMatrixReader.prototype.decode=function(image,hints){var decoderResult,points;if(void 0===hints&&(hints=null),null!=hints&&hints.has(DecodeHintType_1.default.PURE_BARCODE)){var bits=DataMatrixReader.extractPureBits(image.getBlackMatrix());decoderResult=this.decoder.decode(bits),points=DataMatrixReader.NO_POINTS}else{var detectorResult=new Detector_1.default(image.getBlackMatrix()).detect();decoderResult=this.decoder.decode(detectorResult.getBits()),points=detectorResult.getPoints()}var rawBytes=decoderResult.getRawBytes(),result=new Result_1.default(decoderResult.getText(),rawBytes,8*rawBytes.length,points,BarcodeFormat_1.default.DATA_MATRIX,System_1.default.currentTimeMillis()),byteSegments=decoderResult.getByteSegments();null!=byteSegments&&result.putMetadata(ResultMetadataType_1.default.BYTE_SEGMENTS,byteSegments);var ecLevel=decoderResult.getECLevel();return null!=ecLevel&&result.putMetadata(ResultMetadataType_1.default.ERROR_CORRECTION_LEVEL,ecLevel),result},DataMatrixReader.prototype.reset=function(){},DataMatrixReader.extractPureBits=function(image){var leftTopBlack=image.getTopLeftOnBit(),rightBottomBlack=image.getBottomRightOnBit();if(null==leftTopBlack||null==rightBottomBlack)throw new NotFoundException_1.default;var moduleSize=this.moduleSize(leftTopBlack,image),top=leftTopBlack[1],left=leftTopBlack[0],matrixWidth=(rightBottomBlack[0]-left+1)/moduleSize,matrixHeight=(rightBottomBlack[1]-top+1)/moduleSize;if(matrixWidth<=0||matrixHeight<=0)throw new NotFoundException_1.default;var nudge=moduleSize/2;top+=nudge,left+=nudge;for(var bits=new BitMatrix_1.default(matrixWidth,matrixHeight),y=0;y<matrixHeight;y++)for(var iOffset=top+y*moduleSize,x=0;x<matrixWidth;x++)image.get(left+x*moduleSize,iOffset)&&bits.set(x,y);return bits},DataMatrixReader.moduleSize=function(leftTopBlack,image){for(var width=image.getWidth(),x=leftTopBlack[0],y=leftTopBlack[1];x<width&&image.get(x,y);)x++;if(x===width)throw new NotFoundException_1.default;var moduleSize=x-leftTopBlack[0];if(0===moduleSize)throw new NotFoundException_1.default;return moduleSize},DataMatrixReader.NO_POINTS=[],DataMatrixReader}()},"gb/T":function(module,exports,__webpack_require__){var ECB,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.mode.ECB=((ECB=CryptoJS.lib.BlockCipherMode.extend()).Encryptor=ECB.extend({processBlock:function(words,offset){this._cipher.encryptBlock(words,offset)}}),ECB.Decryptor=ECB.extend({processBlock:function(words,offset){this._cipher.decryptBlock(words,offset)}}),ECB),CryptoJS.mode.ECB)},hAcV:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitArray_1=__webpack_require__("ABEO"),Integer_1=__webpack_require__("wV23"),QRCode_1=__webpack_require__("5hOO"),MaskUtil_1=__webpack_require__("y09Z"),WriterException_1=__webpack_require__("GrZJ"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function MatrixUtil(){}return MatrixUtil.clearMatrix=function(matrix){matrix.clear(255)},MatrixUtil.buildMatrix=function(dataBits,ecLevel,version,maskPattern,matrix){MatrixUtil.clearMatrix(matrix),MatrixUtil.embedBasicPatterns(version,matrix),MatrixUtil.embedTypeInfo(ecLevel,maskPattern,matrix),MatrixUtil.maybeEmbedVersionInfo(version,matrix),MatrixUtil.embedDataBits(dataBits,maskPattern,matrix)},MatrixUtil.embedBasicPatterns=function(version,matrix){MatrixUtil.embedPositionDetectionPatternsAndSeparators(matrix),MatrixUtil.embedDarkDotAtLeftBottomCorner(matrix),MatrixUtil.maybeEmbedPositionAdjustmentPatterns(version,matrix),MatrixUtil.embedTimingPatterns(matrix)},MatrixUtil.embedTypeInfo=function(ecLevel,maskPattern,matrix){var typeInfoBits=new BitArray_1.default;MatrixUtil.makeTypeInfoBits(ecLevel,maskPattern,typeInfoBits);for(var i=0,size=typeInfoBits.getSize();i<size;++i){var bit=typeInfoBits.get(typeInfoBits.getSize()-1-i),coordinates=MatrixUtil.TYPE_INFO_COORDINATES[i];if(matrix.setBoolean(coordinates[0],coordinates[1],bit),i<8){var x2=matrix.getWidth()-i-1;matrix.setBoolean(x2,y2=8,bit)}else{x2=8;var y2=matrix.getHeight()-7+(i-8);matrix.setBoolean(x2,y2,bit)}}},MatrixUtil.maybeEmbedVersionInfo=function(version,matrix){if(!(version.getVersionNumber()<7)){var versionInfoBits=new BitArray_1.default;MatrixUtil.makeVersionInfoBits(version,versionInfoBits);for(var bitIndex=17,i=0;i<6;++i)for(var j=0;j<3;++j){var bit=versionInfoBits.get(bitIndex);bitIndex--,matrix.setBoolean(i,matrix.getHeight()-11+j,bit),matrix.setBoolean(matrix.getHeight()-11+j,i,bit)}}},MatrixUtil.embedDataBits=function(dataBits,maskPattern,matrix){for(var bitIndex=0,direction=-1,x=matrix.getWidth()-1,y=matrix.getHeight()-1;x>0;){for(6===x&&(x-=1);y>=0&&y<matrix.getHeight();){for(var i=0;i<2;++i){var xx=x-i;if(MatrixUtil.isEmpty(matrix.get(xx,y))){var bit=void 0;bitIndex<dataBits.getSize()?(bit=dataBits.get(bitIndex),++bitIndex):bit=!1,255!==maskPattern&&MaskUtil_1.default.getDataMaskBit(maskPattern,xx,y)&&(bit=!bit),matrix.setBoolean(xx,y,bit)}}y+=direction}y+=direction=-direction,x-=2}if(bitIndex!==dataBits.getSize())throw new WriterException_1.default("Not all bits consumed: "+bitIndex+"/"+dataBits.getSize())},MatrixUtil.findMSBSet=function(value){return 32-Integer_1.default.numberOfLeadingZeros(value)},MatrixUtil.calculateBCHCode=function(value,poly){if(0===poly)throw new IllegalArgumentException_1.default("0 polynomial");var msbSetInPoly=MatrixUtil.findMSBSet(poly);for(value<<=msbSetInPoly-1;MatrixUtil.findMSBSet(value)>=msbSetInPoly;)value^=poly<<MatrixUtil.findMSBSet(value)-msbSetInPoly;return value},MatrixUtil.makeTypeInfoBits=function(ecLevel,maskPattern,bits){if(!QRCode_1.default.isValidMaskPattern(maskPattern))throw new WriterException_1.default("Invalid mask pattern");var typeInfo=ecLevel.getBits()<<3|maskPattern;bits.appendBits(typeInfo,5);var bchCode=MatrixUtil.calculateBCHCode(typeInfo,MatrixUtil.TYPE_INFO_POLY);bits.appendBits(bchCode,10);var maskBits=new BitArray_1.default;if(maskBits.appendBits(MatrixUtil.TYPE_INFO_MASK_PATTERN,15),bits.xor(maskBits),15!==bits.getSize())throw new WriterException_1.default("should not happen but we got: "+bits.getSize())},MatrixUtil.makeVersionInfoBits=function(version,bits){bits.appendBits(version.getVersionNumber(),6);var bchCode=MatrixUtil.calculateBCHCode(version.getVersionNumber(),MatrixUtil.VERSION_INFO_POLY);if(bits.appendBits(bchCode,12),18!==bits.getSize())throw new WriterException_1.default("should not happen but we got: "+bits.getSize())},MatrixUtil.isEmpty=function(value){return 255===value},MatrixUtil.embedTimingPatterns=function(matrix){for(var i=8;i<matrix.getWidth()-8;++i){var bit=(i+1)%2;MatrixUtil.isEmpty(matrix.get(i,6))&&matrix.setNumber(i,6,bit),MatrixUtil.isEmpty(matrix.get(6,i))&&matrix.setNumber(6,i,bit)}},MatrixUtil.embedDarkDotAtLeftBottomCorner=function(matrix){if(0===matrix.get(8,matrix.getHeight()-8))throw new WriterException_1.default;matrix.setNumber(8,matrix.getHeight()-8,1)},MatrixUtil.embedHorizontalSeparationPattern=function(xStart,yStart,matrix){for(var x=0;x<8;++x){if(!MatrixUtil.isEmpty(matrix.get(xStart+x,yStart)))throw new WriterException_1.default;matrix.setNumber(xStart+x,yStart,0)}},MatrixUtil.embedVerticalSeparationPattern=function(xStart,yStart,matrix){for(var y=0;y<7;++y){if(!MatrixUtil.isEmpty(matrix.get(xStart,yStart+y)))throw new WriterException_1.default;matrix.setNumber(xStart,yStart+y,0)}},MatrixUtil.embedPositionAdjustmentPattern=function(xStart,yStart,matrix){for(var y=0;y<5;++y)for(var patternY=MatrixUtil.POSITION_ADJUSTMENT_PATTERN[y],x=0;x<5;++x)matrix.setNumber(xStart+x,yStart+y,patternY[x])},MatrixUtil.embedPositionDetectionPattern=function(xStart,yStart,matrix){for(var y=0;y<7;++y)for(var patternY=MatrixUtil.POSITION_DETECTION_PATTERN[y],x=0;x<7;++x)matrix.setNumber(xStart+x,yStart+y,patternY[x])},MatrixUtil.embedPositionDetectionPatternsAndSeparators=function(matrix){var pdpWidth=MatrixUtil.POSITION_DETECTION_PATTERN[0].length;MatrixUtil.embedPositionDetectionPattern(0,0,matrix),MatrixUtil.embedPositionDetectionPattern(matrix.getWidth()-pdpWidth,0,matrix),MatrixUtil.embedPositionDetectionPattern(0,matrix.getWidth()-pdpWidth,matrix),MatrixUtil.embedHorizontalSeparationPattern(0,7,matrix),MatrixUtil.embedHorizontalSeparationPattern(matrix.getWidth()-8,7,matrix),MatrixUtil.embedHorizontalSeparationPattern(0,matrix.getWidth()-8,matrix),MatrixUtil.embedVerticalSeparationPattern(7,0,matrix),MatrixUtil.embedVerticalSeparationPattern(matrix.getHeight()-7-1,0,matrix),MatrixUtil.embedVerticalSeparationPattern(7,matrix.getHeight()-7,matrix)},MatrixUtil.maybeEmbedPositionAdjustmentPatterns=function(version,matrix){if(!(version.getVersionNumber()<2))for(var index=version.getVersionNumber()-1,coordinates=MatrixUtil.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[index],i=0,length_1=coordinates.length;i!==length_1;i++){var y=coordinates[i];if(y>=0)for(var j=0;j!==length_1;j++){var x=coordinates[j];x>=0&&MatrixUtil.isEmpty(matrix.get(x,y))&&MatrixUtil.embedPositionAdjustmentPattern(x-2,y-2,matrix)}}},MatrixUtil.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),MatrixUtil.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),MatrixUtil.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),MatrixUtil.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),MatrixUtil.VERSION_INFO_POLY=7973,MatrixUtil.TYPE_INFO_POLY=1335,MatrixUtil.TYPE_INFO_MASK_PATTERN=21522,MatrixUtil}()},hvFx:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),UPCEANReader_1=__webpack_require__("uT6O");exports.default=function(_super){function EAN8Reader(){var _this=_super.call(this)||this;return _this.decodeMiddleCounters=[0,0,0,0],_this}return __extends(EAN8Reader,_super),EAN8Reader.prototype.decodeMiddle=function(row,startRange,resultString){var counters=this.decodeMiddleCounters;counters[0]=0,counters[1]=0,counters[2]=0,counters[3]=0;for(var end=row.getSize(),rowOffset=startRange[1],x=0;x<4&&rowOffset<end;x++){var bestMatch=UPCEANReader_1.default.decodeDigit(row,counters,rowOffset,UPCEANReader_1.default.L_PATTERNS);resultString+=String.fromCharCode("0".charCodeAt(0)+bestMatch);for(var _i=0,counters_1=counters;_i<counters_1.length;_i++)rowOffset+=counters_1[_i]}for(rowOffset=UPCEANReader_1.default.findGuardPattern(row,rowOffset,!0,UPCEANReader_1.default.MIDDLE_PATTERN,new Array(UPCEANReader_1.default.MIDDLE_PATTERN.length).fill(0))[1],x=0;x<4&&rowOffset<end;x++){bestMatch=UPCEANReader_1.default.decodeDigit(row,counters,rowOffset,UPCEANReader_1.default.L_PATTERNS),resultString+=String.fromCharCode("0".charCodeAt(0)+bestMatch);for(var _a=0,counters_2=counters;_a<counters_2.length;_a++)rowOffset+=counters_2[_a]}return{rowOffset:rowOffset,resultString:resultString}},EAN8Reader.prototype.getBarcodeFormat=function(){return BarcodeFormat_1.default.EAN_8},EAN8Reader}(UPCEANReader_1.default)},i5vq:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MathUtils_1=__webpack_require__("1rOS"),Float_1=__webpack_require__("nRM0");exports.default=function(){function ResultPoint(x,y){this.x=x,this.y=y}return ResultPoint.prototype.getX=function(){return this.x},ResultPoint.prototype.getY=function(){return this.y},ResultPoint.prototype.equals=function(other){return other instanceof ResultPoint&&this.x===other.x&&this.y===other.y},ResultPoint.prototype.hashCode=function(){return 31*Float_1.default.floatToIntBits(this.x)+Float_1.default.floatToIntBits(this.y)},ResultPoint.prototype.toString=function(){return"("+this.x+","+this.y+")"},ResultPoint.orderBestPatterns=function(patterns){var pointA,pointB,pointC,zeroOneDistance=this.distance(patterns[0],patterns[1]),oneTwoDistance=this.distance(patterns[1],patterns[2]),zeroTwoDistance=this.distance(patterns[0],patterns[2]);if(oneTwoDistance>=zeroOneDistance&&oneTwoDistance>=zeroTwoDistance?(pointB=patterns[0],pointA=patterns[1],pointC=patterns[2]):zeroTwoDistance>=oneTwoDistance&&zeroTwoDistance>=zeroOneDistance?(pointB=patterns[1],pointA=patterns[0],pointC=patterns[2]):(pointB=patterns[2],pointA=patterns[0],pointC=patterns[1]),this.crossProductZ(pointA,pointB,pointC)<0){var temp=pointA;pointA=pointC,pointC=temp}patterns[0]=pointA,patterns[1]=pointB,patterns[2]=pointC},ResultPoint.distance=function(pattern1,pattern2){return MathUtils_1.default.distance(pattern1.x,pattern1.y,pattern2.x,pattern2.y)},ResultPoint.crossProductZ=function(pointA,pointB,pointC){var bX=pointB.x,bY=pointB.y;return(pointC.x-bX)*(pointA.y-bY)-(pointC.y-bY)*(pointA.x-bX)},ResultPoint}()},isJV:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),DecodeHintType_1=__webpack_require__("2Upx"),Result_1=__webpack_require__("nEnc"),ResultPoint_1=__webpack_require__("i5vq"),OneDReader_1=__webpack_require__("CFkN"),StringBuilder_1=__webpack_require__("SgF2"),System_1=__webpack_require__("pleV"),FormatException_1=__webpack_require__("dGMj"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(_super){function ITFReader(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.narrowLineWidth=-1,_this}return __extends(ITFReader,_super),ITFReader.prototype.decodeRow=function(rowNumber,row,hints){var startRange=this.decodeStart(row),endRange=this.decodeEnd(row),result=new StringBuilder_1.default;ITFReader.decodeMiddle(row,startRange[1],endRange[0],result);var resultString=result.toString(),allowedLengths=null;null!=hints&&(allowedLengths=hints.get(DecodeHintType_1.default.ALLOWED_LENGTHS)),null==allowedLengths&&(allowedLengths=ITFReader.DEFAULT_ALLOWED_LENGTHS);for(var length=resultString.length,lengthOK=!1,maxAllowedLength=0,_i=0,allowedLengths_1=allowedLengths;_i<allowedLengths_1.length;_i++){var value=allowedLengths_1[_i];if(length===value){lengthOK=!0;break}value>maxAllowedLength&&(maxAllowedLength=value)}if(!lengthOK&&length>maxAllowedLength&&(lengthOK=!0),!lengthOK)throw new FormatException_1.default;var points=[new ResultPoint_1.default(startRange[1],rowNumber),new ResultPoint_1.default(endRange[0],rowNumber)];return new Result_1.default(resultString,null,0,points,BarcodeFormat_1.default.ITF,(new Date).getTime())},ITFReader.decodeMiddle=function(row,payloadStart,payloadEnd,resultString){var counterDigitPair=new Array(10),counterBlack=new Array(5),counterWhite=new Array(5);for(counterDigitPair.fill(0),counterBlack.fill(0),counterWhite.fill(0);payloadStart<payloadEnd;){OneDReader_1.default.recordPattern(row,payloadStart,counterDigitPair);for(var k=0;k<5;k++){var twoK=2*k;counterBlack[k]=counterDigitPair[twoK],counterWhite[k]=counterDigitPair[twoK+1]}var bestMatch=ITFReader.decodeDigit(counterBlack);resultString.append(bestMatch.toString()),bestMatch=this.decodeDigit(counterWhite),resultString.append(bestMatch.toString()),counterDigitPair.forEach((function(counterDigit){payloadStart+=counterDigit}))}},ITFReader.prototype.decodeStart=function(row){var endStart=ITFReader.skipWhiteSpace(row),startPattern=ITFReader.findGuardPattern(row,endStart,ITFReader.START_PATTERN);return this.narrowLineWidth=(startPattern[1]-startPattern[0])/4,this.validateQuietZone(row,startPattern[0]),startPattern},ITFReader.prototype.validateQuietZone=function(row,startPattern){var quietCount=10*this.narrowLineWidth;quietCount=quietCount<startPattern?quietCount:startPattern;for(var i=startPattern-1;quietCount>0&&i>=0&&!row.get(i);i--)quietCount--;if(0!==quietCount)throw new NotFoundException_1.default},ITFReader.skipWhiteSpace=function(row){var width=row.getSize(),endStart=row.getNextSet(0);if(endStart===width)throw new NotFoundException_1.default;return endStart},ITFReader.prototype.decodeEnd=function(row){row.reverse();try{var endStart=ITFReader.skipWhiteSpace(row),endPattern=void 0;try{endPattern=ITFReader.findGuardPattern(row,endStart,ITFReader.END_PATTERN_REVERSED[0])}catch(NotFoundException){endPattern=ITFReader.findGuardPattern(row,endStart,ITFReader.END_PATTERN_REVERSED[1])}this.validateQuietZone(row,endPattern[0]);var temp=endPattern[0];return endPattern[0]=row.getSize()-endPattern[1],endPattern[1]=row.getSize()-temp,endPattern}finally{row.reverse()}},ITFReader.findGuardPattern=function(row,rowOffset,pattern){var patternLength=pattern.length,counters=new Array(patternLength),width=row.getSize(),isWhite=!1,counterPosition=0,patternStart=rowOffset;counters.fill(0);for(var x=rowOffset;x<width;x++)if(row.get(x)!==isWhite)counters[counterPosition]++;else{if(counterPosition===patternLength-1){if(OneDReader_1.default.patternMatchVariance(counters,pattern,ITFReader.MAX_INDIVIDUAL_VARIANCE)<ITFReader.MAX_AVG_VARIANCE)return[patternStart,x];patternStart+=counters[0]+counters[1],System_1.default.arraycopy(counters,2,counters,0,counterPosition-1),counters[counterPosition-1]=0,counters[counterPosition]=0,counterPosition--}else counterPosition++;counters[counterPosition]=1,isWhite=!isWhite}throw new NotFoundException_1.default},ITFReader.decodeDigit=function(counters){for(var bestVariance=ITFReader.MAX_AVG_VARIANCE,bestMatch=-1,max=ITFReader.PATTERNS.length,i=0;i<max;i++){var variance=OneDReader_1.default.patternMatchVariance(counters,ITFReader.PATTERNS[i],ITFReader.MAX_INDIVIDUAL_VARIANCE);variance<bestVariance?(bestVariance=variance,bestMatch=i):variance===bestVariance&&(bestMatch=-1)}if(bestMatch>=0)return bestMatch%10;throw new NotFoundException_1.default},ITFReader.W=3,ITFReader.w=2,ITFReader.N=1,ITFReader.PATTERNS=[[1,1,2,2,1],[2,1,1,1,2],[1,2,1,1,2],[2,2,1,1,1],[1,1,2,1,2],[2,1,2,1,1],[1,2,2,1,1],[1,1,1,2,2],[2,1,1,2,1],[1,2,1,2,1],[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],ITFReader.MAX_AVG_VARIANCE=.38,ITFReader.MAX_INDIVIDUAL_VARIANCE=.5,ITFReader.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ITFReader.START_PATTERN=[1,1,1,1],ITFReader.END_PATTERN_REVERSED=[[1,1,2],[1,1,3]],ITFReader}(OneDReader_1.default)},jO9C:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.pad.Iso97971={pad:function(data,blockSize){data.concat(CryptoJS.lib.WordArray.create([2147483648],1)),CryptoJS.pad.ZeroPadding.pad(data,blockSize)},unpad:function(data){CryptoJS.pad.ZeroPadding.unpad(data),data.sigBytes--}},CryptoJS.pad.Iso97971)},jYoH:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DecodeHintType_1=__webpack_require__("2Upx"),ResultPoint_1=__webpack_require__("i5vq"),DetectorResult_1=__webpack_require__("g153"),GridSamplerInstance_1=__webpack_require__("p9OP"),PerspectiveTransform_1=__webpack_require__("+1n9"),MathUtils_1=__webpack_require__("1rOS"),Version_1=__webpack_require__("okgz"),FinderPatternFinder_1=__webpack_require__("af8v"),AlignmentPatternFinder_1=__webpack_require__("eZrR"),NotFoundException_1=__webpack_require__("xhJ4");exports.default=function(){function Detector(image){this.image=image}return Detector.prototype.getImage=function(){return this.image},Detector.prototype.getResultPointCallback=function(){return this.resultPointCallback},Detector.prototype.detect=function(hints){this.resultPointCallback=null==hints?null:hints.get(DecodeHintType_1.default.NEED_RESULT_POINT_CALLBACK);var info=new FinderPatternFinder_1.default(this.image,this.resultPointCallback).find(hints);return this.processFinderPatternInfo(info)},Detector.prototype.processFinderPatternInfo=function(info){var topLeft=info.getTopLeft(),topRight=info.getTopRight(),bottomLeft=info.getBottomLeft(),moduleSize=this.calculateModuleSize(topLeft,topRight,bottomLeft);if(moduleSize<1)throw new NotFoundException_1.default("No pattern found in proccess finder.");var dimension=Detector.computeDimension(topLeft,topRight,bottomLeft,moduleSize),provisionalVersion=Version_1.default.getProvisionalVersionForDimension(dimension),modulesBetweenFPCenters=provisionalVersion.getDimensionForVersion()-7,alignmentPattern=null;if(provisionalVersion.getAlignmentPatternCenters().length>0)for(var bottomRightX=topRight.getX()-topLeft.getX()+bottomLeft.getX(),bottomRightY=topRight.getY()-topLeft.getY()+bottomLeft.getY(),correctionToTopLeft=1-3/modulesBetweenFPCenters,estAlignmentX=Math.floor(topLeft.getX()+correctionToTopLeft*(bottomRightX-topLeft.getX())),estAlignmentY=Math.floor(topLeft.getY()+correctionToTopLeft*(bottomRightY-topLeft.getY())),i=4;i<=16;i<<=1)try{alignmentPattern=this.findAlignmentInRegion(moduleSize,estAlignmentX,estAlignmentY,i);break}catch(re){if(!(re instanceof NotFoundException_1.default))throw re}var transform=Detector.createTransform(topLeft,topRight,bottomLeft,alignmentPattern,dimension),bits=Detector.sampleGrid(this.image,transform,dimension);return new DetectorResult_1.default(bits,null===alignmentPattern?[bottomLeft,topLeft,topRight]:[bottomLeft,topLeft,topRight,alignmentPattern])},Detector.createTransform=function(topLeft,topRight,bottomLeft,alignmentPattern,dimension){var bottomRightX,bottomRightY,sourceBottomRightX,sourceBottomRightY,dimMinusThree=dimension-3.5;return null!==alignmentPattern?(bottomRightX=alignmentPattern.getX(),bottomRightY=alignmentPattern.getY(),sourceBottomRightY=sourceBottomRightX=dimMinusThree-3):(bottomRightX=topRight.getX()-topLeft.getX()+bottomLeft.getX(),bottomRightY=topRight.getY()-topLeft.getY()+bottomLeft.getY(),sourceBottomRightX=dimMinusThree,sourceBottomRightY=dimMinusThree),PerspectiveTransform_1.default.quadrilateralToQuadrilateral(3.5,3.5,dimMinusThree,3.5,sourceBottomRightX,sourceBottomRightY,3.5,dimMinusThree,topLeft.getX(),topLeft.getY(),topRight.getX(),topRight.getY(),bottomRightX,bottomRightY,bottomLeft.getX(),bottomLeft.getY())},Detector.sampleGrid=function(image,transform,dimension){return GridSamplerInstance_1.default.getInstance().sampleGridWithTransform(image,dimension,dimension,transform)},Detector.computeDimension=function(topLeft,topRight,bottomLeft,moduleSize){var tltrCentersDimension=MathUtils_1.default.round(ResultPoint_1.default.distance(topLeft,topRight)/moduleSize),tlblCentersDimension=MathUtils_1.default.round(ResultPoint_1.default.distance(topLeft,bottomLeft)/moduleSize),dimension=Math.floor((tltrCentersDimension+tlblCentersDimension)/2)+7;switch(3&dimension){case 0:dimension++;break;case 2:dimension--;break;case 3:throw new NotFoundException_1.default("Dimensions could be not found.")}return dimension},Detector.prototype.calculateModuleSize=function(topLeft,topRight,bottomLeft){return(this.calculateModuleSizeOneWay(topLeft,topRight)+this.calculateModuleSizeOneWay(topLeft,bottomLeft))/2},Detector.prototype.calculateModuleSizeOneWay=function(pattern,otherPattern){var moduleSizeEst1=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(pattern.getX()),Math.floor(pattern.getY()),Math.floor(otherPattern.getX()),Math.floor(otherPattern.getY())),moduleSizeEst2=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(otherPattern.getX()),Math.floor(otherPattern.getY()),Math.floor(pattern.getX()),Math.floor(pattern.getY()));return isNaN(moduleSizeEst1)?moduleSizeEst2/7:isNaN(moduleSizeEst2)?moduleSizeEst1/7:(moduleSizeEst1+moduleSizeEst2)/14},Detector.prototype.sizeOfBlackWhiteBlackRunBothWays=function(fromX,fromY,toX,toY){var result=this.sizeOfBlackWhiteBlackRun(fromX,fromY,toX,toY),scale=1,otherToX=fromX-(toX-fromX);otherToX<0?(scale=fromX/(fromX-otherToX),otherToX=0):otherToX>=this.image.getWidth()&&(scale=(this.image.getWidth()-1-fromX)/(otherToX-fromX),otherToX=this.image.getWidth()-1);var otherToY=Math.floor(fromY-(toY-fromY)*scale);return scale=1,otherToY<0?(scale=fromY/(fromY-otherToY),otherToY=0):otherToY>=this.image.getHeight()&&(scale=(this.image.getHeight()-1-fromY)/(otherToY-fromY),otherToY=this.image.getHeight()-1),otherToX=Math.floor(fromX+(otherToX-fromX)*scale),(result+=this.sizeOfBlackWhiteBlackRun(fromX,fromY,otherToX,otherToY))-1},Detector.prototype.sizeOfBlackWhiteBlackRun=function(fromX,fromY,toX,toY){var steep=Math.abs(toY-fromY)>Math.abs(toX-fromX);if(steep){var temp=fromX;fromX=fromY,fromY=temp,temp=toX,toX=toY,toY=temp}for(var dx=Math.abs(toX-fromX),dy=Math.abs(toY-fromY),error=-dx/2,xstep=fromX<toX?1:-1,ystep=fromY<toY?1:-1,state=0,xLimit=toX+xstep,x=fromX,y=fromY;x!==xLimit;x+=xstep){if(1===state===this.image.get(steep?y:x,steep?x:y)){if(2===state)return MathUtils_1.default.distance(x,y,fromX,fromY);state++}if((error+=dy)>0){if(y===toY)break;y+=ystep,error-=dx}}return 2===state?MathUtils_1.default.distance(toX+xstep,toY,fromX,fromY):NaN},Detector.prototype.findAlignmentInRegion=function(overallEstModuleSize,estAlignmentX,estAlignmentY,allowanceFactor){var allowance=Math.floor(allowanceFactor*overallEstModuleSize),alignmentAreaLeftX=Math.max(0,estAlignmentX-allowance),alignmentAreaRightX=Math.min(this.image.getWidth()-1,estAlignmentX+allowance);if(alignmentAreaRightX-alignmentAreaLeftX<3*overallEstModuleSize)throw new NotFoundException_1.default("Alignment top exceeds estimated module size.");var alignmentAreaTopY=Math.max(0,estAlignmentY-allowance),alignmentAreaBottomY=Math.min(this.image.getHeight()-1,estAlignmentY+allowance);if(alignmentAreaBottomY-alignmentAreaTopY<3*overallEstModuleSize)throw new NotFoundException_1.default("Alignment bottom exceeds estimated module size.");return new AlignmentPatternFinder_1.default(this.image,alignmentAreaLeftX,alignmentAreaTopY,alignmentAreaRightX-alignmentAreaLeftX,alignmentAreaBottomY-alignmentAreaTopY,overallEstModuleSize,this.resultPointCallback).find()},Detector}()},jogK:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var System_1=__webpack_require__("pleV"),LuminanceSource_1=__webpack_require__("yLOY"),InvertedLuminanceSource_1=__webpack_require__("2bqk"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(_super){function PlanarYUVLuminanceSource(yuvData,dataWidth,dataHeight,left,top,width,height,reverseHorizontal){var _this=_super.call(this,width,height)||this;if(_this.yuvData=yuvData,_this.dataWidth=dataWidth,_this.dataHeight=dataHeight,_this.left=left,_this.top=top,left+width>dataWidth||top+height>dataHeight)throw new IllegalArgumentException_1.default("Crop rectangle does not fit within image data.");return reverseHorizontal&&_this.reverseHorizontal(width,height),_this}return __extends(PlanarYUVLuminanceSource,_super),PlanarYUVLuminanceSource.prototype.getRow=function(y,row){if(y<0||y>=this.getHeight())throw new IllegalArgumentException_1.default("Requested row is outside the image: "+y);var width=this.getWidth();return(null==row||row.length<width)&&(row=new Uint8ClampedArray(width)),System_1.default.arraycopy(this.yuvData,(y+this.top)*this.dataWidth+this.left,row,0,width),row},PlanarYUVLuminanceSource.prototype.getMatrix=function(){var width=this.getWidth(),height=this.getHeight();if(width===this.dataWidth&&height===this.dataHeight)return this.yuvData;var area=width*height,matrix=new Uint8ClampedArray(area),inputOffset=this.top*this.dataWidth+this.left;if(width===this.dataWidth)return System_1.default.arraycopy(this.yuvData,inputOffset,matrix,0,area),matrix;for(var y=0;y<height;y++)System_1.default.arraycopy(this.yuvData,inputOffset,matrix,y*width,width),inputOffset+=this.dataWidth;return matrix},PlanarYUVLuminanceSource.prototype.isCropSupported=function(){return!0},PlanarYUVLuminanceSource.prototype.crop=function(left,top,width,height){return new PlanarYUVLuminanceSource(this.yuvData,this.dataWidth,this.dataHeight,this.left+left,this.top+top,width,height,!1)},PlanarYUVLuminanceSource.prototype.renderThumbnail=function(){for(var width=this.getWidth()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR,height=this.getHeight()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR,pixels=new Int32Array(width*height),yuv=this.yuvData,inputOffset=this.top*this.dataWidth+this.left,y=0;y<height;y++){for(var outputOffset=y*width,x=0;x<width;x++)pixels[outputOffset+x]=4278190080|65793*(255&yuv[inputOffset+x*PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR]);inputOffset+=this.dataWidth*PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR}return pixels},PlanarYUVLuminanceSource.prototype.getThumbnailWidth=function(){return this.getWidth()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR},PlanarYUVLuminanceSource.prototype.getThumbnailHeight=function(){return this.getHeight()/PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR},PlanarYUVLuminanceSource.prototype.reverseHorizontal=function(width,height){for(var yuvData=this.yuvData,y=0,rowStart=this.top*this.dataWidth+this.left;y<height;y++,rowStart+=this.dataWidth)for(var middle=rowStart+width/2,x1=rowStart,x2=rowStart+width-1;x1<middle;x1++,x2--){var temp=yuvData[x1];yuvData[x1]=yuvData[x2],yuvData[x2]=temp}},PlanarYUVLuminanceSource.prototype.invert=function(){return new InvertedLuminanceSource_1.default(this)},PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR=2,PlanarYUVLuminanceSource}(LuminanceSource_1.default)},kLqA:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var Guid=function(){function Guid(guid){if(!guid)throw new TypeError("Invalid argument; `value` has no value.");this.value=Guid.EMPTY,guid&&Guid.isGuid(guid)&&(this.value=guid)}return Guid.isGuid=function(guid){var value=guid.toString();return guid&&(guid instanceof Guid||Guid.validator.test(value))},Guid.create=function(){return new Guid([Guid.gen(2),Guid.gen(1),Guid.gen(1),Guid.gen(1),Guid.gen(3)].join("-"))},Guid.createEmpty=function(){return new Guid("emptyguid")},Guid.parse=function(guid){return new Guid(guid)},Guid.raw=function(){return[Guid.gen(2),Guid.gen(1),Guid.gen(1),Guid.gen(1),Guid.gen(3)].join("-")},Guid.gen=function(count){for(var out="",i=0;i<count;i++)out+=(65536*(1+Math.random())|0).toString(16).substring(1);return out},Guid.prototype.equals=function(other){return Guid.isGuid(other)&&this.value===other.toString()},Guid.prototype.isEmpty=function(){return this.value===Guid.EMPTY},Guid.prototype.toString=function(){return this.value},Guid.prototype.toJSON=function(){return{value:this.value}},Guid.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),Guid.EMPTY="00000000-0000-0000-0000-000000000000",Guid}();exports.Guid=Guid},kiQV:function(module){module.exports=JSON.parse('{"name":"frontend","version":"0.8.18","scripts":{"ng":"ng","start":"ng serve --aot --host 0.0.0.0 --disable-host-check","startssl":"ng serve --aot --port 4233 --host inventory.local --disable-host-check --ssl true --sslCert=./ssl/localhost.crt --sslKey=./ssl/localhost.key --open","startssl_test":"ng serve --host inventory.local --publicHost inventory.local:4200/sockjs-node --disable-host-check --ssl true --sslCert=./ssl/localhost.crt --sslKey=./ssl/localhost.key","prebuild":"yarn version --patch","build":"yarn run prebuild && ng build","startpwaOld":"http-server -p 4223 -c-1 dist/frontend -S -C ssh_pem/cert.pem -K ssh_pem/key.pem -o","startpwa":"http-server -p 4223 -c-1 dist/frontend -S -C ssl/public_crt.pem -K ssl/private_key.pem -o","buildpwa":"yarn run prebuild && ng build --prod --project frontend","test":"ng test","lint":"ng lint","e2e":"ng e2e","serve-dist":"ts-node node-dist-server.ts","serve-dist-js":"node node-dist-server.js"},"private":true,"dependencies":{"@angular/animations":"~8.2.14","@angular/common":"~8.2.14","@angular/compiler":"~8.2.14","@angular/core":"~8.2.14","@angular/fire":"5.4.2","@angular/forms":"~8.2.14","@angular/platform-browser":"~8.2.14","@angular/platform-browser-dynamic":"~8.2.14","@angular/pwa":"^0.1000.5","@angular/router":"~8.2.14","@angular/service-worker":"~8.2.14","@fortawesome/angular-fontawesome":"0.4.0","@fortawesome/fontawesome-svg-core":"^1.2.8","@fortawesome/free-brands-svg-icons":"^5.5.0","@fortawesome/free-regular-svg-icons":"^5.5.0","@fortawesome/free-solid-svg-icons":"^5.5.0","@ng-bootstrap/ng-bootstrap":"^5.1.5","@types/crypto-js":"3.1.47","@zxing/ngx-scanner":"^3.0.0","angular-cropperjs":"^1.0.2","bootstrap":"^4.4.1","browser-image-compression":"^1.0.11","compress":"^0.99.0","compressorjs":"^1.0.6","cropperjs":"^1.5.6","crypto-js":"3.3.0","dexie":"2.0.4","dexie-observable":"1.0.0-beta.7","dexie-relationships":"^1.2.11","dexie-syncable":"1.0.0-beta.6","es6-shim":"^0.35.5","express":"^4.17.1","express-cors":"0.0.3","faker":"^4.1.0","firebase":">= 5.5.7 <8","global":"^4.4.0","guid-typescript":"^1.0.9","json-server":"^0.15.1","ngx-toastr":"10.0.4","ngx-webcam":"0.2.6","rxjs":"~6.4.0","ts-md5":"^1.2.7","tslib":"^1.10.0","web-push":"^3.4.4","zone.js":"~0.9.1"},"devDependencies":{"@angular-devkit/architect":"<0.900 || ^0.900.0-0 || ^9.0.0-0","@angular-devkit/build-angular":"^0.803.23","@angular/cli":"8.3.0","@angular/compiler-cli":"~8.2.14","@angular/language-service":"~8.2.14","@types/browser-image-compression":"^1.0.1","@types/jasmine":"~3.3.8","@types/jasminewd2":"~2.0.3","@types/node":"^14.14.22","codelyzer":"^5.0.0","express-serve-static-core":"^0.1.1","firebase-tools":"^7.12.0","fuzzy":"^0.1.3","inquirer":"^6.2.2","inquirer-autocomplete-prompt":"^1.0.1","jasmine-core":"~3.4.0","jasmine-spec-reporter":"~4.2.1","karma":"~4.1.0","karma-chrome-launcher":"~2.2.0","karma-coverage-istanbul-reporter":"~2.0.1","karma-jasmine":"~2.0.1","karma-jasmine-html-reporter":"^1.4.0","moment":"^2.24.0","protractor":"~5.4.0","reflect-metadata":"^0.1.13","spa-http-server":"^0.9.0","ts-node":"^8.8.2","tslint":"~5.15.0","typescript":"~3.5.3"}}')},kquO:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function Binarizer(source){this.source=source}return Binarizer.prototype.getLuminanceSource=function(){return this.source},Binarizer.prototype.getWidth=function(){return this.source.getWidth()},Binarizer.prototype.getHeight=function(){return this.source.getHeight()},Binarizer}()},kuTA:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BarcodeFormat_1=__webpack_require__("qsBs"),EncodeHintType_1=__webpack_require__("Q51M"),BitMatrix_1=__webpack_require__("/fss"),ErrorCorrectionLevel_1=__webpack_require__("SveX"),Encoder_1=__webpack_require__("JB+I"),IllegalArgumentException_1=__webpack_require__("z1Y+"),IllegalStateException_1=__webpack_require__("dI6j");exports.default=function(){function QRCodeWriter(){}return QRCodeWriter.prototype.encode=function(contents,format,width,height,hints){if(0===contents.length)throw new IllegalArgumentException_1.default("Found empty contents");if(format!==BarcodeFormat_1.default.QR_CODE)throw new IllegalArgumentException_1.default("Can only encode QR_CODE, but got "+format);if(width<0||height<0)throw new IllegalArgumentException_1.default("Requested dimensions are too small: "+width+"x"+height);var errorCorrectionLevel=ErrorCorrectionLevel_1.default.L,quietZone=QRCodeWriter.QUIET_ZONE_SIZE;null!==hints&&(void 0!==hints.get(EncodeHintType_1.default.ERROR_CORRECTION)&&(errorCorrectionLevel=ErrorCorrectionLevel_1.default.fromString(hints.get(EncodeHintType_1.default.ERROR_CORRECTION).toString())),void 0!==hints.get(EncodeHintType_1.default.MARGIN)&&(quietZone=Number.parseInt(hints.get(EncodeHintType_1.default.MARGIN).toString(),10)));var code=Encoder_1.default.encode(contents,errorCorrectionLevel,hints);return QRCodeWriter.renderResult(code,width,height,quietZone)},QRCodeWriter.renderResult=function(code,width,height,quietZone){var input=code.getMatrix();if(null===input)throw new IllegalStateException_1.default;for(var inputWidth=input.getWidth(),inputHeight=input.getHeight(),qrWidth=inputWidth+2*quietZone,qrHeight=inputHeight+2*quietZone,outputWidth=Math.max(width,qrWidth),outputHeight=Math.max(height,qrHeight),multiple=Math.min(Math.floor(outputWidth/qrWidth),Math.floor(outputHeight/qrHeight)),leftPadding=Math.floor((outputWidth-inputWidth*multiple)/2),topPadding=Math.floor((outputHeight-inputHeight*multiple)/2),output=new BitMatrix_1.default(outputWidth,outputHeight),inputY=0,outputY=topPadding;inputY<inputHeight;inputY++,outputY+=multiple)for(var inputX=0,outputX=leftPadding;inputX<inputWidth;inputX++,outputX+=multiple)1===input.get(inputX,inputY)&&output.setRegion(outputX,outputY,multiple,multiple);return output},QRCodeWriter.QUIET_ZONE_SIZE=4,QRCodeWriter}()},lPiR:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),function(Math){var C=CryptoJS,C_lib=C.lib,WordArray=C_lib.WordArray,Hasher=C_lib.Hasher,C_algo=C.algo,H=[],K=[];!function(){function isPrime(n){for(var sqrtN=Math.sqrt(n),factor=2;factor<=sqrtN;factor++)if(!(n%factor))return!1;return!0}function getFractionalBits(n){return 4294967296*(n-(0|n))|0}for(var n=2,nPrime=0;nPrime<64;)isPrime(n)&&(nPrime<8&&(H[nPrime]=getFractionalBits(Math.pow(n,.5))),K[nPrime]=getFractionalBits(Math.pow(n,1/3)),nPrime++),n++}();var W=[],SHA256=C_algo.SHA256=Hasher.extend({_doReset:function(){this._hash=new WordArray.init(H.slice(0))},_doProcessBlock:function(M,offset){for(var H=this._hash.words,a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],f=H[5],g=H[6],h=H[7],i=0;i<64;i++){if(i<16)W[i]=0|M[offset+i];else{var gamma0x=W[i-15],gamma1x=W[i-2];W[i]=((gamma0x<<25|gamma0x>>>7)^(gamma0x<<14|gamma0x>>>18)^gamma0x>>>3)+W[i-7]+((gamma1x<<15|gamma1x>>>17)^(gamma1x<<13|gamma1x>>>19)^gamma1x>>>10)+W[i-16]}var maj=a&b^a&c^b&c,t1=h+((e<<26|e>>>6)^(e<<21|e>>>11)^(e<<7|e>>>25))+(e&f^~e&g)+K[i]+W[i];h=g,g=f,f=e,e=d+t1|0,d=c,c=b,b=a,a=t1+(((a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22))+maj)|0}H[0]=H[0]+a|0,H[1]=H[1]+b|0,H[2]=H[2]+c|0,H[3]=H[3]+d|0,H[4]=H[4]+e|0,H[5]=H[5]+f|0,H[6]=H[6]+g|0,H[7]=H[7]+h|0},_doFinalize:function(){var data=this._data,dataWords=data.words,nBitsTotal=8*this._nDataBytes,nBitsLeft=8*data.sigBytes;return dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,dataWords[14+(nBitsLeft+64>>>9<<4)]=Math.floor(nBitsTotal/4294967296),dataWords[15+(nBitsLeft+64>>>9<<4)]=nBitsTotal,data.sigBytes=4*dataWords.length,this._process(),this._hash},clone:function(){var clone=Hasher.clone.call(this);return clone._hash=this._hash.clone(),clone}});C.SHA256=Hasher._createHelper(SHA256),C.HmacSHA256=Hasher._createHmacHelper(SHA256)}(Math),CryptoJS.SHA256)},mrSG:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__extends",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"__assign",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"__rest",(function(){return __rest})),__webpack_require__.d(__webpack_exports__,"__decorate",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"__param",(function(){return __param})),__webpack_require__.d(__webpack_exports__,"__metadata",(function(){return __metadata})),__webpack_require__.d(__webpack_exports__,"__awaiter",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"__generator",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"__createBinding",(function(){return __createBinding})),__webpack_require__.d(__webpack_exports__,"__exportStar",(function(){return __exportStar})),__webpack_require__.d(__webpack_exports__,"__values",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"__read",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"__spread",(function(){return __spread})),__webpack_require__.d(__webpack_exports__,"__spreadArrays",(function(){return __spreadArrays})),__webpack_require__.d(__webpack_exports__,"__await",(function(){return __await})),__webpack_require__.d(__webpack_exports__,"__asyncGenerator",(function(){return __asyncGenerator})),__webpack_require__.d(__webpack_exports__,"__asyncDelegator",(function(){return __asyncDelegator})),__webpack_require__.d(__webpack_exports__,"__asyncValues",(function(){return __asyncValues})),__webpack_require__.d(__webpack_exports__,"__makeTemplateObject",(function(){return __makeTemplateObject})),__webpack_require__.d(__webpack_exports__,"__importStar",(function(){return __importStar})),__webpack_require__.d(__webpack_exports__,"__importDefault",(function(){return __importDefault})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldGet",(function(){return __classPrivateFieldGet})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldSet",(function(){return __classPrivateFieldSet}));var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!((t=(t=_.trys).length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __createBinding(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}function __exportStar(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{(r=g[n](v)).value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}catch(e){settle(q[0][3],e)}var r}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){!function(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)}(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},nEnc:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ResultPoint_1=__webpack_require__("i5vq"),System_1=__webpack_require__("pleV"),Result=function(){function Result(text,rawBytes,numBits,resultPoints,format,timestamp){this.text=text,this.rawBytes=rawBytes,this.numBits=numBits,this.resultPoints=resultPoints,this.format=format,this.timestamp=timestamp,this.text=text,this.rawBytes=rawBytes,this.numBits=null==numBits?null==rawBytes?0:8*rawBytes.length:numBits,this.resultPoints=resultPoints,this.format=format,this.resultMetadata=null,this.timestamp=null==timestamp?System_1.default.currentTimeMillis():timestamp}return Result.prototype.getText=function(){return this.text},Result.prototype.getRawBytes=function(){return this.rawBytes},Result.prototype.getNumBits=function(){return this.numBits},Result.prototype.getResultPoints=function(){return this.resultPoints},Result.prototype.getBarcodeFormat=function(){return this.format},Result.prototype.getResultMetadata=function(){return this.resultMetadata},Result.prototype.putMetadata=function(type,value){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(type,value)},Result.prototype.putAllMetadata=function(metadata){null!==metadata&&(this.resultMetadata=null===this.resultMetadata?metadata:new Map(metadata))},Result.prototype.addResultPoints=function(newPoints){var oldPoints=this.resultPoints;if(null===oldPoints)this.resultPoints=newPoints;else if(null!==newPoints&&newPoints.length>0){var allPoints=new ResultPoint_1.default[oldPoints.length+newPoints.length];System_1.default.arraycopy(oldPoints,0,allPoints,0,oldPoints.length),System_1.default.arraycopy(newPoints,0,allPoints,oldPoints.length,newPoints.length),this.resultPoints=allPoints}},Result.prototype.getTimestamp=function(){return this.timestamp},Result.prototype.toString=function(){return this.text},Result}();exports.default=Result},nRM0:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function Float(){}return Float.floatToIntBits=function(f){return f},Float}()},nVjH:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GenericGF_1=__webpack_require__("al1V"),GenericGFPoly_1=__webpack_require__("DoMb"),ReedSolomonException_1=__webpack_require__("NczI"),IllegalStateException_1=__webpack_require__("dI6j");exports.default=function(){function ReedSolomonDecoder(field){this.field=field}return ReedSolomonDecoder.prototype.decode=function(received,twoS){for(var field=this.field,poly=new GenericGFPoly_1.default(field,received),syndromeCoefficients=new Int32Array(twoS),noError=!0,i=0;i<twoS;i++){var evalResult=poly.evaluateAt(field.exp(i+field.getGeneratorBase()));syndromeCoefficients[syndromeCoefficients.length-1-i]=evalResult,0!==evalResult&&(noError=!1)}if(!noError){var syndrome=new GenericGFPoly_1.default(field,syndromeCoefficients),sigmaOmega=this.runEuclideanAlgorithm(field.buildMonomial(twoS,1),syndrome,twoS),omega=sigmaOmega[1],errorLocations=this.findErrorLocations(sigmaOmega[0]),errorMagnitudes=this.findErrorMagnitudes(omega,errorLocations);for(i=0;i<errorLocations.length;i++){var position=received.length-1-field.log(errorLocations[i]);if(position<0)throw new ReedSolomonException_1.default("Bad error location");received[position]=GenericGF_1.default.addOrSubtract(received[position],errorMagnitudes[i])}}},ReedSolomonDecoder.prototype.runEuclideanAlgorithm=function(a,b,R){if(a.getDegree()<b.getDegree()){var temp=a;a=b,b=temp}for(var field=this.field,rLast=a,r=b,tLast=field.getZero(),t=field.getOne();r.getDegree()>=(R/2|0);){var rLastLast=rLast,tLastLast=tLast;if(tLast=t,(rLast=r).isZero())throw new ReedSolomonException_1.default("r_{i-1} was zero");r=rLastLast;for(var q=field.getZero(),denominatorLeadingTerm=rLast.getCoefficient(rLast.getDegree()),dltInverse=field.inverse(denominatorLeadingTerm);r.getDegree()>=rLast.getDegree()&&!r.isZero();){var degreeDiff=r.getDegree()-rLast.getDegree(),scale=field.multiply(r.getCoefficient(r.getDegree()),dltInverse);q=q.addOrSubtract(field.buildMonomial(degreeDiff,scale)),r=r.addOrSubtract(rLast.multiplyByMonomial(degreeDiff,scale))}if(t=q.multiply(tLast).addOrSubtract(tLastLast),r.getDegree()>=rLast.getDegree())throw new IllegalStateException_1.default("Division algorithm failed to reduce polynomial?")}var sigmaTildeAtZero=t.getCoefficient(0);if(0===sigmaTildeAtZero)throw new ReedSolomonException_1.default("sigmaTilde(0) was zero");var inverse=field.inverse(sigmaTildeAtZero);return[t.multiplyScalar(inverse),r.multiplyScalar(inverse)]},ReedSolomonDecoder.prototype.findErrorLocations=function(errorLocator){var numErrors=errorLocator.getDegree();if(1===numErrors)return Int32Array.from([errorLocator.getCoefficient(1)]);for(var result=new Int32Array(numErrors),e=0,field=this.field,i=1;i<field.getSize()&&e<numErrors;i++)0===errorLocator.evaluateAt(i)&&(result[e]=field.inverse(i),e++);if(e!==numErrors)throw new ReedSolomonException_1.default("Error locator degree does not match number of roots");return result},ReedSolomonDecoder.prototype.findErrorMagnitudes=function(errorEvaluator,errorLocations){for(var s=errorLocations.length,result=new Int32Array(s),field=this.field,i=0;i<s;i++){for(var xiInverse=field.inverse(errorLocations[i]),denominator=1,j=0;j<s;j++)if(i!==j){var term=field.multiply(errorLocations[j],xiInverse);denominator=field.multiply(denominator,0==(1&term)?1|term:-2&term)}result[i]=field.multiply(errorEvaluator.evaluateAt(xiInverse),field.inverse(denominator)),0!==field.getGeneratorBase()&&(result[i]=field.multiply(result[i],xiInverse))}return result},ReedSolomonDecoder}()},nW3M:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var ResultPoint_1=__webpack_require__("i5vq");exports.default=function(_super){function FinderPattern(posX,posY,estimatedModuleSize,count){var _this=_super.call(this,posX,posY)||this;return _this.estimatedModuleSize=estimatedModuleSize,_this.count=count,void 0===count&&(_this.count=1),_this}return __extends(FinderPattern,_super),FinderPattern.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},FinderPattern.prototype.getCount=function(){return this.count},FinderPattern.prototype.aboutEquals=function(moduleSize,i,j){if(Math.abs(i-this.getY())<=moduleSize&&Math.abs(j-this.getX())<=moduleSize){var moduleSizeDiff=Math.abs(moduleSize-this.estimatedModuleSize);return moduleSizeDiff<=1||moduleSizeDiff<=this.estimatedModuleSize}return!1},FinderPattern.prototype.combineEstimate=function(i,j,newModuleSize){var combinedCount=this.count+1;return new FinderPattern((this.count*this.getX()+j)/combinedCount,(this.count*this.getY()+i)/combinedCount,(this.count*this.estimatedModuleSize+newModuleSize)/combinedCount,combinedCount)},FinderPattern}(ResultPoint_1.default)},"nt+B":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GenericGFPoly_1=__webpack_require__("DoMb"),System_1=__webpack_require__("pleV"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function ReedSolomonEncoder(field){this.field=field,this.cachedGenerators=[],this.cachedGenerators.push(new GenericGFPoly_1.default(field,Int32Array.from([1])))}return ReedSolomonEncoder.prototype.buildGenerator=function(degree){var cachedGenerators=this.cachedGenerators;if(degree>=cachedGenerators.length)for(var lastGenerator=cachedGenerators[cachedGenerators.length-1],field=this.field,d=cachedGenerators.length;d<=degree;d++){var nextGenerator=lastGenerator.multiply(new GenericGFPoly_1.default(field,Int32Array.from([1,field.exp(d-1+field.getGeneratorBase())])));cachedGenerators.push(nextGenerator),lastGenerator=nextGenerator}return cachedGenerators[degree]},ReedSolomonEncoder.prototype.encode=function(toEncode,ecBytes){if(0===ecBytes)throw new IllegalArgumentException_1.default("No error correction bytes");var dataBytes=toEncode.length-ecBytes;if(dataBytes<=0)throw new IllegalArgumentException_1.default("No data bytes provided");var generator=this.buildGenerator(ecBytes),infoCoefficients=new Int32Array(dataBytes);System_1.default.arraycopy(toEncode,0,infoCoefficients,0,dataBytes);for(var info=new GenericGFPoly_1.default(this.field,infoCoefficients),coefficients=(info=info.multiplyByMonomial(ecBytes,1)).divide(generator)[1].getCoefficients(),numZeroCoefficients=ecBytes-coefficients.length,i=0;i<numZeroCoefficients;i++)toEncode[dataBytes+i]=0;System_1.default.arraycopy(coefficients,0,toEncode,dataBytes+numZeroCoefficients,coefficients.length)},ReedSolomonEncoder}()},oFLi:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function ECB(count,dataCodewords){this.count=count,this.dataCodewords=dataCodewords}return ECB.prototype.getCount=function(){return this.count},ECB.prototype.getDataCodewords=function(){return this.dataCodewords},ECB}()},oRuE:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.pad.Iso10126={pad:function(data,blockSize){var blockSizeBytes=4*blockSize,nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes;data.concat(CryptoJS.lib.WordArray.random(nPaddingBytes-1)).concat(CryptoJS.lib.WordArray.create([nPaddingBytes<<24],1))},unpad:function(data){data.sigBytes-=255&data.words[data.sigBytes-1>>>2]}},CryptoJS.pad.Iso10126)},okgz:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitMatrix_1=__webpack_require__("/fss"),FormatInformation_1=__webpack_require__("ainZ"),ECBlocks_1=__webpack_require__("GSVm"),ECB_1=__webpack_require__("oFLi"),FormatException_1=__webpack_require__("dGMj"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function Version(versionNumber,alignmentPatternCenters){for(var ecBlocks=[],_i=2;_i<arguments.length;_i++)ecBlocks[_i-2]=arguments[_i];this.versionNumber=versionNumber,this.alignmentPatternCenters=alignmentPatternCenters,this.ecBlocks=ecBlocks;for(var total=0,ecCodewords=ecBlocks[0].getECCodewordsPerBlock(),ecbArray=ecBlocks[0].getECBlocks(),_a=0,ecbArray_1=ecbArray;_a<ecbArray_1.length;_a++){var ecBlock=ecbArray_1[_a];total+=ecBlock.getCount()*(ecBlock.getDataCodewords()+ecCodewords)}this.totalCodewords=total}return Version.prototype.getVersionNumber=function(){return this.versionNumber},Version.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},Version.prototype.getTotalCodewords=function(){return this.totalCodewords},Version.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},Version.prototype.getECBlocksForLevel=function(ecLevel){return this.ecBlocks[ecLevel.getValue()]},Version.getProvisionalVersionForDimension=function(dimension){if(dimension%4!=1)throw new FormatException_1.default;try{return this.getVersionForNumber((dimension-17)/4)}catch(ignored){throw new FormatException_1.default}},Version.getVersionForNumber=function(versionNumber){if(versionNumber<1||versionNumber>40)throw new IllegalArgumentException_1.default;return Version.VERSIONS[versionNumber-1]},Version.decodeVersionInformation=function(versionBits){for(var bestDifference=Number.MAX_SAFE_INTEGER,bestVersion=0,i=0;i<Version.VERSION_DECODE_INFO.length;i++){var targetVersion=Version.VERSION_DECODE_INFO[i];if(targetVersion===versionBits)return Version.getVersionForNumber(i+7);var bitsDifference=FormatInformation_1.default.numBitsDiffering(versionBits,targetVersion);bitsDifference<bestDifference&&(bestVersion=i+7,bestDifference=bitsDifference)}return bestDifference<=3?Version.getVersionForNumber(bestVersion):null},Version.prototype.buildFunctionPattern=function(){var dimension=this.getDimensionForVersion(),bitMatrix=new BitMatrix_1.default(dimension);bitMatrix.setRegion(0,0,9,9),bitMatrix.setRegion(dimension-8,0,8,9),bitMatrix.setRegion(0,dimension-8,9,8);for(var max=this.alignmentPatternCenters.length,x=0;x<max;x++)for(var i=this.alignmentPatternCenters[x]-2,y=0;y<max;y++)0===x&&(0===y||y===max-1)||x===max-1&&0===y||bitMatrix.setRegion(this.alignmentPatternCenters[y]-2,i,5,5);return bitMatrix.setRegion(6,9,1,dimension-17),bitMatrix.setRegion(9,6,dimension-17,1),this.versionNumber>6&&(bitMatrix.setRegion(dimension-11,0,3,6),bitMatrix.setRegion(0,dimension-11,6,3)),bitMatrix},Version.prototype.toString=function(){return""+this.versionNumber},Version.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Version.VERSIONS=[new Version(1,new Int32Array(0),new ECBlocks_1.default(7,new ECB_1.default(1,19)),new ECBlocks_1.default(10,new ECB_1.default(1,16)),new ECBlocks_1.default(13,new ECB_1.default(1,13)),new ECBlocks_1.default(17,new ECB_1.default(1,9))),new Version(2,Int32Array.from([6,18]),new ECBlocks_1.default(10,new ECB_1.default(1,34)),new ECBlocks_1.default(16,new ECB_1.default(1,28)),new ECBlocks_1.default(22,new ECB_1.default(1,22)),new ECBlocks_1.default(28,new ECB_1.default(1,16))),new Version(3,Int32Array.from([6,22]),new ECBlocks_1.default(15,new ECB_1.default(1,55)),new ECBlocks_1.default(26,new ECB_1.default(1,44)),new ECBlocks_1.default(18,new ECB_1.default(2,17)),new ECBlocks_1.default(22,new ECB_1.default(2,13))),new Version(4,Int32Array.from([6,26]),new ECBlocks_1.default(20,new ECB_1.default(1,80)),new ECBlocks_1.default(18,new ECB_1.default(2,32)),new ECBlocks_1.default(26,new ECB_1.default(2,24)),new ECBlocks_1.default(16,new ECB_1.default(4,9))),new Version(5,Int32Array.from([6,30]),new ECBlocks_1.default(26,new ECB_1.default(1,108)),new ECBlocks_1.default(24,new ECB_1.default(2,43)),new ECBlocks_1.default(18,new ECB_1.default(2,15),new ECB_1.default(2,16)),new ECBlocks_1.default(22,new ECB_1.default(2,11),new ECB_1.default(2,12))),new Version(6,Int32Array.from([6,34]),new ECBlocks_1.default(18,new ECB_1.default(2,68)),new ECBlocks_1.default(16,new ECB_1.default(4,27)),new ECBlocks_1.default(24,new ECB_1.default(4,19)),new ECBlocks_1.default(28,new ECB_1.default(4,15))),new Version(7,Int32Array.from([6,22,38]),new ECBlocks_1.default(20,new ECB_1.default(2,78)),new ECBlocks_1.default(18,new ECB_1.default(4,31)),new ECBlocks_1.default(18,new ECB_1.default(2,14),new ECB_1.default(4,15)),new ECBlocks_1.default(26,new ECB_1.default(4,13),new ECB_1.default(1,14))),new Version(8,Int32Array.from([6,24,42]),new ECBlocks_1.default(24,new ECB_1.default(2,97)),new ECBlocks_1.default(22,new ECB_1.default(2,38),new ECB_1.default(2,39)),new ECBlocks_1.default(22,new ECB_1.default(4,18),new ECB_1.default(2,19)),new ECBlocks_1.default(26,new ECB_1.default(4,14),new ECB_1.default(2,15))),new Version(9,Int32Array.from([6,26,46]),new ECBlocks_1.default(30,new ECB_1.default(2,116)),new ECBlocks_1.default(22,new ECB_1.default(3,36),new ECB_1.default(2,37)),new ECBlocks_1.default(20,new ECB_1.default(4,16),new ECB_1.default(4,17)),new ECBlocks_1.default(24,new ECB_1.default(4,12),new ECB_1.default(4,13))),new Version(10,Int32Array.from([6,28,50]),new ECBlocks_1.default(18,new ECB_1.default(2,68),new ECB_1.default(2,69)),new ECBlocks_1.default(26,new ECB_1.default(4,43),new ECB_1.default(1,44)),new ECBlocks_1.default(24,new ECB_1.default(6,19),new ECB_1.default(2,20)),new ECBlocks_1.default(28,new ECB_1.default(6,15),new ECB_1.default(2,16))),new Version(11,Int32Array.from([6,30,54]),new ECBlocks_1.default(20,new ECB_1.default(4,81)),new ECBlocks_1.default(30,new ECB_1.default(1,50),new ECB_1.default(4,51)),new ECBlocks_1.default(28,new ECB_1.default(4,22),new ECB_1.default(4,23)),new ECBlocks_1.default(24,new ECB_1.default(3,12),new ECB_1.default(8,13))),new Version(12,Int32Array.from([6,32,58]),new ECBlocks_1.default(24,new ECB_1.default(2,92),new ECB_1.default(2,93)),new ECBlocks_1.default(22,new ECB_1.default(6,36),new ECB_1.default(2,37)),new ECBlocks_1.default(26,new ECB_1.default(4,20),new ECB_1.default(6,21)),new ECBlocks_1.default(28,new ECB_1.default(7,14),new ECB_1.default(4,15))),new Version(13,Int32Array.from([6,34,62]),new ECBlocks_1.default(26,new ECB_1.default(4,107)),new ECBlocks_1.default(22,new ECB_1.default(8,37),new ECB_1.default(1,38)),new ECBlocks_1.default(24,new ECB_1.default(8,20),new ECB_1.default(4,21)),new ECBlocks_1.default(22,new ECB_1.default(12,11),new ECB_1.default(4,12))),new Version(14,Int32Array.from([6,26,46,66]),new ECBlocks_1.default(30,new ECB_1.default(3,115),new ECB_1.default(1,116)),new ECBlocks_1.default(24,new ECB_1.default(4,40),new ECB_1.default(5,41)),new ECBlocks_1.default(20,new ECB_1.default(11,16),new ECB_1.default(5,17)),new ECBlocks_1.default(24,new ECB_1.default(11,12),new ECB_1.default(5,13))),new Version(15,Int32Array.from([6,26,48,70]),new ECBlocks_1.default(22,new ECB_1.default(5,87),new ECB_1.default(1,88)),new ECBlocks_1.default(24,new ECB_1.default(5,41),new ECB_1.default(5,42)),new ECBlocks_1.default(30,new ECB_1.default(5,24),new ECB_1.default(7,25)),new ECBlocks_1.default(24,new ECB_1.default(11,12),new ECB_1.default(7,13))),new Version(16,Int32Array.from([6,26,50,74]),new ECBlocks_1.default(24,new ECB_1.default(5,98),new ECB_1.default(1,99)),new ECBlocks_1.default(28,new ECB_1.default(7,45),new ECB_1.default(3,46)),new ECBlocks_1.default(24,new ECB_1.default(15,19),new ECB_1.default(2,20)),new ECBlocks_1.default(30,new ECB_1.default(3,15),new ECB_1.default(13,16))),new Version(17,Int32Array.from([6,30,54,78]),new ECBlocks_1.default(28,new ECB_1.default(1,107),new ECB_1.default(5,108)),new ECBlocks_1.default(28,new ECB_1.default(10,46),new ECB_1.default(1,47)),new ECBlocks_1.default(28,new ECB_1.default(1,22),new ECB_1.default(15,23)),new ECBlocks_1.default(28,new ECB_1.default(2,14),new ECB_1.default(17,15))),new Version(18,Int32Array.from([6,30,56,82]),new ECBlocks_1.default(30,new ECB_1.default(5,120),new ECB_1.default(1,121)),new ECBlocks_1.default(26,new ECB_1.default(9,43),new ECB_1.default(4,44)),new ECBlocks_1.default(28,new ECB_1.default(17,22),new ECB_1.default(1,23)),new ECBlocks_1.default(28,new ECB_1.default(2,14),new ECB_1.default(19,15))),new Version(19,Int32Array.from([6,30,58,86]),new ECBlocks_1.default(28,new ECB_1.default(3,113),new ECB_1.default(4,114)),new ECBlocks_1.default(26,new ECB_1.default(3,44),new ECB_1.default(11,45)),new ECBlocks_1.default(26,new ECB_1.default(17,21),new ECB_1.default(4,22)),new ECBlocks_1.default(26,new ECB_1.default(9,13),new ECB_1.default(16,14))),new Version(20,Int32Array.from([6,34,62,90]),new ECBlocks_1.default(28,new ECB_1.default(3,107),new ECB_1.default(5,108)),new ECBlocks_1.default(26,new ECB_1.default(3,41),new ECB_1.default(13,42)),new ECBlocks_1.default(30,new ECB_1.default(15,24),new ECB_1.default(5,25)),new ECBlocks_1.default(28,new ECB_1.default(15,15),new ECB_1.default(10,16))),new Version(21,Int32Array.from([6,28,50,72,94]),new ECBlocks_1.default(28,new ECB_1.default(4,116),new ECB_1.default(4,117)),new ECBlocks_1.default(26,new ECB_1.default(17,42)),new ECBlocks_1.default(28,new ECB_1.default(17,22),new ECB_1.default(6,23)),new ECBlocks_1.default(30,new ECB_1.default(19,16),new ECB_1.default(6,17))),new Version(22,Int32Array.from([6,26,50,74,98]),new ECBlocks_1.default(28,new ECB_1.default(2,111),new ECB_1.default(7,112)),new ECBlocks_1.default(28,new ECB_1.default(17,46)),new ECBlocks_1.default(30,new ECB_1.default(7,24),new ECB_1.default(16,25)),new ECBlocks_1.default(24,new ECB_1.default(34,13))),new Version(23,Int32Array.from([6,30,54,78,102]),new ECBlocks_1.default(30,new ECB_1.default(4,121),new ECB_1.default(5,122)),new ECBlocks_1.default(28,new ECB_1.default(4,47),new ECB_1.default(14,48)),new ECBlocks_1.default(30,new ECB_1.default(11,24),new ECB_1.default(14,25)),new ECBlocks_1.default(30,new ECB_1.default(16,15),new ECB_1.default(14,16))),new Version(24,Int32Array.from([6,28,54,80,106]),new ECBlocks_1.default(30,new ECB_1.default(6,117),new ECB_1.default(4,118)),new ECBlocks_1.default(28,new ECB_1.default(6,45),new ECB_1.default(14,46)),new ECBlocks_1.default(30,new ECB_1.default(11,24),new ECB_1.default(16,25)),new ECBlocks_1.default(30,new ECB_1.default(30,16),new ECB_1.default(2,17))),new Version(25,Int32Array.from([6,32,58,84,110]),new ECBlocks_1.default(26,new ECB_1.default(8,106),new ECB_1.default(4,107)),new ECBlocks_1.default(28,new ECB_1.default(8,47),new ECB_1.default(13,48)),new ECBlocks_1.default(30,new ECB_1.default(7,24),new ECB_1.default(22,25)),new ECBlocks_1.default(30,new ECB_1.default(22,15),new ECB_1.default(13,16))),new Version(26,Int32Array.from([6,30,58,86,114]),new ECBlocks_1.default(28,new ECB_1.default(10,114),new ECB_1.default(2,115)),new ECBlocks_1.default(28,new ECB_1.default(19,46),new ECB_1.default(4,47)),new ECBlocks_1.default(28,new ECB_1.default(28,22),new ECB_1.default(6,23)),new ECBlocks_1.default(30,new ECB_1.default(33,16),new ECB_1.default(4,17))),new Version(27,Int32Array.from([6,34,62,90,118]),new ECBlocks_1.default(30,new ECB_1.default(8,122),new ECB_1.default(4,123)),new ECBlocks_1.default(28,new ECB_1.default(22,45),new ECB_1.default(3,46)),new ECBlocks_1.default(30,new ECB_1.default(8,23),new ECB_1.default(26,24)),new ECBlocks_1.default(30,new ECB_1.default(12,15),new ECB_1.default(28,16))),new Version(28,Int32Array.from([6,26,50,74,98,122]),new ECBlocks_1.default(30,new ECB_1.default(3,117),new ECB_1.default(10,118)),new ECBlocks_1.default(28,new ECB_1.default(3,45),new ECB_1.default(23,46)),new ECBlocks_1.default(30,new ECB_1.default(4,24),new ECB_1.default(31,25)),new ECBlocks_1.default(30,new ECB_1.default(11,15),new ECB_1.default(31,16))),new Version(29,Int32Array.from([6,30,54,78,102,126]),new ECBlocks_1.default(30,new ECB_1.default(7,116),new ECB_1.default(7,117)),new ECBlocks_1.default(28,new ECB_1.default(21,45),new ECB_1.default(7,46)),new ECBlocks_1.default(30,new ECB_1.default(1,23),new ECB_1.default(37,24)),new ECBlocks_1.default(30,new ECB_1.default(19,15),new ECB_1.default(26,16))),new Version(30,Int32Array.from([6,26,52,78,104,130]),new ECBlocks_1.default(30,new ECB_1.default(5,115),new ECB_1.default(10,116)),new ECBlocks_1.default(28,new ECB_1.default(19,47),new ECB_1.default(10,48)),new ECBlocks_1.default(30,new ECB_1.default(15,24),new ECB_1.default(25,25)),new ECBlocks_1.default(30,new ECB_1.default(23,15),new ECB_1.default(25,16))),new Version(31,Int32Array.from([6,30,56,82,108,134]),new ECBlocks_1.default(30,new ECB_1.default(13,115),new ECB_1.default(3,116)),new ECBlocks_1.default(28,new ECB_1.default(2,46),new ECB_1.default(29,47)),new ECBlocks_1.default(30,new ECB_1.default(42,24),new ECB_1.default(1,25)),new ECBlocks_1.default(30,new ECB_1.default(23,15),new ECB_1.default(28,16))),new Version(32,Int32Array.from([6,34,60,86,112,138]),new ECBlocks_1.default(30,new ECB_1.default(17,115)),new ECBlocks_1.default(28,new ECB_1.default(10,46),new ECB_1.default(23,47)),new ECBlocks_1.default(30,new ECB_1.default(10,24),new ECB_1.default(35,25)),new ECBlocks_1.default(30,new ECB_1.default(19,15),new ECB_1.default(35,16))),new Version(33,Int32Array.from([6,30,58,86,114,142]),new ECBlocks_1.default(30,new ECB_1.default(17,115),new ECB_1.default(1,116)),new ECBlocks_1.default(28,new ECB_1.default(14,46),new ECB_1.default(21,47)),new ECBlocks_1.default(30,new ECB_1.default(29,24),new ECB_1.default(19,25)),new ECBlocks_1.default(30,new ECB_1.default(11,15),new ECB_1.default(46,16))),new Version(34,Int32Array.from([6,34,62,90,118,146]),new ECBlocks_1.default(30,new ECB_1.default(13,115),new ECB_1.default(6,116)),new ECBlocks_1.default(28,new ECB_1.default(14,46),new ECB_1.default(23,47)),new ECBlocks_1.default(30,new ECB_1.default(44,24),new ECB_1.default(7,25)),new ECBlocks_1.default(30,new ECB_1.default(59,16),new ECB_1.default(1,17))),new Version(35,Int32Array.from([6,30,54,78,102,126,150]),new ECBlocks_1.default(30,new ECB_1.default(12,121),new ECB_1.default(7,122)),new ECBlocks_1.default(28,new ECB_1.default(12,47),new ECB_1.default(26,48)),new ECBlocks_1.default(30,new ECB_1.default(39,24),new ECB_1.default(14,25)),new ECBlocks_1.default(30,new ECB_1.default(22,15),new ECB_1.default(41,16))),new Version(36,Int32Array.from([6,24,50,76,102,128,154]),new ECBlocks_1.default(30,new ECB_1.default(6,121),new ECB_1.default(14,122)),new ECBlocks_1.default(28,new ECB_1.default(6,47),new ECB_1.default(34,48)),new ECBlocks_1.default(30,new ECB_1.default(46,24),new ECB_1.default(10,25)),new ECBlocks_1.default(30,new ECB_1.default(2,15),new ECB_1.default(64,16))),new Version(37,Int32Array.from([6,28,54,80,106,132,158]),new ECBlocks_1.default(30,new ECB_1.default(17,122),new ECB_1.default(4,123)),new ECBlocks_1.default(28,new ECB_1.default(29,46),new ECB_1.default(14,47)),new ECBlocks_1.default(30,new ECB_1.default(49,24),new ECB_1.default(10,25)),new ECBlocks_1.default(30,new ECB_1.default(24,15),new ECB_1.default(46,16))),new Version(38,Int32Array.from([6,32,58,84,110,136,162]),new ECBlocks_1.default(30,new ECB_1.default(4,122),new ECB_1.default(18,123)),new ECBlocks_1.default(28,new ECB_1.default(13,46),new ECB_1.default(32,47)),new ECBlocks_1.default(30,new ECB_1.default(48,24),new ECB_1.default(14,25)),new ECBlocks_1.default(30,new ECB_1.default(42,15),new ECB_1.default(32,16))),new Version(39,Int32Array.from([6,26,54,82,110,138,166]),new ECBlocks_1.default(30,new ECB_1.default(20,117),new ECB_1.default(4,118)),new ECBlocks_1.default(28,new ECB_1.default(40,47),new ECB_1.default(7,48)),new ECBlocks_1.default(30,new ECB_1.default(43,24),new ECB_1.default(22,25)),new ECBlocks_1.default(30,new ECB_1.default(10,15),new ECB_1.default(67,16))),new Version(40,Int32Array.from([6,30,58,86,114,142,170]),new ECBlocks_1.default(30,new ECB_1.default(19,118),new ECB_1.default(6,119)),new ECBlocks_1.default(28,new ECB_1.default(18,47),new ECB_1.default(31,48)),new ECBlocks_1.default(30,new ECB_1.default(34,24),new ECB_1.default(34,25)),new ECBlocks_1.default(30,new ECB_1.default(20,15),new ECB_1.default(61,16)))],Version}()},oyvp:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var UnsupportedOperationException_1=__webpack_require__("U4yT"),CharacterSetECI_1=__webpack_require__("pds4");exports.default=function(){function StringEncoding(){}return StringEncoding.decode=function(bytes,encoding){var encodingName=this.encodingName(encoding);return"undefined"==typeof TextDecoder?this.decodeFallback(bytes,encodingName):new TextDecoder(encodingName).decode(bytes)},StringEncoding.encode=function(s,encoding){return StringEncoding.isBrowser()?"undefined"==typeof TextEncoder?this.encodeFallback(s):(new TextEncoder).encode(s):new TextEncoder(this.encodingName(encoding),{NONSTANDARD_allowLegacyEncoding:!0}).encode(s)},StringEncoding.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},StringEncoding.encodingName=function(encoding){return"string"==typeof encoding?encoding:encoding.getName()},StringEncoding.encodingCharacterSet=function(encoding){return CharacterSetECI_1.default.getCharacterSetECIByName(this.encodingName(encoding))},StringEncoding.decodeFallback=function(bytes,encoding){var characterSet=this.encodingCharacterSet(encoding);if(characterSet.equals(CharacterSetECI_1.default.UTF8)||characterSet.equals(CharacterSetECI_1.default.ISO8859_1)||characterSet.equals(CharacterSetECI_1.default.ASCII)){for(var s="",i=0,length_1=bytes.length;i<length_1;i++){var h=bytes[i].toString(16);h.length<2&&(h="0"+h),s+="%"+h}return decodeURIComponent(s)}if(characterSet.equals(CharacterSetECI_1.default.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(bytes.buffer));throw new UnsupportedOperationException_1.default("Encoding "+this.encodingName(encoding)+" not supported by fallback.")},StringEncoding.encodeFallback=function(s){for(var charList=btoa(unescape(encodeURIComponent(s))).split(""),uintArray=[],i=0;i<charList.length;i++)uintArray.push(charList[i].charCodeAt(0));return new Uint8Array(uintArray)},StringEncoding}()},p9OP:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DefaultGridSampler_1=__webpack_require__("agz5");exports.default=function(){function GridSamplerInstance(){}return GridSamplerInstance.setGridSampler=function(newGridSampler){GridSamplerInstance.gridSampler=newGridSampler},GridSamplerInstance.getInstance=function(){return GridSamplerInstance.gridSampler},GridSamplerInstance.gridSampler=new DefaultGridSampler_1.default,GridSamplerInstance}()},pA7S:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("ETIr"),__webpack_require__("cv67"),__webpack_require__("K3mO"),__webpack_require__("OLod"),function(){var C=CryptoJS,C_lib=C.lib,WordArray=C_lib.WordArray,BlockCipher=C_lib.BlockCipher,C_algo=C.algo,PC1=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],PC2=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],BIT_SHIFTS=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],SBOX_P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],SBOX_MASK=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],DES=C_algo.DES=BlockCipher.extend({_doReset:function(){for(var keyWords=this._key.words,keyBits=[],i=0;i<56;i++){var keyBitPos=PC1[i]-1;keyBits[i]=keyWords[keyBitPos>>>5]>>>31-keyBitPos%32&1}for(var subKeys=this._subKeys=[],nSubKey=0;nSubKey<16;nSubKey++){var subKey=subKeys[nSubKey]=[],bitShift=BIT_SHIFTS[nSubKey];for(i=0;i<24;i++)subKey[i/6|0]|=keyBits[(PC2[i]-1+bitShift)%28]<<31-i%6,subKey[4+(i/6|0)]|=keyBits[28+(PC2[i+24]-1+bitShift)%28]<<31-i%6;for(subKey[0]=subKey[0]<<1|subKey[0]>>>31,i=1;i<7;i++)subKey[i]=subKey[i]>>>4*(i-1)+3;subKey[7]=subKey[7]<<5|subKey[7]>>>27}var invSubKeys=this._invSubKeys=[];for(i=0;i<16;i++)invSubKeys[i]=subKeys[15-i]},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._subKeys)},decryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._invSubKeys)},_doCryptBlock:function(M,offset,subKeys){this._lBlock=M[offset],this._rBlock=M[offset+1],exchangeLR.call(this,4,252645135),exchangeLR.call(this,16,65535),exchangeRL.call(this,2,858993459),exchangeRL.call(this,8,16711935),exchangeLR.call(this,1,1431655765);for(var round=0;round<16;round++){for(var subKey=subKeys[round],lBlock=this._lBlock,rBlock=this._rBlock,f=0,i=0;i<8;i++)f|=SBOX_P[i][((rBlock^subKey[i])&SBOX_MASK[i])>>>0];this._lBlock=rBlock,this._rBlock=lBlock^f}var t=this._lBlock;this._lBlock=this._rBlock,this._rBlock=t,exchangeLR.call(this,1,1431655765),exchangeRL.call(this,8,16711935),exchangeRL.call(this,2,858993459),exchangeLR.call(this,16,65535),exchangeLR.call(this,4,252645135),M[offset]=this._lBlock,M[offset+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function exchangeLR(offset,mask){var t=(this._lBlock>>>offset^this._rBlock)&mask;this._rBlock^=t,this._lBlock^=t<<offset}function exchangeRL(offset,mask){var t=(this._rBlock>>>offset^this._lBlock)&mask;this._lBlock^=t,this._rBlock^=t<<offset}C.DES=BlockCipher._createHelper(DES);var TripleDES=C_algo.TripleDES=BlockCipher.extend({_doReset:function(){var keyWords=this._key.words;this._des1=DES.createEncryptor(WordArray.create(keyWords.slice(0,2))),this._des2=DES.createEncryptor(WordArray.create(keyWords.slice(2,4))),this._des3=DES.createEncryptor(WordArray.create(keyWords.slice(4,6)))},encryptBlock:function(M,offset){this._des1.encryptBlock(M,offset),this._des2.decryptBlock(M,offset),this._des3.encryptBlock(M,offset)},decryptBlock:function(M,offset){this._des3.decryptBlock(M,offset),this._des2.encryptBlock(M,offset),this._des1.decryptBlock(M,offset)},keySize:6,ivSize:2,blockSize:2});C.TripleDES=BlockCipher._createHelper(TripleDES)}(),CryptoJS.TripleDES)},pGUY:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var BrowserCodeReader_1=__webpack_require__("RqVx"),MultiFormatReader_1=__webpack_require__("3DhD");exports.BrowserMultiFormatReader=function(_super){function BrowserMultiFormatReader(hints,timeBetweenScansMillis){void 0===hints&&(hints=null),void 0===timeBetweenScansMillis&&(timeBetweenScansMillis=500);var reader=new MultiFormatReader_1.default;return reader.setHints(hints),_super.call(this,reader,timeBetweenScansMillis)||this}return __extends(BrowserMultiFormatReader,_super),BrowserMultiFormatReader.prototype.decodeBitmap=function(binaryBitmap){return this.reader.decodeWithState(binaryBitmap)},BrowserMultiFormatReader}(BrowserCodeReader_1.BrowserCodeReader)},pds4:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var FormatException_1=__webpack_require__("dGMj"),CharacterSetValueIdentifiers=exports.CharacterSetValueIdentifiers=function(CharacterSetValueIdentifiers){return CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.Cp437=0]="Cp437",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_1=1]="ISO8859_1",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_2=2]="ISO8859_2",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_3=3]="ISO8859_3",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_4=4]="ISO8859_4",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_5=5]="ISO8859_5",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_6=6]="ISO8859_6",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_7=7]="ISO8859_7",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_8=8]="ISO8859_8",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_9=9]="ISO8859_9",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_10=10]="ISO8859_10",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_11=11]="ISO8859_11",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_13=12]="ISO8859_13",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_14=13]="ISO8859_14",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_15=14]="ISO8859_15",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ISO8859_16=15]="ISO8859_16",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.SJIS=16]="SJIS",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.Cp1250=17]="Cp1250",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.Cp1251=18]="Cp1251",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.Cp1252=19]="Cp1252",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.Cp1256=20]="Cp1256",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.UTF8=22]="UTF8",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.ASCII=23]="ASCII",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.Big5=24]="Big5",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.GB18030=25]="GB18030",CharacterSetValueIdentifiers[CharacterSetValueIdentifiers.EUC_KR=26]="EUC_KR",CharacterSetValueIdentifiers}(exports.CharacterSetValueIdentifiers||{});exports.default=function(){function CharacterSetECI(valueIdentifier,valuesParam,name){for(var otherEncodingNames=[],_i=3;_i<arguments.length;_i++)otherEncodingNames[_i-3]=arguments[_i];this.valueIdentifier=valueIdentifier,this.name=name,this.values="number"==typeof valuesParam?Int32Array.from([valuesParam]):valuesParam,this.otherEncodingNames=otherEncodingNames,CharacterSetECI.VALUE_IDENTIFIER_TO_ECI.set(valueIdentifier,this),CharacterSetECI.NAME_TO_ECI.set(name,this);for(var values=this.values,i=0,length_1=values.length;i!==length_1;i++){var v=values[i];CharacterSetECI.VALUES_TO_ECI.set(v,this)}for(var _a=0,otherEncodingNames_1=otherEncodingNames;_a<otherEncodingNames_1.length;_a++){var otherName=otherEncodingNames_1[_a];CharacterSetECI.NAME_TO_ECI.set(otherName,this)}}return CharacterSetECI.prototype.getValueIdentifier=function(){return this.valueIdentifier},CharacterSetECI.prototype.getName=function(){return this.name},CharacterSetECI.prototype.getValue=function(){return this.values[0]},CharacterSetECI.getCharacterSetECIByValue=function(value){if(value<0||value>=900)throw new FormatException_1.default("incorect value");var characterSet=CharacterSetECI.VALUES_TO_ECI.get(value);if(void 0===characterSet)throw new FormatException_1.default("incorect value");return characterSet},CharacterSetECI.getCharacterSetECIByName=function(name){var characterSet=CharacterSetECI.NAME_TO_ECI.get(name);if(void 0===characterSet)throw new FormatException_1.default("incorect value");return characterSet},CharacterSetECI.prototype.equals=function(o){if(!(o instanceof CharacterSetECI))return!1;var other=o;return this.getName()===other.getName()},CharacterSetECI.VALUE_IDENTIFIER_TO_ECI=new Map,CharacterSetECI.VALUES_TO_ECI=new Map,CharacterSetECI.NAME_TO_ECI=new Map,CharacterSetECI.Cp437=new CharacterSetECI(CharacterSetValueIdentifiers.Cp437,Int32Array.from([0,2]),"Cp437"),CharacterSetECI.ISO8859_1=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),CharacterSetECI.ISO8859_2=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),CharacterSetECI.ISO8859_3=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),CharacterSetECI.ISO8859_4=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),CharacterSetECI.ISO8859_5=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),CharacterSetECI.ISO8859_6=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),CharacterSetECI.ISO8859_7=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),CharacterSetECI.ISO8859_8=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),CharacterSetECI.ISO8859_9=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),CharacterSetECI.ISO8859_10=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),CharacterSetECI.ISO8859_11=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),CharacterSetECI.ISO8859_13=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),CharacterSetECI.ISO8859_14=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),CharacterSetECI.ISO8859_15=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),CharacterSetECI.ISO8859_16=new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),CharacterSetECI.SJIS=new CharacterSetECI(CharacterSetValueIdentifiers.SJIS,20,"SJIS","Shift_JIS"),CharacterSetECI.Cp1250=new CharacterSetECI(CharacterSetValueIdentifiers.Cp1250,21,"Cp1250","windows-1250"),CharacterSetECI.Cp1251=new CharacterSetECI(CharacterSetValueIdentifiers.Cp1251,22,"Cp1251","windows-1251"),CharacterSetECI.Cp1252=new CharacterSetECI(CharacterSetValueIdentifiers.Cp1252,23,"Cp1252","windows-1252"),CharacterSetECI.Cp1256=new CharacterSetECI(CharacterSetValueIdentifiers.Cp1256,24,"Cp1256","windows-1256"),CharacterSetECI.UnicodeBigUnmarked=new CharacterSetECI(CharacterSetValueIdentifiers.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),CharacterSetECI.UTF8=new CharacterSetECI(CharacterSetValueIdentifiers.UTF8,26,"UTF8","UTF-8"),CharacterSetECI.ASCII=new CharacterSetECI(CharacterSetValueIdentifiers.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),CharacterSetECI.Big5=new CharacterSetECI(CharacterSetValueIdentifiers.Big5,28,"Big5"),CharacterSetECI.GB18030=new CharacterSetECI(CharacterSetValueIdentifiers.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),CharacterSetECI.EUC_KR=new CharacterSetECI(CharacterSetValueIdentifiers.EUC_KR,30,"EUC_KR","EUC-KR"),CharacterSetECI}()},pleV:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function System(){}return System.arraycopy=function(src,srcPos,dest,destPos,length){for(;length--;)dest[destPos++]=src[srcPos++]},System.currentTimeMillis=function(){return Date.now()},System}()},qBft:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.pad.AnsiX923={pad:function(data,blockSize){var dataSigBytes=data.sigBytes,blockSizeBytes=4*blockSize,nPaddingBytes=blockSizeBytes-dataSigBytes%blockSizeBytes,lastBytePos=dataSigBytes+nPaddingBytes-1;data.clamp(),data.words[lastBytePos>>>2]|=nPaddingBytes<<24-lastBytePos%4*8,data.sigBytes+=nPaddingBytes},unpad:function(data){data.sigBytes-=255&data.words[data.sigBytes-1>>>2]}},CryptoJS.pad.Ansix923)},qM6L:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),function(){var WordArray=CryptoJS.lib.WordArray,C_enc=CryptoJS.enc;function swapEndian(word){return word<<8&4278255360|word>>>8&16711935}C_enc.Utf16=C_enc.Utf16BE={stringify:function(wordArray){for(var words=wordArray.words,sigBytes=wordArray.sigBytes,utf16Chars=[],i=0;i<sigBytes;i+=2)utf16Chars.push(String.fromCharCode(words[i>>>2]>>>16-i%4*8&65535));return utf16Chars.join("")},parse:function(utf16Str){for(var utf16StrLength=utf16Str.length,words=[],i=0;i<utf16StrLength;i++)words[i>>>1]|=utf16Str.charCodeAt(i)<<16-i%2*16;return WordArray.create(words,2*utf16StrLength)}},C_enc.Utf16LE={stringify:function(wordArray){for(var words=wordArray.words,sigBytes=wordArray.sigBytes,utf16Chars=[],i=0;i<sigBytes;i+=2){var codePoint=swapEndian(words[i>>>2]>>>16-i%4*8&65535);utf16Chars.push(String.fromCharCode(codePoint))}return utf16Chars.join("")},parse:function(utf16Str){for(var utf16StrLength=utf16Str.length,words=[],i=0;i<utf16StrLength;i++)words[i>>>1]|=swapEndian(utf16Str.charCodeAt(i)<<16-i%2*16);return WordArray.create(words,2*utf16StrLength)}}}(),CryptoJS.enc.Utf16)},qkIr:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var DataCharacter_1=__webpack_require__("2Gbb");exports.default=function(_super){function Pair(value,checksumPortion,finderPattern){var _this=_super.call(this,value,checksumPortion)||this;return _this.count=0,_this.finderPattern=finderPattern,_this}return __extends(Pair,_super),Pair.prototype.getFinderPattern=function(){return this.finderPattern},Pair.prototype.getCount=function(){return this.count},Pair.prototype.incrementCount=function(){this.count++},Pair}(DataCharacter_1.default)},qsBs:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(BarcodeFormat){return BarcodeFormat[BarcodeFormat.AZTEC=0]="AZTEC",BarcodeFormat[BarcodeFormat.CODABAR=1]="CODABAR",BarcodeFormat[BarcodeFormat.CODE_39=2]="CODE_39",BarcodeFormat[BarcodeFormat.CODE_93=3]="CODE_93",BarcodeFormat[BarcodeFormat.CODE_128=4]="CODE_128",BarcodeFormat[BarcodeFormat.DATA_MATRIX=5]="DATA_MATRIX",BarcodeFormat[BarcodeFormat.EAN_8=6]="EAN_8",BarcodeFormat[BarcodeFormat.EAN_13=7]="EAN_13",BarcodeFormat[BarcodeFormat.ITF=8]="ITF",BarcodeFormat[BarcodeFormat.MAXICODE=9]="MAXICODE",BarcodeFormat[BarcodeFormat.PDF_417=10]="PDF_417",BarcodeFormat[BarcodeFormat.QR_CODE=11]="QR_CODE",BarcodeFormat[BarcodeFormat.RSS_14=12]="RSS_14",BarcodeFormat[BarcodeFormat.RSS_EXPANDED=13]="RSS_EXPANDED",BarcodeFormat[BarcodeFormat.UPC_A=14]="UPC_A",BarcodeFormat[BarcodeFormat.UPC_E=15]="UPC_E",BarcodeFormat[BarcodeFormat.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",BarcodeFormat}({})},qu8F:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.mode.CTRGladman=function(){var CTRGladman=CryptoJS.lib.BlockCipherMode.extend();function incWord(word){if(255==(word>>24&255)){var b1=word>>16&255,b2=word>>8&255,b3=255&word;255===b1?(b1=0,255===b2?(b2=0,255===b3?b3=0:++b3):++b2):++b1,word=0,word+=b1<<16,word+=b2<<8,word+=b3}else word+=1<<24;return word}var Encryptor=CTRGladman.Encryptor=CTRGladman.extend({processBlock:function(words,offset){var cipher=this._cipher,blockSize=cipher.blockSize,iv=this._iv,counter=this._counter;iv&&(counter=this._counter=iv.slice(0),this._iv=void 0),function(counter){0===(counter[0]=incWord(counter[0]))&&(counter[1]=incWord(counter[1]))}(counter);var keystream=counter.slice(0);cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++)words[offset+i]^=keystream[i]}});return CTRGladman.Decryptor=Encryptor,CTRGladman}(),CryptoJS.mode.CTRGladman)},uGsb:function(module,exports,__webpack_require__){var C,C_x64,X64Word,X64WordArray,C_algo,SHA512,SHA384,CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("MlIO"),__webpack_require__("1uat"),X64Word=(C_x64=(C=CryptoJS).x64).Word,X64WordArray=C_x64.WordArray,SHA384=(C_algo=C.algo).SHA384=(SHA512=C_algo.SHA512).extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(3418070365,3238371032),new X64Word.init(1654270250,914150663),new X64Word.init(2438529370,812702999),new X64Word.init(355462360,4144912697),new X64Word.init(1731405415,4290775857),new X64Word.init(2394180231,1750603025),new X64Word.init(3675008525,1694076839),new X64Word.init(1203062813,3204075428)])},_doFinalize:function(){var hash=SHA512._doFinalize.call(this);return hash.sigBytes-=16,hash}}),C.SHA384=SHA512._createHelper(SHA384),C.HmacSHA384=SHA512._createHmacHelper(SHA384),CryptoJS.SHA384)},uGxW:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("OLod"),CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}},CryptoJS.pad.NoPadding)},uT6O:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__("qsBs");var DecodeHintType_1=__webpack_require__("2Upx"),Result_1=__webpack_require__("nEnc"),ResultMetadataType_1=__webpack_require__("Ultx"),ResultPoint_1=__webpack_require__("i5vq"),OneDReader_1=__webpack_require__("CFkN"),UPCEANExtensionSupport_1=__webpack_require__("TWbq"),NotFoundException_1=__webpack_require__("xhJ4"),FormatException_1=__webpack_require__("dGMj"),ChecksumException_1=__webpack_require__("Jma6");exports.default=function(_super){function UPCEANReader(){var _this=_super.call(this)||this;_this.decodeRowStringBuffer="",_this.decodeRowStringBuffer="",UPCEANReader.L_AND_G_PATTERNS=UPCEANReader.L_PATTERNS.map((function(arr){return arr.slice()}));for(var i=10;i<20;i++){for(var widths=UPCEANReader.L_PATTERNS[i-10],reversedWidths=new Array(widths.length),j=0;j<widths.length;j++)reversedWidths[j]=widths[widths.length-j-1];UPCEANReader.L_AND_G_PATTERNS[i]=reversedWidths}return _this}return __extends(UPCEANReader,_super),UPCEANReader.findStartGuardPattern=function(row){for(var foundStart=!1,startRange=null,nextStart=0;!foundStart;){var start=(startRange=UPCEANReader.findGuardPattern(row,nextStart,!1,this.START_END_PATTERN,[0,0,0]))[0],quietStart=start-((nextStart=startRange[1])-start);quietStart>=0&&(foundStart=row.isRange(quietStart,start,!1))}return startRange},UPCEANReader.prototype.decodeRow=function(rowNumber,row,hints){var startGuardRange=UPCEANReader.findStartGuardPattern(row),resultPointCallback=null==hints?null:hints.get(DecodeHintType_1.default.NEED_RESULT_POINT_CALLBACK);if(null!=resultPointCallback){var resultPoint_1=new ResultPoint_1.default((startGuardRange[0]+startGuardRange[1])/2,rowNumber);resultPointCallback.foundPossibleResultPoint(resultPoint_1)}var budello=this.decodeMiddle(row,startGuardRange,this.decodeRowStringBuffer),endStart=budello.rowOffset,result=budello.resultString;if(null!=resultPointCallback){var resultPoint_2=new ResultPoint_1.default(endStart,rowNumber);resultPointCallback.foundPossibleResultPoint(resultPoint_2)}var endRange=UPCEANReader.decodeEnd(row,endStart);if(null!=resultPointCallback){var resultPoint_3=new ResultPoint_1.default((endRange[0]+endRange[1])/2,rowNumber);resultPointCallback.foundPossibleResultPoint(resultPoint_3)}var end=endRange[1],quietEnd=end+(end-endRange[0]);if(quietEnd>=row.getSize()||!row.isRange(end,quietEnd,!1))throw new NotFoundException_1.default;var resultString=result.toString();if(resultString.length<8)throw new FormatException_1.default;if(!UPCEANReader.checkChecksum(resultString))throw new ChecksumException_1.default;var left=(startGuardRange[1]+startGuardRange[0])/2,right=(endRange[1]+endRange[0])/2,format=this.getBarcodeFormat(),resultPoint=[new ResultPoint_1.default(left,rowNumber),new ResultPoint_1.default(right,rowNumber)],decodeResult=new Result_1.default(resultString,null,0,resultPoint,format,(new Date).getTime()),extensionLength=0;try{var extensionResult=UPCEANExtensionSupport_1.default.decodeRow(rowNumber,row,endRange[1]);decodeResult.putMetadata(ResultMetadataType_1.default.UPC_EAN_EXTENSION,extensionResult.getText()),decodeResult.putAllMetadata(extensionResult.getResultMetadata()),decodeResult.addResultPoints(extensionResult.getResultPoints()),extensionLength=extensionResult.getText().length}catch(err){}var allowedExtensions=null==hints?null:hints.get(DecodeHintType_1.default.ALLOWED_EAN_EXTENSIONS);if(null!=allowedExtensions){var valid=!1;for(var length_1 in allowedExtensions)if(extensionLength.toString()===length_1){valid=!0;break}if(!valid)throw new NotFoundException_1.default}return decodeResult},UPCEANReader.checkChecksum=function(s){return UPCEANReader.checkStandardUPCEANChecksum(s)},UPCEANReader.checkStandardUPCEANChecksum=function(s){var length=s.length;if(0===length)return!1;var check=parseInt(s.charAt(length-1),10);return UPCEANReader.getStandardUPCEANChecksum(s.substring(0,length-1))===check},UPCEANReader.getStandardUPCEANChecksum=function(s){for(var length=s.length,sum=0,i=length-1;i>=0;i-=2){if((digit=s.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||digit>9)throw new FormatException_1.default;sum+=digit}for(sum*=3,i=length-2;i>=0;i-=2){var digit;if((digit=s.charAt(i).charCodeAt(0)-"0".charCodeAt(0))<0||digit>9)throw new FormatException_1.default;sum+=digit}return(1e3-sum)%10},UPCEANReader.decodeEnd=function(row,endStart){return UPCEANReader.findGuardPattern(row,endStart,!1,UPCEANReader.START_END_PATTERN,new Array(UPCEANReader.START_END_PATTERN.length).fill(0))},UPCEANReader.findGuardPattern=function(row,rowOffset,whiteFirst,pattern,counters){for(var width=row.getSize(),counterPosition=0,patternStart=rowOffset=whiteFirst?row.getNextUnset(rowOffset):row.getNextSet(rowOffset),patternLength=pattern.length,isWhite=whiteFirst,x=rowOffset;x<width;x++)if(row.get(x)!==isWhite)counters[counterPosition]++;else{if(counterPosition===patternLength-1){if(OneDReader_1.default.patternMatchVariance(counters,pattern,UPCEANReader.MAX_INDIVIDUAL_VARIANCE)<UPCEANReader.MAX_AVG_VARIANCE)return[patternStart,x];patternStart+=counters[0]+counters[1];for(var slice=counters.slice(2,counters.length),i=0;i<counterPosition-1;i++)counters[i]=slice[i];counters[counterPosition-1]=0,counters[counterPosition]=0,counterPosition--}else counterPosition++;counters[counterPosition]=1,isWhite=!isWhite}throw new NotFoundException_1.default},UPCEANReader.decodeDigit=function(row,counters,rowOffset,patterns){this.recordPattern(row,rowOffset,counters);for(var bestVariance=this.MAX_AVG_VARIANCE,bestMatch=-1,max=patterns.length,i=0;i<max;i++){var variance=OneDReader_1.default.patternMatchVariance(counters,patterns[i],UPCEANReader.MAX_INDIVIDUAL_VARIANCE);variance<bestVariance&&(bestVariance=variance,bestMatch=i)}if(bestMatch>=0)return bestMatch;throw new NotFoundException_1.default},UPCEANReader.MAX_AVG_VARIANCE=.48,UPCEANReader.MAX_INDIVIDUAL_VARIANCE=.7,UPCEANReader.START_END_PATTERN=[1,1,1],UPCEANReader.MIDDLE_PATTERN=[1,1,1,1,1],UPCEANReader.END_PATTERN=[1,1,1,1,1,1],UPCEANReader.L_PATTERNS=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],UPCEANReader}(OneDReader_1.default)},urRO:function(module,exports,__webpack_require__){module.exports=function(){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,void 0);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,void 0):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var IS_BROWSER="undefined"!=typeof window&&void 0!==window.document,WINDOW=IS_BROWSER?window:{},IS_TOUCH_DEVICE=!(!IS_BROWSER||!WINDOW.document.documentElement)&&"ontouchstart"in WINDOW.document.documentElement,HAS_POINTER_EVENT=!!IS_BROWSER&&"PointerEvent"in WINDOW,CLASS_CROP="".concat("cropper","-crop"),CLASS_DISABLED="".concat("cropper","-disabled"),CLASS_HIDDEN="".concat("cropper","-hidden"),CLASS_HIDE="".concat("cropper","-hide"),CLASS_INVISIBLE="".concat("cropper","-invisible"),CLASS_MODAL="".concat("cropper","-modal"),CLASS_MOVE="".concat("cropper","-move"),DATA_ACTION="".concat("cropper","Action"),DATA_PREVIEW="".concat("cropper","Preview"),EVENT_POINTER_DOWN=HAS_POINTER_EVENT?"pointerdown":IS_TOUCH_DEVICE?"touchstart":"mousedown",EVENT_POINTER_MOVE=HAS_POINTER_EVENT?"pointermove":IS_TOUCH_DEVICE?"touchmove":"mousemove",EVENT_POINTER_UP=HAS_POINTER_EVENT?"pointerup pointercancel":IS_TOUCH_DEVICE?"touchend touchcancel":"mouseup",REGEXP_ACTIONS=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,REGEXP_DATA_URL=/^data:/,REGEXP_DATA_URL_JPEG=/^data:image\/jpeg;base64,/,REGEXP_TAG_NAME=/^img|canvas$/i,DEFAULTS={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},isNaN=Number.isNaN||WINDOW.isNaN;function isNumber(value){return"number"==typeof value&&!isNaN(value)}var isPositiveNumber=function(value){return value>0&&value<1/0};function isUndefined(value){return void 0===value}function isObject(value){return"object"===_typeof(value)&&null!==value}var hasOwnProperty=Object.prototype.hasOwnProperty;function isPlainObject(value){if(!isObject(value))return!1;try{var _constructor=value.constructor,prototype=_constructor.prototype;return _constructor&&prototype&&hasOwnProperty.call(prototype,"isPrototypeOf")}catch(error){return!1}}function isFunction(value){return"function"==typeof value}var slice=Array.prototype.slice;function toArray(value){return Array.from?Array.from(value):slice.call(value)}function forEach(data,callback){return data&&isFunction(callback)&&(Array.isArray(data)||isNumber(data.length)?toArray(data).forEach((function(value,key){callback.call(data,value,key,data)})):isObject(data)&&Object.keys(data).forEach((function(key){callback.call(data,data[key],key,data)}))),data}var assign=Object.assign||function(target){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return isObject(target)&&args.length>0&&args.forEach((function(arg){isObject(arg)&&Object.keys(arg).forEach((function(key){target[key]=arg[key]}))})),target},REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(value){var times=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return REGEXP_DECIMALS.test(value)?Math.round(value*times)/times:value}var REGEXP_SUFFIX=/^width|height|left|top|marginLeft|marginTop$/;function setStyle(element,styles){var style=element.style;forEach(styles,(function(value,property){REGEXP_SUFFIX.test(property)&&isNumber(value)&&(value="".concat(value,"px")),style[property]=value}))}function addClass(element,value){if(value)if(isNumber(element.length))forEach(element,(function(elem){addClass(elem,value)}));else if(element.classList)element.classList.add(value);else{var className=element.className.trim();className?className.indexOf(value)<0&&(element.className="".concat(className," ").concat(value)):element.className=value}}function removeClass(element,value){value&&(isNumber(element.length)?forEach(element,(function(elem){removeClass(elem,value)})):element.classList?element.classList.remove(value):element.className.indexOf(value)>=0&&(element.className=element.className.replace(value,"")))}function toggleClass(element,value,added){value&&(isNumber(element.length)?forEach(element,(function(elem){toggleClass(elem,value,added)})):added?addClass(element,value):removeClass(element,value))}var REGEXP_CAMEL_CASE=/([a-z\d])([A-Z])/g;function toParamCase(value){return value.replace(REGEXP_CAMEL_CASE,"$1-$2").toLowerCase()}function getData(element,name){return isObject(element[name])?element[name]:element.dataset?element.dataset[name]:element.getAttribute("data-".concat(toParamCase(name)))}function setData(element,name,data){isObject(data)?element[name]=data:element.dataset?element.dataset[name]=data:element.setAttribute("data-".concat(toParamCase(name)),data)}var REGEXP_SPACES=/\s\s*/,onceSupported=function(){var supported=!1;if(IS_BROWSER){var once=!1,listener=function(){},options=Object.defineProperty({},"once",{get:function(){return supported=!0,once},set:function(value){once=value}});WINDOW.addEventListener("test",listener,options),WINDOW.removeEventListener("test",listener,options)}return supported}();function removeListener(element,type,listener){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},handler=listener;type.trim().split(REGEXP_SPACES).forEach((function(event){if(!onceSupported){var listeners=element.listeners;listeners&&listeners[event]&&listeners[event][listener]&&(handler=listeners[event][listener],delete listeners[event][listener],0===Object.keys(listeners[event]).length&&delete listeners[event],0===Object.keys(listeners).length&&delete element.listeners)}element.removeEventListener(event,handler,options)}))}function addListener(element,type,listener){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},_handler=listener;type.trim().split(REGEXP_SPACES).forEach((function(event){if(options.once&&!onceSupported){var _element$listeners=element.listeners,listeners=void 0===_element$listeners?{}:_element$listeners;_handler=function(){delete listeners[event][listener],element.removeEventListener(event,_handler,options);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];listener.apply(element,args)},listeners[event]||(listeners[event]={}),listeners[event][listener]&&element.removeEventListener(event,listeners[event][listener],options),listeners[event][listener]=_handler,element.listeners=listeners}element.addEventListener(event,_handler,options)}))}function dispatchEvent(element,type,data){var event;return isFunction(Event)&&isFunction(CustomEvent)?event=new CustomEvent(type,{detail:data,bubbles:!0,cancelable:!0}):(event=document.createEvent("CustomEvent")).initCustomEvent(type,!0,!0,data),element.dispatchEvent(event)}function getOffset(element){var box=element.getBoundingClientRect();return{left:box.left+(window.pageXOffset-document.documentElement.clientLeft),top:box.top+(window.pageYOffset-document.documentElement.clientTop)}}var location=WINDOW.location,REGEXP_ORIGINS=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function isCrossOriginURL(url){var parts=url.match(REGEXP_ORIGINS);return null!==parts&&(parts[1]!==location.protocol||parts[2]!==location.hostname||parts[3]!==location.port)}function addTimestamp(url){var timestamp="timestamp=".concat((new Date).getTime());return url+(-1===url.indexOf("?")?"?":"&")+timestamp}function getTransforms(_ref){var rotate=_ref.rotate,scaleX=_ref.scaleX,scaleY=_ref.scaleY,translateX=_ref.translateX,translateY=_ref.translateY,values=[];isNumber(translateX)&&0!==translateX&&values.push("translateX(".concat(translateX,"px)")),isNumber(translateY)&&0!==translateY&&values.push("translateY(".concat(translateY,"px)")),isNumber(rotate)&&0!==rotate&&values.push("rotate(".concat(rotate,"deg)")),isNumber(scaleX)&&1!==scaleX&&values.push("scaleX(".concat(scaleX,")")),isNumber(scaleY)&&1!==scaleY&&values.push("scaleY(".concat(scaleY,")"));var transform=values.length?values.join(" "):"none";return{WebkitTransform:transform,msTransform:transform,transform:transform}}function getPointer(_ref2,endOnly){var pageX=_ref2.pageX,pageY=_ref2.pageY,end={endX:pageX,endY:pageY};return endOnly?end:_objectSpread2({startX:pageX,startY:pageY},end)}function getAdjustedSizes(_ref4){var aspectRatio=_ref4.aspectRatio,height=_ref4.height,width=_ref4.width,type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",isValidWidth=isPositiveNumber(width),isValidHeight=isPositiveNumber(height);if(isValidWidth&&isValidHeight){var adjustedWidth=height*aspectRatio;"contain"===type&&adjustedWidth>width||"cover"===type&&adjustedWidth<width?height=width/aspectRatio:width=height*aspectRatio}else isValidWidth?height=width/aspectRatio:isValidHeight&&(width=height*aspectRatio);return{width:width,height:height}}function getSourceCanvas(image,_ref6,_ref7,_ref8){var imageAspectRatio=_ref6.aspectRatio,imageNaturalWidth=_ref6.naturalWidth,imageNaturalHeight=_ref6.naturalHeight,_ref6$rotate=_ref6.rotate,rotate=void 0===_ref6$rotate?0:_ref6$rotate,_ref6$scaleX=_ref6.scaleX,scaleX=void 0===_ref6$scaleX?1:_ref6$scaleX,_ref6$scaleY=_ref6.scaleY,scaleY=void 0===_ref6$scaleY?1:_ref6$scaleY,aspectRatio=_ref7.aspectRatio,naturalWidth=_ref7.naturalWidth,naturalHeight=_ref7.naturalHeight,_ref8$fillColor=_ref8.fillColor,fillColor=void 0===_ref8$fillColor?"transparent":_ref8$fillColor,_ref8$imageSmoothingE=_ref8.imageSmoothingEnabled,imageSmoothingEnabled=void 0===_ref8$imageSmoothingE||_ref8$imageSmoothingE,_ref8$imageSmoothingQ=_ref8.imageSmoothingQuality,imageSmoothingQuality=void 0===_ref8$imageSmoothingQ?"low":_ref8$imageSmoothingQ,_ref8$maxWidth=_ref8.maxWidth,maxWidth=void 0===_ref8$maxWidth?1/0:_ref8$maxWidth,_ref8$maxHeight=_ref8.maxHeight,maxHeight=void 0===_ref8$maxHeight?1/0:_ref8$maxHeight,_ref8$minWidth=_ref8.minWidth,minWidth=void 0===_ref8$minWidth?0:_ref8$minWidth,_ref8$minHeight=_ref8.minHeight,minHeight=void 0===_ref8$minHeight?0:_ref8$minHeight,canvas=document.createElement("canvas"),context=canvas.getContext("2d"),maxSizes=getAdjustedSizes({aspectRatio:aspectRatio,width:maxWidth,height:maxHeight}),minSizes=getAdjustedSizes({aspectRatio:aspectRatio,width:minWidth,height:minHeight},"cover"),width=Math.min(maxSizes.width,Math.max(minSizes.width,naturalWidth)),height=Math.min(maxSizes.height,Math.max(minSizes.height,naturalHeight)),destMaxSizes=getAdjustedSizes({aspectRatio:imageAspectRatio,width:maxWidth,height:maxHeight}),destMinSizes=getAdjustedSizes({aspectRatio:imageAspectRatio,width:minWidth,height:minHeight},"cover"),destWidth=Math.min(destMaxSizes.width,Math.max(destMinSizes.width,imageNaturalWidth)),destHeight=Math.min(destMaxSizes.height,Math.max(destMinSizes.height,imageNaturalHeight)),params=[-destWidth/2,-destHeight/2,destWidth,destHeight];return canvas.width=normalizeDecimalNumber(width),canvas.height=normalizeDecimalNumber(height),context.fillStyle=fillColor,context.fillRect(0,0,width,height),context.save(),context.translate(width/2,height/2),context.rotate(rotate*Math.PI/180),context.scale(scaleX,scaleY),context.imageSmoothingEnabled=imageSmoothingEnabled,context.imageSmoothingQuality=imageSmoothingQuality,context.drawImage.apply(context,[image].concat(_toConsumableArray(params.map((function(param){return Math.floor(normalizeDecimalNumber(param))}))))),context.restore(),canvas}var fromCharCode=String.fromCharCode,REGEXP_DATA_URL_HEAD=/^data:.*,/,render={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var element=this.element,options=this.options,container=this.container,cropper=this.cropper;addClass(cropper,CLASS_HIDDEN),removeClass(element,CLASS_HIDDEN);var containerData={width:Math.max(container.offsetWidth,Number(options.minContainerWidth)||200),height:Math.max(container.offsetHeight,Number(options.minContainerHeight)||100)};this.containerData=containerData,setStyle(cropper,{width:containerData.width,height:containerData.height}),addClass(element,CLASS_HIDDEN),removeClass(cropper,CLASS_HIDDEN)},initCanvas:function(){var containerData=this.containerData,imageData=this.imageData,viewMode=this.options.viewMode,rotated=Math.abs(imageData.rotate)%180==90,naturalWidth=rotated?imageData.naturalHeight:imageData.naturalWidth,naturalHeight=rotated?imageData.naturalWidth:imageData.naturalHeight,aspectRatio=naturalWidth/naturalHeight,canvasWidth=containerData.width,canvasHeight=containerData.height;containerData.height*aspectRatio>containerData.width?3===viewMode?canvasWidth=containerData.height*aspectRatio:canvasHeight=containerData.width/aspectRatio:3===viewMode?canvasHeight=containerData.width/aspectRatio:canvasWidth=containerData.height*aspectRatio;var canvasData={aspectRatio:aspectRatio,naturalWidth:naturalWidth,naturalHeight:naturalHeight,width:canvasWidth,height:canvasHeight};canvasData.left=(containerData.width-canvasWidth)/2,canvasData.top=(containerData.height-canvasHeight)/2,canvasData.oldLeft=canvasData.left,canvasData.oldTop=canvasData.top,this.canvasData=canvasData,this.limited=1===viewMode||2===viewMode,this.limitCanvas(!0,!0),this.initialImageData=assign({},imageData),this.initialCanvasData=assign({},canvasData)},limitCanvas:function(sizeLimited,positionLimited){var options=this.options,containerData=this.containerData,canvasData=this.canvasData,cropBoxData=this.cropBoxData,viewMode=options.viewMode,aspectRatio=canvasData.aspectRatio,cropped=this.cropped&&cropBoxData;if(sizeLimited){var minCanvasWidth=Number(options.minCanvasWidth)||0,minCanvasHeight=Number(options.minCanvasHeight)||0;viewMode>1?(minCanvasWidth=Math.max(minCanvasWidth,containerData.width),minCanvasHeight=Math.max(minCanvasHeight,containerData.height),3===viewMode&&(minCanvasHeight*aspectRatio>minCanvasWidth?minCanvasWidth=minCanvasHeight*aspectRatio:minCanvasHeight=minCanvasWidth/aspectRatio)):viewMode>0&&(minCanvasWidth?minCanvasWidth=Math.max(minCanvasWidth,cropped?cropBoxData.width:0):minCanvasHeight?minCanvasHeight=Math.max(minCanvasHeight,cropped?cropBoxData.height:0):cropped&&((minCanvasHeight=cropBoxData.height)*aspectRatio>(minCanvasWidth=cropBoxData.width)?minCanvasWidth=minCanvasHeight*aspectRatio:minCanvasHeight=minCanvasWidth/aspectRatio));var _getAdjustedSizes=getAdjustedSizes({aspectRatio:aspectRatio,width:minCanvasWidth,height:minCanvasHeight});minCanvasHeight=_getAdjustedSizes.height,canvasData.minWidth=minCanvasWidth=_getAdjustedSizes.width,canvasData.minHeight=minCanvasHeight,canvasData.maxWidth=1/0,canvasData.maxHeight=1/0}if(positionLimited)if(viewMode>(cropped?0:1)){var newCanvasLeft=containerData.width-canvasData.width,newCanvasTop=containerData.height-canvasData.height;canvasData.minLeft=Math.min(0,newCanvasLeft),canvasData.minTop=Math.min(0,newCanvasTop),canvasData.maxLeft=Math.max(0,newCanvasLeft),canvasData.maxTop=Math.max(0,newCanvasTop),cropped&&this.limited&&(canvasData.minLeft=Math.min(cropBoxData.left,cropBoxData.left+(cropBoxData.width-canvasData.width)),canvasData.minTop=Math.min(cropBoxData.top,cropBoxData.top+(cropBoxData.height-canvasData.height)),canvasData.maxLeft=cropBoxData.left,canvasData.maxTop=cropBoxData.top,2===viewMode&&(canvasData.width>=containerData.width&&(canvasData.minLeft=Math.min(0,newCanvasLeft),canvasData.maxLeft=Math.max(0,newCanvasLeft)),canvasData.height>=containerData.height&&(canvasData.minTop=Math.min(0,newCanvasTop),canvasData.maxTop=Math.max(0,newCanvasTop))))}else canvasData.minLeft=-canvasData.width,canvasData.minTop=-canvasData.height,canvasData.maxLeft=containerData.width,canvasData.maxTop=containerData.height},renderCanvas:function(changed,transformed){var canvasData=this.canvasData,imageData=this.imageData;if(transformed){var _getRotatedSizes=function(_ref5){var width=_ref5.width,height=_ref5.height,degree=_ref5.degree;if(90==(degree=Math.abs(degree)%180))return{width:height,height:width};var arc=degree%90*Math.PI/180,sinArc=Math.sin(arc),cosArc=Math.cos(arc),newWidth=width*cosArc+height*sinArc,newHeight=width*sinArc+height*cosArc;return degree>90?{width:newHeight,height:newWidth}:{width:newWidth,height:newHeight}}({width:imageData.naturalWidth*Math.abs(imageData.scaleX||1),height:imageData.naturalHeight*Math.abs(imageData.scaleY||1),degree:imageData.rotate||0}),naturalWidth=_getRotatedSizes.width,naturalHeight=_getRotatedSizes.height,width=canvasData.width*(naturalWidth/canvasData.naturalWidth),height=canvasData.height*(naturalHeight/canvasData.naturalHeight);canvasData.left-=(width-canvasData.width)/2,canvasData.top-=(height-canvasData.height)/2,canvasData.width=width,canvasData.height=height,canvasData.aspectRatio=naturalWidth/naturalHeight,canvasData.naturalWidth=naturalWidth,canvasData.naturalHeight=naturalHeight,this.limitCanvas(!0,!1)}(canvasData.width>canvasData.maxWidth||canvasData.width<canvasData.minWidth)&&(canvasData.left=canvasData.oldLeft),(canvasData.height>canvasData.maxHeight||canvasData.height<canvasData.minHeight)&&(canvasData.top=canvasData.oldTop),canvasData.width=Math.min(Math.max(canvasData.width,canvasData.minWidth),canvasData.maxWidth),canvasData.height=Math.min(Math.max(canvasData.height,canvasData.minHeight),canvasData.maxHeight),this.limitCanvas(!1,!0),canvasData.left=Math.min(Math.max(canvasData.left,canvasData.minLeft),canvasData.maxLeft),canvasData.top=Math.min(Math.max(canvasData.top,canvasData.minTop),canvasData.maxTop),canvasData.oldLeft=canvasData.left,canvasData.oldTop=canvasData.top,setStyle(this.canvas,assign({width:canvasData.width,height:canvasData.height},getTransforms({translateX:canvasData.left,translateY:canvasData.top}))),this.renderImage(changed),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(changed){var canvasData=this.canvasData,imageData=this.imageData,width=imageData.naturalWidth*(canvasData.width/canvasData.naturalWidth),height=imageData.naturalHeight*(canvasData.height/canvasData.naturalHeight);assign(imageData,{width:width,height:height,left:(canvasData.width-width)/2,top:(canvasData.height-height)/2}),setStyle(this.image,assign({width:imageData.width,height:imageData.height},getTransforms(assign({translateX:imageData.left,translateY:imageData.top},imageData)))),changed&&this.output()},initCropBox:function(){var options=this.options,canvasData=this.canvasData,aspectRatio=options.aspectRatio||options.initialAspectRatio,autoCropArea=Number(options.autoCropArea)||.8,cropBoxData={width:canvasData.width,height:canvasData.height};aspectRatio&&(canvasData.height*aspectRatio>canvasData.width?cropBoxData.height=cropBoxData.width/aspectRatio:cropBoxData.width=cropBoxData.height*aspectRatio),this.cropBoxData=cropBoxData,this.limitCropBox(!0,!0),cropBoxData.width=Math.min(Math.max(cropBoxData.width,cropBoxData.minWidth),cropBoxData.maxWidth),cropBoxData.height=Math.min(Math.max(cropBoxData.height,cropBoxData.minHeight),cropBoxData.maxHeight),cropBoxData.width=Math.max(cropBoxData.minWidth,cropBoxData.width*autoCropArea),cropBoxData.height=Math.max(cropBoxData.minHeight,cropBoxData.height*autoCropArea),cropBoxData.left=canvasData.left+(canvasData.width-cropBoxData.width)/2,cropBoxData.top=canvasData.top+(canvasData.height-cropBoxData.height)/2,cropBoxData.oldLeft=cropBoxData.left,cropBoxData.oldTop=cropBoxData.top,this.initialCropBoxData=assign({},cropBoxData)},limitCropBox:function(sizeLimited,positionLimited){var options=this.options,containerData=this.containerData,canvasData=this.canvasData,cropBoxData=this.cropBoxData,limited=this.limited,aspectRatio=options.aspectRatio;if(sizeLimited){var minCropBoxWidth=Number(options.minCropBoxWidth)||0,minCropBoxHeight=Number(options.minCropBoxHeight)||0,maxCropBoxWidth=limited?Math.min(containerData.width,canvasData.width,canvasData.width+canvasData.left,containerData.width-canvasData.left):containerData.width,maxCropBoxHeight=limited?Math.min(containerData.height,canvasData.height,canvasData.height+canvasData.top,containerData.height-canvasData.top):containerData.height;minCropBoxWidth=Math.min(minCropBoxWidth,containerData.width),minCropBoxHeight=Math.min(minCropBoxHeight,containerData.height),aspectRatio&&(minCropBoxWidth&&minCropBoxHeight?minCropBoxHeight*aspectRatio>minCropBoxWidth?minCropBoxHeight=minCropBoxWidth/aspectRatio:minCropBoxWidth=minCropBoxHeight*aspectRatio:minCropBoxWidth?minCropBoxHeight=minCropBoxWidth/aspectRatio:minCropBoxHeight&&(minCropBoxWidth=minCropBoxHeight*aspectRatio),maxCropBoxHeight*aspectRatio>maxCropBoxWidth?maxCropBoxHeight=maxCropBoxWidth/aspectRatio:maxCropBoxWidth=maxCropBoxHeight*aspectRatio),cropBoxData.minWidth=Math.min(minCropBoxWidth,maxCropBoxWidth),cropBoxData.minHeight=Math.min(minCropBoxHeight,maxCropBoxHeight),cropBoxData.maxWidth=maxCropBoxWidth,cropBoxData.maxHeight=maxCropBoxHeight}positionLimited&&(limited?(cropBoxData.minLeft=Math.max(0,canvasData.left),cropBoxData.minTop=Math.max(0,canvasData.top),cropBoxData.maxLeft=Math.min(containerData.width,canvasData.left+canvasData.width)-cropBoxData.width,cropBoxData.maxTop=Math.min(containerData.height,canvasData.top+canvasData.height)-cropBoxData.height):(cropBoxData.minLeft=0,cropBoxData.minTop=0,cropBoxData.maxLeft=containerData.width-cropBoxData.width,cropBoxData.maxTop=containerData.height-cropBoxData.height))},renderCropBox:function(){var options=this.options,containerData=this.containerData,cropBoxData=this.cropBoxData;(cropBoxData.width>cropBoxData.maxWidth||cropBoxData.width<cropBoxData.minWidth)&&(cropBoxData.left=cropBoxData.oldLeft),(cropBoxData.height>cropBoxData.maxHeight||cropBoxData.height<cropBoxData.minHeight)&&(cropBoxData.top=cropBoxData.oldTop),cropBoxData.width=Math.min(Math.max(cropBoxData.width,cropBoxData.minWidth),cropBoxData.maxWidth),cropBoxData.height=Math.min(Math.max(cropBoxData.height,cropBoxData.minHeight),cropBoxData.maxHeight),this.limitCropBox(!1,!0),cropBoxData.left=Math.min(Math.max(cropBoxData.left,cropBoxData.minLeft),cropBoxData.maxLeft),cropBoxData.top=Math.min(Math.max(cropBoxData.top,cropBoxData.minTop),cropBoxData.maxTop),cropBoxData.oldLeft=cropBoxData.left,cropBoxData.oldTop=cropBoxData.top,options.movable&&options.cropBoxMovable&&setData(this.face,DATA_ACTION,cropBoxData.width>=containerData.width&&cropBoxData.height>=containerData.height?"move":"all"),setStyle(this.cropBox,assign({width:cropBoxData.width,height:cropBoxData.height},getTransforms({translateX:cropBoxData.left,translateY:cropBoxData.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),dispatchEvent(this.element,"crop",this.getData())}},preview={initPreview:function(){var element=this.element,crossOrigin=this.crossOrigin,preview=this.options.preview,url=crossOrigin?this.crossOriginUrl:this.url,alt=element.alt||"The image to preview",image=document.createElement("img");if(crossOrigin&&(image.crossOrigin=crossOrigin),image.src=url,image.alt=alt,this.viewBox.appendChild(image),this.viewBoxImage=image,preview){var previews=preview;"string"==typeof preview?previews=element.ownerDocument.querySelectorAll(preview):preview.querySelector&&(previews=[preview]),this.previews=previews,forEach(previews,(function(el){var img=document.createElement("img");setData(el,DATA_PREVIEW,{width:el.offsetWidth,height:el.offsetHeight,html:el.innerHTML}),crossOrigin&&(img.crossOrigin=crossOrigin),img.src=url,img.alt=alt,img.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',el.innerHTML="",el.appendChild(img)}))}},resetPreview:function(){forEach(this.previews,(function(element){var data=getData(element,DATA_PREVIEW);setStyle(element,{width:data.width,height:data.height}),element.innerHTML=data.html,function(element,name){if(isObject(element[name]))try{delete element[name]}catch(error){element[name]=void 0}else if(element.dataset)try{delete element.dataset[name]}catch(error){element.dataset[name]=void 0}else element.removeAttribute("data-".concat(toParamCase(name)))}(element,DATA_PREVIEW)}))},preview:function(){var imageData=this.imageData,canvasData=this.canvasData,cropBoxData=this.cropBoxData,cropBoxWidth=cropBoxData.width,cropBoxHeight=cropBoxData.height,width=imageData.width,height=imageData.height,left=cropBoxData.left-canvasData.left-imageData.left,top=cropBoxData.top-canvasData.top-imageData.top;this.cropped&&!this.disabled&&(setStyle(this.viewBoxImage,assign({width:width,height:height},getTransforms(assign({translateX:-left,translateY:-top},imageData)))),forEach(this.previews,(function(element){var data=getData(element,DATA_PREVIEW),originalWidth=data.width,originalHeight=data.height,newWidth=originalWidth,newHeight=originalHeight,ratio=1;cropBoxWidth&&(newHeight=cropBoxHeight*(ratio=originalWidth/cropBoxWidth)),cropBoxHeight&&newHeight>originalHeight&&(newWidth=cropBoxWidth*(ratio=originalHeight/cropBoxHeight),newHeight=originalHeight),setStyle(element,{width:newWidth,height:newHeight}),setStyle(element.getElementsByTagName("img")[0],assign({width:width*ratio,height:height*ratio},getTransforms(assign({translateX:-left*ratio,translateY:-top*ratio},imageData))))})))}},events={bind:function(){var element=this.element,options=this.options,cropper=this.cropper;isFunction(options.cropstart)&&addListener(element,"cropstart",options.cropstart),isFunction(options.cropmove)&&addListener(element,"cropmove",options.cropmove),isFunction(options.cropend)&&addListener(element,"cropend",options.cropend),isFunction(options.crop)&&addListener(element,"crop",options.crop),isFunction(options.zoom)&&addListener(element,"zoom",options.zoom),addListener(cropper,EVENT_POINTER_DOWN,this.onCropStart=this.cropStart.bind(this)),options.zoomable&&options.zoomOnWheel&&addListener(cropper,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),options.toggleDragModeOnDblclick&&addListener(cropper,"dblclick",this.onDblclick=this.dblclick.bind(this)),addListener(element.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove=this.cropMove.bind(this)),addListener(element.ownerDocument,EVENT_POINTER_UP,this.onCropEnd=this.cropEnd.bind(this)),options.responsive&&addListener(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var element=this.element,options=this.options,cropper=this.cropper;isFunction(options.cropstart)&&removeListener(element,"cropstart",options.cropstart),isFunction(options.cropmove)&&removeListener(element,"cropmove",options.cropmove),isFunction(options.cropend)&&removeListener(element,"cropend",options.cropend),isFunction(options.crop)&&removeListener(element,"crop",options.crop),isFunction(options.zoom)&&removeListener(element,"zoom",options.zoom),removeListener(cropper,EVENT_POINTER_DOWN,this.onCropStart),options.zoomable&&options.zoomOnWheel&&removeListener(cropper,"wheel",this.onWheel,{passive:!1,capture:!0}),options.toggleDragModeOnDblclick&&removeListener(cropper,"dblclick",this.onDblclick),removeListener(element.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove),removeListener(element.ownerDocument,EVENT_POINTER_UP,this.onCropEnd),options.responsive&&removeListener(window,"resize",this.onResize)}},handlers={resize:function(){if(!this.disabled){var canvasData,cropBoxData,options=this.options,container=this.container,containerData=this.containerData,ratio=container.offsetWidth/containerData.width;1===ratio&&container.offsetHeight===containerData.height||(options.restore&&(canvasData=this.getCanvasData(),cropBoxData=this.getCropBoxData()),this.render(),options.restore&&(this.setCanvasData(forEach(canvasData,(function(n,i){canvasData[i]=n*ratio}))),this.setCropBoxData(forEach(cropBoxData,(function(n,i){cropBoxData[i]=n*ratio})))))}},dblclick:function(){var element,value;this.disabled||"none"===this.options.dragMode||this.setDragMode((value=CLASS_CROP,((element=this.dragBox).classList?element.classList.contains(value):element.className.indexOf(value)>-1)?"move":"crop"))},wheel:function(event){var _this=this,ratio=Number(this.options.wheelZoomRatio)||.1,delta=1;this.disabled||(event.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){_this.wheeling=!1}),50),event.deltaY?delta=event.deltaY>0?1:-1:event.wheelDelta?delta=-event.wheelDelta/120:event.detail&&(delta=event.detail>0?1:-1),this.zoom(-delta*ratio,event)))},cropStart:function(event){var buttons=event.buttons,button=event.button;if(!(this.disabled||("mousedown"===event.type||"pointerdown"===event.type&&"mouse"===event.pointerType)&&(isNumber(buttons)&&1!==buttons||isNumber(button)&&0!==button||event.ctrlKey))){var action,options=this.options,pointers=this.pointers;event.changedTouches?forEach(event.changedTouches,(function(touch){pointers[touch.identifier]=getPointer(touch)})):pointers[event.pointerId||0]=getPointer(event),action=Object.keys(pointers).length>1&&options.zoomable&&options.zoomOnTouch?"zoom":getData(event.target,DATA_ACTION),REGEXP_ACTIONS.test(action)&&!1!==dispatchEvent(this.element,"cropstart",{originalEvent:event,action:action})&&(event.preventDefault(),this.action=action,this.cropping=!1,"crop"===action&&(this.cropping=!0,addClass(this.dragBox,CLASS_MODAL)))}},cropMove:function(event){var action=this.action;if(!this.disabled&&action){var pointers=this.pointers;event.preventDefault(),!1!==dispatchEvent(this.element,"cropmove",{originalEvent:event,action:action})&&(event.changedTouches?forEach(event.changedTouches,(function(touch){assign(pointers[touch.identifier]||{},getPointer(touch,!0))})):assign(pointers[event.pointerId||0]||{},getPointer(event,!0)),this.change(event))}},cropEnd:function(event){if(!this.disabled){var action=this.action,pointers=this.pointers;event.changedTouches?forEach(event.changedTouches,(function(touch){delete pointers[touch.identifier]})):delete pointers[event.pointerId||0],action&&(event.preventDefault(),Object.keys(pointers).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass(this.dragBox,CLASS_MODAL,this.cropped&&this.options.modal)),dispatchEvent(this.element,"cropend",{originalEvent:event,action:action}))}}},change={change:function(event){var offset,canvasData=this.canvasData,containerData=this.containerData,cropBoxData=this.cropBoxData,pointers=this.pointers,action=this.action,aspectRatio=this.options.aspectRatio,left=cropBoxData.left,top=cropBoxData.top,width=cropBoxData.width,height=cropBoxData.height,right=left+width,bottom=top+height,minLeft=0,minTop=0,maxWidth=containerData.width,maxHeight=containerData.height,renderable=!0;!aspectRatio&&event.shiftKey&&(aspectRatio=width&&height?width/height:1),this.limited&&(minTop=cropBoxData.minTop,maxWidth=(minLeft=cropBoxData.minLeft)+Math.min(containerData.width,canvasData.width,canvasData.left+canvasData.width),maxHeight=minTop+Math.min(containerData.height,canvasData.height,canvasData.top+canvasData.height));var pointer=pointers[Object.keys(pointers)[0]],range={x:pointer.endX-pointer.startX,y:pointer.endY-pointer.startY},check=function(side){switch(side){case"e":right+range.x>maxWidth&&(range.x=maxWidth-right);break;case"w":left+range.x<minLeft&&(range.x=minLeft-left);break;case"n":top+range.y<minTop&&(range.y=minTop-top);break;case"s":bottom+range.y>maxHeight&&(range.y=maxHeight-bottom)}};switch(action){case"all":left+=range.x,top+=range.y;break;case"e":if(range.x>=0&&(right>=maxWidth||aspectRatio&&(top<=minTop||bottom>=maxHeight))){renderable=!1;break}check("e"),(width+=range.x)<0&&(action="w",left-=width=-width),aspectRatio&&(top+=(cropBoxData.height-(height=width/aspectRatio))/2);break;case"n":if(range.y<=0&&(top<=minTop||aspectRatio&&(left<=minLeft||right>=maxWidth))){renderable=!1;break}check("n"),top+=range.y,(height-=range.y)<0&&(action="s",top-=height=-height),aspectRatio&&(left+=(cropBoxData.width-(width=height*aspectRatio))/2);break;case"w":if(range.x<=0&&(left<=minLeft||aspectRatio&&(top<=minTop||bottom>=maxHeight))){renderable=!1;break}check("w"),left+=range.x,(width-=range.x)<0&&(action="e",left-=width=-width),aspectRatio&&(top+=(cropBoxData.height-(height=width/aspectRatio))/2);break;case"s":if(range.y>=0&&(bottom>=maxHeight||aspectRatio&&(left<=minLeft||right>=maxWidth))){renderable=!1;break}check("s"),(height+=range.y)<0&&(action="n",top-=height=-height),aspectRatio&&(left+=(cropBoxData.width-(width=height*aspectRatio))/2);break;case"ne":if(aspectRatio){if(range.y<=0&&(top<=minTop||right>=maxWidth)){renderable=!1;break}check("n"),top+=range.y,width=(height-=range.y)*aspectRatio}else check("n"),check("e"),range.x>=0?right<maxWidth?width+=range.x:range.y<=0&&top<=minTop&&(renderable=!1):width+=range.x,range.y<=0?top>minTop&&(height-=range.y,top+=range.y):(height-=range.y,top+=range.y);width<0&&height<0?(action="sw",top-=height=-height,left-=width=-width):width<0?(action="nw",left-=width=-width):height<0&&(action="se",top-=height=-height);break;case"nw":if(aspectRatio){if(range.y<=0&&(top<=minTop||left<=minLeft)){renderable=!1;break}check("n"),top+=range.y,left+=cropBoxData.width-(width=(height-=range.y)*aspectRatio)}else check("n"),check("w"),range.x<=0?left>minLeft?(width-=range.x,left+=range.x):range.y<=0&&top<=minTop&&(renderable=!1):(width-=range.x,left+=range.x),range.y<=0?top>minTop&&(height-=range.y,top+=range.y):(height-=range.y,top+=range.y);width<0&&height<0?(action="se",top-=height=-height,left-=width=-width):width<0?(action="ne",left-=width=-width):height<0&&(action="sw",top-=height=-height);break;case"sw":if(aspectRatio){if(range.x<=0&&(left<=minLeft||bottom>=maxHeight)){renderable=!1;break}check("w"),left+=range.x,height=(width-=range.x)/aspectRatio}else check("s"),check("w"),range.x<=0?left>minLeft?(width-=range.x,left+=range.x):range.y>=0&&bottom>=maxHeight&&(renderable=!1):(width-=range.x,left+=range.x),range.y>=0?bottom<maxHeight&&(height+=range.y):height+=range.y;width<0&&height<0?(action="ne",top-=height=-height,left-=width=-width):width<0?(action="se",left-=width=-width):height<0&&(action="nw",top-=height=-height);break;case"se":if(aspectRatio){if(range.x>=0&&(right>=maxWidth||bottom>=maxHeight)){renderable=!1;break}check("e"),height=(width+=range.x)/aspectRatio}else check("s"),check("e"),range.x>=0?right<maxWidth?width+=range.x:range.y>=0&&bottom>=maxHeight&&(renderable=!1):width+=range.x,range.y>=0?bottom<maxHeight&&(height+=range.y):height+=range.y;width<0&&height<0?(action="nw",top-=height=-height,left-=width=-width):width<0?(action="sw",left-=width=-width):height<0&&(action="ne",top-=height=-height);break;case"move":this.move(range.x,range.y),renderable=!1;break;case"zoom":this.zoom(function(pointers){var pointers2=_objectSpread2({},pointers),ratios=[];return forEach(pointers,(function(pointer,pointerId){delete pointers2[pointerId],forEach(pointers2,(function(pointer2){var x1=Math.abs(pointer.startX-pointer2.startX),y1=Math.abs(pointer.startY-pointer2.startY),x2=Math.abs(pointer.endX-pointer2.endX),y2=Math.abs(pointer.endY-pointer2.endY),z1=Math.sqrt(x1*x1+y1*y1),z2=Math.sqrt(x2*x2+y2*y2);ratios.push((z2-z1)/z1)}))})),ratios.sort((function(a,b){return Math.abs(a)<Math.abs(b)})),ratios[0]}(pointers),event),renderable=!1;break;case"crop":if(!range.x||!range.y){renderable=!1;break}offset=getOffset(this.cropper),left=pointer.startX-offset.left,top=pointer.startY-offset.top,width=cropBoxData.minWidth,height=cropBoxData.minHeight,range.x>0?action=range.y>0?"se":"ne":range.x<0&&(left-=width,action=range.y>0?"sw":"nw"),range.y<0&&(top-=height),this.cropped||(removeClass(this.cropBox,CLASS_HIDDEN),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}renderable&&(cropBoxData.width=width,cropBoxData.height=height,cropBoxData.left=left,cropBoxData.top=top,this.action=action,this.renderCropBox()),forEach(pointers,(function(p){p.startX=p.endX,p.startY=p.endY}))}},methods={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,CLASS_MODAL),removeClass(this.cropBox,CLASS_HIDDEN),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=assign({},this.initialImageData),this.canvasData=assign({},this.initialCanvasData),this.cropBoxData=assign({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(assign(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,CLASS_MODAL),addClass(this.cropBox,CLASS_HIDDEN)),this},replace:function(url){var hasSameSize=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&url&&(this.isImg&&(this.element.src=url),hasSameSize?(this.url=url,this.image.src=url,this.ready&&(this.viewBoxImage.src=url,forEach(this.previews,(function(element){element.getElementsByTagName("img")[0].src=url})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(url))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,removeClass(this.cropper,CLASS_DISABLED)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,addClass(this.cropper,CLASS_DISABLED)),this},destroy:function(){var element=this.element;return element.cropper?(element.cropper=void 0,this.isImg&&this.replaced&&(element.src=this.originalUrl),this.uncreate(),this):this},move:function(offsetX){var offsetY=arguments.length>1&&void 0!==arguments[1]?arguments[1]:offsetX,_this$canvasData=this.canvasData,left=_this$canvasData.left,top=_this$canvasData.top;return this.moveTo(isUndefined(offsetX)?offsetX:left+Number(offsetX),isUndefined(offsetY)?offsetY:top+Number(offsetY))},moveTo:function(x){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,canvasData=this.canvasData,changed=!1;return x=Number(x),y=Number(y),this.ready&&!this.disabled&&this.options.movable&&(isNumber(x)&&(canvasData.left=x,changed=!0),isNumber(y)&&(canvasData.top=y,changed=!0),changed&&this.renderCanvas(!0)),this},zoom:function(ratio,_originalEvent){var canvasData=this.canvasData;return ratio=Number(ratio),this.zoomTo(canvasData.width*(ratio=ratio<0?1/(1-ratio):1+ratio)/canvasData.naturalWidth,null,_originalEvent)},zoomTo:function(ratio,pivot,_originalEvent){var options=this.options,canvasData=this.canvasData,width=canvasData.width,height=canvasData.height,naturalWidth=canvasData.naturalWidth,naturalHeight=canvasData.naturalHeight;if((ratio=Number(ratio))>=0&&this.ready&&!this.disabled&&options.zoomable){var newWidth=naturalWidth*ratio,newHeight=naturalHeight*ratio;if(!1===dispatchEvent(this.element,"zoom",{ratio:ratio,oldRatio:width/naturalWidth,originalEvent:_originalEvent}))return this;if(_originalEvent){var pointers=this.pointers,offset=getOffset(this.cropper),center=pointers&&Object.keys(pointers).length?function(pointers){var pageX=0,pageY=0,count=0;return forEach(pointers,(function(_ref3){pageX+=_ref3.startX,pageY+=_ref3.startY,count+=1})),{pageX:pageX/=count,pageY:pageY/=count}}(pointers):{pageX:_originalEvent.pageX,pageY:_originalEvent.pageY};canvasData.left-=(center.pageX-offset.left-canvasData.left)/width*(newWidth-width),canvasData.top-=(center.pageY-offset.top-canvasData.top)/height*(newHeight-height)}else isPlainObject(pivot)&&isNumber(pivot.x)&&isNumber(pivot.y)?(canvasData.left-=(pivot.x-canvasData.left)/width*(newWidth-width),canvasData.top-=(pivot.y-canvasData.top)/height*(newHeight-height)):(canvasData.left-=(newWidth-width)/2,canvasData.top-=(newHeight-height)/2);canvasData.width=newWidth,canvasData.height=newHeight,this.renderCanvas(!0)}return this},rotate:function(degree){return this.rotateTo((this.imageData.rotate||0)+Number(degree))},rotateTo:function(degree){return isNumber(degree=Number(degree))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=degree%360,this.renderCanvas(!0,!0)),this},scaleX:function(_scaleX){var scaleY=this.imageData.scaleY;return this.scale(_scaleX,isNumber(scaleY)?scaleY:1)},scaleY:function(_scaleY){var scaleX=this.imageData.scaleX;return this.scale(isNumber(scaleX)?scaleX:1,_scaleY)},scale:function(scaleX){var scaleY=arguments.length>1&&void 0!==arguments[1]?arguments[1]:scaleX,imageData=this.imageData,transformed=!1;return scaleX=Number(scaleX),scaleY=Number(scaleY),this.ready&&!this.disabled&&this.options.scalable&&(isNumber(scaleX)&&(imageData.scaleX=scaleX,transformed=!0),isNumber(scaleY)&&(imageData.scaleY=scaleY,transformed=!0),transformed&&this.renderCanvas(!0,!0)),this},getData:function(){var data,rounded=arguments.length>0&&void 0!==arguments[0]&&arguments[0],options=this.options,imageData=this.imageData,canvasData=this.canvasData,cropBoxData=this.cropBoxData;if(this.ready&&this.cropped){var ratio=imageData.width/imageData.naturalWidth;if(forEach(data={x:cropBoxData.left-canvasData.left,y:cropBoxData.top-canvasData.top,width:cropBoxData.width,height:cropBoxData.height},(function(n,i){data[i]=n/ratio})),rounded){var bottom=Math.round(data.y+data.height),right=Math.round(data.x+data.width);data.x=Math.round(data.x),data.y=Math.round(data.y),data.width=right-data.x,data.height=bottom-data.y}}else data={x:0,y:0,width:0,height:0};return options.rotatable&&(data.rotate=imageData.rotate||0),options.scalable&&(data.scaleX=imageData.scaleX||1,data.scaleY=imageData.scaleY||1),data},setData:function(data){var options=this.options,imageData=this.imageData,canvasData=this.canvasData,cropBoxData={};if(this.ready&&!this.disabled&&isPlainObject(data)){var transformed=!1;options.rotatable&&isNumber(data.rotate)&&data.rotate!==imageData.rotate&&(imageData.rotate=data.rotate,transformed=!0),options.scalable&&(isNumber(data.scaleX)&&data.scaleX!==imageData.scaleX&&(imageData.scaleX=data.scaleX,transformed=!0),isNumber(data.scaleY)&&data.scaleY!==imageData.scaleY&&(imageData.scaleY=data.scaleY,transformed=!0)),transformed&&this.renderCanvas(!0,!0);var ratio=imageData.width/imageData.naturalWidth;isNumber(data.x)&&(cropBoxData.left=data.x*ratio+canvasData.left),isNumber(data.y)&&(cropBoxData.top=data.y*ratio+canvasData.top),isNumber(data.width)&&(cropBoxData.width=data.width*ratio),isNumber(data.height)&&(cropBoxData.height=data.height*ratio),this.setCropBoxData(cropBoxData)}return this},getContainerData:function(){return this.ready?assign({},this.containerData):{}},getImageData:function(){return this.sized?assign({},this.imageData):{}},getCanvasData:function(){var canvasData=this.canvasData,data={};return this.ready&&forEach(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){data[n]=canvasData[n]})),data},setCanvasData:function(data){var canvasData=this.canvasData,aspectRatio=canvasData.aspectRatio;return this.ready&&!this.disabled&&isPlainObject(data)&&(isNumber(data.left)&&(canvasData.left=data.left),isNumber(data.top)&&(canvasData.top=data.top),isNumber(data.width)?(canvasData.width=data.width,canvasData.height=data.width/aspectRatio):isNumber(data.height)&&(canvasData.height=data.height,canvasData.width=data.height*aspectRatio),this.renderCanvas(!0)),this},getCropBoxData:function(){var data,cropBoxData=this.cropBoxData;return this.ready&&this.cropped&&(data={left:cropBoxData.left,top:cropBoxData.top,width:cropBoxData.width,height:cropBoxData.height}),data||{}},setCropBoxData:function(data){var widthChanged,heightChanged,cropBoxData=this.cropBoxData,aspectRatio=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&isPlainObject(data)&&(isNumber(data.left)&&(cropBoxData.left=data.left),isNumber(data.top)&&(cropBoxData.top=data.top),isNumber(data.width)&&data.width!==cropBoxData.width&&(widthChanged=!0,cropBoxData.width=data.width),isNumber(data.height)&&data.height!==cropBoxData.height&&(heightChanged=!0,cropBoxData.height=data.height),aspectRatio&&(widthChanged?cropBoxData.height=cropBoxData.width/aspectRatio:heightChanged&&(cropBoxData.width=cropBoxData.height*aspectRatio)),this.renderCropBox()),this},getCroppedCanvas:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var canvasData=this.canvasData,source=getSourceCanvas(this.image,this.imageData,canvasData,options);if(!this.cropped)return source;var _this$getData=this.getData(),initialX=_this$getData.x,initialY=_this$getData.y,initialWidth=_this$getData.width,initialHeight=_this$getData.height,ratio=source.width/Math.floor(canvasData.naturalWidth);1!==ratio&&(initialX*=ratio,initialY*=ratio,initialWidth*=ratio,initialHeight*=ratio);var aspectRatio=initialWidth/initialHeight,maxSizes=getAdjustedSizes({aspectRatio:aspectRatio,width:options.maxWidth||1/0,height:options.maxHeight||1/0}),minSizes=getAdjustedSizes({aspectRatio:aspectRatio,width:options.minWidth||0,height:options.minHeight||0},"cover"),_getAdjustedSizes=getAdjustedSizes({aspectRatio:aspectRatio,width:options.width||(1!==ratio?source.width:initialWidth),height:options.height||(1!==ratio?source.height:initialHeight)}),width=_getAdjustedSizes.width,height=_getAdjustedSizes.height;width=Math.min(maxSizes.width,Math.max(minSizes.width,width)),height=Math.min(maxSizes.height,Math.max(minSizes.height,height));var canvas=document.createElement("canvas"),context=canvas.getContext("2d");canvas.width=normalizeDecimalNumber(width),canvas.height=normalizeDecimalNumber(height),context.fillStyle=options.fillColor||"transparent",context.fillRect(0,0,width,height);var _options$imageSmoothi=options.imageSmoothingEnabled,imageSmoothingEnabled=void 0===_options$imageSmoothi||_options$imageSmoothi,imageSmoothingQuality=options.imageSmoothingQuality;context.imageSmoothingEnabled=imageSmoothingEnabled,imageSmoothingQuality&&(context.imageSmoothingQuality=imageSmoothingQuality);var srcWidth,srcHeight,dstX,dstY,dstWidth,dstHeight,sourceWidth=source.width,sourceHeight=source.height,srcX=initialX,srcY=initialY;srcX<=-initialWidth||srcX>sourceWidth?(srcX=0,srcWidth=0,dstX=0,dstWidth=0):srcX<=0?(dstX=-srcX,srcX=0,dstWidth=srcWidth=Math.min(sourceWidth,initialWidth+srcX)):srcX<=sourceWidth&&(dstX=0,dstWidth=srcWidth=Math.min(initialWidth,sourceWidth-srcX)),srcWidth<=0||srcY<=-initialHeight||srcY>sourceHeight?(srcY=0,srcHeight=0,dstY=0,dstHeight=0):srcY<=0?(dstY=-srcY,srcY=0,dstHeight=srcHeight=Math.min(sourceHeight,initialHeight+srcY)):srcY<=sourceHeight&&(dstY=0,dstHeight=srcHeight=Math.min(initialHeight,sourceHeight-srcY));var params=[srcX,srcY,srcWidth,srcHeight];if(dstWidth>0&&dstHeight>0){var scale=width/initialWidth;params.push(dstX*scale,dstY*scale,dstWidth*scale,dstHeight*scale)}return context.drawImage.apply(context,[source].concat(_toConsumableArray(params.map((function(param){return Math.floor(normalizeDecimalNumber(param))}))))),canvas},setAspectRatio:function(aspectRatio){var options=this.options;return this.disabled||isUndefined(aspectRatio)||(options.aspectRatio=Math.max(0,aspectRatio)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(mode){var options=this.options,dragBox=this.dragBox,face=this.face;if(this.ready&&!this.disabled){var croppable="crop"===mode,movable=options.movable&&"move"===mode;options.dragMode=mode=croppable||movable?mode:"none",setData(dragBox,DATA_ACTION,mode),toggleClass(dragBox,CLASS_CROP,croppable),toggleClass(dragBox,CLASS_MOVE,movable),options.cropBoxMovable||(setData(face,DATA_ACTION,mode),toggleClass(face,CLASS_CROP,croppable),toggleClass(face,CLASS_MOVE,movable))}return this}},AnotherCropper=WINDOW.Cropper,Cropper=function(){function Cropper(element){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,Cropper),!element||!REGEXP_TAG_NAME.test(element.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=element,this.options=assign({},DEFAULTS,isPlainObject(options)&&options),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var Constructor,protoProps,staticProps;return Constructor=Cropper,staticProps=[{key:"noConflict",value:function(){return window.Cropper=AnotherCropper,Cropper}},{key:"setDefaults",value:function(options){assign(DEFAULTS,isPlainObject(options)&&options)}}],(protoProps=[{key:"init",value:function(){var url,element=this.element,tagName=element.tagName.toLowerCase();if(!element.cropper){if(element.cropper=this,"img"===tagName){if(this.isImg=!0,url=element.getAttribute("src")||"",this.originalUrl=url,!url)return;url=element.src}else"canvas"===tagName&&window.HTMLCanvasElement&&(url=element.toDataURL());this.load(url)}}},{key:"load",value:function(url){var _this=this;if(url){this.url=url,this.imageData={};var element=this.element,options=this.options;if(options.rotatable||options.scalable||(options.checkOrientation=!1),options.checkOrientation&&window.ArrayBuffer)if(REGEXP_DATA_URL.test(url))REGEXP_DATA_URL_JPEG.test(url)?this.read((base64=url.replace(REGEXP_DATA_URL_HEAD,""),binary=atob(base64),arrayBuffer=new ArrayBuffer(binary.length),forEach(uint8=new Uint8Array(arrayBuffer),(function(value,i){uint8[i]=binary.charCodeAt(i)})),arrayBuffer)):this.clone();else{var base64,binary,arrayBuffer,uint8,xhr=new XMLHttpRequest,clone=this.clone.bind(this);this.reloading=!0,this.xhr=xhr,xhr.onabort=clone,xhr.onerror=clone,xhr.ontimeout=clone,xhr.onprogress=function(){"image/jpeg"!==xhr.getResponseHeader("content-type")&&xhr.abort()},xhr.onload=function(){_this.read(xhr.response)},xhr.onloadend=function(){_this.reloading=!1,_this.xhr=null},options.checkCrossOrigin&&isCrossOriginURL(url)&&element.crossOrigin&&(url=addTimestamp(url)),xhr.open("GET",url),xhr.responseType="arraybuffer",xhr.withCredentials="use-credentials"===element.crossOrigin,xhr.send()}else this.clone()}}},{key:"read",value:function(arrayBuffer){var options=this.options,imageData=this.imageData,orientation=function(arrayBuffer){var orientation,dataView=new DataView(arrayBuffer);try{var littleEndian,app1Start,ifdStart;if(255===dataView.getUint8(0)&&216===dataView.getUint8(1))for(var length=dataView.byteLength,offset=2;offset+1<length;){if(255===dataView.getUint8(offset)&&225===dataView.getUint8(offset+1)){app1Start=offset;break}offset+=1}if(app1Start){var tiffOffset=app1Start+10;if("Exif"===function(dataView,start,length){var str="";length+=start;for(var i=start;i<length;i+=1)str+=fromCharCode(dataView.getUint8(i));return str}(dataView,app1Start+4,4)){var endianness=dataView.getUint16(tiffOffset);if(((littleEndian=18761===endianness)||19789===endianness)&&42===dataView.getUint16(tiffOffset+2,littleEndian)){var firstIFDOffset=dataView.getUint32(tiffOffset+4,littleEndian);firstIFDOffset>=8&&(ifdStart=tiffOffset+firstIFDOffset)}}}if(ifdStart){var _offset,i,_length=dataView.getUint16(ifdStart,littleEndian);for(i=0;i<_length;i+=1)if(274===dataView.getUint16(_offset=ifdStart+12*i+2,littleEndian)){orientation=dataView.getUint16(_offset+=8,littleEndian),dataView.setUint16(_offset,1,littleEndian);break}}}catch(error){orientation=1}return orientation}(arrayBuffer),rotate=0,scaleX=1,scaleY=1;if(orientation>1){this.url=function(arrayBuffer,mimeType){for(var chunks=[],uint8=new Uint8Array(arrayBuffer);uint8.length>0;)chunks.push(fromCharCode.apply(null,toArray(uint8.subarray(0,8192)))),uint8=uint8.subarray(8192);return"data:".concat("image/jpeg",";base64,").concat(btoa(chunks.join("")))}(arrayBuffer);var _parseOrientation=function(orientation){var rotate=0,scaleX=1,scaleY=1;switch(orientation){case 2:scaleX=-1;break;case 3:rotate=-180;break;case 4:scaleY=-1;break;case 5:rotate=90,scaleY=-1;break;case 6:rotate=90;break;case 7:rotate=90,scaleX=-1;break;case 8:rotate=-90}return{rotate:rotate,scaleX:scaleX,scaleY:scaleY}}(orientation);rotate=_parseOrientation.rotate,scaleX=_parseOrientation.scaleX,scaleY=_parseOrientation.scaleY}options.rotatable&&(imageData.rotate=rotate),options.scalable&&(imageData.scaleX=scaleX,imageData.scaleY=scaleY),this.clone()}},{key:"clone",value:function(){var element=this.element,url=this.url,crossOrigin=element.crossOrigin,crossOriginUrl=url;this.options.checkCrossOrigin&&isCrossOriginURL(url)&&(crossOrigin||(crossOrigin="anonymous"),crossOriginUrl=addTimestamp(url)),this.crossOrigin=crossOrigin,this.crossOriginUrl=crossOriginUrl;var image=document.createElement("img");crossOrigin&&(image.crossOrigin=crossOrigin),image.src=crossOriginUrl||url,image.alt=element.alt||"The image to crop",this.image=image,image.onload=this.start.bind(this),image.onerror=this.stop.bind(this),addClass(image,CLASS_HIDE),element.parentNode.insertBefore(image,element.nextSibling)}},{key:"start",value:function(){var _this2=this,image=this.image;image.onload=null,image.onerror=null,this.sizing=!0;var isIOSWebKit=WINDOW.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent),done=function(naturalWidth,naturalHeight){assign(_this2.imageData,{naturalWidth:naturalWidth,naturalHeight:naturalHeight,aspectRatio:naturalWidth/naturalHeight}),_this2.sizing=!1,_this2.sized=!0,_this2.build()};if(!image.naturalWidth||isIOSWebKit){var sizingImage=document.createElement("img"),body=document.body||document.documentElement;this.sizingImage=sizingImage,sizingImage.onload=function(){done(sizingImage.width,sizingImage.height),isIOSWebKit||body.removeChild(sizingImage)},sizingImage.src=image.src,isIOSWebKit||(sizingImage.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",body.appendChild(sizingImage))}else done(image.naturalWidth,image.naturalHeight)}},{key:"stop",value:function(){var image=this.image;image.onload=null,image.onerror=null,image.parentNode.removeChild(image),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var element=this.element,options=this.options,image=this.image,container=element.parentNode,template=document.createElement("div");template.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var cropper=template.querySelector(".".concat("cropper","-container")),canvas=cropper.querySelector(".".concat("cropper","-canvas")),dragBox=cropper.querySelector(".".concat("cropper","-drag-box")),cropBox=cropper.querySelector(".".concat("cropper","-crop-box")),face=cropBox.querySelector(".".concat("cropper","-face"));this.container=container,this.cropper=cropper,this.canvas=canvas,this.dragBox=dragBox,this.cropBox=cropBox,this.viewBox=cropper.querySelector(".".concat("cropper","-view-box")),this.face=face,canvas.appendChild(image),addClass(element,CLASS_HIDDEN),container.insertBefore(cropper,element.nextSibling),this.isImg||removeClass(image,CLASS_HIDE),this.initPreview(),this.bind(),options.initialAspectRatio=Math.max(0,options.initialAspectRatio)||NaN,options.aspectRatio=Math.max(0,options.aspectRatio)||NaN,options.viewMode=Math.max(0,Math.min(3,Math.round(options.viewMode)))||0,addClass(cropBox,CLASS_HIDDEN),options.guides||addClass(cropBox.getElementsByClassName("".concat("cropper","-dashed")),CLASS_HIDDEN),options.center||addClass(cropBox.getElementsByClassName("".concat("cropper","-center")),CLASS_HIDDEN),options.background&&addClass(cropper,"".concat("cropper","-bg")),options.highlight||addClass(face,CLASS_INVISIBLE),options.cropBoxMovable&&(addClass(face,CLASS_MOVE),setData(face,DATA_ACTION,"all")),options.cropBoxResizable||(addClass(cropBox.getElementsByClassName("".concat("cropper","-line")),CLASS_HIDDEN),addClass(cropBox.getElementsByClassName("".concat("cropper","-point")),CLASS_HIDDEN)),this.render(),this.ready=!0,this.setDragMode(options.dragMode),options.autoCrop&&this.crop(),this.setData(options.data),isFunction(options.ready)&&addListener(element,"ready",options.ready,{once:!0}),dispatchEvent(element,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),removeClass(this.element,CLASS_HIDDEN))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Cropper}();return assign(Cropper.prototype,render,preview,events,handlers,change,methods),Cropper}()},vLI9:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ReedSolomonDecoder_1=__webpack_require__("nVjH"),GenericGF_1=__webpack_require__("al1V"),BitMatrixParser_1=__webpack_require__("Z/r2"),DataBlock_1=__webpack_require__("7xbQ"),DecodedBitStreamParser_1=__webpack_require__("Vbaj"),ChecksumException_1=__webpack_require__("Jma6");exports.default=function(){function Decoder(){this.rsDecoder=new ReedSolomonDecoder_1.default(GenericGF_1.default.DATA_MATRIX_FIELD_256)}return Decoder.prototype.decode=function(bits){for(var parser=new BitMatrixParser_1.default(bits),version=parser.getVersion(),codewords=parser.readCodewords(),dataBlocks=DataBlock_1.default.getDataBlocks(codewords,version),totalBytes=0,_i=0,dataBlocks_1=dataBlocks;_i<dataBlocks_1.length;_i++)totalBytes+=dataBlocks_1[_i].getNumDataCodewords();for(var resultBytes=new Uint8Array(totalBytes),dataBlocksCount=dataBlocks.length,j=0;j<dataBlocksCount;j++){var dataBlock=dataBlocks[j],codewordBytes=dataBlock.getCodewords(),numDataCodewords=dataBlock.getNumDataCodewords();this.correctErrors(codewordBytes,numDataCodewords);for(var i=0;i<numDataCodewords;i++)resultBytes[i*dataBlocksCount+j]=codewordBytes[i]}return DecodedBitStreamParser_1.default.decode(resultBytes)},Decoder.prototype.correctErrors=function(codewordBytes,numDataCodewords){var codewordsInts=new Int32Array(codewordBytes);try{this.rsDecoder.decode(codewordsInts,codewordBytes.length-numDataCodewords)}catch(ignored){throw new ChecksumException_1.default}for(var i=0;i<numDataCodewords;i++)codewordBytes[i]=codewordsInts[i]},Decoder}()},w7YG:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("ETIr"),__webpack_require__("cv67"),__webpack_require__("K3mO"),__webpack_require__("OLod"),function(){var C=CryptoJS,StreamCipher=C.lib.StreamCipher,C_algo=C.algo,RC4=C_algo.RC4=StreamCipher.extend({_doReset:function(){for(var key=this._key,keyWords=key.words,keySigBytes=key.sigBytes,S=this._S=[],i=0;i<256;i++)S[i]=i;i=0;for(var j=0;i<256;i++){var keyByteIndex=i%keySigBytes,t=S[i];S[i]=S[j=(j+S[i]+(keyWords[keyByteIndex>>>2]>>>24-keyByteIndex%4*8&255))%256],S[j]=t}this._i=this._j=0},_doProcessBlock:function(M,offset){M[offset]^=generateKeystreamWord.call(this)},keySize:8,ivSize:0});function generateKeystreamWord(){for(var S=this._S,i=this._i,j=this._j,keystreamWord=0,n=0;n<4;n++){var t=S[i=(i+1)%256];S[i]=S[j=(j+S[i])%256],S[j]=t,keystreamWord|=S[(S[i]+S[j])%256]<<24-8*n}return this._i=i,this._j=j,keystreamWord}C.RC4=StreamCipher._createHelper(RC4);var RC4Drop=C_algo.RC4Drop=RC4.extend({cfg:RC4.cfg.extend({drop:192}),_doReset:function(){RC4._doReset.call(this);for(var i=this.cfg.drop;i>0;i--)generateKeystreamWord.call(this)}});C.RC4Drop=StreamCipher._createHelper(RC4Drop)}(),CryptoJS.RC4)},wV23:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function Integer(){}return Integer.numberOfTrailingZeros=function(i){var y;if(0===i)return 32;var n=31;return 0!=(y=i<<16)&&(n-=16,i=y),0!=(y=i<<8)&&(n-=8,i=y),0!=(y=i<<4)&&(n-=4,i=y),0!=(y=i<<2)&&(n-=2,i=y),n-(i<<1>>>31)},Integer.numberOfLeadingZeros=function(i){if(0===i)return 32;var n=1;return i>>>16==0&&(n+=16,i<<=16),i>>>24==0&&(n+=8,i<<=8),i>>>28==0&&(n+=4,i<<=4),i>>>30==0&&(n+=2,i<<=2),n-(i>>>31)},Integer.toHexString=function(i){return i.toString(16)},Integer.bitCount=function(i){return i=(i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135,63&(i+=i>>>8)+(i>>>16)},Integer.MIN_VALUE_32_BITS=-2147483648,Integer}()},wZgz:function(module,exports,__webpack_require__){var CryptoJS;module.exports=(CryptoJS=__webpack_require__("Ib8C"),__webpack_require__("ETIr"),__webpack_require__("cv67"),__webpack_require__("K3mO"),__webpack_require__("OLod"),function(){var C=CryptoJS,BlockCipher=C.lib.BlockCipher,C_algo=C.algo,SBOX=[],INV_SBOX=[],SUB_MIX_0=[],SUB_MIX_1=[],SUB_MIX_2=[],SUB_MIX_3=[],INV_SUB_MIX_0=[],INV_SUB_MIX_1=[],INV_SUB_MIX_2=[],INV_SUB_MIX_3=[];!function(){for(var d=[],i=0;i<256;i++)d[i]=i<128?i<<1:i<<1^283;var x=0,xi=0;for(i=0;i<256;i++){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;SBOX[x]=sx=sx>>>8^255&sx^99,INV_SBOX[sx]=x;var t,x2=d[x],x4=d[x2],x8=d[x4];SUB_MIX_0[x]=(t=257*d[sx]^16843008*sx)<<24|t>>>8,SUB_MIX_1[x]=t<<16|t>>>16,SUB_MIX_2[x]=t<<8|t>>>24,SUB_MIX_3[x]=t,INV_SUB_MIX_0[sx]=(t=16843009*x8^65537*x4^257*x2^16843008*x)<<24|t>>>8,INV_SUB_MIX_1[sx]=t<<16|t>>>16,INV_SUB_MIX_2[sx]=t<<8|t>>>24,INV_SUB_MIX_3[sx]=t,x?(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]]):x=xi=1}}();var RCON=[0,1,2,4,8,16,32,64,128,27,54],AES=C_algo.AES=BlockCipher.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var key=this._keyPriorReset=this._key,keyWords=key.words,keySize=key.sigBytes/4,ksRows=4*((this._nRounds=keySize+6)+1),keySchedule=this._keySchedule=[],ksRow=0;ksRow<ksRows;ksRow++)if(ksRow<keySize)keySchedule[ksRow]=keyWords[ksRow];else{var t=keySchedule[ksRow-1];ksRow%keySize?keySize>6&&ksRow%keySize==4&&(t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[255&t]):(t=SBOX[(t=t<<8|t>>>24)>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[255&t],t^=RCON[ksRow/keySize|0]<<24),keySchedule[ksRow]=keySchedule[ksRow-keySize]^t}for(var invKeySchedule=this._invKeySchedule=[],invKsRow=0;invKsRow<ksRows;invKsRow++)ksRow=ksRows-invKsRow,t=invKsRow%4?keySchedule[ksRow]:keySchedule[ksRow-4],invKeySchedule[invKsRow]=invKsRow<4||ksRow<=4?t:INV_SUB_MIX_0[SBOX[t>>>24]]^INV_SUB_MIX_1[SBOX[t>>>16&255]]^INV_SUB_MIX_2[SBOX[t>>>8&255]]^INV_SUB_MIX_3[SBOX[255&t]]}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX)},decryptBlock:function(M,offset){var t=M[offset+1];M[offset+1]=M[offset+3],M[offset+3]=t,this._doCryptBlock(M,offset,this._invKeySchedule,INV_SUB_MIX_0,INV_SUB_MIX_1,INV_SUB_MIX_2,INV_SUB_MIX_3,INV_SBOX),t=M[offset+1],M[offset+1]=M[offset+3],M[offset+3]=t},_doCryptBlock:function(M,offset,keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX){for(var nRounds=this._nRounds,s0=M[offset]^keySchedule[0],s1=M[offset+1]^keySchedule[1],s2=M[offset+2]^keySchedule[2],s3=M[offset+3]^keySchedule[3],ksRow=4,round=1;round<nRounds;round++){var t0=SUB_MIX_0[s0>>>24]^SUB_MIX_1[s1>>>16&255]^SUB_MIX_2[s2>>>8&255]^SUB_MIX_3[255&s3]^keySchedule[ksRow++],t1=SUB_MIX_0[s1>>>24]^SUB_MIX_1[s2>>>16&255]^SUB_MIX_2[s3>>>8&255]^SUB_MIX_3[255&s0]^keySchedule[ksRow++],t2=SUB_MIX_0[s2>>>24]^SUB_MIX_1[s3>>>16&255]^SUB_MIX_2[s0>>>8&255]^SUB_MIX_3[255&s1]^keySchedule[ksRow++],t3=SUB_MIX_0[s3>>>24]^SUB_MIX_1[s0>>>16&255]^SUB_MIX_2[s1>>>8&255]^SUB_MIX_3[255&s2]^keySchedule[ksRow++];s0=t0,s1=t1,s2=t2,s3=t3}t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],M[offset]=t0,M[offset+1]=t1,M[offset+2]=t2,M[offset+3]=t3},keySize:8});C.AES=BlockCipher._createHelper(AES)}(),CryptoJS.AES)},xhJ4:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function NotFoundException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(NotFoundException,_super),NotFoundException}(Exception_1.default)},y09Z:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function MaskUtil(){}return MaskUtil.applyMaskPenaltyRule1=function(matrix){return MaskUtil.applyMaskPenaltyRule1Internal(matrix,!0)+MaskUtil.applyMaskPenaltyRule1Internal(matrix,!1)},MaskUtil.applyMaskPenaltyRule2=function(matrix){for(var penalty=0,array=matrix.getArray(),width=matrix.getWidth(),height=matrix.getHeight(),y=0;y<height-1;y++)for(var arrayY=array[y],x=0;x<width-1;x++){var value=arrayY[x];value===arrayY[x+1]&&value===array[y+1][x]&&value===array[y+1][x+1]&&penalty++}return MaskUtil.N2*penalty},MaskUtil.applyMaskPenaltyRule3=function(matrix){for(var numPenalties=0,array=matrix.getArray(),width=matrix.getWidth(),height=matrix.getHeight(),y=0;y<height;y++)for(var x=0;x<width;x++){var arrayY=array[y];x+6<width&&1===arrayY[x]&&0===arrayY[x+1]&&1===arrayY[x+2]&&1===arrayY[x+3]&&1===arrayY[x+4]&&0===arrayY[x+5]&&1===arrayY[x+6]&&(MaskUtil.isWhiteHorizontal(arrayY,x-4,x)||MaskUtil.isWhiteHorizontal(arrayY,x+7,x+11))&&numPenalties++,y+6<height&&1===array[y][x]&&0===array[y+1][x]&&1===array[y+2][x]&&1===array[y+3][x]&&1===array[y+4][x]&&0===array[y+5][x]&&1===array[y+6][x]&&(MaskUtil.isWhiteVertical(array,x,y-4,y)||MaskUtil.isWhiteVertical(array,x,y+7,y+11))&&numPenalties++}return numPenalties*MaskUtil.N3},MaskUtil.isWhiteHorizontal=function(rowArray,from,to){from=Math.max(from,0),to=Math.min(to,rowArray.length);for(var i=from;i<to;i++)if(1===rowArray[i])return!1;return!0},MaskUtil.isWhiteVertical=function(array,col,from,to){from=Math.max(from,0),to=Math.min(to,array.length);for(var i=from;i<to;i++)if(1===array[i][col])return!1;return!0},MaskUtil.applyMaskPenaltyRule4=function(matrix){for(var numDarkCells=0,array=matrix.getArray(),width=matrix.getWidth(),height=matrix.getHeight(),y=0;y<height;y++)for(var arrayY=array[y],x=0;x<width;x++)1===arrayY[x]&&numDarkCells++;var numTotalCells=matrix.getHeight()*matrix.getWidth();return Math.floor(10*Math.abs(2*numDarkCells-numTotalCells)/numTotalCells)*MaskUtil.N4},MaskUtil.getDataMaskBit=function(maskPattern,x,y){var intermediate,temp;switch(maskPattern){case 0:intermediate=y+x&1;break;case 1:intermediate=1&y;break;case 2:intermediate=x%3;break;case 3:intermediate=(y+x)%3;break;case 4:intermediate=Math.floor(y/2)+Math.floor(x/3)&1;break;case 5:intermediate=(1&(temp=y*x))+temp%3;break;case 6:intermediate=(1&(temp=y*x))+temp%3&1;break;case 7:intermediate=(temp=y*x)%3+(y+x&1)&1;break;default:throw new IllegalArgumentException_1.default("Invalid mask pattern: "+maskPattern)}return 0===intermediate},MaskUtil.applyMaskPenaltyRule1Internal=function(matrix,isHorizontal){for(var penalty=0,iLimit=isHorizontal?matrix.getHeight():matrix.getWidth(),jLimit=isHorizontal?matrix.getWidth():matrix.getHeight(),array=matrix.getArray(),i=0;i<iLimit;i++){for(var numSameBitCells=0,prevBit=-1,j=0;j<jLimit;j++){var bit=isHorizontal?array[i][j]:array[j][i];bit===prevBit?numSameBitCells++:(numSameBitCells>=5&&(penalty+=MaskUtil.N1+(numSameBitCells-5)),numSameBitCells=1,prevBit=bit)}numSameBitCells>=5&&(penalty+=MaskUtil.N1+(numSameBitCells-5))}return penalty},MaskUtil.N1=3,MaskUtil.N2=3,MaskUtil.N3=40,MaskUtil.N4=10,MaskUtil}()},yLOY:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StringBuilder_1=__webpack_require__("SgF2"),UnsupportedOperationException_1=__webpack_require__("U4yT");exports.default=function(){function LuminanceSource(width,height){this.width=width,this.height=height}return LuminanceSource.prototype.getWidth=function(){return this.width},LuminanceSource.prototype.getHeight=function(){return this.height},LuminanceSource.prototype.isCropSupported=function(){return!1},LuminanceSource.prototype.crop=function(left,top,width,height){throw new UnsupportedOperationException_1.default("This luminance source does not support cropping.")},LuminanceSource.prototype.isRotateSupported=function(){return!1},LuminanceSource.prototype.rotateCounterClockwise=function(){throw new UnsupportedOperationException_1.default("This luminance source does not support rotation by 90 degrees.")},LuminanceSource.prototype.rotateCounterClockwise45=function(){throw new UnsupportedOperationException_1.default("This luminance source does not support rotation by 45 degrees.")},LuminanceSource.prototype.toString=function(){for(var row=new Uint8ClampedArray(this.width),result=new StringBuilder_1.default,y=0;y<this.height;y++){for(var sourceRow=this.getRow(y,row),x=0;x<this.width;x++){var luminance=255&sourceRow[x];result.append(luminance<64?"#":luminance<128?"+":luminance<192?".":" ")}result.append("\n")}return result.toString()},LuminanceSource}()},"z1Y+":function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var Exception_1=__webpack_require__("OclX");exports.default=function(_super){function IllegalArgumentException(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(IllegalArgumentException,_super),IllegalArgumentException}(Exception_1.default)},"zR+u":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var QRCodeWriter_1=__webpack_require__("kuTA"),BarcodeFormat_1=__webpack_require__("qsBs"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.default=function(){function MultiFormatWriter(){}return MultiFormatWriter.prototype.encode=function(contents,format,width,height,hints){var writer;switch(format){case BarcodeFormat_1.default.QR_CODE:writer=new QRCodeWriter_1.default;break;default:throw new IllegalArgumentException_1.default("No encoder available for format "+format)}return writer.encode(contents,format,width,height,hints)},MultiFormatWriter}()},zUnb:function(module,__webpack_exports__,__webpack_require__){"use strict";function isFunction(x){return"function"==typeof x}__webpack_require__.r(__webpack_exports__);let _enable_super_gross_mode_that_will_cause_bad_things=!1;const config_config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+error.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(err){setTimeout(()=>{throw err})}const empty={closed:!0,next(value){},error(err){if(config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)},complete(){}},isArray=Array.isArray||(x=>x&&"number"==typeof x.length);function isObject(x){return null!==x&&"object"==typeof x}function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=errors,this}UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype);const UnsubscriptionError=UnsubscriptionErrorImpl;let Subscription_Subscription=(()=>{class Subscription{constructor(unsubscribe){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}unsubscribe(){let errors,hasErrors=!1;if(this.closed)return;let{_parent:_parent,_parents:_parents,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let index=-1,len=_parents?_parents.length:0;for(;_parent;)_parent.remove(this),_parent=++index<len&&_parents[index]||null;if(isFunction(_unsubscribe))try{_unsubscribe.call(this)}catch(e){hasErrors=!0,errors=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(isArray(_subscriptions))for(index=-1,len=_subscriptions.length;++index<len;){const sub=_subscriptions[index];if(isObject(sub))try{sub.unsubscribe()}catch(e){hasErrors=!0,errors=errors||[],e instanceof UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}if(hasErrors)throw new UnsubscriptionError(errors)}add(teardown){let subscription=teardown;switch(typeof teardown){case"function":subscription=new Subscription(teardown);case"object":if(subscription===this||subscription.closed||"function"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription)){const tmp=subscription;subscription=new Subscription,subscription._subscriptions=[tmp]}break;default:if(!teardown)return Subscription.EMPTY;throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}if(subscription._addParent(this)){const subscriptions=this._subscriptions;subscriptions?subscriptions.push(subscription):this._subscriptions=[subscription]}return subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}_addParent(parent){let{_parent:_parent,_parents:_parents}=this;return _parent!==parent&&(_parent?_parents?-1===_parents.indexOf(parent)&&(_parents.push(parent),!0):(this._parents=[parent],!0):(this._parent=parent,!0))}}return Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription})();function flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError?err.errors:err),[])}const rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Subscriber_Subscriber extends Subscription_Subscription{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=empty;break;case 1:if(!destinationOrNext){this.destination=empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber_Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new Subscriber_SafeSubscriber(this,destinationOrNext,error,complete)}}[rxSubscriber](){return this}static create(next,error,complete){const subscriber=new Subscriber_Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:_parent,_parents:_parents}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=_parent,this._parents=_parents,this}}class Subscriber_SafeSubscriber extends Subscriber_Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==empty&&(context=Object.create(observerOrNext),isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=config_config;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):hostReportError(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);config_config.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),config_config.useDeprecatedSynchronousErrorHandling)throw err;hostReportError(err)}}__tryOrSetError(parent,fn,value){if(!config_config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{fn.call(this._context,value)}catch(err){return config_config.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(hostReportError(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}const observable_observable="function"==typeof Symbol&&Symbol.observable||"@@observable";function noop(){}function pipe(...fns){return pipeFromArray(fns)}function pipeFromArray(fns){return fns?1===fns.length?fns[0]:function(input){return fns.reduce((prev,fn)=>fn(prev),input)}:noop}let Observable_Observable=(()=>{class Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber])return nextOrObserver[rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_Subscriber(nextOrObserver,error,complete):new Subscriber_Subscriber(empty)}(observerOrNext,error,complete);if(sink.add(operator?operator.call(sink,this.source):this.source||config_config.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),config_config.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){config_config.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),function(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof Subscriber_Subscriber?destination:null}return!0}(sink)?sink.error(err):console.warn(err)}}forEach(next,promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[observable_observable](){return this}pipe(...operations){return 0===operations.length?this:pipeFromArray(operations)(this)}toPromise(promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}return Observable.create=subscribe=>new Observable(subscribe),Observable})();function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=config_config.Promise||Promise),!promiseCtor)throw new Error("no Promise impl found");return promiseCtor}function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype);const ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl;class SubjectSubscription_SubjectSubscription extends Subscription_Subscription{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}class Subject_SubjectSubscriber extends Subscriber_Subscriber{constructor(destination){super(destination),this.destination=destination}}let Subject_Subject=(()=>{class Subject extends Observable_Observable{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber](){return new Subject_SubjectSubscriber(this)}lift(operator){const subject=new Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new Observable_Observable;return observable.source=this,observable}}return Subject.create=(destination,source)=>new Subject_AnonymousSubject(destination,source),Subject})();class Subject_AnonymousSubject extends Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):Subscription_Subscription.EMPTY}}function isScheduler(value){return value&&"function"==typeof value.schedule}class InnerSubscriber_InnerSubscriber extends Subscriber_Subscriber{constructor(parent,outerValue,outerIndex){super(),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}_next(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)}_error(error){this.parent.notifyError(error,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const subscribeToArray=array=>subscriber=>{for(let i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.closed||subscriber.complete()},subscribeToPromise=promise=>subscriber=>(promise.then(value=>{subscriber.closed||(subscriber.next(value),subscriber.complete())},err=>subscriber.error(err)).then(null,hostReportError),subscriber);function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const iterator_iterator=getSymbolIterator(),subscribeToIterable=iterable=>subscriber=>{const iterator=iterable[iterator_iterator]();for(;;){const item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return"function"==typeof iterator.return&&subscriber.add(()=>{iterator.return&&iterator.return()}),subscriber},subscribeToObservable=obj=>subscriber=>{const obs=obj[observable_observable]();if("function"!=typeof obs.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return obs.subscribe(subscriber)},isArrayLike=x=>x&&"number"==typeof x.length&&"function"!=typeof x;function isPromise(value){return!!value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}const subscribeTo=result=>{if(result instanceof Observable_Observable)return subscriber=>result._isScalar?(subscriber.next(result.value),void subscriber.complete()):result.subscribe(subscriber);if(result&&"function"==typeof result[observable_observable])return subscribeToObservable(result);if(isArrayLike(result))return subscribeToArray(result);if(isPromise(result))return subscribeToPromise(result);if(result&&"function"==typeof result[iterator_iterator])return subscribeToIterable(result);{const value=isObject(result)?"an invalid object":`'${result}'`;throw new TypeError(`You provided ${value} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};function subscribeToResult(outerSubscriber,result,outerValue,outerIndex,destination=new InnerSubscriber_InnerSubscriber(outerSubscriber,outerValue,outerIndex)){if(!destination.closed)return subscribeTo(result)(destination)}class OuterSubscriber_OuterSubscriber extends Subscriber_Subscriber{notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyError(error,innerSub){this.destination.error(error)}notifyComplete(innerSub){this.destination.complete()}}function map_map(project,thisArg){return function(source){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return source.lift(new MapOperator(project,thisArg))}}class MapOperator{constructor(project,thisArg){this.project=project,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new map_MapSubscriber(subscriber,this.project,this.thisArg))}}class map_MapSubscriber extends Subscriber_Subscriber{constructor(destination,project,thisArg){super(destination),this.project=project,this.count=0,this.thisArg=thisArg||this}_next(value){let result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function fromArray(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;let i=0;return sub.add(scheduler.schedule((function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()}))),sub}:subscribeToArray(input))}function from(input,scheduler){if(!scheduler)return input instanceof Observable_Observable?input:new Observable_Observable(subscribeTo(input));if(null!=input){if(function(input){return input&&"function"==typeof input[observable_observable]}(input))return function(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>{const observable=input[observable_observable]();sub.add(observable.subscribe({next(value){sub.add(scheduler.schedule(()=>subscriber.next(value)))},error(err){sub.add(scheduler.schedule(()=>subscriber.error(err)))},complete(){sub.add(scheduler.schedule(()=>subscriber.complete()))}}))})),sub}:subscribeToObservable(input))}(input,scheduler);if(isPromise(input))return function(input,scheduler){return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;return sub.add(scheduler.schedule(()=>input.then(value=>{sub.add(scheduler.schedule(()=>{subscriber.next(value),sub.add(scheduler.schedule(()=>subscriber.complete()))}))},err=>{sub.add(scheduler.schedule(()=>subscriber.error(err)))}))),sub}:subscribeToPromise(input))}(input,scheduler);if(isArrayLike(input))return fromArray(input,scheduler);if(function(input){return input&&"function"==typeof input[iterator_iterator]}(input)||"string"==typeof input)return function(input,scheduler){if(!input)throw new Error("Iterable cannot be null");return new Observable_Observable(scheduler?subscriber=>{const sub=new Subscription_Subscription;let iterator;return sub.add(()=>{iterator&&"function"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(()=>{iterator=input[iterator_iterator](),sub.add(scheduler.schedule((function(){if(subscriber.closed)return;let value,done;try{const result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())})))})),sub}:subscribeToIterable(input))}(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+" is not observable")}function mergeMap(project,resultSelector,concurrent=Number.POSITIVE_INFINITY){return"function"==typeof resultSelector?source=>source.pipe(mergeMap((a,i)=>from(project(a,i)).pipe(map_map((b,ii)=>resultSelector(a,b,i,ii))),concurrent)):("number"==typeof resultSelector&&(concurrent=resultSelector),source=>source.lift(new MergeMapOperator(project,concurrent)))}class MergeMapOperator{constructor(project,concurrent=Number.POSITIVE_INFINITY){this.project=project,this.concurrent=concurrent}call(observer,source){return source.subscribe(new mergeMap_MergeMapSubscriber(observer,this.project,this.concurrent))}}class mergeMap_MergeMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project,concurrent=Number.POSITIVE_INFINITY){super(destination),this.project=project,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)}_tryNext(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)}_innerSub(ish,value,index){const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),subscribeToResult(this,ish,value,index,innerSubscriber)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyComplete(innerSub){const buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function identity(x){return x}function mergeAll(concurrent=Number.POSITIVE_INFINITY){return mergeMap(identity,concurrent)}function merge(...observables){let concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable_Observable?observables[0]:mergeAll(concurrent)(fromArray(observables,scheduler))}function refCount(){return function(source){return source.lift(new RefCountOperator(source))}}class RefCountOperator{constructor(connectable){this.connectable=connectable}call(subscriber,source){const{connectable:connectable}=this;connectable._refCount++;const refCounter=new refCount_RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}class refCount_RefCountSubscriber extends Subscriber_Subscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_unsubscribe(){const{connectable:connectable}=this;if(!connectable)return void(this.connection=null);this.connectable=null;const refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);const{connection:connection}=this,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}const connectableProto=class extends Observable_Observable{constructor(source,subjectFactory){super(),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}_subscribe(subscriber){return this.getSubject().subscribe(subscriber)}getSubject(){const subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let connection=this._connection;return connection||(this._isComplete=!1,connection=this._connection=new Subscription_Subscription,connection.add(this.source.subscribe(new ConnectableObservable_ConnectableSubscriber(this.getSubject(),this))),connection.closed?(this._connection=null,connection=Subscription_Subscription.EMPTY):this._connection=connection),connection}refCount(){return refCount()(this)}}.prototype,connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}};class ConnectableObservable_ConnectableSubscriber extends Subject_SubjectSubscriber{constructor(destination,connectable){super(destination),this.connectable=connectable}_error(err){this._unsubscribe(),super._error(err)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const connectable=this.connectable;if(connectable){this.connectable=null;const connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}}}function multicast(subjectOrSubjectFactory,selector){return function(source){let subjectFactory;if(subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory},"function"==typeof selector)return source.lift(new MulticastOperator(subjectFactory,selector));const connectable=Object.create(source,connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable}}class MulticastOperator{constructor(subjectFactory,selector){this.subjectFactory=subjectFactory,this.selector=selector}call(subscriber,source){const{selector:selector}=this,subject=this.subjectFactory(),subscription=selector(subject).subscribe(subscriber);return subscription.add(source.subscribe(subject)),subscription}}function shareSubjectFactory(){return new Subject_Subject}function makeParamDecorator(name,props,parentClass){const metaCtor=function(props){return function(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty("__parameters__")?cls.__parameters__:Object.defineProperty(cls,"__parameters__",{value:[]}).__parameters__;for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}const Inject=makeParamDecorator("Inject",token=>({token:token})),Optional=makeParamDecorator("Optional"),Self=makeParamDecorator("Self"),SkipSelf=makeParamDecorator("SkipSelf");var InjectFlags=function(InjectFlags){return InjectFlags[InjectFlags.Default=0]="Default",InjectFlags[InjectFlags.Host=1]="Host",InjectFlags[InjectFlags.Self=2]="Self",InjectFlags[InjectFlags.SkipSelf=4]="SkipSelf",InjectFlags[InjectFlags.Optional=8]="Optional",InjectFlags}({});function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error("Could not find renamed property on target object.")}function ɵɵdefineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}const defineInjectable=ɵɵdefineInjectable;function getInjectableDef(type){const def=type[NG_INJECTABLE_DEF];return def&&def.token===type?def:null}const NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty});function stringify(token){if("string"==typeof token)return token;if(token instanceof Array)return"["+token.map(stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return""+token.overriddenName;if(token.name)return""+token.name;const res=token.toString();if(null==res)return""+res;const newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){const fn=type;return"function"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef?fn():type}const __globalThis="undefined"!=typeof globalThis&&globalThis,__window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global="undefined"!=typeof global&&global,_global=__globalThis||__global||__window||__self;class InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.ngInjectableDef=ɵɵdefineInjectable({token:this,providedIn:options.providedIn||"root",factory:options.factory}))}toString(){return"InjectionToken "+this._desc}}const INJECTOR=new InjectionToken("INJECTOR",-1),THROW_IF_NOT_FOUND=new Object,NEW_LINE=/\n/gm,USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});let _currentInjector=void 0;function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}function ɵɵinject(token,flags=InjectFlags.Default){return function(token,flags=InjectFlags.Default){if(void 0===_currentInjector)throw new Error("inject() must be called from an injection context");return null===_currentInjector?function(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);if(injectableDef&&"root"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;throw new Error(`Injector: NOT_FOUND [${stringify(token)}]`)}(token,0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)}(token,flags)}const inject=ɵɵinject;class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=new Error(`NullInjectorError: No provider for ${stringify(token)}!`);throw error.name="NullInjectorError",error}return notFoundValue}}function formatError(text,obj,injectorErrorName,source=null){text=text&&"\n"===text.charAt(0)&&"ɵ"==text.charAt(1)?text.substr(2):text;let context=stringify(obj);if(obj instanceof Array)context=obj.map(stringify).join(" -> ");else if("object"==typeof obj){let parts=[];for(let key in obj)if(obj.hasOwnProperty(key)){let value=obj[key];parts.push(key+":"+("string"==typeof value?JSON.stringify(value):stringify(value)))}context=`{${parts.join(", ")}}`}return`${injectorErrorName}${source?"("+source+")":""}[${context}]: ${text.replace(NEW_LINE,"\n  ")}`}class NgModuleRef{}class NgModuleFactory{}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}const ViewEncapsulation=function(){var ViewEncapsulation={Emulated:0,Native:1,None:2,ShadowDom:3};return ViewEncapsulation[ViewEncapsulation.Emulated]="Emulated",ViewEncapsulation[ViewEncapsulation.Native]="Native",ViewEncapsulation[ViewEncapsulation.None]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom]="ShadowDom",ViewEncapsulation}(),defaultScheduler=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global))();function getDebugContext(error){return error.ngDebugContext}function getOriginalError(error){return error.ngOriginalError}function defaultErrorLogger(console,...values){console.error(...values)}class ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function(error){return error.ngErrorLogger||defaultErrorLogger}(error);errorLogger(this._console,"ERROR",error),originalError&&errorLogger(this._console,"ORIGINAL ERROR",originalError),context&&errorLogger(this._console,"ERROR CONTEXT",context)}_findContext(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null}_findOriginalError(error){let e=getOriginalError(error);for(;e&&getOriginalError(e);)e=getOriginalError(e);return e}}let _devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}class InertBodyHelper{constructor(defaultDoc){if(this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const inertHtml=this.inertDocument.createElement("html");this.inertDocument.appendChild(inertHtml),this.inertBodyElement=this.inertDocument.createElement("body"),inertHtml.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(_a){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(html){html="<body><remove></remove>"+html+"</body>";try{html=encodeURI(html)}catch(_a){return null}const xhr=new XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+html,!1),xhr.send(void 0);const body=xhr.response.body;return body.removeChild(body.firstChild),body}getInertBodyElement_DOMParser(html){html="<body><remove></remove>"+html+"</body>";try{const body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.removeChild(body.firstChild),body}catch(_a){return null}}getInertBodyElement_InertDocument(html){const templateEl=this.inertDocument.createElement("template");return"content"in templateEl?(templateEl.innerHTML=html,templateEl):(this.inertBodyElement.innerHTML=html,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(el){const elAttrs=el.attributes;for(let i=elAttrs.length-1;0<i;i--){const attrName=elAttrs.item(i).name;"xmlns:ns1"!==attrName&&0!==attrName.indexOf("ns1:")||el.removeAttribute(attrName)}let childNode=el.firstChild;for(;childNode;)childNode.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(childNode),childNode=childNode.nextSibling}}const SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe URL value ${url} (see http://g.co/ng/security#xss)`),"unsafe:"+url)}function tagSet(tags){const res={};for(const t of tags.split(","))res[t]=!0;return res}function core_merge(...sets){const res={};for(const s of sets)for(const v in s)s.hasOwnProperty(v)&&(res[v]=!0);return res}const VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),VALID_ELEMENTS=core_merge(VOID_ELEMENTS,core_merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SRCSET_ATTRS=tagSet("srcset"),VALID_ATTRS=core_merge(URI_ATTRS,SRCSET_ATTRS,tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet("script,style,template");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(el){let current=el.firstChild,traverseContent=!0;for(;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)current=current.firstChild;else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);let next=this.checkClobberedElement(current,current.nextSibling);if(next){current=next;break}current=this.checkClobberedElement(current,current.parentNode)}return this.buf.join("")}startElement(element){const tagName=element.nodeName.toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push("<"),this.buf.push(tagName);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){this.sanitizedSomething=!0;continue}let value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(srcset=value,value=(srcset=String(srcset)).split(",").map(srcset=>_sanitizeUrl(srcset.trim())).join(", ")),this.buf.push(" ",attrName,'="',encodeEntities(value),'"')}var srcset;return this.buf.push(">"),!0}endElement(current){const tagName=current.nodeName.toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("</"),this.buf.push(tagName),this.buf.push(">"))}chars(chars){this.buf.push(encodeEntities(chars))}checkClobberedElement(node,nextNode){if(nextNode&&(node.compareDocumentPosition(nextNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+node.outerHTML);return nextNode}}const SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(match){return"&#"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(match){return"&#"+match.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let inertBodyHelper;function getTemplateContent(el){return"content"in el&&function(el){return el.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===el.nodeName}(el)?el.content:null}const SecurityContext=function(){var SecurityContext={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return SecurityContext[SecurityContext.NONE]="NONE",SecurityContext[SecurityContext.HTML]="HTML",SecurityContext[SecurityContext.STYLE]="STYLE",SecurityContext[SecurityContext.SCRIPT]="SCRIPT",SecurityContext[SecurityContext.URL]="URL",SecurityContext[SecurityContext.RESOURCE_URL]="RESOURCE_URL",SecurityContext}();class Sanitizer{}const SAFE_STYLE_VALUE=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),URL_RE=/^url\(([^)]+)\)$/;function normalizeDebugBindingName(name){return"ng-reflect-"+name.replace(/[$@]/g,"_").replace(CAMEL_CASE_REGEXP,(...m)=>"-"+m[1].toLowerCase())}const CAMEL_CASE_REGEXP=/([A-Z])/g;function normalizeDebugBindingValue(value){try{return null!=value?value.toString().slice(0,30):value}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let ChangeDetectorRef=(()=>{class ChangeDetectorRef{}return ChangeDetectorRef.__NG_ELEMENT_ID__=()=>SWITCH_CHANGE_DETECTOR_REF_FACTORY(),ChangeDetectorRef})();const SWITCH_CHANGE_DETECTOR_REF_FACTORY=(...args)=>{},APP_ROOT=new InjectionToken("The presence of this token marks an injector as being the root injector."),INJECTOR_IMPL=function(providers,parent,name){return new StaticInjector(providers,parent,name)};let Injector=(()=>{class Injector{static create(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,""):INJECTOR_IMPL(options.providers,options.parent,options.name||"")}}return Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.ngInjectableDef=ɵɵdefineInjectable({token:Injector,providedIn:"any",factory:()=>ɵɵinject(INJECTOR)}),Injector.__NG_ELEMENT_ID__=-1,Injector})();const IDENT=function(value){return value},EMPTY=[],CIRCULAR$1=IDENT,MULTI_PROVIDER_FN=function(){return Array.prototype.slice.call(arguments)};class StaticInjector{constructor(providers,parent=Injector.NULL,source=null){this.parent=parent,this.source=source;const records=this._records=new Map;records.set(Injector,{token:Injector,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),records.set(INJECTOR,{token:INJECTOR,fn:IDENT,deps:EMPTY,value:this,useNew:!1}),function recursivelyProcessProviders(records,provider){if(provider)if((provider=resolveForwardRef(provider))instanceof Array)for(let i=0;i<provider.length;i++)recursivelyProcessProviders(records,provider[i]);else{if("function"==typeof provider)throw staticError("Function/Class not supported",provider);if(!provider||"object"!=typeof provider||!provider.provide)throw staticError("Unexpected provider",provider);{let token=resolveForwardRef(provider.provide);const resolvedProvider=function(provider){const deps=function(provider){let deps=EMPTY;const providerDeps=provider.deps;if(providerDeps&&providerDeps.length){deps=[];for(let i=0;i<providerDeps.length;i++){let options=6,token=resolveForwardRef(providerDeps[i]);if(token instanceof Array)for(let j=0,annotations=token;j<annotations.length;j++){const annotation=annotations[j];annotation instanceof Optional||annotation==Optional?options|=1:annotation instanceof SkipSelf||annotation==SkipSelf?options&=-3:annotation instanceof Self||annotation==Self?options&=-5:token=annotation instanceof Inject?annotation.token:resolveForwardRef(annotation)}deps.push({token:token,options:options})}}else if(provider.useExisting)deps=[{token:resolveForwardRef(provider.useExisting),options:6}];else if(!providerDeps&&!(USE_VALUE in provider))throw staticError("'deps' required",provider);return deps}(provider);let fn=IDENT,value=EMPTY,useNew=!1,provide=resolveForwardRef(provider.provide);if(USE_VALUE in provider)value=provider.useValue;else if(provider.useFactory)fn=provider.useFactory;else if(provider.useExisting);else if(provider.useClass)useNew=!0,fn=resolveForwardRef(provider.useClass);else{if("function"!=typeof provide)throw staticError("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",provider);useNew=!0,fn=provide}return{deps:deps,fn:fn,useNew:useNew,value:value}}(provider);if(!0===provider.multi){let multiProvider=records.get(token);if(multiProvider){if(multiProvider.fn!==MULTI_PROVIDER_FN)throw multiProviderMixError(token)}else records.set(token,multiProvider={token:provider.provide,deps:[],useNew:!1,fn:MULTI_PROVIDER_FN,value:EMPTY});token=provider,multiProvider.deps.push({token:token,options:6})}const record=records.get(token);if(record&&record.fn==MULTI_PROVIDER_FN)throw multiProviderMixError(token);records.set(token,resolvedProvider)}}}(records,providers)}get(token,notFoundValue,flags=InjectFlags.Default){const record=this._records.get(token);try{return function tryResolveToken(token,record,records,parent,notFoundValue,flags){try{return function(token,record,records,parent,notFoundValue,flags){let value;if(!record||flags&InjectFlags.SkipSelf)flags&InjectFlags.Self||(value=parent.get(token,notFoundValue,InjectFlags.Default));else{if(value=record.value,value==CIRCULAR$1)throw Error("ɵCircular dependency");if(value===EMPTY){record.value=CIRCULAR$1;let obj=void 0,useNew=record.useNew,fn=record.fn,depRecords=record.deps,deps=EMPTY;if(depRecords.length){deps=[];for(let i=0;i<depRecords.length;i++){const depRecord=depRecords[i],options=depRecord.options,childRecord=2&options?records.get(depRecord.token):void 0;deps.push(tryResolveToken(depRecord.token,childRecord,records,childRecord||4&options?parent:Injector.NULL,1&options?null:Injector.THROW_IF_NOT_FOUND,InjectFlags.Default))}}record.value=value=useNew?new fn(...deps):fn.apply(obj,deps)}}return value}(token,record,records,parent,notFoundValue,flags)}catch(e){throw e instanceof Error||(e=new Error(e)),(e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(token),record&&record.value==CIRCULAR$1&&(record.value=EMPTY),e}}(token,record,this._records,this.parent,notFoundValue,flags)}catch(e){return function(e,token,injectorErrorName,source){const tokenPath=e.ngTempTokenPath;throw token.__source&&tokenPath.unshift(token.__source),e.message=formatError("\n"+e.message,tokenPath,"StaticInjectorError",source),e.ngTokenPath=tokenPath,e.ngTempTokenPath=null,e}(e,token,0,this.source)}}toString(){const tokens=[];return this._records.forEach((v,token)=>tokens.push(stringify(token))),`StaticInjector[${tokens.join(", ")}]`}}function multiProviderMixError(token){return staticError("Cannot mix multi providers and regular providers",token)}function staticError(text,obj){return new Error(formatError(text,obj,"StaticInjectorError"))}const ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken("AnalyzeForEntryComponents");let _symbolIterator=null;function core_getSymbolIterator(){if(!_symbolIterator){const Symbol=_global.Symbol;if(Symbol&&Symbol.iterator)_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}}return _symbolIterator}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function devModeEqual$1(a,b){const isListLikeIterableA=isListLikeIterable$1(a),isListLikeIterableB=isListLikeIterable$1(b);if(isListLikeIterableA&&isListLikeIterableB)return function(a,b,comparator){const iterator1=a[core_getSymbolIterator()](),iterator2=b[core_getSymbolIterator()]();for(;;){const item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}(a,b,devModeEqual$1);{const isAObject=a&&("object"==typeof a||"function"==typeof a),isBObject=b&&("object"==typeof b||"function"==typeof b);return!(isListLikeIterableA||!isAObject||isListLikeIterableB||!isBObject)||looseIdentical(a,b)}}class WrappedValue{constructor(value){this.wrapped=value}static wrap(value){return new WrappedValue(value)}static unwrap(value){return WrappedValue.isWrapped(value)?value.wrapped:value}static isWrapped(value){return value instanceof WrappedValue}}function isListLikeIterable$1(obj){return!!isJsObject$1(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&core_getSymbolIterator()in obj)}function isJsObject$1(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function core_isPromise(obj){return!!obj&&"function"==typeof obj.then}function isObservable(obj){return!!obj&&"function"==typeof obj.subscribe}class SimpleChange{constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}class ComponentFactory{}function noComponentFactoryError(component){const error=Error(`No component factory found for ${stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error[ERROR_COMPONENT]=component,error}const ERROR_COMPONENT="ngComponent";class _NullComponentFactoryResolver{resolveComponentFactory(component){throw noComponentFactoryError(component)}}let ComponentFactoryResolver=(()=>{class ComponentFactoryResolver{}return ComponentFactoryResolver.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver})();class CodegenComponentFactoryResolver{constructor(factories,_parent,_ngModule){this._parent=_parent,this._ngModule=_ngModule,this._factories=new Map;for(let i=0;i<factories.length;i++){const factory=factories[i];this._factories.set(factory.componentType,factory)}}resolveComponentFactory(component){let factory=this._factories.get(component);if(!factory&&this._parent&&(factory=this._parent.resolveComponentFactory(component)),!factory)throw noComponentFactoryError(component);return new ComponentFactoryBoundToModule(factory,this._ngModule)}}class ComponentFactoryBoundToModule extends ComponentFactory{constructor(factory,ngModule){super(),this.factory=factory,this.ngModule=ngModule,this.selector=factory.selector,this.componentType=factory.componentType,this.ngContentSelectors=factory.ngContentSelectors,this.inputs=factory.inputs,this.outputs=factory.outputs}create(injector,projectableNodes,rootSelectorOrNode,ngModule){return this.factory.create(injector,projectableNodes,rootSelectorOrNode,ngModule||this.ngModule)}}function core_noop(...args){}let ElementRef=(()=>{class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}return ElementRef.__NG_ELEMENT_ID__=()=>SWITCH_ELEMENT_REF_FACTORY(ElementRef),ElementRef})();const SWITCH_ELEMENT_REF_FACTORY=core_noop;class Renderer{}class RendererFactory2{}const RendererStyleFlags2=function(){var RendererStyleFlags2={Important:1,DashCase:2};return RendererStyleFlags2[RendererStyleFlags2.Important]="Important",RendererStyleFlags2[RendererStyleFlags2.DashCase]="DashCase",RendererStyleFlags2}();let Renderer2=(()=>{class Renderer2{}return Renderer2.__NG_ELEMENT_ID__=()=>SWITCH_RENDERER2_FACTORY(),Renderer2})();const SWITCH_RENDERER2_FACTORY=core_noop;class Version{constructor(full){this.full=full,this.major=full.split(".")[0],this.minor=full.split(".")[1],this.patch=full.split(".").slice(2).join(".")}}const VERSION=new Version("8.2.14");class DefaultIterableDifferFactory{constructor(){}supports(obj){return isListLikeIterable$1(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{constructor(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!isListLikeIterable$1(collection))throw new Error(`Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)item=collection[index],itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,function(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[core_getSymbolIterator()]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),this._additionsTail=null===this._additionsTail?this._additionsHead=record:this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex||(this._movesTail=null===this._movesTail?this._movesHead=record:this._movesTail._nextMoved=record),record}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=record:this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{constructor(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const recordList=this.map.get(trackById);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||isJsObject$1(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||isJsObject$1(map)))throw new Error(`Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{constructor(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let IterableDiffers=(()=>{class IterableDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:parent=>{if(!parent)throw new Error("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${type=iterable,type.name||typeof type}'`);var type}}return IterableDiffers.ngInjectableDef=ɵɵdefineInjectable({token:IterableDiffers,providedIn:"root",factory:()=>new IterableDiffers([new DefaultIterableDifferFactory])}),IterableDiffers})(),KeyValueDiffers=(()=>{class KeyValueDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:parent=>{if(!parent)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new Error(`Cannot find a differ supporting object '${kv}'`)}}return KeyValueDiffers.ngInjectableDef=ɵɵdefineInjectable({token:KeyValueDiffers,providedIn:"root",factory:()=>new KeyValueDiffers([new DefaultKeyValueDifferFactory])}),KeyValueDiffers})();const keyValDiff=[new DefaultKeyValueDifferFactory],defaultIterableDiffers=new IterableDiffers([new DefaultIterableDifferFactory]),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);let TemplateRef=(()=>{class TemplateRef{}return TemplateRef.__NG_ELEMENT_ID__=()=>SWITCH_TEMPLATE_REF_FACTORY(TemplateRef,ElementRef),TemplateRef})();const SWITCH_TEMPLATE_REF_FACTORY=core_noop;let ViewContainerRef=(()=>{class ViewContainerRef{}return ViewContainerRef.__NG_ELEMENT_ID__=()=>SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,ElementRef),ViewContainerRef})();const SWITCH_VIEW_CONTAINER_REF_FACTORY=core_noop;function expressionChangedAfterItHasBeenCheckedError(context,oldValue,currValue,isFirstCheck){let msg=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${oldValue}'. Current value: '${currValue}'.`;return isFirstCheck&&(msg+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(msg,context){const err=new Error(msg);return _addDebugContext(err,context),err}(msg,context)}function _addDebugContext(err,context){err.ngDebugContext=context,err.ngErrorLogger=context.logError.bind(context)}function viewDestroyedError(action){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+action)}function shiftInitState(view,priorInitState,newInitState){const state=view.state,initState=1792&state;return initState===priorInitState?(view.state=-1793&state|newInitState,view.initIndex=-1,!0):initState===newInitState}function shouldCallLifecycleInitHook(view,initState,index){return(1792&view.state)===initState&&view.initIndex<=index&&(view.initIndex=index+1,!0)}function asTextData(view,index){return view.nodes[index]}function asElementData(view,index){return view.nodes[index]}function asProviderData(view,index){return view.nodes[index]}function asPureExpressionData(view,index){return view.nodes[index]}function asQueryList(view,index){return view.nodes[index]}const Services={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},NOOP=()=>{},_tokenKeyCache=new Map;function tokenKey(token){let key=_tokenKeyCache.get(token);return key||(key=stringify(token)+"_"+_tokenKeyCache.size,_tokenKeyCache.set(token,key)),key}function unwrapValue(view,nodeIdx,bindingIdx,value){if(WrappedValue.isWrapped(value)){value=WrappedValue.unwrap(value);const globalBindingIdx=view.def.nodes[nodeIdx].bindingIndex+bindingIdx,oldValue=WrappedValue.unwrap(view.oldValues[globalBindingIdx]);view.oldValues[globalBindingIdx]=new WrappedValue(oldValue)}return value}function createRendererType2(values){return{id:"$$undefined",styles:values.styles,encapsulation:values.encapsulation,data:values.data}}let _renderCompCount$1=0;function checkBinding(view,def,bindingIdx,value){return!(!(2&view.state)&&looseIdentical(view.oldValues[def.bindingIndex+bindingIdx],value))}function checkAndUpdateBinding(view,def,bindingIdx,value){return!!checkBinding(view,def,bindingIdx,value)&&(view.oldValues[def.bindingIndex+bindingIdx]=value,!0)}function checkBindingNoChanges(view,def,bindingIdx,value){const oldValue=view.oldValues[def.bindingIndex+bindingIdx];if(1&view.state||!devModeEqual$1(oldValue,value)){const bindingName=def.bindings[bindingIdx].name;throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,def.nodeIndex),`${bindingName}: ${oldValue}`,`${bindingName}: ${value}`,0!=(1&view.state))}}function markParentViewsForCheck(view){let currView=view;for(;currView;)2&currView.def.flags&&(currView.state|=8),currView=currView.viewContainerParent||currView.parent}function markParentViewsForCheckProjectedViews(view,endView){let currView=view;for(;currView&&currView!==endView;)currView.state|=64,currView=currView.viewContainerParent||currView.parent}function core_dispatchEvent(view,nodeIndex,eventName,event){try{return markParentViewsForCheck(33554432&view.def.nodes[nodeIndex].flags?asElementData(view,nodeIndex).componentView:view),Services.handleEvent(view,nodeIndex,eventName,event)}catch(e){view.root.errorHandler.handleError(e)}}function declaredViewContainer(view){return view.parent?asElementData(view.parent,view.parentNodeDef.nodeIndex):null}function viewParentEl(view){return view.parent?view.parentNodeDef.parent:null}function renderNode(view,def){switch(201347067&def.flags){case 1:return asElementData(view,def.nodeIndex).renderElement;case 2:return asTextData(view,def.nodeIndex).renderText}}function elementEventFullName(target,name){return target?`${target}:${name}`:name}function isComponentView(view){return!!view.parent&&!!(32768&view.parentNodeDef.flags)}function isEmbeddedView(view){return!(!view.parent||32768&view.parentNodeDef.flags)}function filterQueryId(queryId){return 1<<queryId%32}function splitMatchedQueriesDsl(matchedQueriesDsl){const matchedQueries={};let matchedQueryIds=0;const references={};return matchedQueriesDsl&&matchedQueriesDsl.forEach(([queryId,valueType])=>{"number"==typeof queryId?(matchedQueries[queryId]=valueType,matchedQueryIds|=filterQueryId(queryId)):references[queryId]=valueType}),{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}}function splitDepsDsl(deps,sourceName){return deps.map(value=>{let token,flags;return Array.isArray(value)?[flags,token]=value:(flags=0,token=value),token&&("function"==typeof token||"object"==typeof token)&&sourceName&&Object.defineProperty(token,"__source",{value:sourceName,configurable:!0}),{flags:flags,token:token,tokenKey:tokenKey(token)}})}function getParentRenderElement(view,renderHost,def){let renderParent=def.renderParent;return renderParent?0==(1&renderParent.flags)||0==(33554432&renderParent.flags)||renderParent.element.componentRendererType&&renderParent.element.componentRendererType.encapsulation===ViewEncapsulation.Native?asElementData(view,def.renderParent.nodeIndex).renderElement:void 0:renderHost}const DEFINITION_CACHE=new WeakMap;function resolveDefinition(factory){let value=DEFINITION_CACHE.get(factory);return value||(value=factory(()=>NOOP),value.factory=factory,DEFINITION_CACHE.set(factory,value)),value}function visitRootRenderNodes(view,action,parentNode,nextSibling,target){3===action&&(parentNode=view.renderer.parentNode(renderNode(view,view.def.lastRenderRootNode))),visitSiblingRenderNodes(view,action,0,view.def.nodes.length-1,parentNode,nextSibling,target)}function visitSiblingRenderNodes(view,action,startIndex,endIndex,parentNode,nextSibling,target){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i];11&nodeDef.flags&&visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}}function visitProjectedRenderNodes(view,ngContentIndex,action,parentNode,nextSibling,target){let compView=view;for(;compView&&!isComponentView(compView);)compView=compView.parent;const hostView=compView.parent,hostElDef=viewParentEl(compView),endIndex=hostElDef.nodeIndex+hostElDef.childCount;for(let i=hostElDef.nodeIndex+1;i<=endIndex;i++){const nodeDef=hostView.def.nodes[i];nodeDef.ngContentIndex===ngContentIndex&&visitRenderNode(hostView,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}if(!hostView.parent){const projectedNodes=view.root.projectableNodes[ngContentIndex];if(projectedNodes)for(let i=0;i<projectedNodes.length;i++)execRenderNodeAction(view,projectedNodes[i],action,parentNode,nextSibling,target)}}function visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target){if(8&nodeDef.flags)visitProjectedRenderNodes(view,nodeDef.ngContent.index,action,parentNode,nextSibling,target);else{const rn=renderNode(view,nodeDef);if(3===action&&33554432&nodeDef.flags&&48&nodeDef.bindingFlags?(16&nodeDef.bindingFlags&&execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),32&nodeDef.bindingFlags&&execRenderNodeAction(asElementData(view,nodeDef.nodeIndex).componentView,rn,action,parentNode,nextSibling,target)):execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),16777216&nodeDef.flags){const embeddedViews=asElementData(view,nodeDef.nodeIndex).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)visitRootRenderNodes(embeddedViews[k],action,parentNode,nextSibling,target)}1&nodeDef.flags&&!nodeDef.element.name&&visitSiblingRenderNodes(view,action,nodeDef.nodeIndex+1,nodeDef.nodeIndex+nodeDef.childCount,parentNode,nextSibling,target)}}function execRenderNodeAction(view,renderNode,action,parentNode,nextSibling,target){const renderer=view.renderer;switch(action){case 1:renderer.appendChild(parentNode,renderNode);break;case 2:renderer.insertBefore(parentNode,renderNode,nextSibling);break;case 3:renderer.removeChild(parentNode,renderNode);break;case 0:target.push(renderNode)}}const NS_PREFIX_RE=/^:([^:]+):(.+)$/;function splitNamespace(name){if(":"===name[0]){const match=name.match(NS_PREFIX_RE);return[match[1],match[2]]}return["",name]}function calcBindingFlags(bindings){let flags=0;for(let i=0;i<bindings.length;i++)flags|=bindings[i].flags;return flags}function _toStringWithNull(v){return null!=v?v.toString():""}const UNDEFINED_VALUE=new Object,InjectorRefTokenKey=tokenKey(Injector),INJECTORRefTokenKey=tokenKey(INJECTOR),NgModuleRefTokenKey=tokenKey(NgModuleRef);function moduleProvideDef(flags,token,value,deps){return value=resolveForwardRef(value),{index:-1,deps:splitDepsDsl(deps,stringify(token)),flags:flags,token:token,value:value}}function resolveNgModuleDep(data,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){const former=setCurrentInjector(data);try{if(8&depDef.flags)return depDef.token;if(2&depDef.flags&&(notFoundValue=null),1&depDef.flags)return data._parent.get(depDef.token,notFoundValue);const tokenKey=depDef.tokenKey;switch(tokenKey){case InjectorRefTokenKey:case INJECTORRefTokenKey:case NgModuleRefTokenKey:return data}const providerDef=data._def.providersByKey[tokenKey];let injectableDef;if(providerDef){let providerInstance=data._providers[providerDef.index];return void 0===providerInstance&&(providerInstance=data._providers[providerDef.index]=_createProviderInstance(data,providerDef)),providerInstance===UNDEFINED_VALUE?void 0:providerInstance}if((injectableDef=getInjectableDef(depDef.token))&&(ngModule=data,null!=(def=injectableDef).providedIn&&(function(ngModule,scope){return ngModule._def.modules.indexOf(scope)>-1}(ngModule,def.providedIn)||"root"===def.providedIn&&ngModule._def.isRoot))){const index=data._providers.length;return data._def.providers[index]=data._def.providersByKey[depDef.tokenKey]={flags:5120,value:injectableDef.factory,deps:[],index:index,token:depDef.token},data._providers[index]=UNDEFINED_VALUE,data._providers[index]=_createProviderInstance(data,data._def.providersByKey[depDef.tokenKey])}return 4&depDef.flags?notFoundValue:data._parent.get(depDef.token,notFoundValue)}finally{setCurrentInjector(former)}var ngModule,def}function _createProviderInstance(ngModule,providerDef){let injectable;switch(201347067&providerDef.flags){case 512:injectable=function(ngModule,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveNgModuleDep(ngModule,deps[0]));case 2:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=new Array(len);for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return new ctor(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 1024:injectable=function(ngModule,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveNgModuleDep(ngModule,deps[0]));case 2:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=Array(len);for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return factory(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 2048:injectable=resolveNgModuleDep(ngModule,providerDef.deps[0]);break;case 256:injectable=providerDef.value}return injectable===UNDEFINED_VALUE||null===injectable||"object"!=typeof injectable||131072&providerDef.flags||"function"!=typeof injectable.ngOnDestroy||(providerDef.flags|=131072),void 0===injectable?UNDEFINED_VALUE:injectable}function detachEmbeddedView(elementData,viewIndex){const embeddedViews=elementData.viewContainer._embeddedViews;if((null==viewIndex||viewIndex>=embeddedViews.length)&&(viewIndex=embeddedViews.length-1),viewIndex<0)return null;const view=embeddedViews[viewIndex];return view.viewContainerParent=null,removeFromArray(embeddedViews,viewIndex),Services.dirtyParentQueries(view),renderDetachView$1(view),view}function renderAttachEmbeddedView(elementData,prevView,view){const prevRenderNode=prevView?renderNode(prevView,prevView.def.lastRenderRootNode):elementData.renderElement,parentNode=view.renderer.parentNode(prevRenderNode),nextSibling=view.renderer.nextSibling(prevRenderNode);visitRootRenderNodes(view,2,parentNode,nextSibling,void 0)}function renderDetachView$1(view){visitRootRenderNodes(view,3,null,null,void 0)}const EMPTY_CONTEXT=new Object;function createComponentFactory(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors){return new ComponentFactory_(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors)}class ComponentFactory_ extends ComponentFactory{constructor(selector,componentType,viewDefFactory,_inputs,_outputs,ngContentSelectors){super(),this.selector=selector,this.componentType=componentType,this._inputs=_inputs,this._outputs=_outputs,this.ngContentSelectors=ngContentSelectors,this.viewDefFactory=viewDefFactory}get inputs(){const inputsArr=[],inputs=this._inputs;for(let propName in inputs)inputsArr.push({propName:propName,templateName:inputs[propName]});return inputsArr}get outputs(){const outputsArr=[];for(let propName in this._outputs)outputsArr.push({propName:propName,templateName:this._outputs[propName]});return outputsArr}create(injector,projectableNodes,rootSelectorOrNode,ngModule){if(!ngModule)throw new Error("ngModule should be provided");const viewDef=resolveDefinition(this.viewDefFactory),componentNodeIndex=viewDef.nodes[0].element.componentProvider.nodeIndex,view=Services.createRootView(injector,projectableNodes||[],rootSelectorOrNode,viewDef,ngModule,EMPTY_CONTEXT),component=asProviderData(view,componentNodeIndex).instance;return rootSelectorOrNode&&view.renderer.setAttribute(asElementData(view,0).renderElement,"ng-version",VERSION.full),new ComponentRef_(view,new ViewRef_(view),component)}}class ComponentRef_ extends class{}{constructor(_view,_viewRef,_component){super(),this._view=_view,this._viewRef=_viewRef,this._component=_component,this._elDef=this._view.def.nodes[0],this.hostView=_viewRef,this.changeDetectorRef=_viewRef,this.instance=_component}get location(){return new ElementRef(asElementData(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(callback){this._viewRef.onDestroy(callback)}}function createViewContainerData(view,elDef,elData){return new ViewContainerRef_(view,elDef,elData)}class ViewContainerRef_{constructor(_view,_elDef,_data){this._view=_view,this._elDef=_elDef,this._data=_data,this._embeddedViews=[]}get element(){return new ElementRef(this._data.renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get parentInjector(){let view=this._view,elDef=this._elDef.parent;for(;!elDef&&view;)elDef=viewParentEl(view),view=view.parent;return view?new Injector_(view,elDef):new Injector_(this._view,null)}clear(){for(let i=this._embeddedViews.length-1;i>=0;i--){const view=detachEmbeddedView(this._data,i);Services.destroyView(view)}}get(index){const view=this._embeddedViews[index];if(view){const ref=new ViewRef_(view);return ref.attachToViewContainerRef(this),ref}return null}get length(){return this._embeddedViews.length}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;ngModuleRef||componentFactory instanceof ComponentFactoryBoundToModule||(ngModuleRef=contextInjector.get(NgModuleRef));const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){if(viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const viewRef_=viewRef;return function(parentView,elementData,viewIndex,view){let embeddedViews=elementData.viewContainer._embeddedViews;null==viewIndex&&(viewIndex=embeddedViews.length),view.viewContainerParent=parentView,addToArray(embeddedViews,viewIndex,view),function(vcElementData,view){const dvcElementData=declaredViewContainer(view);if(!dvcElementData||dvcElementData===vcElementData||16&view.state)return;view.state|=16;let projectedViews=dvcElementData.template._projectedViews;projectedViews||(projectedViews=dvcElementData.template._projectedViews=[]),projectedViews.push(view),function(viewDef,nodeDef){if(4&nodeDef.flags)return;viewDef.nodeFlags|=4,nodeDef.flags|=4;let parentNodeDef=nodeDef.parent;for(;parentNodeDef;)parentNodeDef.childFlags|=4,parentNodeDef=parentNodeDef.parent}(view.parent.def,view.parentNodeDef)}(elementData,view),Services.dirtyParentQueries(view),renderAttachEmbeddedView(elementData,viewIndex>0?embeddedViews[viewIndex-1]:null,view)}(this._view,this._data,index,viewRef_._view),viewRef_.attachToViewContainerRef(this),viewRef}move(viewRef,currentIndex){if(viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const previousIndex=this._embeddedViews.indexOf(viewRef._view);return function(elementData,oldViewIndex,newViewIndex){const embeddedViews=elementData.viewContainer._embeddedViews,view=embeddedViews[oldViewIndex];removeFromArray(embeddedViews,oldViewIndex),null==newViewIndex&&(newViewIndex=embeddedViews.length),addToArray(embeddedViews,newViewIndex,view),Services.dirtyParentQueries(view),renderDetachView$1(view),renderAttachEmbeddedView(elementData,newViewIndex>0?embeddedViews[newViewIndex-1]:null,view)}(this._data,previousIndex,currentIndex),viewRef}indexOf(viewRef){return this._embeddedViews.indexOf(viewRef._view)}remove(index){const viewData=detachEmbeddedView(this._data,index);viewData&&Services.destroyView(viewData)}detach(index){const view=detachEmbeddedView(this._data,index);return view?new ViewRef_(view):null}}function createChangeDetectorRef(view){return new ViewRef_(view)}class ViewRef_{constructor(_view){this._view=_view,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(view){const renderNodes=[];return visitRootRenderNodes(view,0,void 0,void 0,renderNodes),renderNodes}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){markParentViewsForCheck(this._view)}detach(){this._view.state&=-5}detectChanges(){const fs=this._view.root.rendererFactory;fs.begin&&fs.begin();try{Services.checkAndUpdateView(this._view)}finally{fs.end&&fs.end()}}checkNoChanges(){Services.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(callback){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(callback)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Services.destroyView(this._view)}detachFromAppRef(){this._appRef=null,renderDetachView$1(this._view),Services.dirtyParentQueries(this._view)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=vcRef}}function createTemplateData(view,def){return new TemplateRef_(view,def)}class TemplateRef_ extends TemplateRef{constructor(_parentView,_def){super(),this._parentView=_parentView,this._def=_def}createEmbeddedView(context){return new ViewRef_(Services.createEmbeddedView(this._parentView,this._def,this._def.element.template,context))}get elementRef(){return new ElementRef(asElementData(this._parentView,this._def.nodeIndex).renderElement)}}function createInjector$1(view,elDef){return new Injector_(view,elDef)}class Injector_{constructor(view,elDef){this.view=view,this.elDef=elDef}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND){return Services.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:token,tokenKey:tokenKey(token)},notFoundValue)}}function nodeValue(view,index){const def=view.def.nodes[index];if(1&def.flags){const elData=asElementData(view,def.nodeIndex);return def.element.template?elData.template:elData.renderElement}if(2&def.flags)return asTextData(view,def.nodeIndex).renderText;if(20240&def.flags)return asProviderData(view,def.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+index)}function createRendererV1(view){return new RendererAdapter(view.renderer)}class RendererAdapter{constructor(delegate){this.delegate=delegate}selectRootElement(selectorOrNode){return this.delegate.selectRootElement(selectorOrNode)}createElement(parent,namespaceAndName){const[ns,name]=splitNamespace(namespaceAndName),el=this.delegate.createElement(name,ns);return parent&&this.delegate.appendChild(parent,el),el}createViewRoot(hostElement){return hostElement}createTemplateAnchor(parentElement){const comment=this.delegate.createComment("");return parentElement&&this.delegate.appendChild(parentElement,comment),comment}createText(parentElement,value){const node=this.delegate.createText(value);return parentElement&&this.delegate.appendChild(parentElement,node),node}projectNodes(parentElement,nodes){for(let i=0;i<nodes.length;i++)this.delegate.appendChild(parentElement,nodes[i])}attachViewAfter(node,viewRootNodes){const parentElement=this.delegate.parentNode(node),nextSibling=this.delegate.nextSibling(node);for(let i=0;i<viewRootNodes.length;i++)this.delegate.insertBefore(parentElement,viewRootNodes[i],nextSibling)}detachView(viewRootNodes){for(let i=0;i<viewRootNodes.length;i++){const node=viewRootNodes[i],parentElement=this.delegate.parentNode(node);this.delegate.removeChild(parentElement,node)}}destroyView(hostElement,viewAllNodes){for(let i=0;i<viewAllNodes.length;i++)this.delegate.destroyNode(viewAllNodes[i])}listen(renderElement,name,callback){return this.delegate.listen(renderElement,name,callback)}listenGlobal(target,name,callback){return this.delegate.listen(target,name,callback)}setElementProperty(renderElement,propertyName,propertyValue){this.delegate.setProperty(renderElement,propertyName,propertyValue)}setElementAttribute(renderElement,namespaceAndName,attributeValue){const[ns,name]=splitNamespace(namespaceAndName);null!=attributeValue?this.delegate.setAttribute(renderElement,name,attributeValue,ns):this.delegate.removeAttribute(renderElement,name,ns)}setBindingDebugInfo(renderElement,propertyName,propertyValue){}setElementClass(renderElement,className,isAdd){isAdd?this.delegate.addClass(renderElement,className):this.delegate.removeClass(renderElement,className)}setElementStyle(renderElement,styleName,styleValue){null!=styleValue?this.delegate.setStyle(renderElement,styleName,styleValue):this.delegate.removeStyle(renderElement,styleName)}invokeElementMethod(renderElement,methodName,args){renderElement[methodName].apply(renderElement,args)}setText(renderNode,text){this.delegate.setValue(renderNode,text)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function createNgModuleRef(moduleType,parent,bootstrapComponents,def){return new NgModuleRef_(moduleType,parent,bootstrapComponents,def)}class NgModuleRef_{constructor(_moduleType,_parent,_bootstrapComponents,_def){this._moduleType=_moduleType,this._parent=_parent,this._bootstrapComponents=_bootstrapComponents,this._def=_def,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(data){const def=data._def,providers=data._providers=new Array(def.providers.length);for(let i=0;i<def.providers.length;i++){const provDef=def.providers[i];4096&provDef.flags||void 0===providers[i]&&(providers[i]=_createProviderInstance(data,provDef))}}(this)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){let flags=0;return injectFlags&InjectFlags.SkipSelf?flags|=1:injectFlags&InjectFlags.Self&&(flags|=4),resolveNgModuleDep(this,{token:token,tokenKey:tokenKey(token),flags:flags},notFoundValue)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ComponentFactoryResolver)}destroy(){if(this._destroyed)throw new Error(`The ng module ${stringify(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(ngModule,lifecycles){const def=ngModule._def,destroyed=new Set;for(let i=0;i<def.providers.length;i++)if(131072&def.providers[i].flags){const instance=ngModule._providers[i];if(instance&&instance!==UNDEFINED_VALUE){const onDestroy=instance.ngOnDestroy;"function"!=typeof onDestroy||destroyed.has(instance)||(onDestroy.apply(instance),destroyed.add(instance))}}}(this),this._destroyListeners.forEach(listener=>listener())}onDestroy(callback){this._destroyListeners.push(callback)}}const RendererV1TokenKey=tokenKey(Renderer),Renderer2TokenKey=tokenKey(Renderer2),ElementRefTokenKey=tokenKey(ElementRef),ViewContainerRefTokenKey=tokenKey(ViewContainerRef),TemplateRefTokenKey=tokenKey(TemplateRef),ChangeDetectorRefTokenKey=tokenKey(ChangeDetectorRef),InjectorRefTokenKey$1=tokenKey(Injector),INJECTORRefTokenKey$1=tokenKey(INJECTOR);function directiveDef(checkIndex,flags,matchedQueries,childCount,ctor,deps,props,outputs){const bindings=[];if(props)for(let prop in props){const[bindingIndex,nonMinifiedName]=props[prop];bindings[bindingIndex]={flags:8,name:prop,nonMinifiedName:nonMinifiedName,ns:null,securityContext:null,suffix:null}}const outputDefs=[];if(outputs)for(let propName in outputs)outputDefs.push({type:1,propName:propName,target:null,eventName:outputs[propName]});return _def(checkIndex,flags|=16384,matchedQueries,childCount,ctor,ctor,deps,bindings,outputDefs)}function pipeDef(flags,ctor,deps){return _def(-1,flags|=16,null,0,ctor,ctor,deps)}function providerDef(flags,matchedQueries,token,value,deps){return _def(-1,flags,matchedQueries,0,token,value,deps)}function _def(checkIndex,flags,matchedQueriesDsl,childCount,token,value,deps,bindings,outputs){const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);outputs||(outputs=[]),bindings||(bindings=[]),value=resolveForwardRef(value);const depDefs=splitDepsDsl(deps,stringify(token));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:-1,childCount:childCount,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:outputs,element:null,provider:{token:token,value:value,deps:depDefs},text:null,query:null,ngContent:null}}function createProviderInstance(view,def){return _createProviderInstance$1(view,def)}function createPipeInstance(view,def){let compView=view;for(;compView.parent&&!isComponentView(compView);)compView=compView.parent;return createClass(compView.parent,viewParentEl(compView),!0,def.provider.value,def.provider.deps)}function createDirectiveInstance(view,def){const instance=createClass(view,def.parent,(32768&def.flags)>0,def.provider.value,def.provider.deps);if(def.outputs.length)for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],outputObservable=instance[output.propName];if(!isObservable(outputObservable))throw new Error(`@Output ${output.propName} not initialized in '${instance.constructor.name}'.`);{const subscription=outputObservable.subscribe(eventHandlerClosure(view,def.parent.nodeIndex,output.eventName));view.disposables[def.outputIndex+i]=subscription.unsubscribe.bind(subscription)}}return instance}function eventHandlerClosure(view,index,eventName){return event=>core_dispatchEvent(view,index,eventName,event)}function _createProviderInstance$1(view,def){const allowPrivateServices=(8192&def.flags)>0,providerDef=def.provider;switch(201347067&def.flags){case 512:return createClass(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 1024:return function(view,elDef,allowPrivateServices,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=Array(len);for(let i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return factory(...depValues)}}(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 2048:return resolveDep(view,def.parent,allowPrivateServices,providerDef.deps[0]);case 256:return providerDef.value}}function createClass(view,elDef,allowPrivateServices,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=new Array(len);for(let i=0;i<len;i++)depValues[i]=resolveDep(view,elDef,allowPrivateServices,deps[i]);return new ctor(...depValues)}}const NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};function resolveDep(view,elDef,allowPrivateServices,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){if(8&depDef.flags)return depDef.token;const startView=view;2&depDef.flags&&(notFoundValue=null);const tokenKey=depDef.tokenKey;tokenKey===ChangeDetectorRefTokenKey&&(allowPrivateServices=!(!elDef||!elDef.element.componentView)),elDef&&1&depDef.flags&&(allowPrivateServices=!1,elDef=elDef.parent);let searchView=view;for(;searchView;){if(elDef)switch(tokenKey){case RendererV1TokenKey:return createRendererV1(findCompView(searchView,elDef,allowPrivateServices));case Renderer2TokenKey:return findCompView(searchView,elDef,allowPrivateServices).renderer;case ElementRefTokenKey:return new ElementRef(asElementData(searchView,elDef.nodeIndex).renderElement);case ViewContainerRefTokenKey:return asElementData(searchView,elDef.nodeIndex).viewContainer;case TemplateRefTokenKey:if(elDef.element.template)return asElementData(searchView,elDef.nodeIndex).template;break;case ChangeDetectorRefTokenKey:return createChangeDetectorRef(findCompView(searchView,elDef,allowPrivateServices));case InjectorRefTokenKey$1:case INJECTORRefTokenKey$1:return createInjector$1(searchView,elDef);default:const providerDef=(allowPrivateServices?elDef.element.allProviders:elDef.element.publicProviders)[tokenKey];if(providerDef){let providerData=asProviderData(searchView,providerDef.nodeIndex);return providerData||(providerData={instance:_createProviderInstance$1(searchView,providerDef)},searchView.nodes[providerDef.nodeIndex]=providerData),providerData.instance}}allowPrivateServices=isComponentView(searchView),elDef=viewParentEl(searchView),searchView=searchView.parent,4&depDef.flags&&(searchView=null)}const value=startView.root.injector.get(depDef.token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:startView.root.ngModule.injector.get(depDef.token,notFoundValue)}function findCompView(view,elDef,allowPrivateServices){let compView;if(allowPrivateServices)compView=asElementData(view,elDef.nodeIndex).componentView;else for(compView=view;compView.parent&&!isComponentView(compView);)compView=compView.parent;return compView}function updateProp(view,providerData,def,bindingIdx,value,changes){if(32768&def.flags){const compView=asElementData(view,def.parent.nodeIndex).componentView;2&compView.def.flags&&(compView.state|=8)}if(providerData.instance[def.bindings[bindingIdx].name]=value,524288&def.flags){changes=changes||{};const oldValue=WrappedValue.unwrap(view.oldValues[def.bindingIndex+bindingIdx]);changes[def.bindings[bindingIdx].nonMinifiedName]=new SimpleChange(oldValue,value,0!=(2&view.state))}return view.oldValues[def.bindingIndex+bindingIdx]=value,changes}function callLifecycleHooksChildrenFirst(view,lifecycles){if(!(view.def.nodeFlags&lifecycles))return;const nodes=view.def.nodes;let initIndex=0;for(let i=0;i<nodes.length;i++){const nodeDef=nodes[i];let parent=nodeDef.parent;for(!parent&&nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),0==(nodeDef.childFlags&lifecycles)&&(i+=nodeDef.childCount);parent&&1&parent.flags&&i===parent.nodeIndex+parent.childCount;)parent.directChildFlags&lifecycles&&(initIndex=callElementProvidersLifecycles(view,parent,lifecycles,initIndex)),parent=parent.parent}}function callElementProvidersLifecycles(view,elDef,lifecycles,initIndex){for(let i=elDef.nodeIndex+1;i<=elDef.nodeIndex+elDef.childCount;i++){const nodeDef=view.def.nodes[i];nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),i+=nodeDef.childCount}return initIndex}function callProviderLifecycles(view,index,lifecycles,initIndex){const providerData=asProviderData(view,index);if(!providerData)return;const provider=providerData.instance;provider&&(Services.setCurrentNode(view,index),1048576&lifecycles&&shouldCallLifecycleInitHook(view,512,initIndex)&&provider.ngAfterContentInit(),2097152&lifecycles&&provider.ngAfterContentChecked(),4194304&lifecycles&&shouldCallLifecycleInitHook(view,768,initIndex)&&provider.ngAfterViewInit(),8388608&lifecycles&&provider.ngAfterViewChecked(),131072&lifecycles&&provider.ngOnDestroy())}const SCHEDULER=new InjectionToken("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>defaultScheduler}),LOCALE_DATA={},LocaleDataIndex=function(){var LocaleDataIndex={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return LocaleDataIndex[LocaleDataIndex.LocaleId]="LocaleId",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat]="DayPeriodsFormat",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone]="DayPeriodsStandalone",LocaleDataIndex[LocaleDataIndex.DaysFormat]="DaysFormat",LocaleDataIndex[LocaleDataIndex.DaysStandalone]="DaysStandalone",LocaleDataIndex[LocaleDataIndex.MonthsFormat]="MonthsFormat",LocaleDataIndex[LocaleDataIndex.MonthsStandalone]="MonthsStandalone",LocaleDataIndex[LocaleDataIndex.Eras]="Eras",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek]="FirstDayOfWeek",LocaleDataIndex[LocaleDataIndex.WeekendRange]="WeekendRange",LocaleDataIndex[LocaleDataIndex.DateFormat]="DateFormat",LocaleDataIndex[LocaleDataIndex.TimeFormat]="TimeFormat",LocaleDataIndex[LocaleDataIndex.DateTimeFormat]="DateTimeFormat",LocaleDataIndex[LocaleDataIndex.NumberSymbols]="NumberSymbols",LocaleDataIndex[LocaleDataIndex.NumberFormats]="NumberFormats",LocaleDataIndex[LocaleDataIndex.CurrencySymbol]="CurrencySymbol",LocaleDataIndex[LocaleDataIndex.CurrencyName]="CurrencyName",LocaleDataIndex[LocaleDataIndex.Currencies]="Currencies",LocaleDataIndex[LocaleDataIndex.PluralCase]="PluralCase",LocaleDataIndex[LocaleDataIndex.ExtraData]="ExtraData",LocaleDataIndex}(),u=void 0;var localeEn=["en",[["a","p"],["AM","PM"],u],[["AM","PM"],u,u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"$","US Dollar",{},function(n){let i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}];function findLocaleData(locale){const normalizedLocale=locale.toLowerCase().replace(/_/g,"-");let match=LOCALE_DATA[normalizedLocale];if(match)return match;const parentLocale=normalizedLocale.split("-")[0];if(match=LOCALE_DATA[parentLocale],match)return match;if("en"===parentLocale)return localeEn;throw new Error(`Missing locale data for the locale "${locale}".`)}class core_EventEmitter extends Subject_Subject{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(generatorOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext.next(value))}:value=>{generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>generatorOrNext.error(err))}:err=>{generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>generatorOrNext.complete())}:()=>{generatorOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext(value))}:value=>{generatorOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return generatorOrNext instanceof Subscription_Subscription&&generatorOrNext.add(sink),sink}}function symbolIterator(){return this._results[core_getSymbolIterator()]()}class QueryList{constructor(){this.dirty=!0,this._results=[],this.changes=new core_EventEmitter,this.length=0;const symbol=core_getSymbolIterator(),proto=QueryList.prototype;proto[symbol]||(proto[symbol]=symbolIterator)}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree){this._results=function flatten(list,dst){void 0===dst&&(dst=list);for(let i=0;i<list.length;i++){let item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),flatten(item,dst)):dst!==list&&dst.push(item)}return dst}(resultsTree),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const APP_INITIALIZER=new InjectionToken("Application Initializer");class ApplicationInitStatus{constructor(appInits){this.appInits=appInits,this.initialized=!1,this.done=!1,this.donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej})}runInitializers(){if(this.initialized)return;const asyncInitPromises=[],complete=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const initResult=this.appInits[i]();core_isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}}const APP_ID=new InjectionToken("AppId");function _appIdRandomProviderFactory(){return`${_randomChar()}${_randomChar()}${_randomChar()}`}function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PLATFORM_INITIALIZER=new InjectionToken("Platform Initializer"),PLATFORM_ID=new InjectionToken("Platform ID"),APP_BOOTSTRAP_LISTENER=new InjectionToken("appBootstrapListener");class Console{log(message){console.log(message)}warn(message){console.warn(message)}}const LOCALE_ID$1=new InjectionToken("LocaleId");function _throwError(){throw new Error("Runtime compiler is not loaded")}const Compiler_compileModuleSync=_throwError,Compiler_compileModuleAsync=_throwError,Compiler_compileModuleAndAllComponentsSync=_throwError,Compiler_compileModuleAndAllComponentsAsync=_throwError;class Compiler{constructor(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}}class CompilerFactory{}let trace,core_events;function detectWTF(){const wtf=_global.wtf;return!(!wtf||(trace=wtf.trace,!trace)||(core_events=trace.events,0))}const wtfEnabled=detectWTF();function noopScope(arg0,arg1){return null}const wtfCreateScope=wtfEnabled?function(signature,flags=null){return core_events.createScope(signature,flags)}:(signature,flags)=>noopScope,wtfLeave=wtfEnabled?function(scope,returnValue){return trace.leaveScope(scope,returnValue),returnValue}:(s,r)=>r,core_promise=(()=>Promise.resolve(0))();function scheduleMicroTask(fn){"undefined"==typeof Zone?core_promise.then(()=>{fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}class NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter(!1),this.onMicrotaskEmpty=new core_EventEmitter(!1),this.onStable=new core_EventEmitter(!1),this.onError=new core_EventEmitter(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var zone;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(zone=this)._inner=zone._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&("microTask"==hasTaskState.change?(zone.hasPendingMicrotasks=hasTaskState.microTask,checkStable(zone)):"macroTask"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask("NgZoneEvent: "+name,fn,EMPTY_PAYLOAD,noop$1,noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}function noop$1(){}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter,this.onMicrotaskEmpty=new core_EventEmitter,this.onStable=new core_EventEmitter,this.onError=new core_EventEmitter}run(fn){return fn()}runGuarded(fn){return fn()}runOutsideAngular(fn){return fn()}runTask(fn){return fn()}}class Testability{constructor(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())scheduleMicroTask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(this._didWork)}this._didWork=!1});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb(this._didWork,this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(using,provider,exactMatch){return[]}}class TestabilityRegistry{constructor(){this._applications=new Map,_testabilityGetter.addToWindow(this)}registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)}}class _NoopGetTestability{addToWindow(registry){}findTestabilityInTree(registry,elem,findInAncestors){return null}}let _platform,_testabilityGetter=new _NoopGetTestability;const ALLOW_MULTIPLE_PLATFORMS=new InjectionToken("AllowMultipleToken");class NgProbeToken{constructor(name,token){this.name=name,this.token=token}}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc="Platform: "+name,marker=new InjectionToken(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{const injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0});!function(injector){if(_platform&&!_platform.destroyed&&!_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_platform=injector.get(PlatformRef);const inits=injector.get(PLATFORM_INITIALIZER,null);inits&&inits.forEach(init=>init())}(Injector.create({providers:injectedProviders,name:desc}))}return function(requiredToken){const platform=getPlatform();if(!platform)throw new Error("No platform exists!");if(!platform.injector.get(requiredToken,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return platform}(marker)}}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}class PlatformRef{constructor(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(moduleFactory,options){const ngZone=function(ngZoneOption){let ngZone;return ngZone="noop"===ngZoneOption?new NoopNgZone:("zone.js"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode()}),ngZone}(options?options.ngZone:void 0),providers=[{provide:NgZone,useValue:ngZone}];return ngZone.run(()=>{const ngZoneInjector=Injector.create({providers:providers,parent:this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return moduleRef.onDestroy(()=>remove(this._modules,moduleRef)),ngZone.runOutsideAngular(()=>ngZone.onError.subscribe({next:error=>{exceptionHandler.handleError(error)}})),function(errorHandler,ngZone,callback){try{const result=callback();return core_isPromise(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}}(exceptionHandler,ngZone,()=>{const initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(()=>(this._moduleDoBootstrap(moduleRef),moduleRef))})})}bootstrapModule(moduleType,compilerOptions=[]){const options=optionsReducer({},compilerOptions);return function(injector,options,moduleType){return injector.get(CompilerFactory).createCompiler([options]).compileModuleAsync(moduleType)}(this.injector,options,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}_moduleDoBootstrap(moduleRef){const appRef=moduleRef.injector.get(core_ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new Error(`The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener()),this._destroyed=!0}get destroyed(){return this._destroyed}}function optionsReducer(dst,objs){return Array.isArray(objs)?objs.reduce(optionsReducer,dst):Object.assign({},dst,objs)}let core_ApplicationRef=(()=>{class ApplicationRef{constructor(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const isCurrentlyStable=new Observable_Observable(observer=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{observer.next(this._stable),observer.complete()})}),isStable=new Observable_Observable(observer=>{let stableSub;this._zone.runOutsideAngular(()=>{stableSub=this._zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,observer.next(!0))})})});const unstableSub=this._zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{observer.next(!1)}))});return()=>{stableSub.unsubscribe(),unstableSub.unsubscribe()}});this.isStable=merge(isCurrentlyStable,isStable.pipe(source=>refCount()(multicast(shareSubjectFactory)(source))))}bootstrap(componentOrFactory,rootSelectorOrNode){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);const ngModule=componentFactory instanceof ComponentFactoryBoundToModule?null:this._injector.get(NgModuleRef),compRef=componentFactory.create(Injector.NULL,[],rootSelectorOrNode||componentFactory.selector,ngModule);compRef.onDestroy(()=>{this._unloadComponent(compRef)});const testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),compRef}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const scope=ApplicationRef._tickScope();try{this._runningTick=!0;for(let view of this._views)view.detectChanges();if(this._enforceNoNewChanges)for(let view of this._views)view.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1,wtfLeave(scope)}}attachView(viewRef){const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(listener=>listener(componentRef))}_unloadComponent(componentRef){this.detachView(componentRef.hostView),remove(this.components,componentRef)}ngOnDestroy(){this._views.slice().forEach(view=>view.destroy())}get viewCount(){return this._views.length}}return ApplicationRef._tickScope=wtfCreateScope("ApplicationRef#tick()"),ApplicationRef})();function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}class NgModuleFactoryLoader{}class SystemJsNgModuleLoaderConfig{}const DEFAULT_CONFIG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class SystemJsNgModuleLoader{constructor(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}load(path){return this._compiler instanceof Compiler?this.loadFactory(path):this.loadAndCompile(path)}loadAndCompile(path){let[module,exportName]=path.split("#");return void 0===exportName&&(exportName="default"),__webpack_require__("zn8P")(module).then(module=>module[exportName]).then(type=>checkNotEmpty(type,module,exportName)).then(type=>this._compiler.compileModuleAsync(type))}loadFactory(path){let[module,exportName]=path.split("#"),factoryClassSuffix="NgFactory";return void 0===exportName&&(exportName="default",factoryClassSuffix=""),__webpack_require__("zn8P")(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(module=>module[exportName+factoryClassSuffix]).then(factory=>checkNotEmpty(factory,module,exportName))}}function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error(`Cannot find '${exportName}' in '${modulePath}'`);return value}class DebugEventListener{constructor(name,callback){this.name=name,this.callback=callback}}class DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){this.listeners=[],this.parent=null,this._debugContext=_debugContext,this.nativeNode=nativeNode,parent&&parent instanceof DebugElement__PRE_R3__&&parent.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class DebugElement__PRE_R3__ extends DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){super(nativeNode,parent,_debugContext),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=nativeNode}addChild(child){child&&(this.childNodes.push(child),child.parent=this)}removeChild(child){const childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))}insertChildrenAfter(child,newChildren){const siblingIndex=this.childNodes.indexOf(child);-1!==siblingIndex&&(this.childNodes.splice(siblingIndex+1,0,...newChildren),newChildren.forEach(c=>{c.parent&&c.parent.removeChild(c),child.parent=this}))}insertBefore(refChild,newChild){const refIndex=this.childNodes.indexOf(refChild);-1===refIndex?this.addChild(newChild):(newChild.parent&&newChild.parent.removeChild(newChild),newChild.parent=this,this.childNodes.splice(refIndex,0,newChild))}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(node=>{node instanceof DebugElement__PRE_R3__&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}(this,predicate,matches),matches}queryAllNodes(predicate){const matches=[];return function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement__PRE_R3__&&parentNode.childNodes.forEach(node=>{predicate(node)&&matches.push(node),node instanceof DebugElement__PRE_R3__&&_queryNodeChildren(node,predicate,matches)})}(this,predicate,matches),matches}get children(){return this.childNodes.filter(node=>node instanceof DebugElement__PRE_R3__)}triggerEventHandler(eventName,eventObj){this.listeners.forEach(listener=>{listener.name==eventName&&listener.callback(eventObj)})}}const _nativeNodeToDebugNode=new Map,getDebugNode=function(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)||null};function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}const platformCore=createPlatformFactory(null,"core",[{provide:PLATFORM_ID,useValue:"unknown"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]);function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}function _localeFactory(locale){return locale||"en-US"}function zoneSchedulerFactory(ngZone){let queue=[];return ngZone.onStable.subscribe(()=>{for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}class ApplicationModule{constructor(appRef){}}function anchorDef(flags,matchedQueriesDsl,ngContentIndex,childCount,handleEvent,templateFactory){flags|=1;const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:flags,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:templateFactory?resolveDefinition(templateFactory):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function elementDef(checkIndex,flags,matchedQueriesDsl,ngContentIndex,childCount,namespaceAndName,fixedAttrs=[],bindings,outputs,handleEvent,componentView,componentRendererType){handleEvent||(handleEvent=NOOP);const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);let ns=null,name=null;namespaceAndName&&([ns,name]=splitNamespace(namespaceAndName)),bindings=bindings||[];const bindingDefs=new Array(bindings.length);for(let i=0;i<bindings.length;i++){const[bindingFlags,namespaceAndName,suffixOrSecurityContext]=bindings[i],[ns,name]=splitNamespace(namespaceAndName);let securityContext=void 0,suffix=void 0;switch(15&bindingFlags){case 4:suffix=suffixOrSecurityContext;break;case 1:case 8:securityContext=suffixOrSecurityContext}bindingDefs[i]={flags:bindingFlags,ns:ns,name:name,nonMinifiedName:name,securityContext:securityContext,suffix:suffix}}outputs=outputs||[];const outputDefs=new Array(outputs.length);for(let i=0;i<outputs.length;i++){const[target,eventName]=outputs[i];outputDefs[i]={type:0,target:target,eventName:eventName,propName:null}}const attrs=(fixedAttrs=fixedAttrs||[]).map(([namespaceAndName,value])=>{const[ns,name]=splitNamespace(namespaceAndName);return[ns,name,value]});return componentRendererType=function(type){if(type&&"$$undefined"===type.id){const isFilled=null!=type.encapsulation&&type.encapsulation!==ViewEncapsulation.None||type.styles.length||Object.keys(type.data).length;type.id=isFilled?"c"+_renderCompCount$1++:"$$empty"}return type&&"$$empty"===type.id&&(type=null),type||null}(componentRendererType),componentView&&(flags|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:bindingDefs,bindingFlags:calcBindingFlags(bindingDefs),outputs:outputDefs,element:{ns:ns,name:name,attrs:attrs,template:null,componentProvider:null,componentView:componentView||null,componentRendererType:componentRendererType,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function createElement(view,renderHost,def){const elDef=def.element,rootSelectorOrNode=view.root.selectorOrNode,renderer=view.renderer;let el;if(view.parent||!rootSelectorOrNode){el=elDef.name?renderer.createElement(elDef.name,elDef.ns):renderer.createComment("");const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&renderer.appendChild(parentEl,el)}else el=renderer.selectRootElement(rootSelectorOrNode,!!elDef.componentRendererType&&elDef.componentRendererType.encapsulation===ViewEncapsulation.ShadowDom);if(elDef.attrs)for(let i=0;i<elDef.attrs.length;i++){const[ns,name,value]=elDef.attrs[i];renderer.setAttribute(el,name,value,ns)}return el}function listenToElementOutputs(view,compView,def,el){for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],handleEventClosure=renderEventHandlerClosure(view,def.nodeIndex,elementEventFullName(output.target,output.eventName));let listenTarget=output.target,listenerView=view;"component"===output.target&&(listenTarget=null,listenerView=compView);const disposable=listenerView.renderer.listen(listenTarget||el,output.eventName,handleEventClosure);view.disposables[def.outputIndex+i]=disposable}}function renderEventHandlerClosure(view,index,eventName){return event=>core_dispatchEvent(view,index,eventName,event)}function checkAndUpdateElementValue(view,def,bindingIdx,value){if(!checkAndUpdateBinding(view,def,bindingIdx,value))return!1;const binding=def.bindings[bindingIdx],elData=asElementData(view,def.nodeIndex),renderNode=elData.renderElement,name=binding.name;switch(15&binding.flags){case 1:!function(view,binding,renderNode,ns,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;renderValue=null!=renderValue?renderValue.toString():null;const renderer=view.renderer;null!=value?renderer.setAttribute(renderNode,name,renderValue,ns):renderer.removeAttribute(renderNode,name,ns)}(view,binding,renderNode,binding.ns,name,value);break;case 2:!function(view,renderNode,name,value){const renderer=view.renderer;value?renderer.addClass(renderNode,name):renderer.removeClass(renderNode,name)}(view,renderNode,name,value);break;case 4:!function(view,binding,renderNode,name,value){let renderValue=view.root.sanitizer.sanitize(SecurityContext.STYLE,value);if(null!=renderValue){renderValue=renderValue.toString();const unit=binding.suffix;null!=unit&&(renderValue+=unit)}else renderValue=null;const renderer=view.renderer;null!=renderValue?renderer.setStyle(renderNode,name,renderValue):renderer.removeStyle(renderNode,name)}(view,binding,renderNode,name,value);break;case 8:!function(view,binding,renderNode,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;view.renderer.setProperty(renderNode,name,renderValue)}(33554432&def.flags&&32&binding.flags?elData.componentView:view,binding,renderNode,name,value)}return!0}function queryDef(flags,id,bindings){let bindingDefs=[];for(let propName in bindings)bindingDefs.push({propName:propName,bindingType:bindings[propName]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:id,filterId:filterQueryId(id),bindings:bindingDefs},ngContent:null}}function dirtyParentQueries(view){const queryIds=view.def.nodeMatchedQueries;for(;view.parent&&isEmbeddedView(view);){let tplDef=view.parentNodeDef;view=view.parent;const end=tplDef.nodeIndex+tplDef.childCount;for(let i=0;i<=end;i++){const nodeDef=view.def.nodes[i];67108864&nodeDef.flags&&536870912&nodeDef.flags&&(nodeDef.query.filterId&queryIds)===nodeDef.query.filterId&&asQueryList(view,i).setDirty(),!(1&nodeDef.flags&&i+nodeDef.childCount<tplDef.nodeIndex)&&67108864&nodeDef.childFlags&&536870912&nodeDef.childFlags||(i+=nodeDef.childCount)}}if(134217728&view.def.nodeFlags)for(let i=0;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];134217728&nodeDef.flags&&536870912&nodeDef.flags&&asQueryList(view,i).setDirty(),i+=nodeDef.childCount}}function checkAndUpdateQuery(view,nodeDef){const queryList=asQueryList(view,nodeDef.nodeIndex);if(!queryList.dirty)return;let directiveInstance,newValues=void 0;if(67108864&nodeDef.flags){const elementDef=nodeDef.parent.parent;newValues=calcQueryValues(view,elementDef.nodeIndex,elementDef.nodeIndex+elementDef.childCount,nodeDef.query,[]),directiveInstance=asProviderData(view,nodeDef.parent.nodeIndex).instance}else 134217728&nodeDef.flags&&(newValues=calcQueryValues(view,0,view.def.nodes.length-1,nodeDef.query,[]),directiveInstance=view.component);queryList.reset(newValues);const bindings=nodeDef.query.bindings;let notify=!1;for(let i=0;i<bindings.length;i++){const binding=bindings[i];let boundValue;switch(binding.bindingType){case 0:boundValue=queryList.first;break;case 1:boundValue=queryList,notify=!0}directiveInstance[binding.propName]=boundValue}notify&&queryList.notifyOnChanges()}function calcQueryValues(view,startIndex,endIndex,queryDef,values){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i],valueType=nodeDef.matchedQueries[queryDef.id];if(null!=valueType&&values.push(getQueryValue(view,nodeDef,valueType)),1&nodeDef.flags&&nodeDef.element.template&&(nodeDef.element.template.nodeMatchedQueries&queryDef.filterId)===queryDef.filterId){const elementData=asElementData(view,i);if((nodeDef.childMatchedQueries&queryDef.filterId)===queryDef.filterId&&(calcQueryValues(view,i+1,i+nodeDef.childCount,queryDef,values),i+=nodeDef.childCount),16777216&nodeDef.flags){const embeddedViews=elementData.viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++){const embeddedView=embeddedViews[k],dvc=declaredViewContainer(embeddedView);dvc&&dvc===elementData&&calcQueryValues(embeddedView,0,embeddedView.def.nodes.length-1,queryDef,values)}}const projectedViews=elementData.template._projectedViews;if(projectedViews)for(let k=0;k<projectedViews.length;k++){const projectedView=projectedViews[k];calcQueryValues(projectedView,0,projectedView.def.nodes.length-1,queryDef,values)}}(nodeDef.childMatchedQueries&queryDef.filterId)!==queryDef.filterId&&(i+=nodeDef.childCount)}return values}function getQueryValue(view,nodeDef,queryValueType){if(null!=queryValueType)switch(queryValueType){case 1:return asElementData(view,nodeDef.nodeIndex).renderElement;case 0:return new ElementRef(asElementData(view,nodeDef.nodeIndex).renderElement);case 2:return asElementData(view,nodeDef.nodeIndex).template;case 3:return asElementData(view,nodeDef.nodeIndex).viewContainer;case 4:return asProviderData(view,nodeDef.nodeIndex).instance}}function ngContentDef(ngContentIndex,index){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:index}}}function appendNgContent(view,renderHost,def){const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&visitProjectedRenderNodes(view,def.ngContent.index,1,parentEl,null,void 0)}function purePipeDef(checkIndex,argCount){return _pureExpressionDef(128,checkIndex,new Array(argCount+1))}function pureArrayDef(checkIndex,argCount){return _pureExpressionDef(32,checkIndex,new Array(argCount))}function pureObjectDef(checkIndex,propToIndex){const keys=Object.keys(propToIndex),nbKeys=keys.length,propertyNames=new Array(nbKeys);for(let i=0;i<nbKeys;i++){const key=keys[i];propertyNames[propToIndex[key]]=key}return _pureExpressionDef(64,checkIndex,propertyNames)}function _pureExpressionDef(flags,checkIndex,propertyNames){const bindings=new Array(propertyNames.length);for(let i=0;i<propertyNames.length;i++){const prop=propertyNames[i];bindings[i]={flags:8,name:prop,ns:null,nonMinifiedName:prop,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function textDef(checkIndex,ngContentIndex,staticText){const bindings=new Array(staticText.length-1);for(let i=1;i<staticText.length;i++)bindings[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:staticText[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:bindings,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:staticText[0]},query:null,ngContent:null}}function createText(view,renderHost,def){let renderNode;const renderer=view.renderer;renderNode=renderer.createText(def.text.prefix);const parentEl=getParentRenderElement(view,renderHost,def);return parentEl&&renderer.appendChild(parentEl,renderNode),{renderText:renderNode}}function _addInterpolationPart(value,binding){return(null!=value?value.toString():"")+binding.suffix}function viewDef(flags,nodes,updateDirectives,updateRenderer){let viewBindingCount=0,viewDisposableCount=0,viewNodeFlags=0,viewRootNodeFlags=0,viewMatchedQueries=0,currentParent=null,currentRenderParent=null,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,lastRenderRootNode=null;for(let i=0;i<nodes.length;i++){const node=nodes[i];if(node.nodeIndex=i,node.parent=currentParent,node.bindingIndex=viewBindingCount,node.outputIndex=viewDisposableCount,node.renderParent=currentRenderParent,viewNodeFlags|=node.flags,viewMatchedQueries|=node.matchedQueryIds,node.element){const elDef=node.element;elDef.publicProviders=currentParent?currentParent.element.publicProviders:Object.create(null),elDef.allProviders=elDef.publicProviders,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,node.element.template&&(viewMatchedQueries|=node.element.template.nodeMatchedQueries)}if(validateNode(currentParent,node,nodes.length),viewBindingCount+=node.bindings.length,viewDisposableCount+=node.outputs.length,!currentRenderParent&&3&node.flags&&(lastRenderRootNode=node),20224&node.flags){currentElementHasPublicProviders||(currentElementHasPublicProviders=!0,currentParent.element.publicProviders=Object.create(currentParent.element.publicProviders),currentParent.element.allProviders=currentParent.element.publicProviders);const isComponent=0!=(32768&node.flags);0==(8192&node.flags)||isComponent?currentParent.element.publicProviders[tokenKey(node.provider.token)]=node:(currentElementHasPrivateProviders||(currentElementHasPrivateProviders=!0,currentParent.element.allProviders=Object.create(currentParent.element.publicProviders)),currentParent.element.allProviders[tokenKey(node.provider.token)]=node),isComponent&&(currentParent.element.componentProvider=node)}if(currentParent?(currentParent.childFlags|=node.flags,currentParent.directChildFlags|=node.flags,currentParent.childMatchedQueries|=node.matchedQueryIds,node.element&&node.element.template&&(currentParent.childMatchedQueries|=node.element.template.nodeMatchedQueries)):viewRootNodeFlags|=node.flags,node.childCount>0)currentParent=node,isNgContainer(node)||(currentRenderParent=node);else for(;currentParent&&i===currentParent.nodeIndex+currentParent.childCount;){const newParent=currentParent.parent;newParent&&(newParent.childFlags|=currentParent.childFlags,newParent.childMatchedQueries|=currentParent.childMatchedQueries),currentParent=newParent,currentRenderParent=currentParent&&isNgContainer(currentParent)?currentParent.renderParent:currentParent}}return{factory:null,nodeFlags:viewNodeFlags,rootNodeFlags:viewRootNodeFlags,nodeMatchedQueries:viewMatchedQueries,flags:flags,nodes:nodes,updateDirectives:updateDirectives||NOOP,updateRenderer:updateRenderer||NOOP,handleEvent:(view,nodeIndex,eventName,event)=>nodes[nodeIndex].element.handleEvent(view,eventName,event),bindingCount:viewBindingCount,outputCount:viewDisposableCount,lastRenderRootNode:lastRenderRootNode}}function isNgContainer(node){return 0!=(1&node.flags)&&null===node.element.name}function validateNode(parent,node,nodeCount){const template=node.element&&node.element.template;if(template){if(!template.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(template.lastRenderRootNode&&16777216&template.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${node.nodeIndex}!`)}if(20224&node.flags&&0==(1&(parent?parent.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${node.nodeIndex}!`);if(node.query){if(67108864&node.flags&&(!parent||0==(16384&parent.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${node.nodeIndex}!`);if(134217728&node.flags&&parent)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${node.nodeIndex}!`)}if(node.childCount){const parentEnd=parent?parent.nodeIndex+parent.childCount:nodeCount-1;if(node.nodeIndex<=parentEnd&&node.nodeIndex+node.childCount>parentEnd)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${node.nodeIndex}!`)}}function createEmbeddedView(parent,anchorDef,viewDef,context){const view=createView(parent.root,parent.renderer,parent,anchorDef,viewDef);return initView(view,parent.component,context),createViewNodes(view),view}function createRootView(root,def,context){const view=createView(root,root.renderer,null,null,def);return initView(view,context,context),createViewNodes(view),view}function createComponentView(parentView,nodeDef,viewDef,hostElement){const rendererType=nodeDef.element.componentRendererType;let compRenderer;return compRenderer=rendererType?parentView.root.rendererFactory.createRenderer(hostElement,rendererType):parentView.root.renderer,createView(parentView.root,compRenderer,parentView,nodeDef.element.componentProvider,viewDef)}function createView(root,renderer,parent,parentNodeDef,def){const nodes=new Array(def.nodes.length),disposables=def.outputCount?new Array(def.outputCount):null;return{def:def,parent:parent,viewContainerParent:null,parentNodeDef:parentNodeDef,context:null,component:null,nodes:nodes,state:13,root:root,renderer:renderer,oldValues:new Array(def.bindingCount),disposables:disposables,initIndex:-1}}function initView(view,component,context){view.component=component,view.context=context}function createViewNodes(view){let renderHost;isComponentView(view)&&(renderHost=asElementData(view.parent,view.parentNodeDef.parent.nodeIndex).renderElement);const def=view.def,nodes=view.nodes;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];let nodeData;switch(Services.setCurrentNode(view,i),201347067&nodeDef.flags){case 1:const el=createElement(view,renderHost,nodeDef);let componentView=void 0;if(33554432&nodeDef.flags){const compViewDef=resolveDefinition(nodeDef.element.componentView);componentView=Services.createComponentView(view,nodeDef,compViewDef,el)}listenToElementOutputs(view,componentView,nodeDef,el),nodeData={renderElement:el,componentView:componentView,viewContainer:null,template:nodeDef.element.template?createTemplateData(view,nodeDef):void 0},16777216&nodeDef.flags&&(nodeData.viewContainer=createViewContainerData(view,nodeDef,nodeData));break;case 2:nodeData=createText(view,renderHost,nodeDef);break;case 512:case 1024:case 2048:case 256:nodeData=nodes[i],nodeData||4096&nodeDef.flags||(nodeData={instance:createProviderInstance(view,nodeDef)});break;case 16:nodeData={instance:createPipeInstance(view,nodeDef)};break;case 16384:nodeData=nodes[i],nodeData||(nodeData={instance:createDirectiveInstance(view,nodeDef)}),32768&nodeDef.flags&&initView(asElementData(view,nodeDef.parent.nodeIndex).componentView,nodeData.instance,nodeData.instance);break;case 32:case 64:case 128:nodeData={value:void 0};break;case 67108864:case 134217728:nodeData=new QueryList;break;case 8:appendNgContent(view,renderHost,nodeDef),nodeData=void 0}nodes[i]=nodeData}execComponentViewsAction(view,ViewAction.CreateViewNodes),execQueriesAction(view,201326592,268435456,0)}function checkNoChangesView(view){markProjectedViewsForCheck(view),Services.updateDirectives(view,1),execEmbeddedViewsAction(view,ViewAction.CheckNoChanges),Services.updateRenderer(view,1),execComponentViewsAction(view,ViewAction.CheckNoChanges),view.state&=-97}function checkAndUpdateView(view){1&view.state?(view.state&=-2,view.state|=2):view.state&=-3,shiftInitState(view,0,256),markProjectedViewsForCheck(view),Services.updateDirectives(view,0),execEmbeddedViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,67108864,536870912,0);let callInit=shiftInitState(view,256,512);callLifecycleHooksChildrenFirst(view,2097152|(callInit?1048576:0)),Services.updateRenderer(view,0),execComponentViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,134217728,536870912,0),callInit=shiftInitState(view,512,768),callLifecycleHooksChildrenFirst(view,8388608|(callInit?4194304:0)),2&view.def.flags&&(view.state&=-9),view.state&=-97,shiftInitState(view,768,1024)}function checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){switch(201347067&nodeDef.flags){case 1:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=def.bindings.length;let changed=!1;return bindLen>0&&checkAndUpdateElementValue(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateElementValue(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateElementValue(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateElementValue(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateElementValue(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateElementValue(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateElementValue(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateElementValue(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateElementValue(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateElementValue(view,def,9,v9)&&(changed=!0),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 2:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){let changed=!1;const bindings=def.bindings,bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){let value=def.text.prefix;bindLen>0&&(value+=_addInterpolationPart(v0,bindings[0])),bindLen>1&&(value+=_addInterpolationPart(v1,bindings[1])),bindLen>2&&(value+=_addInterpolationPart(v2,bindings[2])),bindLen>3&&(value+=_addInterpolationPart(v3,bindings[3])),bindLen>4&&(value+=_addInterpolationPart(v4,bindings[4])),bindLen>5&&(value+=_addInterpolationPart(v5,bindings[5])),bindLen>6&&(value+=_addInterpolationPart(v6,bindings[6])),bindLen>7&&(value+=_addInterpolationPart(v7,bindings[7])),bindLen>8&&(value+=_addInterpolationPart(v8,bindings[8])),bindLen>9&&(value+=_addInterpolationPart(v9,bindings[9]));const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 16384:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;const bindLen=def.bindings.length;return bindLen>0&&checkBinding(view,def,0,v0)&&(changed=!0,changes=updateProp(view,providerData,def,0,v0,changes)),bindLen>1&&checkBinding(view,def,1,v1)&&(changed=!0,changes=updateProp(view,providerData,def,1,v1,changes)),bindLen>2&&checkBinding(view,def,2,v2)&&(changed=!0,changes=updateProp(view,providerData,def,2,v2,changes)),bindLen>3&&checkBinding(view,def,3,v3)&&(changed=!0,changes=updateProp(view,providerData,def,3,v3,changes)),bindLen>4&&checkBinding(view,def,4,v4)&&(changed=!0,changes=updateProp(view,providerData,def,4,v4,changes)),bindLen>5&&checkBinding(view,def,5,v5)&&(changed=!0,changes=updateProp(view,providerData,def,5,v5,changes)),bindLen>6&&checkBinding(view,def,6,v6)&&(changed=!0,changes=updateProp(view,providerData,def,6,v6,changes)),bindLen>7&&checkBinding(view,def,7,v7)&&(changed=!0,changes=updateProp(view,providerData,def,7,v7,changes)),bindLen>8&&checkBinding(view,def,8,v8)&&(changed=!0,changes=updateProp(view,providerData,def,8,v8,changes)),bindLen>9&&checkBinding(view,def,9,v9)&&(changed=!0,changes=updateProp(view,providerData,def,9,v9,changes)),changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 32:case 64:case 128:return function(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindings=def.bindings;let changed=!1;const bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=new Array(bindings.length),bindLen>0&&(value[0]=v0),bindLen>1&&(value[1]=v1),bindLen>2&&(value[2]=v2),bindLen>3&&(value[3]=v3),bindLen>4&&(value[4]=v4),bindLen>5&&(value[5]=v5),bindLen>6&&(value[6]=v6),bindLen>7&&(value[7]=v7),bindLen>8&&(value[8]=v8),bindLen>9&&(value[9]=v9);break;case 64:value={},bindLen>0&&(value[bindings[0].name]=v0),bindLen>1&&(value[bindings[1].name]=v1),bindLen>2&&(value[bindings[2].name]=v2),bindLen>3&&(value[bindings[3].name]=v3),bindLen>4&&(value[bindings[4].name]=v4),bindLen>5&&(value[bindings[5].name]=v5),bindLen>6&&(value[bindings[6].name]=v6),bindLen>7&&(value[bindings[7].name]=v7),bindLen>8&&(value[bindings[8].name]=v8),bindLen>9&&(value[bindings[9].name]=v9);break;case 128:const pipe=v0;switch(bindLen){case 1:value=pipe.transform(v0);break;case 2:value=pipe.transform(v1);break;case 3:value=pipe.transform(v1,v2);break;case 4:value=pipe.transform(v1,v2,v3);break;case 5:value=pipe.transform(v1,v2,v3,v4);break;case 6:value=pipe.transform(v1,v2,v3,v4,v5);break;case 7:value=pipe.transform(v1,v2,v3,v4,v5,v6);break;case 8:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7);break;case 9:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8);break;case 10:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8,v9)}}data.value=value}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);default:throw"unreachable"}}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){switch(201347067&nodeDef.flags){case 1:return function(view,def,values){let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateElementValue(view,def,i,values[i])&&(changed=!0);return changed}(view,nodeDef,values);case 2:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){let value="";for(let i=0;i<values.length;i++)value+=_addInterpolationPart(values[i],bindings[i]);value=def.text.prefix+value;const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,values);case 16384:return function(view,def,values){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;for(let i=0;i<values.length;i++)checkBinding(view,def,i,values[i])&&(changed=!0,changes=updateProp(view,providerData,def,i,values[i],changes));return changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,values);case 32:case 64:case 128:return function(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=values;break;case 64:value={};for(let i=0;i<values.length;i++)value[bindings[i].name]=values[i];break;case 128:const pipe=values[0],params=values.slice(1);value=pipe.transform(...params)}data.value=value}return changed}(view,nodeDef,values);default:throw"unreachable"}}(view,nodeDef,v0)}function markProjectedViewsForCheck(view){const def=view.def;if(4&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(4&nodeDef.flags){const projectedViews=asElementData(view,i).template._projectedViews;if(projectedViews)for(let i=0;i<projectedViews.length;i++){const projectedView=projectedViews[i];projectedView.state|=32,markParentViewsForCheckProjectedViews(projectedView,view)}}else 0==(4&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=nodeDef.bindings.length;bindLen>0&&checkBindingNoChanges(view,nodeDef,0,v0),bindLen>1&&checkBindingNoChanges(view,nodeDef,1,v1),bindLen>2&&checkBindingNoChanges(view,nodeDef,2,v2),bindLen>3&&checkBindingNoChanges(view,nodeDef,3,v3),bindLen>4&&checkBindingNoChanges(view,nodeDef,4,v4),bindLen>5&&checkBindingNoChanges(view,nodeDef,5,v5),bindLen>6&&checkBindingNoChanges(view,nodeDef,6,v6),bindLen>7&&checkBindingNoChanges(view,nodeDef,7,v7),bindLen>8&&checkBindingNoChanges(view,nodeDef,8,v8),bindLen>9&&checkBindingNoChanges(view,nodeDef,9,v9)}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function(view,nodeDef,values){for(let i=0;i<values.length;i++)checkBindingNoChanges(view,nodeDef,i,values[i])}(view,nodeDef,v0),!1}function checkNoChangesQuery(view,nodeDef){if(asQueryList(view,nodeDef.nodeIndex).dirty)throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,nodeDef.nodeIndex),`Query ${nodeDef.query.id} not dirty`,`Query ${nodeDef.query.id} dirty`,0!=(1&view.state))}function destroyView(view){if(!(128&view.state)){if(execEmbeddedViewsAction(view,ViewAction.Destroy),execComponentViewsAction(view,ViewAction.Destroy),callLifecycleHooksChildrenFirst(view,131072),view.disposables)for(let i=0;i<view.disposables.length;i++)view.disposables[i]();!function(view){if(!(16&view.state))return;const dvcElementData=declaredViewContainer(view);if(dvcElementData){const projectedViews=dvcElementData.template._projectedViews;projectedViews&&(removeFromArray(projectedViews,projectedViews.indexOf(view)),Services.dirtyParentQueries(view))}}(view),view.renderer.destroyNode&&function(view){const len=view.def.nodes.length;for(let i=0;i<len;i++){const def=view.def.nodes[i];1&def.flags?view.renderer.destroyNode(asElementData(view,i).renderElement):2&def.flags?view.renderer.destroyNode(asTextData(view,i).renderText):(67108864&def.flags||134217728&def.flags)&&asQueryList(view,i).destroy()}}(view),isComponentView(view)&&view.renderer.destroy(),view.state|=128}}const ViewAction=function(){var ViewAction={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return ViewAction[ViewAction.CreateViewNodes]="CreateViewNodes",ViewAction[ViewAction.CheckNoChanges]="CheckNoChanges",ViewAction[ViewAction.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",ViewAction[ViewAction.CheckAndUpdate]="CheckAndUpdate",ViewAction[ViewAction.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",ViewAction[ViewAction.Destroy]="Destroy",ViewAction}();function execComponentViewsAction(view,action){const def=view.def;if(33554432&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];33554432&nodeDef.flags?callViewAction(asElementData(view,i).componentView,action):0==(33554432&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function execEmbeddedViewsAction(view,action){const def=view.def;if(16777216&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(16777216&nodeDef.flags){const embeddedViews=asElementData(view,i).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)callViewAction(embeddedViews[k],action)}else 0==(16777216&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function callViewAction(view,action){const viewState=view.state;switch(action){case ViewAction.CheckNoChanges:0==(128&viewState)&&(12==(12&viewState)?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckNoChangesProjectedViews));break;case ViewAction.CheckNoChangesProjectedViews:0==(128&viewState)&&(32&viewState?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.CheckAndUpdate:0==(128&viewState)&&(12==(12&viewState)?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckAndUpdateProjectedViews));break;case ViewAction.CheckAndUpdateProjectedViews:0==(128&viewState)&&(32&viewState?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.Destroy:destroyView(view);break;case ViewAction.CreateViewNodes:createViewNodes(view)}}function execProjectedViewsAction(view,action){execEmbeddedViewsAction(view,action),execComponentViewsAction(view,action)}function execQueriesAction(view,queryFlags,staticDynamicQueryFlag,checkType){if(!(view.def.nodeFlags&queryFlags&&view.def.nodeFlags&staticDynamicQueryFlag))return;const nodeCount=view.def.nodes.length;for(let i=0;i<nodeCount;i++){const nodeDef=view.def.nodes[i];if(nodeDef.flags&queryFlags&&nodeDef.flags&staticDynamicQueryFlag)switch(Services.setCurrentNode(view,nodeDef.nodeIndex),checkType){case 0:checkAndUpdateQuery(view,nodeDef);break;case 1:checkNoChangesQuery(view,nodeDef)}nodeDef.childFlags&queryFlags&&nodeDef.childFlags&staticDynamicQueryFlag||(i+=nodeDef.childCount)}}let initialized=!1;function createProdRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2);return createRootView(createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode),def,context)}function debugCreateRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2),root=createRootData(elInjector,ngModule,new DebugRendererFactory2(rendererFactory),projectableNodes,rootSelectorOrNode),defWithOverride=applyProviderOverridesToView(def);return callWithDebugContext(DebugAction.create,createRootView,null,[root,defWithOverride,context])}function createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode){const sanitizer=ngModule.injector.get(Sanitizer),errorHandler=ngModule.injector.get(ErrorHandler),renderer=rendererFactory.createRenderer(null,null);return{ngModule:ngModule,injector:elInjector,projectableNodes:projectableNodes,selectorOrNode:rootSelectorOrNode,sanitizer:sanitizer,rendererFactory:rendererFactory,renderer:renderer,errorHandler:errorHandler}}function debugCreateEmbeddedView(parentView,anchorDef,viewDef,context){const defWithOverride=applyProviderOverridesToView(viewDef);return callWithDebugContext(DebugAction.create,createEmbeddedView,null,[parentView,anchorDef,defWithOverride,context])}function debugCreateComponentView(parentView,nodeDef,viewDef,hostElement){return viewDef=viewDefOverrides.get(nodeDef.element.componentProvider.provider.token)||applyProviderOverridesToView(viewDef),callWithDebugContext(DebugAction.create,createComponentView,null,[parentView,nodeDef,viewDef,hostElement])}function debugCreateNgModuleRef(moduleType,parentInjector,bootstrapComponents,def){return createNgModuleRef(moduleType,parentInjector,bootstrapComponents,function(def){const{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}=function(def){let hasOverrides=!1,hasDeprecatedOverrides=!1;return 0===providerOverrides.size||(def.providers.forEach(node=>{const override=providerOverrides.get(node.token);3840&node.flags&&override&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)}),def.modules.forEach(module=>{providerOverridesWithScope.forEach((override,token)=>{getInjectableDef(token).providedIn===module&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)})})),{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}}(def);return hasOverrides?(function(def){for(let i=0;i<def.providers.length;i++){const provider=def.providers[i];hasDeprecatedOverrides&&(provider.flags|=4096);const override=providerOverrides.get(provider.token);override&&(provider.flags=-3841&provider.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}if(providerOverridesWithScope.size>0){let moduleSet=new Set(def.modules);providerOverridesWithScope.forEach((override,token)=>{if(moduleSet.has(getInjectableDef(token).providedIn)){let provider={token:token,flags:override.flags|(hasDeprecatedOverrides?4096:0),deps:splitDepsDsl(override.deps),value:override.value,index:def.providers.length};def.providers.push(provider),def.providersByKey[tokenKey(token)]=provider}})}}(def=def.factory(()=>NOOP)),def):def}(def))}const providerOverrides=new Map,providerOverridesWithScope=new Map,viewDefOverrides=new Map;function debugOverrideProvider(override){let injectableDef;providerOverrides.set(override.token,override),"function"==typeof override.token&&(injectableDef=getInjectableDef(override.token))&&"function"==typeof injectableDef.providedIn&&providerOverridesWithScope.set(override.token,override)}function debugOverrideComponentView(comp,compFactory){const hostViewDef=resolveDefinition(compFactory.viewDefFactory),compViewDef=resolveDefinition(hostViewDef.nodes[0].element.componentView);viewDefOverrides.set(comp,compViewDef)}function debugClearOverrides(){providerOverrides.clear(),providerOverridesWithScope.clear(),viewDefOverrides.clear()}function applyProviderOverridesToView(def){if(0===providerOverrides.size)return def;const elementIndicesWithOverwrittenProviders=function(def){const elIndicesWithOverwrittenProviders=[];let lastElementDef=null;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];1&nodeDef.flags&&(lastElementDef=nodeDef),lastElementDef&&3840&nodeDef.flags&&providerOverrides.has(nodeDef.provider.token)&&(elIndicesWithOverwrittenProviders.push(lastElementDef.nodeIndex),lastElementDef=null)}return elIndicesWithOverwrittenProviders}(def);if(0===elementIndicesWithOverwrittenProviders.length)return def;def=def.factory(()=>NOOP);for(let i=0;i<elementIndicesWithOverwrittenProviders.length;i++)applyProviderOverridesToElement(def,elementIndicesWithOverwrittenProviders[i]);return def;function applyProviderOverridesToElement(viewDef,elIndex){for(let i=elIndex+1;i<viewDef.nodes.length;i++){const nodeDef=viewDef.nodes[i];if(1&nodeDef.flags)return;if(3840&nodeDef.flags){const provider=nodeDef.provider,override=providerOverrides.get(provider.token);override&&(nodeDef.flags=-3841&nodeDef.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}}}}function prodCheckAndUpdateNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function prodCheckNoChangesNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function debugCheckAndUpdateView(view){return callWithDebugContext(DebugAction.detectChanges,checkAndUpdateView,null,[view])}function debugCheckNoChangesView(view){return callWithDebugContext(DebugAction.checkNoChanges,checkNoChangesView,null,[view])}function debugDestroyView(view){return callWithDebugContext(DebugAction.destroy,destroyView,null,[view])}const DebugAction=function(){var DebugAction={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return DebugAction[DebugAction.create]="create",DebugAction[DebugAction.detectChanges]="detectChanges",DebugAction[DebugAction.checkNoChanges]="checkNoChanges",DebugAction[DebugAction.destroy]="destroy",DebugAction[DebugAction.handleEvent]="handleEvent",DebugAction}();let _currentAction,_currentView,_currentNodeIndex;function debugSetCurrentNode(view,nodeIndex){_currentView=view,_currentNodeIndex=nodeIndex}function debugHandleEvent(view,nodeIndex,eventName,event){return debugSetCurrentNode(view,nodeIndex),callWithDebugContext(DebugAction.handleEvent,view.def.handleEvent,null,[view,nodeIndex,eventName,event])}function debugUpdateDirectives(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextDirectiveWithBinding(view,0)),view.def.updateDirectives((function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];return 0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values),16384&nodeDef.flags&&debugSetCurrentNode(view,nextDirectiveWithBinding(view,nodeIndex)),224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugUpdateRenderer(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextRenderNodeWithBinding(view,0)),view.def.updateRenderer((function(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];return 0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values),3&nodeDef.flags&&debugSetCurrentNode(view,nextRenderNodeWithBinding(view,nodeIndex)),224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugCheckAndUpdateNode(view,nodeDef,argStyle,givenValues){if(checkAndUpdateNode(view,nodeDef,argStyle,...givenValues)){const values=1===argStyle?givenValues[0]:givenValues;if(16384&nodeDef.flags){const bindingValues={};for(let i=0;i<nodeDef.bindings.length;i++){const binding=nodeDef.bindings[i],value=values[i];8&binding.flags&&(bindingValues[normalizeDebugBindingName(binding.nonMinifiedName)]=normalizeDebugBindingValue(value))}const elDef=nodeDef.parent,el=asElementData(view,elDef.nodeIndex).renderElement;if(elDef.element.name)for(let attr in bindingValues){const value=bindingValues[attr];null!=value?view.renderer.setAttribute(el,attr,value):view.renderer.removeAttribute(el,attr)}else view.renderer.setValue(el,"bindings="+JSON.stringify(bindingValues,null,2))}}}function debugCheckNoChangesNode(view,nodeDef,argStyle,values){checkNoChangesNode(view,nodeDef,argStyle,...values)}function nextDirectiveWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(16384&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}function nextRenderNodeWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(3&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}class DebugContext_{constructor(view,nodeIndex){this.view=view,this.nodeIndex=nodeIndex,null==nodeIndex&&(this.nodeIndex=nodeIndex=0),this.nodeDef=view.def.nodes[nodeIndex];let elDef=this.nodeDef,elView=view;for(;elDef&&0==(1&elDef.flags);)elDef=elDef.parent;if(!elDef)for(;!elDef&&elView;)elDef=viewParentEl(elView),elView=elView.parent;this.elDef=elDef,this.elView=elView}get elOrCompView(){return asElementData(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return createInjector$1(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const tokens=[];if(this.elDef)for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&tokens.push(childDef.provider.token),i+=childDef.childCount}return tokens}get references(){const references={};if(this.elDef){collectReferences(this.elView,this.elDef,references);for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&collectReferences(this.elView,childDef,references),i+=childDef.childCount}}return references}get componentRenderElement(){const elData=function(view){for(;view&&!isComponentView(view);)view=view.parent;return view.parent?asElementData(view.parent,viewParentEl(view).nodeIndex):null}(this.elOrCompView);return elData?elData.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?renderNode(this.view,this.nodeDef):renderNode(this.elView,this.elDef)}logError(console,...values){let logViewDef,logNodeIndex;2&this.nodeDef.flags?(logViewDef=this.view.def,logNodeIndex=this.nodeDef.nodeIndex):(logViewDef=this.elView.def,logNodeIndex=this.elDef.nodeIndex);const renderNodeIndex=function(viewDef,nodeIndex){let renderNodeIndex=-1;for(let i=0;i<=nodeIndex;i++)3&viewDef.nodes[i].flags&&renderNodeIndex++;return renderNodeIndex}(logViewDef,logNodeIndex);let currRenderNodeIndex=-1;logViewDef.factory(()=>(currRenderNodeIndex++,currRenderNodeIndex===renderNodeIndex?console.error.bind(console,...values):NOOP)),currRenderNodeIndex<renderNodeIndex&&(console.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),console.error(...values))}}function collectReferences(view,nodeDef,references){for(let refName in nodeDef.references)references[refName]=getQueryValue(view,nodeDef,nodeDef.references[refName])}function callWithDebugContext(action,fn,self,args){const oldAction=_currentAction,oldView=_currentView,oldNodeIndex=_currentNodeIndex;try{_currentAction=action;const result=fn.apply(self,args);return _currentView=oldView,_currentNodeIndex=oldNodeIndex,_currentAction=oldAction,result}catch(e){if(getDebugContext(e)||!_currentView)throw e;throw function(err,context){return err instanceof Error||(err=new Error(err.toString())),_addDebugContext(err,context),err}(e,getCurrentDebugContext())}}function getCurrentDebugContext(){return _currentView?new DebugContext_(_currentView,_currentNodeIndex):null}class DebugRendererFactory2{constructor(delegate){this.delegate=delegate}createRenderer(element,renderData){return new DebugRenderer2(this.delegate.createRenderer(element,renderData))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class DebugRenderer2{constructor(delegate){this.delegate=delegate,this.debugContextFactory=getCurrentDebugContext,this.data=this.delegate.data}createDebugContext(nativeElement){return this.debugContextFactory(nativeElement)}destroyNode(node){const debugNode=getDebugNode(node);!function(node){_nativeNodeToDebugNode.delete(node.nativeNode)}(debugNode),debugNode instanceof DebugNode__PRE_R3__&&(debugNode.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(node)}destroy(){this.delegate.destroy()}createElement(name,namespace){const el=this.delegate.createElement(name,namespace),debugCtx=this.createDebugContext(el);if(debugCtx){const debugEl=new DebugElement__PRE_R3__(el,null,debugCtx);debugEl.name=name,indexDebugNode(debugEl)}return el}createComment(value){const comment=this.delegate.createComment(value),debugCtx=this.createDebugContext(comment);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(comment,null,debugCtx)),comment}createText(value){const text=this.delegate.createText(value),debugCtx=this.createDebugContext(text);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(text,null,debugCtx)),text}appendChild(parent,newChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.addChild(debugChildEl),this.delegate.appendChild(parent,newChild)}insertBefore(parent,newChild,refChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(newChild),debugRefEl=getDebugNode(refChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.insertBefore(debugRefEl,debugChildEl),this.delegate.insertBefore(parent,newChild,refChild)}removeChild(parent,oldChild){const debugEl=getDebugNode(parent),debugChildEl=getDebugNode(oldChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.removeChild(debugChildEl),this.delegate.removeChild(parent,oldChild)}selectRootElement(selectorOrNode,preserveContent){const el=this.delegate.selectRootElement(selectorOrNode,preserveContent),debugCtx=getCurrentDebugContext();return debugCtx&&indexDebugNode(new DebugElement__PRE_R3__(el,null,debugCtx)),el}setAttribute(el,name,value,namespace){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.attributes[namespace?namespace+":"+name:name]=value),this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.attributes[namespace?namespace+":"+name:name]=null),this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!0),this.delegate.addClass(el,name)}removeClass(el,name){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!1),this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=value),this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=null),this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){const debugEl=getDebugNode(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.properties[name]=value),this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if("string"!=typeof target){const debugEl=getDebugNode(target);debugEl&&debugEl.listeners.push(new DebugEventListener(eventName,callback))}return this.delegate.listen(target,eventName,callback)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setValue(node,value){return this.delegate.setValue(node,value)}}function createNgModuleFactory(ngModuleType,bootstrapComponents,defFactory){return new NgModuleFactory_(ngModuleType,bootstrapComponents,defFactory)}class NgModuleFactory_ extends NgModuleFactory{constructor(moduleType,_bootstrapComponents,_ngModuleDefFactory){super(),this.moduleType=moduleType,this._bootstrapComponents=_bootstrapComponents,this._ngModuleDefFactory=_ngModuleDefFactory}create(parentInjector){!function(){if(initialized)return;initialized=!0;const services=isDevMode()?{setCurrentNode:debugSetCurrentNode,createRootView:debugCreateRootView,createEmbeddedView:debugCreateEmbeddedView,createComponentView:debugCreateComponentView,createNgModuleRef:debugCreateNgModuleRef,overrideProvider:debugOverrideProvider,overrideComponentView:debugOverrideComponentView,clearOverrides:debugClearOverrides,checkAndUpdateView:debugCheckAndUpdateView,checkNoChangesView:debugCheckNoChangesView,destroyView:debugDestroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:debugHandleEvent,updateDirectives:debugUpdateDirectives,updateRenderer:debugUpdateRenderer}:{setCurrentNode:()=>{},createRootView:createProdRootView,createEmbeddedView:createEmbeddedView,createComponentView:createComponentView,createNgModuleRef:createNgModuleRef,overrideProvider:NOOP,overrideComponentView:NOOP,clearOverrides:NOOP,checkAndUpdateView:checkAndUpdateView,checkNoChangesView:checkNoChangesView,destroyView:destroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:(view,nodeIndex,eventName,event)=>view.def.handleEvent(view,nodeIndex,eventName,event),updateDirectives:(view,checkType)=>view.def.updateDirectives(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view),updateRenderer:(view,checkType)=>view.def.updateRenderer(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view)};Services.setCurrentNode=services.setCurrentNode,Services.createRootView=services.createRootView,Services.createEmbeddedView=services.createEmbeddedView,Services.createComponentView=services.createComponentView,Services.createNgModuleRef=services.createNgModuleRef,Services.overrideProvider=services.overrideProvider,Services.overrideComponentView=services.overrideComponentView,Services.clearOverrides=services.clearOverrides,Services.checkAndUpdateView=services.checkAndUpdateView,Services.checkNoChangesView=services.checkNoChangesView,Services.destroyView=services.destroyView,Services.resolveDep=resolveDep,Services.createDebugContext=services.createDebugContext,Services.handleEvent=services.handleEvent,Services.updateDirectives=services.updateDirectives,Services.updateRenderer=services.updateRenderer,Services.dirtyParentQueries=dirtyParentQueries}();const def=function(def){const providers=Array.from(def.providers),modules=Array.from(def.modules),providersByKey={};for(const key in def.providersByKey)providersByKey[key]=def.providersByKey[key];return{factory:def.factory,isRoot:def.isRoot,providers:providers,modules:modules,providersByKey:providersByKey}}(resolveDefinition(this._ngModuleDefFactory));return Services.createNgModuleRef(this.moduleType,parentInjector||Injector.NULL,this._bootstrapComponents,def)}}const environment={appVersion:__webpack_require__("kiQV").version,production:!0};var tslib_es6=__webpack_require__("mrSG");function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _WINDOW={},_DOCUMENT={};try{"undefined"!=typeof window&&(_WINDOW=window),"undefined"!=typeof document&&(_DOCUMENT=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(e){}var _ref$userAgent=(_WINDOW.navigator||{}).userAgent,index_es_userAgent=void 0===_ref$userAgent?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&"function"==typeof DOCUMENT.addEventListener&&"function"==typeof DOCUMENT.createElement,oneToTen=(~index_es_userAgent.indexOf("MSIE")||index_es_userAgent.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),DUOTONE_CLASSES={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},initial=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY].concat(oneToTen.map((function(n){return"".concat(n,"x")}))).concat(oneToTwenty.map((function(n){return"w-".concat(n)}))),WINDOW.FontAwesomeConfig||{});DOCUMENT&&"function"==typeof DOCUMENT.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[1],val=function(val){return""===val||"false"!==val&&("true"===val||val)}(function(attr){var element=DOCUMENT.querySelector("script["+attr+"]");if(element)return element.getAttribute(attr)}(_ref2[0]));null!=val&&(initial[key]=val)}));var _config=_objectSpread({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var index_es_config=_objectSpread({},_config);WINDOW.FontAwesomeConfig=index_es_config;var w=WINDOW||{};w.___FONT_AWESOME___||(w.___FONT_AWESOME___={}),w.___FONT_AWESOME___.styles||(w.___FONT_AWESOME___.styles={}),w.___FONT_AWESOME___.hooks||(w.___FONT_AWESOME___.hooks={}),w.___FONT_AWESOME___.shims||(w.___FONT_AWESOME___.shims=[]);var namespace=w.___FONT_AWESOME___,functions=[];IS_DOM&&((DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState)||DOCUMENT.addEventListener("DOMContentLoaded",(function listener(){DOCUMENT.removeEventListener("DOMContentLoaded",listener),functions.map((function(fn){return fn()}))})));var asyncTimer,index_es_NOOP=function(){},isNode="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,asyncSetTimer="undefined"==typeof setImmediate?setTimeout:setImmediate,asyncQueue=[];function asyncFlush(){for(var i=0;i<asyncQueue.length;i++)asyncQueue[i][0](asyncQueue[i][1]);asyncQueue=[],asyncTimer=!1}function asyncCall(callback,arg){asyncQueue.push([callback,arg]),asyncTimer||(asyncTimer=!0,asyncSetTimer(asyncFlush,0))}function invokeCallback(subscriber){var owner=subscriber.owner,settled=owner._state,value=owner._data,callback=subscriber[settled],promise=subscriber.then;if("function"==typeof callback){settled="fulfilled";try{value=callback(value)}catch(e){index_es_reject(promise,e)}}handleThenable(promise,value)||("fulfilled"===settled&&index_es_resolve(promise,value),"rejected"===settled&&index_es_reject(promise,value))}function handleThenable(promise,value){var resolved;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(value&&("function"==typeof value||"object"===_typeof(value))){var then=value.then;if("function"==typeof then)return then.call(value,(function(val){resolved||(resolved=!0,value===val?fulfill(promise,val):index_es_resolve(promise,val))}),(function(reason){resolved||(resolved=!0,index_es_reject(promise,reason))})),!0}}catch(e){return resolved||index_es_reject(promise,e),!0}return!1}function index_es_resolve(promise,value){promise!==value&&handleThenable(promise,value)||fulfill(promise,value)}function fulfill(promise,value){"pending"===promise._state&&(promise._state="settled",promise._data=value,asyncCall(publishFulfillment,promise))}function index_es_reject(promise,reason){"pending"===promise._state&&(promise._state="settled",promise._data=reason,asyncCall(publishRejection,promise))}function publish(promise){promise._then=promise._then.forEach(invokeCallback)}function publishFulfillment(promise){promise._state="fulfilled",publish(promise)}function publishRejection(promise){promise._state="rejected",publish(promise),!promise._handled&&isNode&&global.process.emit("unhandledRejection",promise._data,promise)}function notifyRejectionHandled(promise){global.process.emit("rejectionHandled",promise)}function P(resolver){if("function"!=typeof resolver)throw new TypeError("Promise resolver "+resolver+" is not a function");if(this instanceof P==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(resolver,promise){function rejectPromise(reason){index_es_reject(promise,reason)}try{resolver((function(value){index_es_resolve(promise,value)}),rejectPromise)}catch(e){rejectPromise(e)}}(resolver,this)}P.prototype={constructor:P,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(onFulfillment,onRejection){var subscriber={owner:this,then:new this.constructor(index_es_NOOP),fulfilled:onFulfillment,rejected:onRejection};return!onRejection&&!onFulfillment||this._handled||(this._handled=!0,"rejected"===this._state&&isNode&&asyncCall(notifyRejectionHandled,this)),"fulfilled"===this._state||"rejected"===this._state?asyncCall(invokeCallback,subscriber):this._then.push(subscriber),subscriber.then},catch:function(onRejection){return this.then(null,onRejection)}},P.all=function(promises){if(!Array.isArray(promises))throw new TypeError("You must pass an array to Promise.all().");return new P((function(resolve,reject){var results=[],remaining=0;function resolver(index){return remaining++,function(value){results[index]=value,--remaining||resolve(results)}}for(var promise,i=0;i<promises.length;i++)(promise=promises[i])&&"function"==typeof promise.then?promise.then(resolver(i),reject):results[i]=promise;remaining||resolve(results)}))},P.race=function(promises){if(!Array.isArray(promises))throw new TypeError("You must pass an array to Promise.race().");return new P((function(resolve,reject){for(var promise,i=0;i<promises.length;i++)(promise=promises[i])&&"function"==typeof promise.then?promise.then(resolve,reject):resolve(promise)}))},P.resolve=function(value){return value&&"object"===_typeof(value)&&value.constructor===P?value:new P((function(resolve){resolve(value)}))},P.reject=function(reason){return new P((function(resolve,reject){reject(reason)}))};var meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function nextUniqueId(){for(var size=12,id="";size-- >0;)id+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return id}function htmlEscape(str){return"".concat(str).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinStyles(styles){return Object.keys(styles||{}).reduce((function(acc,styleName){return acc+"".concat(styleName,": ").concat(styles[styleName],";")}),"")}function transformIsMeaningful(transform){return transform.size!==meaninglessTransform.size||transform.x!==meaninglessTransform.x||transform.y!==meaninglessTransform.y||transform.rotate!==meaninglessTransform.rotate||transform.flipX||transform.flipY}function transformForSvg(_ref){var transform=_ref.transform,iconWidth=_ref.iconWidth,outer={transform:"translate(".concat(_ref.containerWidth/2," 256)")},innerTranslate="translate(".concat(32*transform.x,", ").concat(32*transform.y,") "),innerScale="scale(".concat(transform.size/16*(transform.flipX?-1:1),", ").concat(transform.size/16*(transform.flipY?-1:1),") "),innerRotate="rotate(".concat(transform.rotate," 0 0)");return{outer:outer,inner:{transform:"".concat(innerTranslate," ").concat(innerScale," ").concat(innerRotate)},path:{transform:"translate(".concat(iconWidth/2*-1," -256)")}}}var ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(abstract){var force=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return abstract.attributes&&(abstract.attributes.fill||force)&&(abstract.attributes.fill="black"),abstract}function makeInlineSvgAbstract(params){var _params$icons=params.icons,main=_params$icons.main,mask=_params$icons.mask,prefix=params.prefix,iconName=params.iconName,transform=params.transform,symbol=params.symbol,title=params.title,maskId=params.maskId,titleId=params.titleId,extra=params.extra,_params$watchable=params.watchable,watchable=void 0!==_params$watchable&&_params$watchable,_ref=mask.found?mask:main,width=_ref.width,height=_ref.height,widthClass="fa-w-".concat(Math.ceil(width/height*16)),attrClass=[index_es_config.replacementClass,iconName?"".concat(index_es_config.familyPrefix,"-").concat(iconName):"",widthClass].filter((function(c){return-1===extra.classes.indexOf(c)})).concat(extra.classes).join(" "),content={children:[],attributes:_objectSpread({},extra.attributes,{"data-prefix":prefix,"data-icon":iconName,class:attrClass,role:extra.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(width," ").concat(height)})};watchable&&(content.attributes["data-fa-i2svg"]=""),title&&content.children.push({tag:"title",attributes:{id:content.attributes["aria-labelledby"]||"title-".concat(titleId||nextUniqueId())},children:[title]});var args=_objectSpread({},content,{prefix:prefix,iconName:iconName,main:main,mask:mask,maskId:maskId,transform:transform,symbol:symbol,styles:extra.styles}),_ref2=mask.found&&main.found?function(_ref){var abstract,children=_ref.children,attributes=_ref.attributes,main=_ref.main,mask=_ref.mask,explicitMaskId=_ref.maskId,mainPath=main.icon,maskPath=mask.icon,trans=transformForSvg({transform:_ref.transform,containerWidth:mask.width,iconWidth:main.width}),maskRect={tag:"rect",attributes:_objectSpread({},ALL_SPACE,{fill:"white"})},maskInnerGroupChildrenMixin=mainPath.children?{children:mainPath.children.map(fillBlack)}:{},maskInnerGroup={tag:"g",attributes:_objectSpread({},trans.inner),children:[fillBlack(_objectSpread({tag:mainPath.tag,attributes:_objectSpread({},mainPath.attributes,trans.path)},maskInnerGroupChildrenMixin))]},maskOuterGroup={tag:"g",attributes:_objectSpread({},trans.outer),children:[maskInnerGroup]},maskId="mask-".concat(explicitMaskId||nextUniqueId()),clipId="clip-".concat(explicitMaskId||nextUniqueId()),maskTag={tag:"mask",attributes:_objectSpread({},ALL_SPACE,{id:maskId,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[maskRect,maskOuterGroup]},defs={tag:"defs",children:[{tag:"clipPath",attributes:{id:clipId},children:(abstract=maskPath,"g"===abstract.tag?abstract.children:[abstract])},maskTag]};return children.push(defs,{tag:"rect",attributes:_objectSpread({fill:"currentColor","clip-path":"url(#".concat(clipId,")"),mask:"url(#".concat(maskId,")")},ALL_SPACE)}),{children:children,attributes:attributes}}(args):function(_ref){var children=_ref.children,attributes=_ref.attributes,main=_ref.main,transform=_ref.transform,styleString=joinStyles(_ref.styles);if(styleString.length>0&&(attributes.style=styleString),transformIsMeaningful(transform)){var trans=transformForSvg({transform:transform,containerWidth:main.width,iconWidth:main.width});children.push({tag:"g",attributes:_objectSpread({},trans.outer),children:[{tag:"g",attributes:_objectSpread({},trans.inner),children:[{tag:main.icon.tag,children:main.icon.children,attributes:_objectSpread({},main.icon.attributes,trans.path)}]}]})}else children.push(main.icon);return{children:children,attributes:attributes}}(args),attributes=_ref2.attributes;return args.children=_ref2.children,args.attributes=attributes,symbol?function(_ref){var iconName=_ref.iconName,children=_ref.children,symbol=_ref.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread({},_ref.attributes,{id:!0===symbol?"".concat(_ref.prefix,"-").concat(index_es_config.familyPrefix,"-").concat(iconName):symbol}),children:children}]}]}(args):function(_ref){var children=_ref.children,main=_ref.main,mask=_ref.mask,attributes=_ref.attributes,styles=_ref.styles,transform=_ref.transform;if(transformIsMeaningful(transform)&&main.found&&!mask.found){var offset={x:main.width/main.height/2,y:.5};attributes.style=joinStyles(_objectSpread({},styles,{"transform-origin":"".concat(offset.x+transform.x/16,"em ").concat(offset.y+transform.y/16,"em")}))}return[{tag:"svg",attributes:attributes,children:children}]}(args)}var reduce=function(subject,fn,initialValue,thisContext){var i,key,result,keys=Object.keys(subject),length=keys.length,iterator=void 0!==thisContext?function(func,thisContext){return function(a,b,c,d){return func.call(thisContext,a,b,c,d)}}(fn,thisContext):fn;for(void 0===initialValue?(i=1,result=subject[keys[0]]):(i=0,result=initialValue);i<length;i++)result=iterator(result,subject[key=keys[i]],key,subject);return result};function defineIcons(prefix,icons){var params=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_params$skipHooks=params.skipHooks,skipHooks=void 0!==_params$skipHooks&&_params$skipHooks,normalized=Object.keys(icons).reduce((function(acc,iconName){var icon=icons[iconName];return icon.icon?acc[icon.iconName]=icon.icon:acc[iconName]=icon,acc}),{});"function"!=typeof namespace.hooks.addPack||skipHooks?namespace.styles[prefix]=_objectSpread({},namespace.styles[prefix]||{},normalized):namespace.hooks.addPack(prefix,normalized),"fas"===prefix&&defineIcons("fa",icons)}var index_es_styles=namespace.styles,shims=namespace.shims,build=function(){var lookup=function(reducer){return reduce(index_es_styles,(function(o,style,prefix){return o[prefix]=reduce(style,reducer,{}),o}),{})};lookup((function(acc,icon,iconName){return icon[3]&&(acc[icon[3]]=iconName),acc})),lookup((function(acc,icon,iconName){var ligatures=icon[2];return acc[iconName]=iconName,ligatures.forEach((function(ligature){acc[ligature]=iconName})),acc}));var hasRegular="far"in index_es_styles;reduce(shims,(function(acc,shim){var prefix=shim[1];return"far"!==prefix||hasRegular||(prefix="fas"),acc[shim[0]]={prefix:prefix,iconName:shim[2]},acc}),{})};function iconFromMapping(mapping,prefix,iconName){if(mapping&&mapping[prefix]&&mapping[prefix][iconName])return{prefix:prefix,iconName:iconName,icon:mapping[prefix][iconName]}}function index_es_toHtml(abstractNodes){var tag=abstractNodes.tag,_abstractNodes$attrib=abstractNodes.attributes,attributes=void 0===_abstractNodes$attrib?{}:_abstractNodes$attrib,_abstractNodes$childr=abstractNodes.children,children=void 0===_abstractNodes$childr?[]:_abstractNodes$childr;return"string"==typeof abstractNodes?htmlEscape(abstractNodes):"<".concat(tag," ").concat(function(attributes){return Object.keys(attributes||{}).reduce((function(acc,attributeName){return acc+"".concat(attributeName,'="').concat(htmlEscape(attributes[attributeName]),'" ')}),"").trim()}(attributes),">").concat(children.map(index_es_toHtml).join(""),"</").concat(tag,">")}function MissingIcon(error){this.name="MissingIcon",this.message=error||"Icon unavailable",this.stack=(new Error).stack}build(),(MissingIcon.prototype=Object.create(Error.prototype)).constructor=MissingIcon;var FILL={fill:"currentColor"},ANIMATION_BASE={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},OPACITY_ANIMATE=(_objectSpread({},FILL,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),_objectSpread({},ANIMATION_BASE,{attributeName:"opacity"}));function asFoundIcon(icon){var width=icon[0],height=icon[1],vectorData=_slicedToArray(icon.slice(4),1)[0];return{found:!0,width:width,height:height,icon:Array.isArray(vectorData)?{tag:"g",attributes:{class:"".concat(index_es_config.familyPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(index_es_config.familyPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:vectorData[0]}},{tag:"path",attributes:{class:"".concat(index_es_config.familyPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:vectorData[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:vectorData}}}}function ensureCss(){index_es_config.autoAddCss&&!_cssInserted&&(function(css){if(css&&IS_DOM){var style=DOCUMENT.createElement("style");style.setAttribute("type","text/css"),style.innerHTML=css;for(var headChildren=DOCUMENT.head.childNodes,beforeChild=null,i=headChildren.length-1;i>-1;i--){var child=headChildren[i],tagName=(child.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(tagName)>-1&&(beforeChild=child)}DOCUMENT.head.insertBefore(style,beforeChild)}}(function(){var drc="svg-inline--fa",fp=index_es_config.familyPrefix,rc=index_es_config.replacementClass,s='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==fp||rc!==drc){var dPatt=new RegExp("\\.".concat("fa","\\-"),"g"),customPropPatt=new RegExp("\\--".concat("fa","\\-"),"g"),rPatt=new RegExp("\\.".concat(drc),"g");s=s.replace(dPatt,".".concat(fp,"-")).replace(customPropPatt,"--".concat(fp,"-")).replace(rPatt,".".concat(rc))}return s}()),_cssInserted=!0)}function apiObject(val,abstractCreator){return Object.defineProperty(val,"abstract",{get:abstractCreator}),Object.defineProperty(val,"html",{get:function(){return val.abstract.map((function(a){return index_es_toHtml(a)}))}}),Object.defineProperty(val,"node",{get:function(){if(IS_DOM){var container=DOCUMENT.createElement("div");return container.innerHTML=val.html,container.children}}}),val}function findIconDefinition(iconLookup){var _iconLookup$prefix=iconLookup.prefix,prefix=void 0===_iconLookup$prefix?"fa":_iconLookup$prefix,iconName=iconLookup.iconName;if(iconName)return iconFromMapping(library.definitions,prefix,iconName)||iconFromMapping(namespace.styles,prefix,iconName)}_objectSpread({},FILL,{cx:"256",cy:"364",r:"28"}),_objectSpread({},ANIMATION_BASE,{attributeName:"r",values:"28;14;28;28;14;28;"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;1;1;0;1;"}),_objectSpread({},FILL,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;0;0;0;1;"}),_objectSpread({},FILL,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),_objectSpread({},OPACITY_ANIMATE,{values:"0;0;1;1;0;0;"});var next,library=new(function(){function Library(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Library),this.definitions={}}var protoProps;return(protoProps=[{key:"add",value:function(){for(var _this=this,_len=arguments.length,definitions=new Array(_len),_key=0;_key<_len;_key++)definitions[_key]=arguments[_key];var additions=definitions.reduce(this._pullDefinitions,{});Object.keys(additions).forEach((function(key){_this.definitions[key]=_objectSpread({},_this.definitions[key]||{},additions[key]),defineIcons(key,additions[key]),build()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(additions,definition){var normalized=definition.prefix&&definition.iconName&&definition.icon?{0:definition}:definition;return Object.keys(normalized).map((function(key){var _normalized$key=normalized[key],prefix=_normalized$key.prefix,iconName=_normalized$key.iconName,icon=_normalized$key.icon;additions[prefix]||(additions[prefix]={}),additions[prefix][iconName]=icon})),additions}}])&&function(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}(Library.prototype,protoProps),Library}()),_cssInserted=!1,icon=(next=function(iconDefinition){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_params$transform=params.transform,transform=void 0===_params$transform?meaninglessTransform:_params$transform,_params$symbol=params.symbol,symbol=void 0!==_params$symbol&&_params$symbol,_params$mask=params.mask,mask=void 0===_params$mask?null:_params$mask,_params$maskId=params.maskId,maskId=void 0===_params$maskId?null:_params$maskId,_params$title=params.title,title=void 0===_params$title?null:_params$title,_params$titleId=params.titleId,titleId=void 0===_params$titleId?null:_params$titleId,_params$classes=params.classes,classes=void 0===_params$classes?[]:_params$classes,_params$attributes=params.attributes,attributes=void 0===_params$attributes?{}:_params$attributes,_params$styles=params.styles,styles=void 0===_params$styles?{}:_params$styles;if(iconDefinition){var prefix=iconDefinition.prefix,iconName=iconDefinition.iconName,icon=iconDefinition.icon;return apiObject(_objectSpread({type:"icon"},iconDefinition),(function(){return ensureCss(),index_es_config.autoA11y&&(title?attributes["aria-labelledby"]="".concat(index_es_config.replacementClass,"-title-").concat(titleId||nextUniqueId()):(attributes["aria-hidden"]="true",attributes.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(icon),mask:mask?asFoundIcon(mask.icon):{found:!1,width:null,height:null,icon:{}}},prefix:prefix,iconName:iconName,transform:_objectSpread({},meaninglessTransform,transform),symbol:symbol,title:title,maskId:maskId,titleId:titleId,extra:{attributes:attributes,styles:styles,classes:classes}})}))}},function(maybeIconDefinition){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},iconDefinition=(maybeIconDefinition||{}).icon?maybeIconDefinition:findIconDefinition(maybeIconDefinition||{}),mask=params.mask;return mask&&(mask=(mask||{}).icon?mask:findIconDefinition(mask||{})),next(iconDefinition,_objectSpread({},params,{mask:mask}))}),faArrowsAlt={prefix:"fas",iconName:"arrows-alt",icon:[512,512,[],"f0b2","M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"]},faBan={prefix:"fas",iconName:"ban",icon:[512,512,[],"f05e","M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"]},faBarcode={prefix:"fas",iconName:"barcode",icon:[512,512,[],"f02a","M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"]},faBatteryEmpty={prefix:"fas",iconName:"battery-empty",icon:[640,512,[],"f244","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48z"]},faBatteryFull={prefix:"fas",iconName:"battery-full",icon:[640,512,[],"f240","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-48 96H96v128h416V192z"]},faBatteryHalf={prefix:"fas",iconName:"battery-half",icon:[640,512,[],"f242","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-240 96H96v128h224V192z"]},faBatteryQuarter={prefix:"fas",iconName:"battery-quarter",icon:[640,512,[],"f243","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-336 96H96v128h128V192z"]},faBatteryThreeQuarters={prefix:"fas",iconName:"battery-three-quarters",icon:[640,512,[],"f241","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-144 96H96v128h320V192z"]},faBookReader={prefix:"fas",iconName:"book-reader",icon:[512,512,[],"f5da","M352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96 42.98 96 96 96 96-42.98 96-96zM233.59 241.1c-59.33-36.32-155.43-46.3-203.79-49.05C13.55 191.13 0 203.51 0 219.14v222.8c0 14.33 11.59 26.28 26.49 27.05 43.66 2.29 131.99 10.68 193.04 41.43 9.37 4.72 20.48-1.71 20.48-11.87V252.56c-.01-4.67-2.32-8.95-6.42-11.46zm248.61-49.05c-48.35 2.74-144.46 12.73-203.78 49.05-4.1 2.51-6.41 6.96-6.41 11.63v245.79c0 10.19 11.14 16.63 20.54 11.9 61.04-30.72 149.32-39.11 192.97-41.4 14.9-.78 26.49-12.73 26.49-27.06V219.14c-.01-15.63-13.56-28.01-29.81-27.09z"]},faCamera={prefix:"fas",iconName:"camera",icon:[512,512,[],"f030","M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"]},faCheck={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},faCheckSquare={prefix:"fas",iconName:"check-square",icon:[448,512,[],"f14a","M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"]},faCog={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},faCropAlt={prefix:"fas",iconName:"crop-alt",icon:[512,512,[],"f565","M488 352h-40V96c0-17.67-14.33-32-32-32H192v96h160v328c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24zM160 24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v256c0 17.67 14.33 32 32 32h224v-96H160V24z"]},faDoorClosed={prefix:"fas",iconName:"door-closed",icon:[640,512,[],"f52a","M624 448H512V50.8C512 22.78 490.47 0 464 0H175.99c-26.47 0-48 22.78-48 50.8V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM415.99 288c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32c.01 17.67-14.32 32-32 32z"]},faDoorOpen={prefix:"fas",iconName:"door-open",icon:[640,512,[],"f52b","M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"]},faEdit={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},faImage={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"]},faKey={prefix:"fas",iconName:"key",icon:[512,512,[],"f084","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"]},faLock={prefix:"fas",iconName:"lock",icon:[448,512,[],"f023","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"]},faPlus={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},faRedo={prefix:"fas",iconName:"redo",icon:[512,512,[],"f01e","M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"]},faSave={prefix:"fas",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"]},faSearch={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},faSearchLocation={prefix:"fas",iconName:"search-location",icon:[512,512,[],"f689","M505.04 442.66l-99.71-99.69c-4.5-4.5-10.6-7-17-7h-16.3c27.6-35.3 44-79.69 44-127.99C416.03 93.09 322.92 0 208.02 0S0 93.09 0 207.98s93.11 207.98 208.02 207.98c48.3 0 92.71-16.4 128.01-44v16.3c0 6.4 2.5 12.5 7 17l99.71 99.69c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.59.1-33.99zm-297.02-90.7c-79.54 0-144-64.34-144-143.98 0-79.53 64.35-143.98 144-143.98 79.54 0 144 64.34 144 143.98 0 79.53-64.35 143.98-144 143.98zm.02-239.96c-40.78 0-73.84 33.05-73.84 73.83 0 32.96 48.26 93.05 66.75 114.86a9.24 9.24 0 0 0 14.18 0c18.49-21.81 66.75-81.89 66.75-114.86 0-40.78-33.06-73.83-73.84-73.83zm0 96c-13.26 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"]},faSearchMinus={prefix:"fas",iconName:"search-minus",icon:[512,512,[],"f010","M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"]},faSearchPlus={prefix:"fas",iconName:"search-plus",icon:[512,512,[],"f00e","M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"]},faSignOutAlt={prefix:"fas",iconName:"sign-out-alt",icon:[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"]},faSpinner={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"]},faSquare={prefix:"fas",iconName:"square",icon:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"]},faSync={prefix:"fas",iconName:"sync",icon:[512,512,[],"f021","M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"]},faSyncAlt={prefix:"fas",iconName:"sync-alt",icon:[512,512,[],"f2f1","M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"]},faTimes={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},faTrashAlt={prefix:"fas",iconName:"trash-alt",icon:[448,512,[],"f2ed","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},faTrashRestore={prefix:"fas",iconName:"trash-restore",icon:[448,512,[],"f829","M53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32zm70.11-175.8l89.38-94.26a15.41 15.41 0 0 1 22.62 0l89.38 94.26c10.08 10.62 2.94 28.8-11.32 28.8H256v112a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V320h-57.37c-14.26 0-21.4-18.18-11.32-28.8zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},faTrashRestoreAlt={prefix:"fas",iconName:"trash-restore-alt",icon:[448,512,[],"f82a","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm91.31-172.8l89.38-94.26a15.41 15.41 0 0 1 22.62 0l89.38 94.26c10.08 10.62 2.94 28.8-11.32 28.8H256v112a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V320h-57.37c-14.26 0-21.4-18.18-11.32-28.8zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},faUndo={prefix:"fas",iconName:"undo",icon:[512,512,[],"f0e2","M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"]},faUnlockAlt={prefix:"fas",iconName:"unlock-alt",icon:[448,512,[],"f13e","M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zM264 408c0 22.1-17.9 40-40 40s-40-17.9-40-40v-48c0-22.1 17.9-40 40-40s40 17.9 40 40v48z"]},faUpload={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},faUser={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},index_es_faCheckSquare={prefix:"far",iconName:"check-square",icon:[448,512,[],"f14a","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"]},index_es_faSquare={prefix:"far",iconName:"square",icon:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"]},faGithub={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},faMedium={prefix:"fab",iconName:"medium",icon:[448,512,[],"f23a","M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"]},faStackOverflow={prefix:"fab",iconName:"stack-overflow",icon:[384,512,[],"f16c","M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"]};class AuthComponent{constructor(authService,router,connection,baseData){this.authService=authService,this.router=router,this.connection=connection,this.baseData=baseData,this.isLoginMode=!0,this.isLoading=!1,this.error=null,this.hasConnection=!1,this.hasServerConnection=!1,this.form={email:null,password:null}}ngOnInit(){this.authService.logout(),this.hasConnection=this.connection.hasServerAccess,this.hasServerConnection=this.connection.hasServerAccess,this.connectionSubscription=this.connection.monitor().subscribe(conn=>{this.hasConnection=conn.hasNetworkConnection,this.hasServerConnection=conn.hasServerAccess})}ngOnDestroy(){this.connectionSubscription.unsubscribe()}onLoginSubmit(){let authObs;console.log("onLoginSubmit #32",this.form),authObs=this.authService.login(this.form.email,this.form.password),this.isLoading=!0,authObs.subscribe(resData=>{console.log(resData),this.isLoading=!1,this.router.navigate(["/select-inventory"]),this.form.email="",this.form.password=""},errorMessage=>{console.log(errorMessage),this.error=errorMessage,this.isLoading=!1})}}var StatusLoadingInventories=function(StatusLoadingInventories){return StatusLoadingInventories[StatusLoadingInventories.None=0]="None",StatusLoadingInventories[StatusLoadingInventories.WaitingForNetwork=1]="WaitingForNetwork",StatusLoadingInventories[StatusLoadingInventories.WaitingForServerAccess=2]="WaitingForServerAccess",StatusLoadingInventories[StatusLoadingInventories.Pending=3]="Pending",StatusLoadingInventories[StatusLoadingInventories.Loading=4]="Loading",StatusLoadingInventories[StatusLoadingInventories.FinishedSuccessful=5]="FinishedSuccessful",StatusLoadingInventories[StatusLoadingInventories.Failure=6]="Failure",StatusLoadingInventories}({});class select_inventory_component_SelectInventoryComponent{constructor(dataService,eventService,route,router,auth,baseData,progressService,connection,dbsyncLogService){this.dataService=dataService,this.eventService=eventService,this.route=route,this.router=router,this.auth=auth,this.baseData=baseData,this.progressService=progressService,this.connection=connection,this.dbsyncLogService=dbsyncLogService,this.faSyncIcon=faSyncAlt,this.hasConnection=!1,this.hasServerConnection=!1,this.status="",this.statusLoadingUserInventories=StatusLoadingInventories.None,this.loadedUserInventories=!1,this.totalElements=0,this.doneElements=0,this.loading=!1,this.listMetaData=[],this.listMetaMsg=[],this.lastMetaErr="",this.lastMetaMsg="",this.showListmetaMsg=!1,this.tablesLoadingStatus=[],this.tablesLoadingStarted=!1,this.tablesLoadingDetailsIsExpanded=!1}get progressAmount(){if("number"!=typeof this.doneElements||this.doneElements<=0)return 0;if("number"!=typeof this.totalElements)return 0;const total=this.totalElements;return total>0?Math.round(1e3*this.doneElements/total)/10:0}ngOnInit(){this.loading=!1,this.lastInventory=this.baseData.getCurrentInventur(),this.lastBuilding=this.baseData.getCurrentGebaeude(),this.lastRaum=this.baseData.getCurrentRaum(),this.tablesLoadingStarted=Object.keys(this.tablesLoadingStatus).length>0,this.routingSubscription=this.route.params.subscribe(params=>{console.log({params:params})}),this.hasConnection=this.connection.hasServerAccess,this.hasServerConnection=this.connection.hasServerAccess,this.subscriptionLoadingStatus=this.dataService.loadingDataChanged.subscribe(stat=>{this.tablesLoadingStarted=!0;for(const tbl in stat){if(!stat.hasOwnProperty(tbl))continue;if(!this.tablesLoadingStatus.find(tblStat=>tblStat.table===tbl)){this.tablesLoadingStatus.push(stat[tbl]);continue}const tblIdx=this.tablesLoadingStatus.findIndex(tblStat=>tblStat.table===tbl);for(const statKey in stat[tbl])stat[tbl].hasOwnProperty(statKey)&&stat[tbl][statKey]!==this.tablesLoadingStatus[tblIdx][statKey]&&(this.tablesLoadingStatus[tblIdx][statKey]=stat[tbl][statKey])}}),this.connectionSubscription=this.connection.monitor().subscribe(conn=>{this.hasConnection=conn.hasNetworkConnection,this.hasServerConnection=conn.hasServerAccess,this.statusLoadingUserInventories<StatusLoadingInventories.FinishedSuccessful&&this.checkLoadUserInventories()}),this.subscriptionMetaData=this.dbsyncLogService.loadingMetaData.subscribe(data=>{if(data.table){const existing=this.listMetaData.find(item=>item.table===data.table);existing&&(existing.message=data.message,data.executed&&(existing.executed=data.executed),data.total&&(existing.total=data.total))}}),this.subscriptionMetaMsg=this.dbsyncLogService.loadingMetaMessage.subscribe(data=>{this.lastMetaMsg=data.message,this.listMetaMsg.push({type:"success",message:data.message})}),this.subscriptionMetaErr=this.dbsyncLogService.loadingMetaError.subscribe(data=>{this.lastMetaErr=data.message,this.listMetaMsg.push({type:"danger",message:data.message})}),this.connection.hasNetworkConnection||this.loadUserInventories().then(success=>{this.statusLoadingUserInventories=success?StatusLoadingInventories.FinishedSuccessful:StatusLoadingInventories.Failure}).catch(err=>{this.statusLoadingUserInventories=StatusLoadingInventories.Failure,this.status=JSON.stringify(err)})}closeMsg(msg){this.listMetaMsg.splice(this.listMetaMsg.indexOf(msg),1)}loadLastInventoryDetails(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.lastInventoryDetails=null;const inv=this.baseData.getCurrentInventur(),geb=this.baseData.getCurrentGebaeude(),mandant=yield this.dataService.getClient(inv.mid),rm=this.baseData.getCurrentRaum();inv&&geb&&mandant&&(this.lastInventoryDetails={jobid:inv.jobid,mid:inv.mid,gid:geb.gid,Titel:inv.Titel,Mandant:mandant.Mandant,Gebaeude:geb.Gebaeude,routeParams:[inv.mid,geb.gid],Etage:null,Raum:null,Raumbezeichnung:null},rm&&(this.lastInventoryDetails.ruuid=rm.uuid,this.lastInventoryDetails.Etage=rm.Etage,this.lastInventoryDetails.Raum=rm.Raum,this.lastInventoryDetails.Raumbezeichnung=rm.Raumbezeichnung,this.lastInventoryDetails.routeParams.push(rm.uuid)))}))}gotoLastInventory(){this.lastInventoryDetails&&this.lastInventoryDetails.routeParams.length>1&&this.gotoFormInventory.apply(this,this.lastInventoryDetails.routeParams)}gotoFormInventory(mid,gid,ruuid){const routeData=["/form-inventory",mid,gid];ruuid&&ruuid.length>0&&routeData.push(ruuid),this.router.navigate(routeData)}checkLoadUserInventories(onlineOnly=!0){const stat=this.statusLoadingUserInventories;if(stat<StatusLoadingInventories.FinishedSuccessful&&stat<StatusLoadingInventories.Pending){if(!this.hasConnection)return void(this.statusLoadingUserInventories=StatusLoadingInventories.WaitingForNetwork);if(!this.hasServerConnection)return void(this.statusLoadingUserInventories=StatusLoadingInventories.WaitingForServerAccess);this.statusLoadingUserInventories=StatusLoadingInventories.Pending,this.loadUserInventories().then(success=>{this.statusLoadingUserInventories=success?StatusLoadingInventories.FinishedSuccessful:StatusLoadingInventories.Failure}).catch(err=>{this.statusLoadingUserInventories=StatusLoadingInventories.Failure,this.status=JSON.stringify(err)})}}getStatusLoadingInventoryText(status){return StatusLoadingInventories[status]}loadUserInventories(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("ngOnInit select-iventory.components.ts");const uid=this.auth.getUser().id,lastJobid=(this.baseData.getCurrentMid(),this.baseData.getCurrentGid(),this.baseData.getCurrentJobid());return this.baseData.getCurrentRuuid(),yield this.dataService.getUserAssignedInventories(uid).then(result=>{console.log({called:"this.dataService.getUserAssignedInventories",result:result}),this.inventories=result,this.inventoriesSelectable=this.inventories,this.lastInventory=this.inventories.find(inv=>inv.jobid===lastJobid);let defaultMid=0,defaultGid=0,defaultJobid=0;this.statusLoadingUserInventories=StatusLoadingInventories.Loading,this.lastInventory&&(this.loadLastInventoryDetails(),defaultMid=this.lastInventory.mid,defaultGid=this.lastInventory.gid,defaultJobid=this.lastInventory.jobid);const aMids=this.inventories.map(itm=>itm.mid);return console.log("ngOnInit",{uid:uid,aMids:aMids}),this.dataService.getClientList().then(mandanten=>(this.clients=mandanten.filter(itm=>-1!==aMids.indexOf(itm.mid)),this.clients)).then(clientList=>(this.setDefaultSelection({mid:defaultMid,gid:defaultGid,jobid:defaultJobid}),!0)).catch(err=>(this.status=JSON.stringify(err),!1))}).catch(err=>(this.status=JSON.stringify(err),!1))}))}setDefaultSelection(ids){const clientListIdx=this.getClientListIdxByMid(ids.mid);if(-1!==clientListIdx){const clientChanged=this.clientChanged(clientListIdx);(ids.gid||ids.jobid)&&clientChanged.then(success=>{if(!success)return!1;if(ids.gid){const buildingsListIdx=this.getBuildingListIdxByGid(ids.gid);this.buildingChanged(buildingsListIdx)}if(ids.jobid){this.inventoriesSelectable=this.inventories.filter(inv=>inv.mid===ids.mid);const checkInv=this.inventoriesSelectable.find(inv=>inv.jobid===ids.jobid);checkInv&&(this.inventory=checkInv,this.lastBuilding&&this.inventorySelectionChanged(checkInv.jobid).then(()=>{const checkGeb=this.buildings.find(b=>b.gid===this.lastBuilding.gid);checkGeb&&(this.building=checkGeb)}))}})}}getClientListIdxByMid(mid){if(!mid)return-1;for(let i=0;i<this.clients.length;i++)if(this.clients[i].mid===mid)return i;return-1}getBuildingListIdxByGid(gid){if(!gid)return-1;for(let i=0;i<this.buildings.length;i++)if(this.buildings[i].mid===gid)return i;return-1}ngOnDestroy(){this.routingSubscription.unsubscribe(),this.connectionSubscription.unsubscribe(),this.subscriptionMetaMsg.unsubscribe(),this.subscriptionMetaErr.unsubscribe(),this.subscriptionMetaData.unsubscribe()}clientChanged(clientIdx){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.client=this.clients[clientIdx],console.log("client changed to ",{clientIdx:clientIdx,this_clients:this.clients,this_client:this.client}),this.buildings=yield this.dataService.getBuildingList(this.client.mid),this.inventoriesSelectable=this.inventories.filter(inv=>inv.mid===this.client.mid),console.log("assign selection buildings: ",this.buildings),!0}))}onSubmit(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.loading=!0,console.log(this.selectForm),this.client&&this.inventory&&this.building?(this.jobid=this.inventory.jobid,this.baseData.setCurrentMandant(this.client),this.baseData.setCurrentInventur(this.inventory),this.baseData.setCurrentGebaeude(this.building),this.lastInventory&&this.lastInventory.jobid===this.jobid&&this.lastBuilding&&this.lastBuilding.gid===this.building.gid&&(yield this.dataService.hasValidInventurRevId(this.inventory.jobid))&&(yield this.dataService.hasAllInventurData(this.inventory.jobid))?(console.log("SelectInventoryComponent #410 onSubmit gotoLastInventory"),this.gotoLastInventory()):(console.log("SelectInventoryComponent #414 onSubmit dataService.loadInventurDataByInventurId",this.inventory.jobid),this.status="Bitte warten .... Inventarisierungsdaten werden vom Server geladen.",yield this.dataService.loadInventurDataByInventurId(this.inventory.jobid),this.status="Daten wurden geladen",this.router.navigate(["/form-inventory",this.client.mid,this.building.gid]))):this.status="Bitte vervollständige die Auswahl!"}))}buildingChanged(buildingListIdx){this.building=this.buildings[buildingListIdx],this.progressService.getCurrentGebaeudeProgress().then(progress=>{this.totalElements=progress.total,this.doneElements=progress.done})}inventorySelectionChanged(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.inventory=this.inventories.find(ivy=>ivy.jobid===jobid),this.buildings=yield this.dataService.getBuildingListByJobid(this.inventory.jobid,this.inventory.mid)}))}}var DBDIRaumEditStatus=function(DBDIRaumEditStatus){return DBDIRaumEditStatus[DBDIRaumEditStatus.Init=0]="Init",DBDIRaumEditStatus[DBDIRaumEditStatus.Started=1]="Started",DBDIRaumEditStatus[DBDIRaumEditStatus.Closed=2]="Closed",DBDIRaumEditStatus}({}),DBDIJobLockStatus=function(DBDIJobLockStatus){return DBDIJobLockStatus[DBDIJobLockStatus.Init=0]="Init",DBDIJobLockStatus[DBDIJobLockStatus.Unlocked=1]="Unlocked",DBDIJobLockStatus[DBDIJobLockStatus.Locked=2]="Locked",DBDIJobLockStatus}({}),LookupResultTable=function(LookupResultTable){return LookupResultTable[LookupResultTable.None=0]="None",LookupResultTable[LookupResultTable.Any=1]="Any",LookupResultTable[LookupResultTable.Inventar=2]="Inventar",LookupResultTable[LookupResultTable.Raeume=3]="Raeume",LookupResultTable[LookupResultTable.ObjektKatalogGlobal=4]="ObjektKatalogGlobal",LookupResultTable[LookupResultTable.ObjektKatalogMandant=5]="ObjektKatalogMandant",LookupResultTable[LookupResultTable.Objektbuch=6]="Objektbuch",LookupResultTable}({}),LookupResultType=function(LookupResultType){return LookupResultType[LookupResultType.NoMatch=0]="NoMatch",LookupResultType[LookupResultType.Inventar=1]="Inventar",LookupResultType[LookupResultType.Raum=2]="Raum",LookupResultType[LookupResultType.ObjektBuchArtikel=3]="ObjektBuchArtikel",LookupResultType[LookupResultType.ObjektBuchRaum=4]="ObjektBuchRaum",LookupResultType}({}),core_BarcodeFormat=function(BarcodeFormat){return BarcodeFormat[BarcodeFormat.AZTEC=0]="AZTEC",BarcodeFormat[BarcodeFormat.CODABAR=1]="CODABAR",BarcodeFormat[BarcodeFormat.CODE_39=2]="CODE_39",BarcodeFormat[BarcodeFormat.CODE_93=3]="CODE_93",BarcodeFormat[BarcodeFormat.CODE_128=4]="CODE_128",BarcodeFormat[BarcodeFormat.DATA_MATRIX=5]="DATA_MATRIX",BarcodeFormat[BarcodeFormat.EAN_8=6]="EAN_8",BarcodeFormat[BarcodeFormat.EAN_13=7]="EAN_13",BarcodeFormat[BarcodeFormat.ITF=8]="ITF",BarcodeFormat[BarcodeFormat.MAXICODE=9]="MAXICODE",BarcodeFormat[BarcodeFormat.PDF_417=10]="PDF_417",BarcodeFormat[BarcodeFormat.QR_CODE=11]="QR_CODE",BarcodeFormat[BarcodeFormat.RSS_14=12]="RSS_14",BarcodeFormat[BarcodeFormat.RSS_EXPANDED=13]="RSS_EXPANDED",BarcodeFormat[BarcodeFormat.UPC_A=14]="UPC_A",BarcodeFormat[BarcodeFormat.UPC_E=15]="UPC_E",BarcodeFormat[BarcodeFormat.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",BarcodeFormat}({});class BehaviorSubject_BehaviorSubject extends Subject_Subject{constructor(_value){super(),this._value=_value}get value(){return this.getValue()}_subscribe(subscriber){const subscription=super._subscribe(subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value}next(value){super.next(this._value=value)}}var bcLookupTyp=function(bcLookupTyp){return bcLookupTyp[bcLookupTyp.Neu=0]="Neu",bcLookupTyp[bcLookupTyp.Unbekannt=1]="Unbekannt",bcLookupTyp[bcLookupTyp.Raum=2]="Raum",bcLookupTyp[bcLookupTyp.Artikel=3]="Artikel",bcLookupTyp[bcLookupTyp.Inventar=4]="Inventar",bcLookupTyp}({});class scanner_component_ScannerComponent{constructor(activeModal,dataService,bcLookup,imageService,baseData,variables){this.activeModal=activeModal,this.dataService=dataService,this.bcLookup=bcLookup,this.imageService=imageService,this.baseData=baseData,this.variables=variables,this.ngVersion=VERSION.full,this.faCheck=faCheck,this.faRemove=faTrashAlt,this.currentDevice=null,this.onScan=new core_EventEmitter,this.formatsEnabled=[core_BarcodeFormat.CODE_128],this.allowBarcodeInput=!1,this.scanResultHistory=[],this.torchEnabled=!1,this.torchAvailable$=new BehaviorSubject_BehaviorSubject(!1),this.tryHarder=!1}ngOnInit(){this.jobid=this.baseData.getCurrentJobid(),this.variables.get("manualBarcodeInput",!1).then(status=>{this.allowBarcodeInput=status})}clearResult(){this.qrResultString=null,this.scanResultCurrent=null}bctest(test){console.log({test:test}),"string"==typeof test&&test.length&&this.onCodeResult(test)}applyResult(){const emitScanResult={barcode:this.scanBCLookupSimpleResult.barcode,length:this.scanBCLookupSimpleResult.barcode.length,valid:!0,result:this.scanBCLookupSimpleResult};console.log("apply applyResult ",{emitScanResult:emitScanResult}),this.onScan.emit(emitScanResult)}bcLookupTypToString(typ){return bcLookupTyp[typ]}showResult(result){this.scanBCLookupSimpleResult=result,this.scannedBarcodeInfoImg=result.image;let bezeichnung="";switch(result.lookupResultTable){case LookupResultTable.None:bezeichnung="Neuer Barcode",this.scannedBarcodeRsltTyp=bcLookupTyp.Neu,this.scannedBarcodeInfos=this.bcInfoToString({Gefunden:"Neuer oder unbekannter Barcode"});break;case LookupResultTable.Raeume:const g=result.gebaeude.Gebaeude||result.gebaeude.Adresse;g&&(bezeichnung+=g+" :: "),bezeichnung+=result.raum.Raum,result.raum.Raumbezeichnung&&(bezeichnung+=" / "+result.raum.Raumbezeichnung),result.raum.Etage&&(bezeichnung+=" :: "+result.raum.Etage),bezeichnung=result.gebaeude.Gebaeude||result.gebaeude.Adresse,this.scannedBarcodeRsltTyp=bcLookupTyp.Raum,this.scannedBarcodeInfos=bezeichnung,this.bcInfoToString({Gefunden:"Raum",Gebaeude:result.gebaeude.Gebaeude||result.gebaeude.Adresse,Raum:result.raum.Raum,Bezg:result.raum.Raumbezeichnung,Etage:result.raum.Etage});break;case LookupResultTable.Inventar:result.artikelData.Typ&&(bezeichnung=result.artikelData.Typ+" :: "),bezeichnung+=result.artikelData.Bezeichnung,result.artikelData.Farbe&&(bezeichnung+=" :: "+result.artikelData.Farbe),result.artikelData.Groesse&&(bezeichnung+=" :: "+result.artikelData.Groesse),result.artikelData.Kategorie&&(bezeichnung+=" :: "+result.artikelData.Kategorie),this.scannedBarcodeRsltTyp=bcLookupTyp.Inventar,this.scannedBarcodeInfos=bezeichnung,this.bcInfoToString({Gefunden:"Inventar",InventarNr:result.inventar.iv_nr,Bezeichnung:result.artikelData.Bezeichnung,Typ:result.artikelData.Typ,Farbe:result.artikelData.Farbe,Groesse:result.artikelData.Groesse,Kategorie:result.artikelData.Kategorie});break;case LookupResultTable.ObjektKatalogMandant:bezeichnung=result.artikelData.Bezeichnung,result.artikelData.Farbe&&(bezeichnung+=" :: "+result.artikelData.Farbe),result.artikelData.Groesse&&(bezeichnung+=" :: "+result.artikelData.Groesse),result.artikelData.Kategorie&&(bezeichnung+=" :: "+result.artikelData.Kategorie),this.scannedBarcodeRsltTyp=bcLookupTyp.Artikel,this.scannedBarcodeInfos=bezeichnung,this.bcInfoToString({Gefunden:"Artikel",Bezeichnung:result.artikelData.Bezeichnung,Typ:result.artikelData.Typ,Farbe:result.artikelData.Farbe,Groesse:result.artikelData.Groesse,Kategorie:result.artikelData.Kategorie});break;default:bezeichnung="Unerwartetes Ergebnis",this.scannedBarcodeRsltTyp=bcLookupTyp.Unbekannt,this.scannedBarcodeInfos=bezeichnung,this.bcInfoToString({Gefunden:"Unerwartetes Ergebnis",Objekt:LookupResultTable[result.lookupResultTable]})}const newHistoryItem=this.scanResultCurrent?Object.assign({},this.scanResultCurrent):null;this.scanResultCurrent={typ:this.scannedBarcodeRsltTyp,typToString:bcLookupTyp[this.scannedBarcodeRsltTyp],barcode:this.scannedBarcode,infos:this.scannedBarcodeInfos,image:this.scannedBarcodeInfoImg,result:result};const lastResult=this.scanResultCurrent;this.scannedBarcodeInfoImg&&this.scannedBarcodeInfoImg.mcuuid&&this.loadImageByMcuuid(this.scannedBarcodeInfoImg.mcuuid).then(img=>{if(this.scanResultCurrent===lastResult)this.scanResultCurrent.image.data_url=img.data_url;else{const lastResultFound=this.scanResultHistory.find(r=>r===lastResult);lastResultFound&&(lastResultFound.image.data_url=img.data_url)}}),this.addHistoryResult(newHistoryItem)}addHistoryResult(result){if(result)for(this.scanResultHistory.unshift(result);this.scanResultHistory.length>10;)this.scanResultHistory.pop();return this.scanResultHistory.length}removeResult(result){this.scanResultHistory=this.scanResultHistory.filter(r=>r!==result),console.log("remove Result",{result:result})}applyHistoryResult(result){const emitScanResult={barcode:this.scanBCLookupSimpleResult.barcode,length:this.scanBCLookupSimpleResult.barcode.length,valid:!0,result:this.scanBCLookupSimpleResult};console.log("apply applyHistoryResult",{emitScanResult:emitScanResult}),this.onScan.emit(emitScanResult)}clearHistory(){this.scanResultHistory=[]}onCamerasFound(devices){if(this.availableDevices=devices,this.hasDevices=Boolean(devices&&devices.length),this.hasDevices)for(const dev of this.availableDevices)console.log("found camera mediaDeviceInfo: ",dev)}bcInfoToString(json){return JSON.stringify(json).substr(1).split("").slice(0,-1).join("")}onCodeResult(resultString){const oldBarcode=this.scannedBarcode||"";this.scannedBarcode=resultString,this.scannedBarcodeInfos="",this.scannedBarcodeInfoImg=null,this.bcLookup.fullLookup(resultString,this.jobid).then(result=>{this.showResult(result)});const resultLength=resultString.length;let numMatchingStart=0;const checkLength=Math.min(resultLength,oldBarcode.length);if(oldBarcode!==resultString){for(let i=1;i<=checkLength;i++)oldBarcode.substr(0,i)===resultString.substr(0,i)&&(numMatchingStart=i),console.log("i",i,oldBarcode.substr(0,i),resultString.substr(0,i),numMatchingStart);numMatchingStart?(this.scannedUnchangedPart=resultString.substr(0,numMatchingStart),this.scannedChangedPart=resultString.substr(numMatchingStart)):(this.scannedUnchangedPart="",this.scannedChangedPart=resultString.substr(numMatchingStart));const htmlChangedPart=this.barcodeChangedPart.nativeElement;htmlChangedPart.classList.remove("with-pulse-effect"),htmlChangedPart.classList.add("with-pulse-effect"),console.log({oldBarcode:oldBarcode,resultString:resultString,checkLength:checkLength,resultLength:resultLength,numMatchingStart:numMatchingStart,scannedUnchangedPart:this.scannedUnchangedPart,scannedChangedPart:this.scannedChangedPart})}}loadImageByMcuuid(mcuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("called loadImageByGcuuid",mcuuid),mcuuid?this.imageService.getImageByMcuuid(mcuuid).then(image=>image).catch(err=>(console.error(err),null)):null}))}onDeviceSelectChange(selected){const device=this.availableDevices.find(x=>x.deviceId===selected);this.currentDevice=device||null}openFormatsDialog(){}onHasPermission(has){this.hasPermission=has}openInfoDialog(){}onTorchCompatible(isCompatible){this.torchAvailable$.next(isCompatible||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}}class create_artikel_image_component_CreateArtikelImageComponent{constructor(activeModal,imageService){this.activeModal=activeModal,this.imageService=imageService,this.faCamera=faCamera,this.faCrop=faCropAlt,this.faMove=faArrowsAlt,this.faSearchPlus=faSearchPlus,this.faSearchMinus=faSearchMinus,this.faRotateLeft=faUndo,this.faRotateRight=faRedo,this.faCheck=faCheck,this.faBan=faBan,this.faSave=faSave,this.faUpload=faUpload,this.faTrash=faTrashAlt,this.faTrashRestore=faTrashRestore,this.faTrashRestoreAlt=faTrashRestoreAlt,this.allowDelete=!1,this.inputFile=null,this.inputImgData=null,this.inputImgType="",this.inputImgSize=0,this.inputImgWidth=0,this.inputImgHeight=0,this.inputImgSavedData=null,this.previewImgUrl=null,this.config={autoCrop:!1,dragMode:"crop",background:!0,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,restore:!0,viewMode:0,checkImageOrigin:!0,cropmove:this.cropMove.bind(this),cropstart:this.cropStart.bind(this),cropend:this.cropEnd.bind(this),zoom:this.zoomed.bind(this),ready:this.onCropperReady.bind(this),checkCrossOrigin:!0,wheelZoomRatio:.1,toggleDragModeOnDblclick:!0},this.cropStatus=0,this.cropApplied=!1,this.dragMode="move",this.canMove=!1}setMetaData(metaData){this.imgMetaData=metaData}openInputUploadFile(){this.inputUploadFile.nativeElement.dispatchEvent(new MouseEvent("click"))}openInputUploadImage(){this.inputUploadImage.nativeElement.dispatchEvent(new MouseEvent("click"))}cropMove(data){this.cropStatus=3,this.previewImgUrl=this.angularCropper.cropper.getCroppedCanvas().toDataURL()}cropStart(e){this.cropStatus=2}cropEnd(e){if(-1!==["n","ne","e","se","s","sw","w","nw"].indexOf(e.detail.action))this.cropStatus=5;else if("move"===e.detail.action){const canvasData=this.angularCropper.cropper.getCanvasData(),containerData=this.angularCropper.cropper.getContainerData();console.log("cropEnd move",{e:e,canvasData:canvasData,containerData:containerData});let toLeft=canvasData.left>0?0:canvasData.left,toTop=canvasData.top>0?0:canvasData.top;if(canvasData.left>0||canvasData.top>0)this.angularCropper.cropper.moveTo(toLeft,toTop);else{let posIsOk=!0;canvasData.top+canvasData.height<containerData.height&&(toTop=containerData.height-canvasData.height,posIsOk=!1),canvasData.left+canvasData.width<containerData.width&&(toLeft=containerData.width-canvasData.width,posIsOk=!1),posIsOk||this.angularCropper.cropper.moveTo(toLeft,toTop)}}}onCrop(e){}zoomed(e){console.log("zoomListener Event: ",e,"this.angularCropper: ",this.angularCropper);const canvasData=this.angularCropper.cropper.getCanvasData(),containerData=this.angularCropper.cropper.getContainerData(),ratio=e.detail.ratio,minRatioW=containerData.width/canvasData.naturalWidth;if(ratio<e.detail.oldRatio&&(ratio<minRatioW||ratio<containerData.height/canvasData.naturalHeight))return e.preventDefault(),!1;this.canMove=Math.abs(minRatioW-ratio)>.01}ngOnInit(){console.log("#39 CreateArtikelImageComponent ngOniInit"),this.dragMode=this.config.dragMode}onInputImageFile(event,elm){console.log("onInputImageFile",{event:event}),this.inputFile=elm.files.length?elm.files[0]:null,this.prepareInputImageFile()}converterDataURItoBlob(dataURI){let byteString,mimeString,ia;byteString=dataURI.split(",")[0].indexOf("base64")>=0?atob(dataURI.split(",")[1]):encodeURI(dataURI.split(",")[1]),mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0],ia=new Uint8Array(byteString.length);for(let i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);return new Blob([ia],{type:mimeString})}prepareInputImageFile(){if(!this.inputFile)return;this.inputImgSize=this.inputFile.size,this.inputImgType=this.inputFile.type,console.log("Filesize of "+this.inputFile.name+" ("+this.inputFile.type+") is "+this.inputFile.size);const rd=new FileReader;rd.onload=ev=>{console.log(ev),this.inputImgData=rd.result;const img=new Image;img.onerror=err=>{console.error("Cannot load file as image",{err:err})},img.onload=imgLoadEv=>{if(console.log("im onlad",{imgLoadEv:imgLoadEv}),this.inputImgWidth=img.width,this.inputImgHeight=img.height,console.log(`Img W: ${this.inputImgWidth}, H: ${this.inputImgHeight}`),console.log("this.prepareImgCanvas",this.prepareImgCanvas),this.inputImgHeight>2e3||this.inputImgWidth>2e3){const canv=this.prepareImgCanvas.nativeElement,ctx=canv.getContext("2d"),iRel=this.inputImgWidth/this.inputImgHeight;canv.width=iRel>1?2e3:2e3*iRel,canv.height=iRel>1?2e3/iRel:2e3,ctx.drawImage(img,0,0,this.inputImgWidth,this.inputImgHeight,0,0,canv.width,canv.height),this.imageUrl=canv.toDataURL("image/jpeg",.7)}else if(this.inputImgSize>204800){const canv=this.prepareImgCanvas.nativeElement,ctx=canv.getContext("2d");canv.width=this.inputImgWidth,canv.height=this.inputImgHeight,ctx.drawImage(img,0,0),this.imageUrl=canv.toDataURL("image/jpeg",.7)}else this.imageUrl=this.inputImgData},console.log("Assign DataUrl to img. ",this.inputImgData),img.src=this.inputImgData},rd.onprogress=ev=>{console.log("read "+ev.loaded+" of "+ev.total)},rd.readAsDataURL(this.inputFile)}onCropperReady(data){if(console.log("called onCropperReady on this: ",this,"this.angularCropper:",this.angularCropper," data: ",data),!this.angularCropper.isLoading&&void 0!==this.angularCropper.cropper)return this.angularCropper.cropper.setDragMode(this.config.dragMode),void(this.dragMode=this.config.dragMode);this.angularCropper.ready.subscribe(data2=>{console.log("ready subscribe",{data2:data2}),this.angularCropper.cropper.setDragMode(this.config.dragMode),this.dragMode=this.config.dragMode})}crop(){console.log("crop this.angularCropper:",this.angularCropper),this.imageUrl=this.angularCropper.cropper.getCroppedCanvas().toDataURL("image/jpeg"),this.cropApplied=!0,this.angularCropper.cropper.clear(),this.cropStatus=0}cropReset(){console.log("reset this.angularCropper:",this.angularCropper),this.angularCropper.cropper.clear(),this.angularCropper.cropper.reset(),this.cropStatus=0}setDragModeToMove(){this.angularCropper.cropper.setDragMode("move"),this.dragMode="move",1===this.cropStatus&&(this.cropStatus=0)}setDragModeToCrop(){this.angularCropper.cropper.setDragMode("crop"),this.angularCropper.cropper.crop(),this.dragMode="crop",this.cropStatus=5}hideCropBox(){this.angularCropper.cropper.clear()}rotateLeft(){this.angularCropper.cropper.rotate(-90)}rotateRight(){this.angularCropper.cropper.rotate(90)}rotate180(){this.angularCropper.cropper.rotate(180)}zoomIn(){this.angularCropper.cropper.zoom(.1)}zoomOut(useRatio){const ratio=void 0===useRatio||useRatio>=0?-.1:useRatio;console.log("zoom( -0.1) this.angularCropper:",this.angularCropper);const canvasData=this.angularCropper.cropper.getCanvasData(),cropBoxData=this.angularCropper.cropper.getCropBoxData(),containerData=this.angularCropper.cropper.getContainerData(),caw=canvasData.width,cah=canvasData.height,cow=containerData.width,coh=containerData.height;console.log({ratio:ratio,caw:caw,cah:cah,cow:cow,coh:coh,crw:cropBoxData.width,crh:cropBoxData.height,canvasData:canvasData,cropBoxData:cropBoxData,containerData:containerData}),caw<cow||cah<coh?console.error("Permission denied to zoom out smaller than canvas"):(console.log("Permission allowed to zoom out >= canvas"),this.angularCropper.cropper.zoom(ratio))}escape(){this.imageUrl=null,this.inputImgSavedData=null,this.inputImgData=null}close(){this.escape(),this.activeModal.close()}save(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("save this.angularCropper:",this.angularCropper),this.angularCropper.cropper.disable();const cropData=this.angularCropper.cropper.getImageData();return this.inputImgSavedData=this.angularCropper.cropper.getCroppedCanvas().toDataURL("image/jpeg",.8),this.imageService.putArtikelImage({name:this.imgMetaData.name,desc:this.imgMetaData.desc,for_jobid:this.imgMetaData.for_jobid,mcuuid:this.imgMetaData.mcuuid,gcuuid:this.imgMetaData.gcuuid,type:"image/jpeg",size:this.inputImgSavedData.toString().length,width:cropData.width,height:cropData.height,data_url:this.inputImgSavedData}).then(()=>(this.activeModal.close(),!0)).catch(err=>(console.error("Cannot save Image",{err:err}),this.angularCropper.cropper.enable(),!1))}))}cropSave(){this.crop(),this.save()}}class show_artikel_image_component_ShowArtikelImageComponent{constructor(activeModal,imageService){this.activeModal=activeModal,this.imageService=imageService,this.faCrop=faCropAlt,this.faMove=faArrowsAlt,this.faSearchPlus=faSearchPlus,this.faSearchMinus=faSearchMinus,this.faRotateLeft=faUndo,this.faRotateRight=faRedo,this.faCheck=faCheck,this.faBan=faBan,this.faClose=faTimes,this.mcuuid=null,this.inputFile=null,this.previewEnable=!1,this.imageUrl=null,this.maxWidth=600,this.maxHeight=600,this.error="",this.config={autoCrop:!1,dragMode:"move",background:!0,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,restore:!0,viewMode:0,checkImageOrigin:!0,cropend:this.cropEnd.bind(this),zoom:this.zoomed.bind(this),checkCrossOrigin:!0,wheelZoomRatio:.1,toggleDragModeOnDblclick:!0},this.cropStatus=0}ngOnInit(){console.log("called ShowArtikelImageComponent.ngOnInit")}setMcuuid(mcuuid){console.log("called setMcuuid",this.mcuuid),this.mcuuid=mcuuid,this.loadImageByMcuuid(this.mcuuid)}loadImageByMcuuid(mcuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("called loadImageByGcuuid",mcuuid),mcuuid&&this.imageService.getImageByMcuuid(mcuuid).then(image=>{this.imageUrl=image.data_url}).catch(err=>{console.error(err)})}))}zoomed(e){console.log("zoomListener Event: ",e,"this.angularCropper: ",this.angularCropper);const canvasData=this.angularCropper.cropper.getCanvasData(),containerData=this.angularCropper.cropper.getContainerData(),ratio=e.detail.ratio;if(ratio<e.detail.oldRatio&&(ratio<containerData.width/canvasData.naturalWidth||ratio<containerData.height/canvasData.naturalHeight))return e.preventDefault(),!1}cropEnd(e){if(-1!==["n","ne","e","se","s","sw","w","nw"].indexOf(e.detail.action))this.cropStatus=5;else if("move"===e.detail.action){const canvasData=this.angularCropper.cropper.getCanvasData(),containerData=this.angularCropper.cropper.getContainerData();console.log("cropEnd move",{e:e,canvasData:canvasData,containerData:containerData});const toLeft=canvasData.left>0?0:canvasData.left,toTop=canvasData.top>0?0:canvasData.top;(canvasData.left>0||canvasData.top>0)&&this.angularCropper.cropper.moveTo(toLeft,toTop)}}rotateLeft(){this.angularCropper.cropper.rotate(-90)}rotateRight(){this.angularCropper.cropper.rotate(90)}rotate180(){this.angularCropper.cropper.rotate(180)}zoomIn(){const canvasData=this.angularCropper.cropper.getCanvasData();console.log("zoomIn ",{canvasData:canvasData}),this.angularCropper.cropper.zoom(.1)}zoomOut(useRatio){const ratio=void 0===useRatio||useRatio>=0?-.1:useRatio;console.log("zoom( -0.1) this.angularCropper:",this.angularCropper);const canvasData=this.angularCropper.cropper.getCanvasData(),cropBoxData=this.angularCropper.cropper.getCropBoxData(),containerData=this.angularCropper.cropper.getContainerData(),caw=canvasData.width,cah=canvasData.height,cow=containerData.width,coh=containerData.height;console.log({ratio:ratio,caw:caw,cah:cah,cow:cow,coh:coh,crw:cropBoxData.width,crh:cropBoxData.height,canvasData:canvasData,cropBoxData:cropBoxData,containerData:containerData}),caw<cow||cah<coh?console.error("Permission denied to zoom out smaller than canvas"):(console.log("Permission allowed to zoom out >= canvas"),this.angularCropper.cropper.zoom(ratio))}escape(){this.imageUrl=null}close(){this.escape(),this.activeModal.close()}}class PlatformLocation{}const LOCATION_INITIALIZED=new InjectionToken("Location Initialized");class LocationStrategy{}const APP_BASE_HREF=new InjectionToken("appBaseHref");class common_Location{constructor(platformStrategy,platformLocation){this._subject=new core_EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;const browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=common_Location.stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(ev=>{this._subject.emit({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}path(includeHash=!1){return this.normalize(this._platformStrategy.path(includeHash))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(path,query=""){return this.path()==this.normalize(path+common_Location.normalizeQueryParams(query))}normalize(url){return common_Location.stripTrailingSlash(function(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&"/"!==url[0]&&(url="/"+url),this._platformStrategy.prepareExternalUrl(url)}go(path,query="",state=null){this._platformStrategy.pushState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+common_Location.normalizeQueryParams(query)),state)}replaceState(path,query="",state=null){this._platformStrategy.replaceState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+common_Location.normalizeQueryParams(query)),state)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(fn){this._urlChangeListeners.push(fn),this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})}_notifyUrlChangeListeners(url="",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}static normalizeQueryParams(params){return params&&"?"!==params[0]?"?"+params:params}static joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;let slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end}static stripTrailingSlash(url){const match=url.match(/#|\?|$/),pathEndIdx=match&&match.index||url.length;return url.slice(0,pathEndIdx-("/"===url[pathEndIdx-1]?1:0))+url.slice(pathEndIdx)}}function _stripIndexHtml(url){return url.replace(/\/index.html$/,"")}class HashLocationStrategy extends LocationStrategy{constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,this._baseHref="",null!=_baseHref&&(this._baseHref=_baseHref)}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}path(includeHash=!1){let path=this._platformLocation.hash;return null==path&&(path="#"),path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=common_Location.joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url}pushState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+common_Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+common_Location.normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class PathLocationStrategy extends LocationStrategy{constructor(_platformLocation,href){if(super(),this._platformLocation=_platformLocation,null==href&&(href=this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=href}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return common_Location.joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+common_Location.normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+common_Location.normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+common_Location.normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const NumberFormatStyle=function(){var NumberFormatStyle={Decimal:0,Percent:1,Currency:2,Scientific:3};return NumberFormatStyle[NumberFormatStyle.Decimal]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent]="Percent",NumberFormatStyle[NumberFormatStyle.Currency]="Currency",NumberFormatStyle[NumberFormatStyle.Scientific]="Scientific",NumberFormatStyle}(),Plural=function(){var Plural={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return Plural[Plural.Zero]="Zero",Plural[Plural.One]="One",Plural[Plural.Two]="Two",Plural[Plural.Few]="Few",Plural[Plural.Many]="Many",Plural[Plural.Other]="Other",Plural}(),FormStyle=function(){var FormStyle={Format:0,Standalone:1};return FormStyle[FormStyle.Format]="Format",FormStyle[FormStyle.Standalone]="Standalone",FormStyle}(),TranslationWidth=function(){var TranslationWidth={Narrow:0,Abbreviated:1,Wide:2,Short:3};return TranslationWidth[TranslationWidth.Narrow]="Narrow",TranslationWidth[TranslationWidth.Abbreviated]="Abbreviated",TranslationWidth[TranslationWidth.Wide]="Wide",TranslationWidth[TranslationWidth.Short]="Short",TranslationWidth}(),FormatWidth=function(){var FormatWidth={Short:0,Medium:1,Long:2,Full:3};return FormatWidth[FormatWidth.Short]="Short",FormatWidth[FormatWidth.Medium]="Medium",FormatWidth[FormatWidth.Long]="Long",FormatWidth[FormatWidth.Full]="Full",FormatWidth}(),NumberSymbol=function(){var NumberSymbol={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return NumberSymbol[NumberSymbol.Decimal]="Decimal",NumberSymbol[NumberSymbol.Group]="Group",NumberSymbol[NumberSymbol.List]="List",NumberSymbol[NumberSymbol.PercentSign]="PercentSign",NumberSymbol[NumberSymbol.PlusSign]="PlusSign",NumberSymbol[NumberSymbol.MinusSign]="MinusSign",NumberSymbol[NumberSymbol.Exponential]="Exponential",NumberSymbol[NumberSymbol.SuperscriptingExponent]="SuperscriptingExponent",NumberSymbol[NumberSymbol.PerMille]="PerMille",NumberSymbol[NumberSymbol.Infinity]="Infinity",NumberSymbol[NumberSymbol.NaN]="NaN",NumberSymbol[NumberSymbol.TimeSeparator]="TimeSeparator",NumberSymbol[NumberSymbol.CurrencyDecimal]="CurrencyDecimal",NumberSymbol[NumberSymbol.CurrencyGroup]="CurrencyGroup",NumberSymbol}();function getLocaleDayNames(locale,formStyle,width){const data=findLocaleData(locale),days=getLastDefinedValue([data[LocaleDataIndex.DaysFormat],data[LocaleDataIndex.DaysStandalone]],formStyle);return getLastDefinedValue(days,width)}function getLocaleMonthNames(locale,formStyle,width){const data=findLocaleData(locale),months=getLastDefinedValue([data[LocaleDataIndex.MonthsFormat],data[LocaleDataIndex.MonthsStandalone]],formStyle);return getLastDefinedValue(months,width)}function getLocaleDateFormat(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.DateFormat],width)}function getLocaleTimeFormat(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.TimeFormat],width)}function getLocaleDateTimeFormat(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.DateTimeFormat],width)}function getLocaleNumberSymbol(locale,symbol){const data=findLocaleData(locale),res=data[LocaleDataIndex.NumberSymbols][symbol];if(void 0===res){if(symbol===NumberSymbol.CurrencyDecimal)return data[LocaleDataIndex.NumberSymbols][NumberSymbol.Decimal];if(symbol===NumberSymbol.CurrencyGroup)return data[LocaleDataIndex.NumberSymbols][NumberSymbol.Group]}return res}function checkFullData(data){if(!data[LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${data[LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function getLastDefinedValue(data,index){for(let i=index;i>-1;i--)if(void 0!==data[i])return data[i];throw new Error("Locale data API: locale data undefined")}function extractTime(time){const[h,m]=time.split(":");return{hours:+h,minutes:+m}}const ISO8601_DATE_REGEX=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,NAMED_FORMATS={},DATE_FORMATS_SPLIT=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ZoneWidth=function(){var ZoneWidth={Short:0,ShortGMT:1,Long:2,Extended:3};return ZoneWidth[ZoneWidth.Short]="Short",ZoneWidth[ZoneWidth.ShortGMT]="ShortGMT",ZoneWidth[ZoneWidth.Long]="Long",ZoneWidth[ZoneWidth.Extended]="Extended",ZoneWidth}(),DateType=function(){var DateType={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return DateType[DateType.FullYear]="FullYear",DateType[DateType.Month]="Month",DateType[DateType.Date]="Date",DateType[DateType.Hours]="Hours",DateType[DateType.Minutes]="Minutes",DateType[DateType.Seconds]="Seconds",DateType[DateType.FractionalSeconds]="FractionalSeconds",DateType[DateType.Day]="Day",DateType}(),TranslationType=function(){var TranslationType={DayPeriods:0,Days:1,Months:2,Eras:3};return TranslationType[TranslationType.DayPeriods]="DayPeriods",TranslationType[TranslationType.Days]="Days",TranslationType[TranslationType.Months]="Months",TranslationType[TranslationType.Eras]="Eras",TranslationType}();function formatDate(value,format,locale,timezone){let date=function(value){if(isDate(value))return value;if("number"==typeof value&&!isNaN(value))return new Date(value);if("string"==typeof value){value=value.trim();const parsedNb=parseFloat(value);if(!isNaN(value-parsedNb))return new Date(parsedNb);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(value)){const[y,m,d]=value.split("-").map(val=>+val);return new Date(y,m-1,d)}let match;if(match=value.match(ISO8601_DATE_REGEX))return function(match){const date=new Date(0);let tzHour=0,tzMin=0;const dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=Number(match[9]+match[10]),tzMin=Number(match[9]+match[11])),dateSetter.call(date,Number(match[1]),Number(match[2])-1,Number(match[3]));const h=Number(match[4]||0)-tzHour,m=Number(match[5]||0)-tzMin,s=Number(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}(match)}const date=new Date(value);if(!isDate(date))throw new Error(`Unable to convert "${value}" into a date`);return date}(value);format=function getNamedFormat(locale,format){const localeId=function(locale){return findLocaleData(locale)[LocaleDataIndex.LocaleId]}(locale);if(NAMED_FORMATS[localeId]=NAMED_FORMATS[localeId]||{},NAMED_FORMATS[localeId][format])return NAMED_FORMATS[localeId][format];let formatValue="";switch(format){case"shortDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Short);break;case"mediumDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Medium);break;case"longDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Long);break;case"fullDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Full);break;case"shortTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Short);break;case"mediumTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Medium);break;case"longTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Long);break;case"fullTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Full);break;case"short":const shortTime=getNamedFormat(locale,"shortTime"),shortDate=getNamedFormat(locale,"shortDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Short),[shortTime,shortDate]);break;case"medium":const mediumTime=getNamedFormat(locale,"mediumTime"),mediumDate=getNamedFormat(locale,"mediumDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Medium),[mediumTime,mediumDate]);break;case"long":const longTime=getNamedFormat(locale,"longTime"),longDate=getNamedFormat(locale,"longDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Long),[longTime,longDate]);break;case"full":const fullTime=getNamedFormat(locale,"fullTime"),fullDate=getNamedFormat(locale,"fullDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Full),[fullTime,fullDate])}return formatValue&&(NAMED_FORMATS[localeId][format]=formatValue),formatValue}(locale,format)||format;let match,parts=[];for(;format;){if(match=DATE_FORMATS_SPLIT.exec(format),!match){parts.push(format);break}{parts=parts.concat(match.slice(1));const part=parts.pop();if(!part)break;format=part}}let dateTimezoneOffset=date.getTimezoneOffset();timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset),date=function(date,timezone,reverse){const dateTimezoneOffset=date.getTimezoneOffset();return function(date,minutes){return(date=new Date(date.getTime())).setMinutes(date.getMinutes()+minutes),date}(date,-1*(timezoneToOffset(timezone,dateTimezoneOffset)-dateTimezoneOffset))}(date,timezone));let text="";return parts.forEach(value=>{const dateFormatter=function(format){if(DATE_FORMATS[format])return DATE_FORMATS[format];let formatter;switch(format){case"G":case"GG":case"GGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Abbreviated);break;case"GGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Wide);break;case"GGGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Narrow);break;case"y":formatter=dateGetter(DateType.FullYear,1,0,!1,!0);break;case"yy":formatter=dateGetter(DateType.FullYear,2,0,!0,!0);break;case"yyy":formatter=dateGetter(DateType.FullYear,3,0,!1,!0);break;case"yyyy":formatter=dateGetter(DateType.FullYear,4,0,!1,!0);break;case"M":case"L":formatter=dateGetter(DateType.Month,1,1);break;case"MM":case"LL":formatter=dateGetter(DateType.Month,2,1);break;case"MMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated);break;case"MMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide);break;case"MMMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow);break;case"LLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated,FormStyle.Standalone);break;case"LLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide,FormStyle.Standalone);break;case"LLLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow,FormStyle.Standalone);break;case"w":formatter=weekGetter(1);break;case"ww":formatter=weekGetter(2);break;case"W":formatter=weekGetter(1,!0);break;case"d":formatter=dateGetter(DateType.Date,1);break;case"dd":formatter=dateGetter(DateType.Date,2);break;case"E":case"EE":case"EEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Abbreviated);break;case"EEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Wide);break;case"EEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Narrow);break;case"EEEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Short);break;case"a":case"aa":case"aaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated);break;case"aaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide);break;case"aaaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow);break;case"b":case"bb":case"bbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Standalone,!0);break;case"bbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Standalone,!0);break;case"bbbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Standalone,!0);break;case"B":case"BB":case"BBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Format,!0);break;case"BBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Format,!0);break;case"BBBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Format,!0);break;case"h":formatter=dateGetter(DateType.Hours,1,-12);break;case"hh":formatter=dateGetter(DateType.Hours,2,-12);break;case"H":formatter=dateGetter(DateType.Hours,1);break;case"HH":formatter=dateGetter(DateType.Hours,2);break;case"m":formatter=dateGetter(DateType.Minutes,1);break;case"mm":formatter=dateGetter(DateType.Minutes,2);break;case"s":formatter=dateGetter(DateType.Seconds,1);break;case"ss":formatter=dateGetter(DateType.Seconds,2);break;case"S":formatter=dateGetter(DateType.FractionalSeconds,1);break;case"SS":formatter=dateGetter(DateType.FractionalSeconds,2);break;case"SSS":formatter=dateGetter(DateType.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":formatter=timeZoneGetter(ZoneWidth.Short);break;case"ZZZZZ":formatter=timeZoneGetter(ZoneWidth.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":formatter=timeZoneGetter(ZoneWidth.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":formatter=timeZoneGetter(ZoneWidth.Long);break;default:return null}return DATE_FORMATS[format]=formatter,formatter}(value);text+=dateFormatter?dateFormatter(date,locale,dateTimezoneOffset):"''"===value?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}function formatDateTime(str,opt_values){return opt_values&&(str=str.replace(/\{([^}]+)}/g,(function(match,key){return null!=opt_values&&key in opt_values?opt_values[key]:match}))),str}function padNumber(num,digits,minusSign="-",trim,negWrap){let neg="";(num<0||negWrap&&num<=0)&&(negWrap?num=1-num:(num=-num,neg=minusSign));let strNum=String(num);for(;strNum.length<digits;)strNum="0"+strNum;return trim&&(strNum=strNum.substr(strNum.length-digits)),neg+strNum}function dateGetter(name,size,offset=0,trim=!1,negWrap=!1){return function(date,locale){let part=function(part,date){switch(part){case DateType.FullYear:return date.getFullYear();case DateType.Month:return date.getMonth();case DateType.Date:return date.getDate();case DateType.Hours:return date.getHours();case DateType.Minutes:return date.getMinutes();case DateType.Seconds:return date.getSeconds();case DateType.FractionalSeconds:return date.getMilliseconds();case DateType.Day:return date.getDay();default:throw new Error(`Unknown DateType value "${part}".`)}}(name,date);if((offset>0||part>-offset)&&(part+=offset),name===DateType.Hours)0===part&&-12===offset&&(part=12);else if(name===DateType.FractionalSeconds)return digits=size,padNumber(part,3).substr(0,digits);var digits;const localeMinus=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign);return padNumber(part,size,localeMinus,trim,negWrap)}}function dateStrGetter(name,width,form=FormStyle.Format,extended=!1){return function(date,locale){return function(date,locale,name,width,form,extended){switch(name){case TranslationType.Months:return getLocaleMonthNames(locale,form,width)[date.getMonth()];case TranslationType.Days:return getLocaleDayNames(locale,form,width)[date.getDay()];case TranslationType.DayPeriods:const currentHours=date.getHours(),currentMinutes=date.getMinutes();if(extended){const rules=function(locale){const data=findLocaleData(locale);return checkFullData(data),(data[LocaleDataIndex.ExtraData][2]||[]).map(rule=>"string"==typeof rule?extractTime(rule):[extractTime(rule[0]),extractTime(rule[1])])}(locale),dayPeriods=function(locale,formStyle,width){const data=findLocaleData(locale);checkFullData(data);const dayPeriods=getLastDefinedValue([data[LocaleDataIndex.ExtraData][0],data[LocaleDataIndex.ExtraData][1]],formStyle)||[];return getLastDefinedValue(dayPeriods,width)||[]}(locale,form,width);let result;if(rules.forEach((rule,index)=>{if(Array.isArray(rule)){const{hours:hoursFrom,minutes:minutesFrom}=rule[0],{hours:hoursTo,minutes:minutesTo}=rule[1];currentHours>=hoursFrom&&currentMinutes>=minutesFrom&&(currentHours<hoursTo||currentHours===hoursTo&&currentMinutes<minutesTo)&&(result=dayPeriods[index])}else{const{hours:hours,minutes:minutes}=rule;hours===currentHours&&minutes===currentMinutes&&(result=dayPeriods[index])}}),result)return result}return function(locale,formStyle,width){const data=findLocaleData(locale),amPm=getLastDefinedValue([data[LocaleDataIndex.DayPeriodsFormat],data[LocaleDataIndex.DayPeriodsStandalone]],formStyle);return getLastDefinedValue(amPm,width)}(locale,form,width)[currentHours<12?0:1];case TranslationType.Eras:return function(locale,width){return getLastDefinedValue(findLocaleData(locale)[LocaleDataIndex.Eras],width)}(locale,width)[date.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+name)}}(date,locale,name,width,form,extended)}}function timeZoneGetter(width){return function(date,locale,offset){const zone=-1*offset,minusSign=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign),hours=zone>0?Math.floor(zone/60):Math.ceil(zone/60);switch(width){case ZoneWidth.Short:return(zone>=0?"+":"")+padNumber(hours,2,minusSign)+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.ShortGMT:return"GMT"+(zone>=0?"+":"")+padNumber(hours,1,minusSign);case ZoneWidth.Long:return"GMT"+(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.Extended:return 0===offset?"Z":(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);default:throw new Error(`Unknown zone width "${width}"`)}}}function weekGetter(size,monthBased=!1){return function(date,locale){let result;if(monthBased){const nbDaysBefore1stDayOfMonth=new Date(date.getFullYear(),date.getMonth(),1).getDay()-1,today=date.getDate();result=1+Math.floor((today+nbDaysBefore1stDayOfMonth)/7)}else{const firstThurs=function(year){const firstDayOfYear=new Date(year,0,1).getDay();return new Date(year,0,1+(firstDayOfYear<=4?4:11)-firstDayOfYear)}(date.getFullYear()),diff=(datetime=date,new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))).getTime()-firstThurs.getTime();result=1+Math.round(diff/6048e5)}var datetime;return padNumber(result,size,getLocaleNumberSymbol(locale,NumberSymbol.MinusSign))}}const DATE_FORMATS={};function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,"");const requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function isDate(value){return value instanceof Date&&!isNaN(value.valueOf())}const NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function parseIntAutoRadix(text){const result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}const DEPRECATED_PLURAL_FN=new InjectionToken("UseV4Plurals");class NgLocalization{}class NgLocaleLocalization extends NgLocalization{constructor(locale,deprecatedPluralFn){super(),this.locale=locale,this.deprecatedPluralFn=deprecatedPluralFn}getPluralCategory(value,locale){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(locale||this.locale,value):function(locale){return findLocaleData(locale)[LocaleDataIndex.PluralCase]}(locale||this.locale)(value)){case Plural.Zero:return"zero";case Plural.One:return"one";case Plural.Two:return"two";case Plural.Few:return"few";case Plural.Many:return"many";default:return"other"}}}function parseCookieValue(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(";")){const eqIndex=cookie.indexOf("="),[cookieName,cookieValue]=-1==eqIndex?[cookie,""]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}class NgClassImpl{}class common_NgClassR2Impl{constructor(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._initialClasses=[]}getValue(){return null}setClass(value){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof value?value.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(value){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof value?value.split(/\s+/):value,this._rawClass&&(isListLikeIterable$1(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const iterableChanges=this._iterableDiffer.diff(this._rawClass);iterableChanges&&this._applyIterableChanges(iterableChanges)}else if(this._keyValueDiffer){const keyValueChanges=this._keyValueDiffer.diff(this._rawClass);keyValueChanges&&this._applyKeyValueChanges(keyValueChanges)}}_applyKeyValueChanges(changes){changes.forEachAddedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachRemovedItem(record=>{record.previousValue&&this._toggleClass(record.key,!1)})}_applyIterableChanges(changes){changes.forEachAddedItem(record=>{if("string"!=typeof record.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+stringify(record.item));this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(record=>this._toggleClass(record.item,!1))}_applyClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!0)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!!rawClassVal[klass])))}_removeClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!1)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!1)))}_toggleClass(klass,enabled){(klass=klass.trim())&&klass.split(/\s+/g).forEach(klass=>{enabled?this._renderer.addClass(this._ngEl.nativeElement,klass):this._renderer.removeClass(this._ngEl.nativeElement,klass)})}}let NgClassBase=(()=>{class NgClassBase{constructor(_delegate){this._delegate=_delegate}getValue(){return this._delegate.getValue()}}return NgClassBase.ngDirectiveDef=void 0,NgClassBase})();class NgClass extends NgClassBase{constructor(delegate){super(delegate)}set klass(value){this._delegate.setClass(value)}set ngClass(value){this._delegate.setNgClass(value)}ngDoCheck(){this._delegate.applyChanges()}}class NgForOfContext{constructor($implicit,ngForOf,index,count){this.$implicit=$implicit,this.ngForOf=ngForOf,this.index=index,this.count=count}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class common_NgForOf{constructor(_viewContainer,_template,_differs){this._viewContainer=_viewContainer,this._template=_template,this._differs=_differs,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ngForOf){this._ngForOf=ngForOf,this._ngForOfDirty=!0}set ngForTrackBy(fn){isDevMode()&&null!=fn&&"function"!=typeof fn&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=fn}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(value){value&&(this._template=value)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const value=this._ngForOf;if(!this._differ&&value)try{this._differ=this._differs.find(value).create(this.ngForTrackBy)}catch(_a){throw new Error(`Cannot find a differ supporting object '${value}' of type '${type=value,type.name||typeof type}'. NgFor only supports binding to Iterables such as Arrays.`)}}var type;if(this._differ){const changes=this._differ.diff(this._ngForOf);changes&&this._applyChanges(changes)}}_applyChanges(changes){const insertTuples=[];changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex){const view=this._viewContainer.createEmbeddedView(this._template,new NgForOfContext(null,this._ngForOf,-1,-1),null===currentIndex?void 0:currentIndex),tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}else if(null==currentIndex)this._viewContainer.remove(null===adjustedPreviousIndex?void 0:adjustedPreviousIndex);else if(null!==adjustedPreviousIndex){const view=this._viewContainer.get(adjustedPreviousIndex);this._viewContainer.move(view,currentIndex);const tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}});for(let i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(let i=0,ilen=this._viewContainer.length;i<ilen;i++){const viewRef=this._viewContainer.get(i);viewRef.context.index=i,viewRef.context.count=ilen,viewRef.context.ngForOf=this._ngForOf}changes.forEachIdentityChange(record=>{this._viewContainer.get(record.currentIndex).context.$implicit=record.item})}_perViewChange(view,record){view.context.$implicit=record.item}static ngTemplateContextGuard(dir,ctx){return!0}}class RecordViewTuple{constructor(record,view){this.record=record,this.view=view}}class NgIf{constructor(_viewContainer,templateRef){this._viewContainer=_viewContainer,this._context=new NgIfContext,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=templateRef}set ngIf(condition){this._context.$implicit=this._context.ngIf=condition,this._updateView()}set ngIfThen(templateRef){assertTemplate("ngIfThen",templateRef),this._thenTemplateRef=templateRef,this._thenViewRef=null,this._updateView()}set ngIfElse(templateRef){assertTemplate("ngIfElse",templateRef),this._elseTemplateRef=templateRef,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class NgIfContext{constructor(){this.$implicit=null,this.ngIf=null}}function assertTemplate(property,templateRef){if(templateRef&&!templateRef.createEmbeddedView)throw new Error(`${property} must be a TemplateRef, but received '${stringify(templateRef)}'.`)}class SwitchView{constructor(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(created){created&&!this._created?this.create():!created&&this._created&&this.destroy()}}class NgSwitch{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(newValue){this._ngSwitch=newValue,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(view){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(view)}_matchCase(value){const matched=value==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||matched,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),matched}_updateDefaultCases(useDefault){if(this._defaultViews&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(useDefault)}}}class NgSwitchCase{constructor(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch,ngSwitch._addCase(),this._view=new SwitchView(viewContainer,templateRef)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class NgSwitchDefault{constructor(viewContainer,templateRef,ngSwitch){ngSwitch._addDefault(new SwitchView(viewContainer,templateRef))}}class NgStyleImpl{}class NgStyleR2Impl{constructor(_ngEl,_differs,_renderer){this._ngEl=_ngEl,this._differs=_differs,this._renderer=_renderer}getValue(){return null}setNgStyle(values){this._ngStyle=values,!this._differ&&values&&(this._differ=this._differs.find(values).create())}applyChanges(){if(this._differ){const changes=this._differ.diff(this._ngStyle);changes&&this._applyChanges(changes)}}_applyChanges(changes){changes.forEachRemovedItem(record=>this._setStyle(record.key,null)),changes.forEachAddedItem(record=>this._setStyle(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._setStyle(record.key,record.currentValue))}_setStyle(nameAndUnit,value){const[name,unit]=nameAndUnit.split(".");null!=(value=null!=value&&unit?`${value}${unit}`:value)?this._renderer.setStyle(this._ngEl.nativeElement,name,value):this._renderer.removeStyle(this._ngEl.nativeElement,name)}}let NgStyleBase=(()=>{class NgStyleBase{constructor(_delegate){this._delegate=_delegate}getValue(){return this._delegate.getValue()}}return NgStyleBase.ngDirectiveDef=void 0,NgStyleBase})();class NgStyle extends NgStyleBase{constructor(delegate){super(delegate)}set ngStyle(value){this._delegate.setNgStyle(value)}ngDoCheck(){this._delegate.applyChanges()}}class NgTemplateOutlet{constructor(_viewContainerRef){this._viewContainerRef=_viewContainerRef,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(changes){this._shouldRecreateView(changes)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(changes){const ctxChange=changes.ngTemplateOutletContext;return!!changes.ngTemplateOutlet||ctxChange&&this._hasContextShapeChanged(ctxChange)}_hasContextShapeChanged(ctxChange){const prevCtxKeys=Object.keys(ctxChange.previousValue||{}),currCtxKeys=Object.keys(ctxChange.currentValue||{});if(prevCtxKeys.length===currCtxKeys.length){for(let propName of currCtxKeys)if(-1===prevCtxKeys.indexOf(propName))return!0;return!1}return!0}_updateExistingContext(ctx){for(let propName of Object.keys(ctx))this._viewRef.context[propName]=this.ngTemplateOutletContext[propName]}}function invalidPipeArgumentError(type,value){return Error(`InvalidPipeArgument: '${value}' for pipe '${stringify(type)}'`)}class DatePipe{constructor(locale){this.locale=locale}transform(value,format="mediumDate",timezone,locale){if(null==value||""===value||value!=value)return null;try{return formatDate(value,format,locale||this.locale,timezone)}catch(error){throw invalidPipeArgumentError(DatePipe,error.message)}}}class JsonPipe{transform(value){return JSON.stringify(value,null,2)}}class DecimalPipe{constructor(_locale){this._locale=_locale}transform(value,digitsInfo,locale){if(function(value){return null==value||""===value||value!=value}(value))return null;locale=locale||this._locale;try{return function(value,locale,digitsInfo){return function(value,pattern,locale,groupSymbol,decimalSymbol,digitsInfo,isPercent=!1){let formattedText="",isZero=!1;if(isFinite(value)){let parsedNumber=function(num){let digits,integerLen,i,j,zeros,numStr=Math.abs(num)+"",exponent=0;for((integerLen=numStr.indexOf("."))>-1&&(numStr=numStr.replace(".","")),(i=numStr.search(/e/i))>0?(integerLen<0&&(integerLen=i),integerLen+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):integerLen<0&&(integerLen=numStr.length),i=0;"0"===numStr.charAt(i);i++);if(i===(zeros=numStr.length))digits=[0],integerLen=1;else{for(zeros--;"0"===numStr.charAt(zeros);)zeros--;for(integerLen-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=Number(numStr.charAt(i))}return integerLen>22&&(digits=digits.splice(0,21),exponent=integerLen-1,integerLen=1),{digits:digits,exponent:exponent,integerLen:integerLen}}(value);isPercent&&(parsedNumber=function(parsedNumber){if(0===parsedNumber.digits[0])return parsedNumber;const fractionLen=parsedNumber.digits.length-parsedNumber.integerLen;return parsedNumber.exponent?parsedNumber.exponent+=2:(0===fractionLen?parsedNumber.digits.push(0,0):1===fractionLen&&parsedNumber.digits.push(0),parsedNumber.integerLen+=2),parsedNumber}(parsedNumber));let minInt=pattern.minInt,minFraction=pattern.minFrac,maxFraction=pattern.maxFrac;if(digitsInfo){const parts=digitsInfo.match(NUMBER_FORMAT_REGEXP);if(null===parts)throw new Error(digitsInfo+" is not a valid digit info");const minIntPart=parts[1],minFractionPart=parts[3],maxFractionPart=parts[5];null!=minIntPart&&(minInt=parseIntAutoRadix(minIntPart)),null!=minFractionPart&&(minFraction=parseIntAutoRadix(minFractionPart)),null!=maxFractionPart?maxFraction=parseIntAutoRadix(maxFractionPart):null!=minFractionPart&&minFraction>maxFraction&&(maxFraction=minFraction)}!function(parsedNumber,minFrac,maxFrac){if(minFrac>maxFrac)throw new Error(`The minimum number of digits after fraction (${minFrac}) is higher than the maximum (${maxFrac}).`);let digits=parsedNumber.digits,fractionLen=digits.length-parsedNumber.integerLen;const fractionSize=Math.min(Math.max(minFrac,fractionLen),maxFrac);let roundAt=fractionSize+parsedNumber.integerLen,digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.integerLen,roundAt));for(let j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen),parsedNumber.integerLen=1,digits.length=Math.max(1,roundAt=fractionSize+1),digits[0]=0;for(let i=1;i<roundAt;i++)digits[i]=0}if(digit>=5)if(roundAt-1<0){for(let k=0;k>roundAt;k--)digits.unshift(0),parsedNumber.integerLen++;digits.unshift(1),parsedNumber.integerLen++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);let dropTrailingZeros=0!==fractionSize;const minLen=minFrac+parsedNumber.integerLen,carry=digits.reduceRight((function(carry,d,i,digits){return digits[i]=(d+=carry)<10?d:d-10,dropTrailingZeros&&(0===digits[i]&&i>=minLen?digits.pop():dropTrailingZeros=!1),d>=10?1:0}),0);carry&&(digits.unshift(carry),parsedNumber.integerLen++)}(parsedNumber,minFraction,maxFraction);let digits=parsedNumber.digits,integerLen=parsedNumber.integerLen;const exponent=parsedNumber.exponent;let decimals=[];for(isZero=digits.every(d=>!d);integerLen<minInt;integerLen++)digits.unshift(0);for(;integerLen<0;integerLen++)digits.unshift(0);integerLen>0?decimals=digits.splice(integerLen,digits.length):(decimals=digits,digits=[0]);const groups=[];for(digits.length>=pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(getLocaleNumberSymbol(locale,groupSymbol)),decimals.length&&(formattedText+=getLocaleNumberSymbol(locale,decimalSymbol)+decimals.join("")),exponent&&(formattedText+=getLocaleNumberSymbol(locale,NumberSymbol.Exponential)+"+"+exponent)}else formattedText=getLocaleNumberSymbol(locale,NumberSymbol.Infinity);return formattedText=value<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf,formattedText}(value,function(format,minusSign="-"){const p={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},patternParts=format.split(";"),positive=patternParts[0],negative=patternParts[1],positiveParts=-1!==positive.indexOf(".")?positive.split("."):[positive.substring(0,positive.lastIndexOf("0")+1),positive.substring(positive.lastIndexOf("0")+1)],integer=positiveParts[0],fraction=positiveParts[1]||"";p.posPre=integer.substr(0,integer.indexOf("#"));for(let i=0;i<fraction.length;i++){const ch=fraction.charAt(i);"0"===ch?p.minFrac=p.maxFrac=i+1:"#"===ch?p.maxFrac=i+1:p.posSuf+=ch}const groups=integer.split(",");if(p.gSize=groups[1]?groups[1].length:0,p.lgSize=groups[2]||groups[1]?(groups[2]||groups[1]).length:0,negative){const trunkLen=positive.length-p.posPre.length-p.posSuf.length,pos=negative.indexOf("#");p.negPre=negative.substr(0,pos).replace(/'/g,""),p.negSuf=negative.substr(pos+trunkLen).replace(/'/g,"")}else p.negPre=minusSign+p.posPre,p.negSuf=p.posSuf;return p}(function(locale,type){return findLocaleData(locale)[LocaleDataIndex.NumberFormats][type]}(locale,NumberFormatStyle.Decimal),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign)),locale,NumberSymbol.Group,NumberSymbol.Decimal,digitsInfo)}(function(value){if("string"==typeof value&&!isNaN(Number(value)-parseFloat(value)))return Number(value);if("number"!=typeof value)throw new Error(value+" is not a number");return value}(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(DecimalPipe,error.message)}}}class CommonModule{}const common_DOCUMENT=new InjectionToken("DocumentToken");function isPlatformBrowser(platformId){return"browser"===platformId}let common_ViewportScroller=(()=>{class ViewportScroller{}return ViewportScroller.ngInjectableDef=ɵɵdefineInjectable({token:ViewportScroller,providedIn:"root",factory:()=>new BrowserViewportScroller(ɵɵinject(common_DOCUMENT),window,ɵɵinject(ErrorHandler))}),ViewportScroller})();class BrowserViewportScroller{constructor(document,window,errorHandler){this.document=document,this.window=window,this.errorHandler=errorHandler,this.offset=()=>[0,0]}setOffset(offset){this.offset=Array.isArray(offset)?()=>offset:offset}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(position){this.supportScrollRestoration()&&this.window.scrollTo(position[0],position[1])}scrollToAnchor(anchor){if(this.supportScrollRestoration()){anchor=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(anchor):anchor.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const elSelectedById=this.document.querySelector("#"+anchor);if(elSelectedById)return void this.scrollToElement(elSelectedById);const elSelectedByName=this.document.querySelector(`[name='${anchor}']`);if(elSelectedByName)return void this.scrollToElement(elSelectedByName)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(scrollRestoration){if(this.supportScrollRestoration()){const history=this.window.history;history&&history.scrollRestoration&&(history.scrollRestoration=scrollRestoration)}}scrollToElement(el){const rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(_a){return!1}}}let _DOM=null;function getDOM(){return _DOM}const _attrToPropMap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},nodeContains=(()=>{if(_global.Node)return _global.Node.prototype.contains||function(node){return!!(16&this.compareDocumentPosition(node))}})();class platform_browser_BrowserDomAdapter extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(value){this._attrToPropMap=value}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const element=this.createElement("div",document);if(null!=this.getStyle(element,"animationName"))this._animationPrefix="";else{const domPrefixes=["Webkit","Moz","O","ms"];for(let i=0;i<domPrefixes.length;i++)if(null!=this.getStyle(element,domPrefixes[i]+"AnimationName")){this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}}const transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(transEndEventNames).forEach(key=>{null!=this.getStyle(element,key)&&(this._transitionEnd=transEndEventNames[key])})}catch(_a){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(el){return el.getDistributedNodes()}resolveAndSetHref(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(templateHtml){throw new Error("parse not implemented")}static makeCurrent(){var adapter;adapter=new platform_browser_BrowserDomAdapter,_DOM||(_DOM=adapter)}hasProperty(element,name){return name in element}setProperty(el,name,value){el[name]=value}getProperty(el,name){return el[name]}invoke(el,methodName,args){el[methodName](...args)}logError(error){window.console&&(console.error?console.error(error):console.log(error))}log(error){window.console&&window.console.log&&window.console.log(error)}logGroup(error){window.console&&window.console.group&&window.console.group(error)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return _attrToPropMap}contains(nodeA,nodeB){return nodeContains.call(nodeA,nodeB)}querySelector(el,selector){return el.querySelector(selector)}querySelectorAll(el,selector){return el.querySelectorAll(selector)}on(el,evt,listener){el.addEventListener(evt,listener,!1)}onAndCancel(el,evt,listener){return el.addEventListener(evt,listener,!1),()=>{el.removeEventListener(evt,listener,!1)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}createMouseEvent(eventType){const evt=this.getDefaultDocument().createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt}createEvent(eventType){const evt=this.getDefaultDocument().createEvent("Event");return evt.initEvent(eventType,!0,!0),evt}preventDefault(evt){evt.preventDefault(),evt.returnValue=!1}isPrevented(evt){return evt.defaultPrevented||null!=evt.returnValue&&!evt.returnValue}getInnerHTML(el){return el.innerHTML}getTemplateContent(el){return"content"in el&&this.isTemplateElement(el)?el.content:null}getOuterHTML(el){return el.outerHTML}nodeName(node){return node.nodeName}nodeValue(node){return node.nodeValue}type(node){return node.type}content(node){return this.hasProperty(node,"content")?node.content:node}firstChild(el){return el.firstChild}nextSibling(el){return el.nextSibling}parentElement(el){return el.parentNode}childNodes(el){return el.childNodes}childNodesAsList(el){const childNodes=el.childNodes,res=new Array(childNodes.length);for(let i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res}clearNodes(el){for(;el.firstChild;)el.removeChild(el.firstChild)}appendChild(el,node){el.appendChild(node)}removeChild(el,node){el.removeChild(node)}replaceChild(el,newChild,oldChild){el.replaceChild(newChild,oldChild)}remove(node){return node.parentNode&&node.parentNode.removeChild(node),node}insertBefore(parent,ref,node){parent.insertBefore(node,ref)}insertAllBefore(parent,ref,nodes){nodes.forEach(n=>parent.insertBefore(n,ref))}insertAfter(parent,ref,node){parent.insertBefore(node,ref.nextSibling)}setInnerHTML(el,value){el.innerHTML=value}getText(el){return el.textContent}setText(el,value){el.textContent=value}getValue(el){return el.value}setValue(el,value){el.value=value}getChecked(el){return el.checked}setChecked(el,value){el.checked=value}createComment(text){return this.getDefaultDocument().createComment(text)}createTemplate(html){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=html,t}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createElementNS(ns,tagName,doc){return(doc=doc||this.getDefaultDocument()).createElementNS(ns,tagName)}createTextNode(text,doc){return(doc=doc||this.getDefaultDocument()).createTextNode(text)}createScriptTag(attrName,attrValue,doc){const el=(doc=doc||this.getDefaultDocument()).createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el}createStyleElement(css,doc){const style=(doc=doc||this.getDefaultDocument()).createElement("style");return this.appendChild(style,this.createTextNode(css,doc)),style}createShadowRoot(el){return el.createShadowRoot()}getShadowRoot(el){return el.shadowRoot}getHost(el){return el.host}clone(node){return node.cloneNode(!0)}getElementsByClassName(element,name){return element.getElementsByClassName(name)}getElementsByTagName(element,name){return element.getElementsByTagName(name)}classList(element){return Array.prototype.slice.call(element.classList,0)}addClass(element,className){element.classList.add(className)}removeClass(element,className){element.classList.remove(className)}hasClass(element,className){return element.classList.contains(className)}setStyle(element,styleName,styleValue){element.style[styleName]=styleValue}removeStyle(element,stylename){element.style[stylename]=""}getStyle(element,stylename){return element.style[stylename]}hasStyle(element,styleName,styleValue){const value=this.getStyle(element,styleName)||"";return styleValue?value==styleValue:value.length>0}tagName(element){return element.tagName}attributeMap(element){const res=new Map,elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const attrib=elAttrs.item(i);res.set(attrib.name,attrib.value)}return res}hasAttribute(element,attribute){return element.hasAttribute(attribute)}hasAttributeNS(element,ns,attribute){return element.hasAttributeNS(ns,attribute)}getAttribute(element,attribute){return element.getAttribute(attribute)}getAttributeNS(element,ns,name){return element.getAttributeNS(ns,name)}setAttribute(element,name,value){element.setAttribute(name,value)}setAttributeNS(element,ns,name,value){element.setAttributeNS(ns,name,value)}removeAttribute(element,attribute){element.removeAttribute(attribute)}removeAttributeNS(element,ns,name){element.removeAttributeNS(ns,name)}templateAwareRoot(el){return this.isTemplateElement(el)?this.content(el):el}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(el){try{return el.getBoundingClientRect()}catch(_a){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(doc){return doc.title}setTitle(doc,newTitle){doc.title=newTitle||""}elementMatches(n,selector){return!!this.isElementNode(n)&&(n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector))}isTemplateElement(el){return this.isElementNode(el)&&"TEMPLATE"===el.nodeName}isTextNode(node){return node.nodeType===Node.TEXT_NODE}isCommentNode(node){return node.nodeType===Node.COMMENT_NODE}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}hasShadowRoot(node){return null!=node.shadowRoot&&node instanceof HTMLElement}isShadowRoot(node){return node instanceof DocumentFragment}importIntoDoc(node){return document.importNode(this.templateAwareRoot(node),!0)}adoptNode(node){return document.adoptNode(node)}getHref(el){return el.getAttribute("href")}getEventKey(event){let key=event.key;if(null==key){if(key=event.keyIdentifier,null==key)return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key}getGlobalEventTarget(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(doc){const href=baseElement||(baseElement=document.querySelector("base"),baseElement)?baseElement.getAttribute("href"):null;return null==href?null:(url=href,urlParsingNode||(urlParsingNode=document.createElement("a")),urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname);var url}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}setData(element,name,value){this.setAttribute(element,"data-"+name,value)}getData(element,name){return this.getAttribute(element,"data-"+name)}getComputedStyle(element){return getComputedStyle(element)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(name){return parseCookieValue(document.cookie,name)}setCookie(name,value){document.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)}}let urlParsingNode,baseElement=null;function supportsState(){return!!window.history.pushState}const TRANSITION_ID=new InjectionToken("TRANSITION_ID"),SERVER_TRANSITION_PROVIDERS=[{provide:APP_INITIALIZER,useFactory:function(transitionId,document,injector){return()=>{injector.get(ApplicationInitStatus).donePromise.then(()=>{const dom=getDOM();Array.prototype.slice.apply(dom.querySelectorAll(document,"style[ng-transition]")).filter(el=>dom.getAttribute(el,"ng-transition")===transitionId).forEach(el=>dom.remove(el))})}},deps:[TRANSITION_ID,common_DOCUMENT,Injector],multi:!0}];class platform_browser_BrowserGetTestability{static init(){var getter;getter=new platform_browser_BrowserGetTestability,_testabilityGetter=getter}addToWindow(registry){_global.getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return testability},_global.getAllAngularTestabilities=()=>registry.getAllTestabilities(),_global.getAllAngularRootElements=()=>registry.getAllRootElements(),_global.frameworkStabilizers||(_global.frameworkStabilizers=[]),_global.frameworkStabilizers.push(callback=>{const testabilities=_global.getAllAngularTestabilities();let count=testabilities.length,didWork=!1;const decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach((function(testability){testability.whenStable(decrement)}))})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?getDOM().isShadowRoot(elem)?this.findTestabilityInTree(registry,getDOM().getHost(elem),!0):this.findTestabilityInTree(registry,getDOM().parentElement(elem),!0):null}}function exportNgVar(name,value){"undefined"!=typeof COMPILED&&COMPILED||((_global.ng=_global.ng||{})[name]=value)}const CORE_TOKENS=(()=>({ApplicationRef:core_ApplicationRef,NgZone:NgZone}))();function inspectNativeElement(element){return getDebugNode(element)}const EVENT_MANAGER_PLUGINS=new InjectionToken("EventManagerPlugins");class EventManager{constructor(plugins,_zone){this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(p=>p.manager=this),this._plugins=plugins.slice().reverse()}addEventListener(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)}addGlobalEventListener(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)}getZone(){return this._zone}_findPluginFor(eventName){const plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;const plugins=this._plugins;for(let i=0;i<plugins.length;i++){const plugin=plugins[i];if(plugin.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin),plugin}throw new Error("No event manager plugin found for event "+eventName)}}class EventManagerPlugin{constructor(_doc){this._doc=_doc}addGlobalEventListener(element,eventName,handler){const target=getDOM().getGlobalEventTarget(this._doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}class SharedStylesHost{constructor(){this._stylesSet=new Set}addStyles(styles){const additions=new Set;styles.forEach(style=>{this._stylesSet.has(style)||(this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)}onStylesAdded(additions){}getAllStyles(){return Array.from(this._stylesSet)}}class DomSharedStylesHost extends SharedStylesHost{constructor(_doc){super(),this._doc=_doc,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(_doc.head)}_addStylesToHost(styles,host){styles.forEach(style=>{const styleEl=this._doc.createElement("style");styleEl.textContent=style,this._styleNodes.add(host.appendChild(styleEl))})}addHost(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)}removeHost(hostNode){this._hostNodes.delete(hostNode)}onStylesAdded(additions){this._hostNodes.forEach(hostNode=>this._addStylesToHost(additions,hostNode))}ngOnDestroy(){this._styleNodes.forEach(styleNode=>getDOM().remove(styleNode))}}const NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},COMPONENT_REGEX=/%COMP%/g;function flattenStyles(compId,styles,target){for(let i=0;i<styles.length;i++){let style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return event=>{!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}class platform_browser_DomRendererFactory2{constructor(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new platform_browser_DefaultDomRenderer2(eventManager)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case ViewEncapsulation.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}case ViewEncapsulation.Native:case ViewEncapsulation.ShadowDom:return new platform_browser_ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){const styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class platform_browser_DefaultDomRenderer2{constructor(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}destroy(){}createElement(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)}createComment(value){return document.createComment(value)}createText(value){return document.createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,preserveContent){let el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error(`The selector "${selectorOrNode}" did not match any elements`);return preserveContent||(el.textContent=""),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+":"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&RendererStyleFlags2.Important?"important":""):el.style[style]=value}removeStyle(el,style,flags){flags&RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""}setProperty(el,name,value){checkNoSyntheticProp(name,"property"),el[name]=value}setValue(node,value){node.nodeValue=value}listen(target,event,callback){return checkNoSyntheticProp(event,"listener"),"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))}}const AT_CHARCODE=(()=>"@".charCodeAt(0))();function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error(`Found the synthetic ${nameKind} ${name}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class EmulatedEncapsulationDomRenderer2 extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,component,appId){super(eventManager),this.component=component;const styles=flattenStyles(appId+"-"+component.id,component.styles,[]);sharedStylesHost.addStyles(styles),this.contentAttr="_ngcontent-%COMP%".replace(COMPONENT_REGEX,appId+"-"+component.id),this.hostAttr=function(componentShortId){return"_nghost-%COMP%".replace(COMPONENT_REGEX,componentShortId)}(appId+"-"+component.id)}applyToHost(element){super.setAttribute(element,this.hostAttr,"")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,""),el}}class platform_browser_ShadowDomRenderer extends platform_browser_DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,hostEl,component){super(eventManager),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.component=component,this.shadowRoot=component.encapsulation===ViewEncapsulation.ShadowDom?hostEl.attachShadow({mode:"open"}):hostEl.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const styles=flattenStyles(component.id,component.styles,[]);for(let i=0;i<styles.length;i++){const styleEl=document.createElement("style");styleEl.textContent=styles[i],this.shadowRoot.appendChild(styleEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(parent,oldChild){return super.removeChild(this.nodeOrShadowRoot(parent),oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}}const __symbol__=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(v){return"__zone_symbol__"+v})(),ADD_EVENT_LISTENER=__symbol__("addEventListener"),REMOVE_EVENT_LISTENER=__symbol__("removeEventListener"),symbolNames={},stopSymbol="__zone_symbol__propagationStopped",blackListedMap=(()=>{const blackListedEvents="undefined"!=typeof Zone&&Zone[__symbol__("BLACK_LISTED_EVENTS")];if(blackListedEvents){const res={};return blackListedEvents.forEach(eventName=>{res[eventName]=eventName}),res}})(),isBlackListedEvent=function(eventName){return!!blackListedMap&&blackListedMap.hasOwnProperty(eventName)},globalListener=function(event){const symbolName=symbolNames[event.type];if(!symbolName)return;const taskDatas=this[symbolName];if(!taskDatas)return;const args=[event];if(1===taskDatas.length){const taskData=taskDatas[0];return taskData.zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}{const copiedTasks=taskDatas.slice();for(let i=0;i<copiedTasks.length&&!0!==event[stopSymbol];i++){const taskData=copiedTasks[i];taskData.zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}}};class platform_browser_DomEventsPlugin extends EventManagerPlugin{constructor(doc,ngZone,platformId){super(doc),this.ngZone=ngZone,platformId&&function(platformId){return"server"===platformId}(platformId)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const delegate=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[stopSymbol]=!0),delegate&&delegate.apply(this,arguments)}}supports(eventName){return!0}addEventListener(element,eventName,handler){let callback=handler;if(!element[ADD_EVENT_LISTENER]||NgZone.isInAngularZone()&&!isBlackListedEvent(eventName))element.addEventListener(eventName,callback,!1);else{let symbolName=symbolNames[eventName];symbolName||(symbolName=symbolNames[eventName]=__symbol__("ANGULAR"+eventName+"FALSE"));let taskDatas=element[symbolName];const globalListenerRegistered=taskDatas&&taskDatas.length>0;taskDatas||(taskDatas=element[symbolName]=[]);const zone=isBlackListedEvent(eventName)?Zone.root:Zone.current;if(0===taskDatas.length)taskDatas.push({zone:zone,handler:callback});else{let callbackRegistered=!1;for(let i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){callbackRegistered=!0;break}callbackRegistered||taskDatas.push({zone:zone,handler:callback})}globalListenerRegistered||element[ADD_EVENT_LISTENER](eventName,globalListener,!1)}return()=>this.removeEventListener(element,eventName,callback)}removeEventListener(target,eventName,callback){let underlyingRemove=target[REMOVE_EVENT_LISTENER];if(!underlyingRemove)return target.removeEventListener.apply(target,[eventName,callback,!1]);let symbolName=symbolNames[eventName],taskDatas=symbolName&&target[symbolName];if(!taskDatas)return target.removeEventListener.apply(target,[eventName,callback,!1]);let found=!1;for(let i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){found=!0,taskDatas.splice(i,1);break}found?0===taskDatas.length&&underlyingRemove.apply(target,[eventName,globalListener,!1]):target.removeEventListener.apply(target,[eventName,callback,!1])}}const EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new InjectionToken("HammerGestureConfig"),HAMMER_LOADER=new InjectionToken("HammerLoader");class HammerGestureConfig{constructor(){this.events=[],this.overrides={}}buildHammer(element){const mc=new Hammer(element,this.options);mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0});for(const eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc}}class HammerGesturesPlugin extends EventManagerPlugin{constructor(doc,_config,console,loader){super(doc),this._config=_config,this.console=console,this.loader=loader}supports(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${eventName}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(element,eventName,handler){const zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),!window.Hammer&&this.loader){let cancelRegistration=!1,deregister=()=>{cancelRegistration=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(deregister=()=>{});cancelRegistration||(deregister=this.addEventListener(element,eventName,handler))}).catch(()=>{this.console.warn(`The "${eventName}" event cannot be bound because the custom Hammer.JS loader failed.`),deregister=()=>{}}),()=>{deregister()}}return zone.runOutsideAngular(()=>{const mc=this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded((function(){handler(eventObj)}))};return mc.on(eventName,callback),()=>{mc.off(eventName,callback),"function"==typeof mc.destroy&&mc.destroy()}})}isCustomEvent(eventName){return this._config.events.indexOf(eventName)>-1}}const MODIFIER_KEYS=["alt","control","meta","shift"],MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};class KeyEventsPlugin extends EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler){const parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>getDOM().onAndCancel(element,parsedEvent.domEventName,outsideHandler))}static parseEventName(eventName){const parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;const key=KeyEventsPlugin._normalizeKey(parts.pop());let fullKey="";if(MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static getEventFullKey(event){let fullKey="",key=getDOM().getEventKey(event);return key=key.toLowerCase()," "===key?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(modifierName=>{modifierName!=key&&(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+".")}),fullKey+=key,fullKey}static eventCallback(fullKey,handler,zone){return event=>{KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){switch(keyName){case"esc":return"escape";default:return keyName}}}class DomSanitizer{}class platform_browser_DomSanitizerImpl extends DomSanitizer{constructor(_doc){super(),this._doc=_doc}sanitize(ctx,value){if(null==value)return null;switch(ctx){case SecurityContext.NONE:return value;case SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"HTML"),function(defaultDoc,unsafeHtmlInput){let inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||new InertBodyHelper(defaultDoc);let unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):"";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);let mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error("Failed to sanitize html because the input is unstable");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);const sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement);return isDevMode()&&sanitizer.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),safeHtml}finally{if(inertBodyElement){const parent=getTemplateContent(inertBodyElement)||inertBodyElement;for(;parent.firstChild;)parent.removeChild(parent.firstChild)}}}(this._doc,String(value)));case SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"Style"),function(value){if(!(value=String(value).trim()))return"";const urlMatch=value.match(URL_RE);return urlMatch&&_sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&function(value){let outsideSingle=!0,outsideDouble=!0;for(let i=0;i<value.length;i++){const c=value.charAt(i);"'"===c&&outsideDouble?outsideSingle=!outsideSingle:'"'===c&&outsideSingle&&(outsideDouble=!outsideDouble)}return outsideSingle&&outsideDouble}(value)?value:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe style value ${value} (see http://g.co/ng/security#xss).`),"unsafe")}(value));case SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"Script"),new Error("unsafe value used in a script context");case SecurityContext.URL:return value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"URL"),_sanitizeUrl(String(value)));case SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ctx} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(value,expectedType){if(value instanceof SafeValueImpl)throw new Error(`Required a safe ${expectedType}, got a ${value.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(value){return new SafeHtmlImpl(value)}bypassSecurityTrustStyle(value){return new SafeStyleImpl(value)}bypassSecurityTrustScript(value){return new SafeScriptImpl(value)}bypassSecurityTrustUrl(value){return new SafeUrlImpl(value)}bypassSecurityTrustResourceUrl(value){return new SafeResourceUrlImpl(value)}}class SafeValueImpl{constructor(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return"HTML"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return"Style"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return"Script"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return"URL"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return"ResourceURL"}}const platformBrowser=createPlatformFactory(platformCore,"browser",[{provide:PLATFORM_ID,useValue:"browser"},{provide:PLATFORM_INITIALIZER,useValue:function(){platform_browser_BrowserDomAdapter.makeCurrent(),platform_browser_BrowserGetTestability.init()},multi:!0},{provide:PlatformLocation,useClass:class extends PlatformLocation{constructor(_doc){super(),this._doc=_doc,this._init()}_init(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)}onHashChange(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(newPath){this.location.pathname=newPath}pushState(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url}replaceState(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[common_DOCUMENT]},{provide:common_DOCUMENT,useFactory:function(){return document},deps:[]}]);function errorHandler(){return new ErrorHandler}class platform_browser_BrowserModule{constructor(parentModule){if(parentModule)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(params){return{ngModule:platform_browser_BrowserModule,providers:[{provide:APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:APP_ID},SERVER_TRANSITION_PROVIDERS]}}}"undefined"!=typeof window&&window;const empty_EMPTY=new Observable_Observable(subscriber=>subscriber.complete());function empty_empty(scheduler){return scheduler?function(scheduler){return new Observable_Observable(subscriber=>scheduler.schedule(()=>subscriber.complete()))}(scheduler):empty_EMPTY}class forkJoin_ForkJoinSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,sources){super(destination),this.sources=sources,this.completed=0,this.haveValues=0;const len=sources.length;this.values=new Array(len);for(let i=0;i<len;i++){const innerSubscription=subscribeToResult(this,sources[i],null,i);innerSubscription&&this.add(innerSubscription)}}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue,innerSub._hasValue||(innerSub._hasValue=!0,this.haveValues++)}notifyComplete(innerSub){const{destination:destination,haveValues:haveValues,values:values}=this,len=values.length;innerSub._hasValue?(this.completed++,this.completed===len&&(haveValues===len&&destination.next(values),destination.complete())):destination.complete()}}const NG_VALUE_ACCESSOR=new InjectionToken("NgValueAccessor"),COMPOSITION_BUFFER_MODE=new InjectionToken("CompositionEventMode");class DefaultValueAccessor{constructor(_renderer,_elementRef,_compositionMode){this._renderer=_renderer,this._elementRef=_elementRef,this._compositionMode=_compositionMode,this.onChange=_=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const userAgent=getDOM()?getDOM().getUserAgent():"";return/android (\d+)/.test(userAgent.toLowerCase())}())}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==value?"":value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_handleInput(value){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(value)}_compositionStart(){this._composing=!0}_compositionEnd(value){this._composing=!1,this._compositionMode&&this.onChange(value)}}class AbstractControlDirective{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(value){this.control&&this.control.reset(value)}hasError(errorCode,path){return!!this.control&&this.control.hasError(errorCode,path)}getError(errorCode,path){return this.control?this.control.getError(errorCode,path):null}}class ControlContainer extends AbstractControlDirective{get formDirective(){return null}get path(){return null}}function unimplemented(){throw new Error("unimplemented")}class NgControl extends AbstractControlDirective{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return unimplemented()}get asyncValidator(){return unimplemented()}}class AbstractControlStatus{constructor(cd){this._cd=cd}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class NgControlStatus extends AbstractControlStatus{constructor(cd){super(cd)}}class NgControlStatusGroup extends AbstractControlStatus{constructor(cd){super(cd)}}function isEmptyInputValue(value){return null==value||0===value.length}const NG_VALIDATORS=new InjectionToken("NgValidators"),EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class forms_Validators{static min(min){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(min))return null;const value=parseFloat(control.value);return!isNaN(value)&&value<min?{min:{min:min,actual:control.value}}:null}}static max(max){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(max))return null;const value=parseFloat(control.value);return!isNaN(value)&&value>max?{max:{max:max,actual:control.value}}:null}}static required(control){return isEmptyInputValue(control.value)?{required:!0}:null}static requiredTrue(control){return!0===control.value?null:{required:!0}}static email(control){return isEmptyInputValue(control.value)||EMAIL_REGEXP.test(control.value)?null:{email:!0}}static minLength(minLength){return control=>{if(isEmptyInputValue(control.value))return null;const length=control.value?control.value.length:0;return length<minLength?{minlength:{requiredLength:minLength,actualLength:length}}:null}}static maxLength(maxLength){return control=>{const length=control.value?control.value.length:0;return length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:length}}:null}}static pattern(pattern){if(!pattern)return forms_Validators.nullValidator;let regex,regexStr;return"string"==typeof pattern?(regexStr="","^"!==pattern.charAt(0)&&(regexStr+="^"),regexStr+=pattern,"$"!==pattern.charAt(pattern.length-1)&&(regexStr+="$"),regex=new RegExp(regexStr)):(regexStr=pattern.toString(),regex=pattern),control=>{if(isEmptyInputValue(control.value))return null;const value=control.value;return regex.test(value)?null:{pattern:{requiredPattern:regexStr,actualValue:value}}}}static nullValidator(control){return null}static compose(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return _mergeErrors(function(control,validators){return validators.map(v=>v(control))}(control,presentValidators))}}static composeAsync(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return function forkJoin(...sources){let resultSelector;return"function"==typeof sources[sources.length-1]&&(resultSelector=sources.pop()),1===sources.length&&isArray(sources[0])&&(sources=sources[0]),0===sources.length?empty_EMPTY:resultSelector?forkJoin(sources).pipe(map_map(args=>resultSelector(...args))):new Observable_Observable(subscriber=>new forkJoin_ForkJoinSubscriber(subscriber,sources))}(function(control,validators){return validators.map(v=>v(control))}(control,presentValidators).map(toObservable)).pipe(map_map(_mergeErrors))}}}function isPresent(o){return null!=o}function toObservable(r){const obs=core_isPromise(r)?from(r):r;if(!isObservable(obs))throw new Error("Expected validator to return Promise or Observable.");return obs}function _mergeErrors(arrayOfErrors){const res=arrayOfErrors.reduce((res,errors)=>null!=errors?Object.assign({},res,errors):res,{});return 0===Object.keys(res).length?null:res}function normalizeValidator(validator){return validator.validate?c=>validator.validate(c):validator}function normalizeAsyncValidator(validator){return validator.validate?c=>validator.validate(c):validator}class RadioControlRegistry{constructor(){this._accessors=[]}add(control,accessor){this._accessors.push([control,accessor])}remove(accessor){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===accessor)return void this._accessors.splice(i,1)}select(accessor){this._accessors.forEach(c=>{this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck(accessor.value)})}_isSameGroup(controlPair,accessor){return!!controlPair[0].control&&controlPair[0]._parent===accessor._control._parent&&controlPair[1].name===accessor.name}}const FormErrorExamples_formGroupName='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',FormErrorExamples_ngModelGroup='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function _buildValueString(id,value){return null==id?""+value:(value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}class NgSelectOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption())}set ngValue(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._setElementValue(value),this._select&&this._select.writeValue(this._select.value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function _buildValueString$1(id,value){return null==id?""+value:("string"==typeof value&&(value=`'${value}'`),value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}class ɵNgSelectMultipleOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption(this))}set ngValue(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._select?(this._value=value,this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}_setSelected(selected){this._renderer.setProperty(this._element.nativeElement,"selected",selected)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function controlPath(name,parent){return[...parent.path,name]}function setUpControl(control,dir){control||forms_throwError(dir,"Cannot find control with"),dir.valueAccessor||forms_throwError(dir,"No value accessor for form control with"),control.validator=forms_Validators.compose([control.validator,dir.validator]),control.asyncValidator=forms_Validators.composeAsync([control.asyncValidator,dir.asyncValidator]),dir.valueAccessor.writeValue(control.value),function(control,dir){dir.valueAccessor.registerOnChange(newValue=>{control._pendingValue=newValue,control._pendingChange=!0,control._pendingDirty=!0,"change"===control.updateOn&&updateControl(control,dir)})}(control,dir),function(control,dir){control.registerOnChange((newValue,emitModelEvent)=>{dir.valueAccessor.writeValue(newValue),emitModelEvent&&dir.viewToModelUpdate(newValue)})}(control,dir),function(control,dir){dir.valueAccessor.registerOnTouched(()=>{control._pendingTouched=!0,"blur"===control.updateOn&&control._pendingChange&&updateControl(control,dir),"submit"!==control.updateOn&&control.markAsTouched()})}(control,dir),dir.valueAccessor.setDisabledState&&control.registerOnDisabledChange(isDisabled=>{dir.valueAccessor.setDisabledState(isDisabled)}),dir._rawValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(()=>control.updateValueAndValidity())}),dir._rawAsyncValidators.forEach(validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(()=>control.updateValueAndValidity())})}function updateControl(control,dir){control._pendingDirty&&control.markAsDirty(),control.setValue(control._pendingValue,{emitModelToViewChange:!1}),dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1}function forms_throwError(dir,message){let messageEnd;throw messageEnd=dir.path.length>1?`path: '${dir.path.join(" -> ")}'`:dir.path[0]?`name: '${dir.path}'`:"unspecified name attribute",new Error(`${message} ${messageEnd}`)}function composeValidators(validators){return null!=validators?forms_Validators.compose(validators.map(normalizeValidator)):null}function composeAsyncValidators(validators){return null!=validators?forms_Validators.composeAsync(validators.map(normalizeAsyncValidator)):null}const BUILTIN_ACCESSORS=[class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"checked",value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}},class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(value))}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}},class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}writeValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==value?"":value)}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}},class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=looseIdentical}set compareWith(fn){if("function"!=typeof fn)throw new Error("compareWith must be a function, but received "+JSON.stringify(fn));this._compareWith=fn}writeValue(value){this.value=value;const id=this._getOptionId(value);null==id&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const valueString=_buildValueString(id,value);this._renderer.setProperty(this._elementRef.nativeElement,"value",valueString)}registerOnChange(fn){this.onChange=valueString=>{this.value=this._getOptionValue(valueString),fn(this.value)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id),value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id):valueString}},class{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this._optionMap=new Map,this._idCounter=0,this.onChange=_=>{},this.onTouched=()=>{},this._compareWith=looseIdentical}set compareWith(fn){if("function"!=typeof fn)throw new Error("compareWith must be a function, but received "+JSON.stringify(fn));this._compareWith=fn}writeValue(value){let optionSelectedStateSetter;if(this.value=value,Array.isArray(value)){const ids=value.map(v=>this._getOptionId(v));optionSelectedStateSetter=(opt,o)=>{opt._setSelected(ids.indexOf(o.toString())>-1)}}else optionSelectedStateSetter=(opt,o)=>{opt._setSelected(!1)};this._optionMap.forEach(optionSelectedStateSetter)}registerOnChange(fn){this.onChange=_=>{const selected=[];if(_.hasOwnProperty("selectedOptions")){const options=_.selectedOptions;for(let i=0;i<options.length;i++){const opt=options.item(i),val=this._getOptionValue(opt.value);selected.push(val)}}else{const options=_.options;for(let i=0;i<options.length;i++){const opt=options.item(i);if(opt.selected){const val=this._getOptionValue(opt.value);selected.push(val)}}}this.value=selected,fn(selected)}}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_registerOption(value){const id=(this._idCounter++).toString();return this._optionMap.set(id,value),id}_getOptionId(value){for(const id of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(id)._value,value))return id;return null}_getOptionValue(valueString){const id=function(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id)._value:valueString}},class{constructor(_renderer,_elementRef,_registry,_injector){this._renderer=_renderer,this._elementRef=_elementRef,this._registry=_registry,this._injector=_injector,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(value){this._state=value===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(fn){this._fn=fn,this.onChange=()=>{fn(this.value),this._registry.select(this)}}fireUncheck(value){this.writeValue(value)}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function coerceToValidator(validatorOrOpts){const validator=isOptionsObj(validatorOrOpts)?validatorOrOpts.validators:validatorOrOpts;return Array.isArray(validator)?composeValidators(validator):validator||null}function coerceToAsyncValidator(asyncValidator,validatorOrOpts){const origAsyncValidator=isOptionsObj(validatorOrOpts)?validatorOrOpts.asyncValidators:asyncValidator;return Array.isArray(origAsyncValidator)?composeAsyncValidators(origAsyncValidator):origAsyncValidator||null}function isOptionsObj(validatorOrOpts){return null!=validatorOrOpts&&!Array.isArray(validatorOrOpts)&&"object"==typeof validatorOrOpts}class forms_AbstractControl{constructor(validator,asyncValidator){this.validator=validator,this.asyncValidator=asyncValidator,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(newValidator){this.validator=coerceToValidator(newValidator)}setAsyncValidators(newValidator){this.asyncValidator=coerceToAsyncValidator(newValidator)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(opts={}){this.touched=!0,this._parent&&!opts.onlySelf&&this._parent.markAsTouched(opts)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(control=>control.markAllAsTouched())}markAsUntouched(opts={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(control=>{control.markAsUntouched({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}markAsDirty(opts={}){this.pristine=!1,this._parent&&!opts.onlySelf&&this._parent.markAsDirty(opts)}markAsPristine(opts={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(control=>{control.markAsPristine({onlySelf:!0})}),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}markAsPending(opts={}){this.status="PENDING",!1!==opts.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!opts.onlySelf&&this._parent.markAsPending(opts)}disable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(control=>{control.disable(Object.assign({},opts,{onlySelf:!0}))}),this._updateValue(),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},opts,{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!0))}enable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="VALID",this._forEachChild(control=>{control.enable(Object.assign({},opts,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent}),this._updateAncestors(Object.assign({},opts,{skipPristineCheck:skipPristineCheck})),this._onDisabledChange.forEach(changeFn=>changeFn(!1))}_updateAncestors(opts){this._parent&&!opts.onlySelf&&(this._parent.updateValueAndValidity(opts),opts.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(parent){this._parent=parent}updateValueAndValidity(opts={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(opts.emitEvent)),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!opts.onlySelf&&this._parent.updateValueAndValidity(opts)}_updateTreeValidity(opts={emitEvent:!0}){this._forEachChild(ctrl=>ctrl._updateTreeValidity(opts)),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(emitEvent){if(this.asyncValidator){this.status="PENDING";const obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=obs.subscribe(errors=>this.setErrors(errors,{emitEvent:emitEvent}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(errors,opts={}){this.errors=errors,this._updateControlsErrors(!1!==opts.emitEvent)}get(path){return function(control,path,delimiter){return null==path?null:(path instanceof Array||(path=path.split(".")),path instanceof Array&&0===path.length?null:path.reduce((v,name)=>v instanceof FormGroup?v.controls.hasOwnProperty(name)?v.controls[name]:null:v instanceof FormArray&&v.at(name)||null,control))}(this,path)}getError(errorCode,path){const control=path?this.get(path):this;return control&&control.errors?control.errors[errorCode]:null}hasError(errorCode,path){return!!this.getError(errorCode,path)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(emitEvent){this.status=this._calculateStatus(),emitEvent&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(emitEvent)}_initObservables(){this.valueChanges=new core_EventEmitter,this.statusChanges=new core_EventEmitter}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(status){return this._anyControls(control=>control.status===status)}_anyControlsDirty(){return this._anyControls(control=>control.dirty)}_anyControlsTouched(){return this._anyControls(control=>control.touched)}_updatePristine(opts={}){this.pristine=!this._anyControlsDirty(),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}_updateTouched(opts={}){this.touched=this._anyControlsTouched(),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}_isBoxedValue(formState){return"object"==typeof formState&&null!==formState&&2===Object.keys(formState).length&&"value"in formState&&"disabled"in formState}_registerOnCollectionChange(fn){this._onCollectionChange=fn}_setUpdateStrategy(opts){isOptionsObj(opts)&&null!=opts.updateOn&&(this._updateOn=opts.updateOn)}_parentMarkedDirty(onlySelf){return!onlySelf&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class FormControl extends forms_AbstractControl{constructor(formState=null,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this._onChange=[],this._applyFormState(formState),this._setUpdateStrategy(validatorOrOpts),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(value,options={}){this.value=this._pendingValue=value,this._onChange.length&&!1!==options.emitModelToViewChange&&this._onChange.forEach(changeFn=>changeFn(this.value,!1!==options.emitViewToModelChange)),this.updateValueAndValidity(options)}patchValue(value,options={}){this.setValue(value,options)}reset(formState=null,options={}){this._applyFormState(formState),this.markAsPristine(options),this.markAsUntouched(options),this.setValue(this.value,options),this._pendingChange=!1}_updateValue(){}_anyControls(condition){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(fn){this._onChange.push(fn)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(fn){this._onDisabledChange.push(fn)}_forEachChild(cb){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(formState){this._isBoxedValue(formState)?(this.value=this._pendingValue=formState.value,formState.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=formState}}class FormGroup extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(name,control){return this.controls[name]?this.controls[name]:(this.controls[name]=control,control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange),control)}addControl(name,control){this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(name){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],this.updateValueAndValidity(),this._onCollectionChange()}setControl(name,control){this.controls[name]&&this.controls[name]._registerOnCollectionChange(()=>{}),delete this.controls[name],control&&this.registerControl(name,control),this.updateValueAndValidity(),this._onCollectionChange()}contains(controlName){return this.controls.hasOwnProperty(controlName)&&this.controls[controlName].enabled}setValue(value,options={}){this._checkAllValuesPresent(value),Object.keys(value).forEach(name=>{this._throwIfControlMissing(name),this.controls[name].setValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){Object.keys(value).forEach(name=>{this.controls[name]&&this.controls[name].patchValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}reset(value={},options={}){this._forEachChild((control,name)=>{control.reset(value[name],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this._reduceChildren({},(acc,control,name)=>(acc[name]=control instanceof FormControl?control.value:control.getRawValue(),acc))}_syncPendingControls(){let subtreeUpdated=this._reduceChildren(!1,(updated,child)=>!!child._syncPendingControls()||updated);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(name){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[name])throw new Error(`Cannot find form control with name: ${name}.`)}_forEachChild(cb){Object.keys(this.controls).forEach(k=>cb(this.controls[k],k))}_setUpControls(){this._forEachChild(control=>{control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(condition){let res=!1;return this._forEachChild((control,name)=>{res=res||this.contains(name)&&condition(control)}),res}_reduceValue(){return this._reduceChildren({},(acc,control,name)=>((control.enabled||this.disabled)&&(acc[name]=control.value),acc))}_reduceChildren(initValue,fn){let res=initValue;return this._forEachChild((control,name)=>{res=fn(res,control,name)}),res}_allControlsDisabled(){for(const controlName of Object.keys(this.controls))if(this.controls[controlName].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(value){this._forEachChild((control,name)=>{if(void 0===value[name])throw new Error(`Must supply a value for form control with name: '${name}'.`)})}}class FormArray extends forms_AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(coerceToValidator(validatorOrOpts),coerceToAsyncValidator(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(index){return this.controls[index]}push(control){this.controls.push(control),this._registerControl(control),this.updateValueAndValidity(),this._onCollectionChange()}insert(index,control){this.controls.splice(index,0,control),this._registerControl(control),this.updateValueAndValidity()}removeAt(index){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),this.updateValueAndValidity()}setControl(index,control){this.controls[index]&&this.controls[index]._registerOnCollectionChange(()=>{}),this.controls.splice(index,1),control&&(this.controls.splice(index,0,control),this._registerControl(control)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(value,options={}){this._checkAllValuesPresent(value),value.forEach((newValue,index)=>{this._throwIfControlMissing(index),this.at(index).setValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}patchValue(value,options={}){value.forEach((newValue,index)=>{this.at(index)&&this.at(index).patchValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})}),this.updateValueAndValidity(options)}reset(value=[],options={}){this._forEachChild((control,index)=>{control.reset(value[index],{onlySelf:!0,emitEvent:options.emitEvent})}),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this.controls.map(control=>control instanceof FormControl?control.value:control.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(control=>control._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let subtreeUpdated=this.controls.reduce((updated,child)=>!!child._syncPendingControls()||updated,!1);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_throwIfControlMissing(index){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(index))throw new Error("Cannot find form control at index "+index)}_forEachChild(cb){this.controls.forEach((control,index)=>{cb(control,index)})}_updateValue(){this.value=this.controls.filter(control=>control.enabled||this.disabled).map(control=>control.value)}_anyControls(condition){return this.controls.some(control=>control.enabled&&condition(control))}_setUpControls(){this._forEachChild(control=>this._registerControl(control))}_checkAllValuesPresent(value){this._forEachChild((control,i)=>{if(void 0===value[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const control of this.controls)if(control.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(control){control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)}}const resolvedPromise=(()=>Promise.resolve(null))();class forms_NgForm extends ControlContainer{constructor(validators,asyncValidators){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new core_EventEmitter,this.form=new FormGroup({},composeValidators(validators),composeAsyncValidators(asyncValidators))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);dir.control=container.registerControl(dir.name,dir.control),setUpControl(dir.control,dir),dir.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(dir)})}getControl(dir){return this.form.get(dir.path)}removeControl(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name),function(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}(this._directives,dir)})}addFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path),group=new FormGroup({});(function(control,dir){null==control&&forms_throwError(dir,"Cannot find control with"),control.validator=forms_Validators.compose([control.validator,dir.validator]),control.asyncValidator=forms_Validators.composeAsync([control.asyncValidator,dir.asyncValidator])})(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(dir){resolvedPromise.then(()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name)})}getFormGroup(dir){return this.form.get(dir.path)}updateModel(dir,value){resolvedPromise.then(()=>{this.form.get(dir.path).setValue(value)})}setValue(value){this.control.setValue(value)}onSubmit($event){return this.submitted=!0,directives=this._directives,this.form._syncPendingControls(),directives.forEach(dir=>{const control=dir.control;"submit"===control.updateOn&&control._pendingChange&&(dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1)}),this.ngSubmit.emit($event),!1;var directives}onReset(){this.resetForm()}resetForm(value){this.form.reset(value),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(path){return path.pop(),path.length?this.form.get(path):this.form}}class TemplateDrivenErrors{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${FormErrorExamples_formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${FormErrorExamples_ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${FormErrorExamples_formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${FormErrorExamples_ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const NG_FORM_SELECTOR_WARNING=new InjectionToken("NgFormSelectorWarning");class AbstractFormGroupDirective extends ControlContainer{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return controlPath(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._validators)}get asyncValidator(){return composeAsyncValidators(this._asyncValidators)}_checkParentType(){}}class NgModelGroup extends AbstractFormGroupDirective{constructor(parent,validators,asyncValidators){super(),this._parent=parent,this._validators=validators,this._asyncValidators=asyncValidators}_checkParentType(){this._parent instanceof NgModelGroup||this._parent instanceof forms_NgForm||TemplateDrivenErrors.modelGroupParentException()}}const resolvedPromise$1=(()=>Promise.resolve(null))();class forms_NgModel extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors){super(),this.control=new FormControl,this._registered=!1,this.update=new core_EventEmitter,this._parent=parent,this._rawValidators=validators||[],this._rawAsyncValidators=asyncValidators||[],this.valueAccessor=function(dir,valueAccessors){if(!valueAccessors)return null;Array.isArray(valueAccessors)||forms_throwError(dir,"Value accessor was not provided as an array for form control with");let defaultAccessor=void 0,builtinAccessor=void 0,customAccessor=void 0;return valueAccessors.forEach(v=>{var valueAccessor;v.constructor===DefaultValueAccessor?defaultAccessor=v:(valueAccessor=v,BUILTIN_ACCESSORS.some(a=>valueAccessor.constructor===a)?(builtinAccessor&&forms_throwError(dir,"More than one built-in value accessor matches form control with"),builtinAccessor=v):(customAccessor&&forms_throwError(dir,"More than one custom value accessor matches form control with"),customAccessor=v))}),customAccessor||builtinAccessor||defaultAccessor||(forms_throwError(dir,"No valid value accessor for form control with"),null)}(this,valueAccessors)}ngOnChanges(changes){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in changes&&this._updateDisabled(changes),function(changes,viewModel){if(!changes.hasOwnProperty("model"))return!1;const change=changes.model;return!!change.isFirstChange()||!looseIdentical(viewModel,change.currentValue)}(changes,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?controlPath(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return composeValidators(this._rawValidators)}get asyncValidator(){return composeAsyncValidators(this._rawAsyncValidators)}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){setUpControl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof NgModelGroup)&&this._parent instanceof AbstractFormGroupDirective?TemplateDrivenErrors.formGroupNameException():this._parent instanceof NgModelGroup||this._parent instanceof forms_NgForm||TemplateDrivenErrors.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||TemplateDrivenErrors.missingNameException()}_updateValue(value){resolvedPromise$1.then(()=>{this.control.setValue(value,{emitViewToModelChange:!1})})}_updateDisabled(changes){const disabledValue=changes.isDisabled.currentValue,isDisabled=""===disabledValue||disabledValue&&"false"!==disabledValue;resolvedPromise$1.then(()=>{isDisabled&&!this.control.disabled?this.control.disable():!isDisabled&&this.control.disabled&&this.control.enable()})}}class ɵNgNoValidate{}class RequiredValidator{get required(){return this._required}set required(value){this._required=null!=value&&!1!==value&&""+value!="false",this._onChange&&this._onChange()}validate(control){return this.required?forms_Validators.required(control):null}registerOnValidatorChange(fn){this._onChange=fn}}class MinLengthValidator{ngOnChanges(changes){"minlength"in changes&&(this._createValidator(),this._onChange&&this._onChange())}validate(control){return null==this.minlength?null:this._validator(control)}registerOnValidatorChange(fn){this._onChange=fn}_createValidator(){this._validator=forms_Validators.minLength(parseInt(this.minlength,10))}}class PatternValidator{ngOnChanges(changes){"pattern"in changes&&(this._createValidator(),this._onChange&&this._onChange())}validate(control){return this._validator(control)}registerOnValidatorChange(fn){this._onChange=fn}_createValidator(){this._validator=forms_Validators.pattern(this.pattern)}}class ɵInternalFormsSharedModule{}class FormsModule{static withConfig(opts){return{ngModule:FormsModule,providers:[{provide:NG_FORM_SELECTOR_WARNING,useValue:opts.warnOnDeprecatedNgFormSelector}]}}}const NONE={};class CombineLatestOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new combineLatest_CombineLatestSubscriber(subscriber,this.resultSelector))}}class combineLatest_CombineLatestSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,resultSelector){super(destination),this.resultSelector=resultSelector,this.active=0,this.values=[],this.observables=[]}_next(observable){this.values.push(NONE),this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(let i=0;i<len;i++){const observable=observables[i];this.add(subscribeToResult(this,observable,observable,i))}}}notifyComplete(unused){0==(this.active-=1)&&this.destination.complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const values=this.values,toRespond=this.toRespond?values[outerIndex]===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))}_tryResultSelector(values){let result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}class Action_Action extends Subscription_Subscription{constructor(scheduler,work){super()}schedule(state,delay=0){return this}}class AsyncAction_AsyncAction extends Action_Action{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work,this.pending=!1}schedule(state,delay=0){if(this.closed)return this;this.state=state;const id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.pending=!0,this.delay=delay,this.id=this.id||this.requestAsyncId(scheduler,this.id,delay),this}requestAsyncId(scheduler,id,delay=0){return setInterval(scheduler.flush.bind(scheduler,this),delay)}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&this.delay===delay&&!1===this.pending)return id;clearInterval(id)}execute(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const error=this._execute(state,delay);if(error)return error;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(state,delay){let errored=!1,errorValue=void 0;try{this.work(state)}catch(e){errored=!0,errorValue=!!e&&e||new Error(e)}if(errored)return this.unsubscribe(),errorValue}_unsubscribe(){const id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==index&&actions.splice(index,1),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null}}let Scheduler=(()=>{class Scheduler{constructor(SchedulerAction,now=Scheduler.now){this.SchedulerAction=SchedulerAction,this.now=now}schedule(work,delay=0,state){return new this.SchedulerAction(this,work).schedule(state,delay)}}return Scheduler.now=()=>Date.now(),Scheduler})();class AsyncScheduler_AsyncScheduler extends Scheduler{constructor(SchedulerAction,now=Scheduler.now){super(SchedulerAction,()=>AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.now():now()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(work,delay=0,state){return AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.schedule(work,delay,state):super.schedule(work,delay,state)}flush(action){const{actions:actions}=this;if(this.active)return void actions.push(action);let error;this.active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this.active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}}const async_async=new AsyncScheduler_AsyncScheduler(AsyncAction_AsyncAction);function isNumeric(val){return!isArray(val)&&val-parseFloat(val)+1>=0}function dispatch(state){const{index:index,period:period,subscriber:subscriber}=state;if(subscriber.next(index),!subscriber.closed){if(-1===period)return subscriber.complete();state.index=index+1,this.schedule(state,period)}}const NEVER=new Observable_Observable(noop);function fromEvent(target,eventName,options,resultSelector){return isFunction(options)&&(resultSelector=options,options=void 0),resultSelector?fromEvent(target,eventName,options).pipe(map_map(args=>isArray(args)?resultSelector(...args):resultSelector(args))):new Observable_Observable(subscriber=>{!function setupSubscription(sourceObj,eventName,handler,subscriber,options){let unsubscribe;if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addEventListener&&"function"==typeof sourceObj.removeEventListener}(sourceObj)){const source=sourceObj;sourceObj.addEventListener(eventName,handler,options),unsubscribe=()=>source.removeEventListener(eventName,handler,options)}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.on&&"function"==typeof sourceObj.off}(sourceObj)){const source=sourceObj;sourceObj.on(eventName,handler),unsubscribe=()=>source.off(eventName,handler)}else if(function(sourceObj){return sourceObj&&"function"==typeof sourceObj.addListener&&"function"==typeof sourceObj.removeListener}(sourceObj)){const source=sourceObj;sourceObj.addListener(eventName,handler),unsubscribe=()=>source.removeListener(eventName,handler)}else{if(!sourceObj||!sourceObj.length)throw new TypeError("Invalid event target");for(let i=0,len=sourceObj.length;i<len;i++)setupSubscription(sourceObj[i],eventName,handler,subscriber,options)}subscriber.add(unsubscribe)}(target,eventName,(function(e){subscriber.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),subscriber,options)})}class RaceOperator{call(subscriber,source){return source.subscribe(new race_RaceSubscriber(subscriber))}}class race_RaceSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination){super(destination),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(observable){this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{for(let i=0;i<len&&!this.hasFirst;i++){let observable=observables[i],subscription=subscribeToResult(this,observable,observable,i);this.subscriptions&&this.subscriptions.push(subscription),this.add(subscription)}this.observables=null}}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(!this.hasFirst){this.hasFirst=!0;for(let i=0;i<this.subscriptions.length;i++)if(i!==outerIndex){let subscription=this.subscriptions[i];subscription.unsubscribe(),this.remove(subscription)}this.subscriptions=null}this.destination.next(innerValue)}}function scalar(value){const result=new Observable_Observable(subscriber=>{subscriber.next(value),subscriber.complete()});return result._isScalar=!0,result.value=value,result}function of(...args){let scheduler=args[args.length-1];switch(isScheduler(scheduler)?args.pop():scheduler=void 0,args.length){case 0:return empty_empty(scheduler);case 1:return scheduler?fromArray(args,scheduler):scalar(args[0]);default:return fromArray(args,scheduler)}}function concatAll(){return mergeAll(1)}function concat(...observables){return concatAll()(of(...observables))}function startWith(...array){return source=>{let scheduler=array[array.length-1];isScheduler(scheduler)?array.pop():scheduler=null;const len=array.length;return concat(1!==len||scheduler?len>0?fromArray(array,scheduler):empty_empty(scheduler):scalar(array[0]),source)}}function distinctUntilChanged(compare,keySelector){return source=>source.lift(new DistinctUntilChangedOperator(compare,keySelector))}class DistinctUntilChangedOperator{constructor(compare,keySelector){this.compare=compare,this.keySelector=keySelector}call(subscriber,source){return source.subscribe(new distinctUntilChanged_DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))}}class distinctUntilChanged_DistinctUntilChangedSubscriber extends Subscriber_Subscriber{constructor(destination,compare,keySelector){super(destination),this.keySelector=keySelector,this.hasKey=!1,"function"==typeof compare&&(this.compare=compare)}compare(x,y){return x===y}_next(value){let key;try{const{keySelector:keySelector}=this;key=keySelector?keySelector(value):value}catch(err){return this.destination.error(err)}let result=!1;if(this.hasKey)try{const{compare:compare}=this;result=compare(this.key,key)}catch(err){return this.destination.error(err)}else this.hasKey=!0;result||(this.key=key,this.destination.next(value))}}function switchMap(project,resultSelector){return"function"==typeof resultSelector?source=>source.pipe(switchMap((a,i)=>from(project(a,i)).pipe(map_map((b,ii)=>resultSelector(a,b,i,ii))))):source=>source.lift(new SwitchMapOperator(project))}class SwitchMapOperator{constructor(project){this.project=project}call(subscriber,source){return source.subscribe(new switchMap_SwitchMapSubscriber(subscriber,this.project))}}class switchMap_SwitchMapSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,project){super(destination),this.project=project,this.index=0}_next(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)}_innerSub(result,value,index){const innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.destination.add(innerSubscriber),this.innerSubscription=subscribeToResult(this,result,value,index,innerSubscriber)}_complete(){const{innerSubscription:innerSubscription}=this;innerSubscription&&!innerSubscription.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}}function takeUntil(notifier){return source=>source.lift(new takeUntil_TakeUntilOperator(notifier))}class takeUntil_TakeUntilOperator{constructor(notifier){this.notifier=notifier}call(subscriber,source){const takeUntilSubscriber=new takeUntil_TakeUntilSubscriber(subscriber),notifierSubscription=subscribeToResult(takeUntilSubscriber,this.notifier);return notifierSubscription&&!takeUntilSubscriber.seenValue?(takeUntilSubscriber.add(notifierSubscription),source.subscribe(takeUntilSubscriber)):takeUntilSubscriber}}class takeUntil_TakeUntilSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination){super(destination),this.seenValue=!1}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.seenValue=!0,this.complete()}notifyComplete(){}}function filter(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}}class FilterOperator{constructor(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new filter_FilterSubscriber(subscriber,this.predicate,this.thisArg))}}class filter_FilterSubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}_next(value){let result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)}}function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype);const ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl;function take(count){return source=>0===count?empty_empty():source.lift(new take_TakeOperator(count))}class take_TakeOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new take_TakeSubscriber(subscriber,this.total))}}class take_TakeSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(value){const total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))}}function tap(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}}class DoOperator{constructor(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}call(subscriber,source){return source.subscribe(new tap_TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))}}class tap_TapSubscriber extends Subscriber_Subscriber{constructor(destination,observerOrNext,error,complete){super(destination),this._tapNext=noop,this._tapError=noop,this._tapComplete=noop,this._tapError=error||noop,this._tapComplete=complete||noop,isFunction(observerOrNext)?(this._context=this,this._tapNext=observerOrNext):observerOrNext&&(this._context=observerOrNext,this._tapNext=observerOrNext.next||noop,this._tapError=observerOrNext.error||noop,this._tapComplete=observerOrNext.complete||noop)}_next(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)}_error(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)}_complete(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()}}function withLatestFrom(...args){return source=>{let project;return"function"==typeof args[args.length-1]&&(project=args.pop()),source.lift(new WithLatestFromOperator(args,project))}}class WithLatestFromOperator{constructor(observables,project){this.observables=observables,this.project=project}call(subscriber,source){return source.subscribe(new withLatestFrom_WithLatestFromSubscriber(subscriber,this.observables,this.project))}}class withLatestFrom_WithLatestFromSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,observables,project){super(destination),this.observables=observables,this.project=project,this.toRespond=[];const len=observables.length;this.values=new Array(len);for(let i=0;i<len;i++)this.toRespond.push(i);for(let i=0;i<len;i++){let observable=observables[i];this.add(subscribeToResult(this,observable,observable,i))}}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue;const toRespond=this.toRespond;if(toRespond.length>0){const found=toRespond.indexOf(outerIndex);-1!==found&&toRespond.splice(found,1)}}notifyComplete(){}_next(value){if(0===this.toRespond.length){const args=[value,...this.values];this.project?this._tryProject(args):this.destination.next(args)}}_tryProject(args){let result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}function throwError_throwError(error,scheduler){return new Observable_Observable(scheduler?subscriber=>scheduler.schedule(throwError_dispatch,0,{error:error,subscriber:subscriber}):subscriber=>subscriber.error(error))}function throwError_dispatch({error:error,subscriber:subscriber}){subscriber.error(error)}let Notification_Notification=(()=>{class Notification{constructor(kind,value,error){this.kind=kind,this.value=value,this.error=error,this.hasValue="N"===kind}observe(observer){switch(this.kind){case"N":return observer.next&&observer.next(this.value);case"E":return observer.error&&observer.error(this.error);case"C":return observer.complete&&observer.complete()}}do(next,error,complete){switch(this.kind){case"N":return next&&next(this.value);case"E":return error&&error(this.error);case"C":return complete&&complete()}}accept(nextOrObserver,error,complete){return nextOrObserver&&"function"==typeof nextOrObserver.next?this.observe(nextOrObserver):this.do(nextOrObserver,error,complete)}toObservable(){switch(this.kind){case"N":return of(this.value);case"E":return throwError_throwError(this.error);case"C":return empty_empty()}throw new Error("unexpected notification kind value")}static createNext(value){return void 0!==value?new Notification("N",value):Notification.undefinedValueNotification}static createError(err){return new Notification("E",void 0,err)}static createComplete(){return Notification.completeNotification}}return Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",void 0),Notification})();function delay_delay(delay,scheduler=async_async){var value;const delayFor=(value=delay)instanceof Date&&!isNaN(+value)?+delay-scheduler.now():Math.abs(delay);return source=>source.lift(new DelayOperator(delayFor,scheduler))}class DelayOperator{constructor(delay,scheduler){this.delay=delay,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new delay_DelaySubscriber(subscriber,this.delay,this.scheduler))}}class delay_DelaySubscriber extends Subscriber_Subscriber{constructor(destination,delay,scheduler){super(destination),this.delay=delay,this.scheduler=scheduler,this.queue=[],this.active=!1,this.errored=!1}static dispatch(state){const source=state.source,queue=source.queue,scheduler=state.scheduler,destination=state.destination;for(;queue.length>0&&queue[0].time-scheduler.now()<=0;)queue.shift().notification.observe(destination);if(queue.length>0){const delay=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay)}else this.unsubscribe(),source.active=!1}_schedule(scheduler){this.active=!0,this.destination.add(scheduler.schedule(delay_DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))}scheduleNotification(notification){if(!0===this.errored)return;const scheduler=this.scheduler,message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message),!1===this.active&&this._schedule(scheduler)}_next(value){this.scheduleNotification(Notification_Notification.createNext(value))}_error(err){this.errored=!0,this.queue=[],this.destination.error(err),this.unsubscribe()}_complete(){this.scheduleNotification(Notification_Notification.createComplete()),this.unsubscribe()}}class DelayMessage{constructor(time,notification){this.time=time,this.notification=notification}}function toInteger(value){return parseInt(""+value,10)}function ng_bootstrap_toString(value){return null!=value?""+value:""}function getValueInRange(value,max,min=0){return Math.max(Math.min(value,max),min)}function isString(value){return"string"==typeof value}function isNumber(value){return!isNaN(toInteger(value))}function isInteger(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value}function isDefined(value){return null!=value}function ng_bootstrap_padNumber(value){return isNumber(value)?("0"+value).slice(-2):""}function hasClassName(element,className){return element&&element.className&&element.className.split&&element.className.split(/\s+/).indexOf(className)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(s){let el=this;if(!document.documentElement.contains(el))return null;do{if(el.matches(s))return el;el=el.parentElement||el.parentNode}while(null!==el&&1===el.nodeType);return null});class NgbAccordionModule{}let ng_bootstrap_NgbAlertConfig=(()=>{class NgbAlertConfig{constructor(){this.dismissible=!0,this.type="warning"}}return NgbAlertConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbAlertConfig},token:NgbAlertConfig,providedIn:"root"}),NgbAlertConfig})();class ng_bootstrap_NgbAlert{constructor(config,_renderer,_element){this._renderer=_renderer,this._element=_element,this.close=new core_EventEmitter,this.dismissible=config.dismissible,this.type=config.type}closeHandler(){this.close.emit(null)}ngOnChanges(changes){const typeChange=changes.type;typeChange&&!typeChange.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-"+typeChange.previousValue),this._renderer.addClass(this._element.nativeElement,"alert-"+typeChange.currentValue))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,"alert-"+this.type)}}class NgbAlertModule{}class NgbButtonLabel{}let nextId$1=0;class NgbRadioGroup{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+nextId$1++,this.onChange=_=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(isDisabled){this.setDisabledState(isDisabled)}onRadioChange(radio){this.writeValue(radio.value),this.onChange(radio.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(radio){this._radios.add(radio)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this._disabled=isDisabled,this._updateRadiosDisabled()}unregister(radio){this._radios.delete(radio)}writeValue(value){this._value=value,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(radio=>radio.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(radio=>radio.updateDisabled())}}class NgbRadio{constructor(_group,_label,_renderer,_element,_cd){this._group=_group,this._label=_label,this._renderer=_renderer,this._element=_element,this._cd=_cd,this._value=null,this._group.register(this),this.updateDisabled()}set value(value){this._value=value;const stringValue=value?value.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",stringValue),this._group.onRadioValueUpdate()}set disabled(isDisabled){this._disabled=!1!==isDisabled,this.updateDisabled()}set focused(isFocused){this._label&&(this._label.focused=isFocused),isFocused||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(value){this.value!==value&&this._cd.markForCheck(),this._checked=this.value===value,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}class NgbButtonsModule{}class NgbCarouselModule{}class NgbCollapseModule{}class NgbDate{static from(date){return date instanceof NgbDate?date:date?new NgbDate(date.year,date.month,date.day):null}constructor(year,month,day){this.year=isInteger(year)?year:null,this.month=isInteger(month)?month:null,this.day=isInteger(day)?day:null}equals(other){return other&&this.year===other.year&&this.month===other.month&&this.day===other.day}before(other){return!!other&&(this.year===other.year?this.month===other.month?this.day!==other.day&&this.day<other.day:this.month<other.month:this.year<other.year)}after(other){return!!other&&(this.year===other.year?this.month===other.month?this.day!==other.day&&this.day>other.day:this.month>other.month:this.year>other.year)}}function fromJSDate(jsDate){return new NgbDate(jsDate.getFullYear(),jsDate.getMonth()+1,jsDate.getDate())}function toJSDate(date){const jsDate=new Date(date.year,date.month-1,date.day,12);return isNaN(jsDate.getTime())||jsDate.setFullYear(date.year),jsDate}function NGB_DATEPICKER_CALENDAR_FACTORY(){return new NgbCalendarGregorian}let ng_bootstrap_NgbCalendar=(()=>{class NgbCalendar{}return NgbCalendar.ngInjectableDef=ɵɵdefineInjectable({factory:NGB_DATEPICKER_CALENDAR_FACTORY,token:NgbCalendar,providedIn:"root"}),NgbCalendar})();class NgbCalendarGregorian extends ng_bootstrap_NgbCalendar{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(date,period="d",number=1){let jsDate=toJSDate(date),checkMonth=!0,expectedMonth=jsDate.getMonth();switch(period){case"y":jsDate.setFullYear(jsDate.getFullYear()+number);break;case"m":expectedMonth+=number,jsDate.setMonth(expectedMonth),expectedMonth%=12,expectedMonth<0&&(expectedMonth+=12);break;case"d":jsDate.setDate(jsDate.getDate()+number),checkMonth=!1;break;default:return date}return checkMonth&&jsDate.getMonth()!==expectedMonth&&jsDate.setDate(0),fromJSDate(jsDate)}getPrev(date,period="d",number=1){return this.getNext(date,period,-number)}getWeekday(date){let day=toJSDate(date).getDay();return 0===day?7:day}getWeekNumber(week,firstDayOfWeek){7===firstDayOfWeek&&(firstDayOfWeek=0);const jsDate=toJSDate(week[(11-firstDayOfWeek)%7]);jsDate.setDate(jsDate.getDate()+4-(jsDate.getDay()||7));const time=jsDate.getTime();return jsDate.setMonth(0),jsDate.setDate(1),Math.floor(Math.round((time-jsDate.getTime())/864e5)/7)+1}getToday(){return fromJSDate(new Date)}isValid(date){if(!(date&&isInteger(date.year)&&isInteger(date.month)&&isInteger(date.day)))return!1;if(0===date.year)return!1;const jsDate=toJSDate(date);return!isNaN(jsDate.getTime())&&jsDate.getFullYear()===date.year&&jsDate.getMonth()+1===date.month&&jsDate.getDate()===date.day}}function isChangedDate(prev,next){return!function(prev,next){return!prev&&!next||!!prev&&!!next&&prev.equals(next)}(prev,next)}function isChangedMonth(prev,next){return!(!prev&&!next||prev&&next&&prev.year===next.year&&prev.month===next.month)}function checkDateInRange(date,minDate,maxDate){return date&&minDate&&date.before(minDate)?minDate:date&&maxDate&&date.after(maxDate)?maxDate:date}function isDateSelectable(date,state){const{minDate:minDate,maxDate:maxDate,disabled:disabled,markDisabled:markDisabled}=state;return!(!isDefined(date)||disabled||markDisabled&&markDisabled(date,{year:date.year,month:date.month})||minDate&&date.before(minDate)||maxDate&&date.after(maxDate))}let ng_bootstrap_NgbDatepickerI18n=(()=>{class NgbDatepickerI18n{getDayNumerals(date){return""+date.day}getWeekNumerals(weekNumber){return""+weekNumber}getYearNumerals(year){return""+year}}return NgbDatepickerI18n.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return locale=ɵɵinject(LOCALE_ID$1),new ng_bootstrap_NgbDatepickerI18nDefault(locale);var locale},token:NgbDatepickerI18n,providedIn:"root"}),NgbDatepickerI18n})();class ng_bootstrap_NgbDatepickerI18nDefault extends ng_bootstrap_NgbDatepickerI18n{constructor(_locale){super(),this._locale=_locale;const weekdaysStartingOnSunday=getLocaleDayNames(_locale,FormStyle.Standalone,TranslationWidth.Short);this._weekdaysShort=weekdaysStartingOnSunday.map((day,index)=>weekdaysStartingOnSunday[(index+1)%7]),this._monthsShort=getLocaleMonthNames(_locale,FormStyle.Standalone,TranslationWidth.Abbreviated),this._monthsFull=getLocaleMonthNames(_locale,FormStyle.Standalone,TranslationWidth.Wide)}getWeekdayShortName(weekday){return this._weekdaysShort[weekday-1]}getMonthShortName(month){return this._monthsShort[month-1]}getMonthFullName(month){return this._monthsFull[month-1]}getDayAriaLabel(date){return formatDate(new Date(date.year,date.month-1,date.day),"fullDate",this._locale)}}class ng_bootstrap_NgbDatepickerService{constructor(_calendar,_i18n){this._calendar=_calendar,this._i18n=_i18n,this._VALIDATORS={dayTemplateData:dayTemplateData=>{if(this._state.dayTemplateData!==dayTemplateData)return{dayTemplateData:dayTemplateData}},displayMonths:displayMonths=>{if(isInteger(displayMonths=toInteger(displayMonths))&&displayMonths>0&&this._state.displayMonths!==displayMonths)return{displayMonths:displayMonths}},disabled:disabled=>{if(this._state.disabled!==disabled)return{disabled:disabled}},firstDayOfWeek:firstDayOfWeek=>{if(isInteger(firstDayOfWeek=toInteger(firstDayOfWeek))&&firstDayOfWeek>=0&&this._state.firstDayOfWeek!==firstDayOfWeek)return{firstDayOfWeek:firstDayOfWeek}},focusVisible:focusVisible=>{if(this._state.focusVisible!==focusVisible&&!this._state.disabled)return{focusVisible:focusVisible}},markDisabled:markDisabled=>{if(this._state.markDisabled!==markDisabled)return{markDisabled:markDisabled}},maxDate:date=>{const maxDate=this.toValidDate(date,null);if(isChangedDate(this._state.maxDate,maxDate))return{maxDate:maxDate}},minDate:date=>{const minDate=this.toValidDate(date,null);if(isChangedDate(this._state.minDate,minDate))return{minDate:minDate}},navigation:navigation=>{if(this._state.navigation!==navigation)return{navigation:navigation}},outsideDays:outsideDays=>{if(this._state.outsideDays!==outsideDays)return{outsideDays:outsideDays}}},this._model$=new Subject_Subject,this._dateSelect$=new Subject_Subject,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}get model$(){return this._model$.pipe(filter(model=>model.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(filter(date=>null!==date))}set(options){let patch=Object.keys(options).map(key=>this._VALIDATORS[key](options[key])).reduce((obj,part)=>Object.assign({},obj,part),{});Object.keys(patch).length>0&&this._nextState(patch)}focus(date){!this._state.disabled&&this._calendar.isValid(date)&&isChangedDate(this._state.focusDate,date)&&this._nextState({focusDate:date})}focusSelect(){isDateSelectable(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(date){const firstDate=this.toValidDate(date,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!isChangedMonth(this._state.firstDate,date)||this._nextState({firstDate:firstDate})}select(date,options={}){const selectedDate=this.toValidDate(date,null);this._state.disabled||(isChangedDate(this._state.selectedDate,selectedDate)&&this._nextState({selectedDate:selectedDate}),options.emitEvent&&isDateSelectable(selectedDate,this._state)&&this._dateSelect$.next(selectedDate))}toValidDate(date,defaultValue){const ngbDate=NgbDate.from(date);return void 0===defaultValue&&(defaultValue=this._calendar.getToday()),this._calendar.isValid(ngbDate)?ngbDate:defaultValue}getMonth(struct){for(let month of this._state.months)if(struct.month===month.number&&struct.year===month.year)return month;throw new Error(`month ${struct.month} of year ${struct.year} not found`)}_nextState(patch){const newState=this._updateState(patch);this._patchContexts(newState),this._state=newState,this._model$.next(this._state)}_patchContexts(state){const{months:months,displayMonths:displayMonths,selectedDate:selectedDate,focusDate:focusDate,focusVisible:focusVisible,disabled:disabled,outsideDays:outsideDays}=state;state.months.forEach(month=>{month.weeks.forEach(week=>{week.days.forEach(day=>{focusDate&&(day.context.focused=focusDate.equals(day.date)&&focusVisible),day.tabindex=!disabled&&day.date.equals(focusDate)&&focusDate.month===month.number?0:-1,!0===disabled&&(day.context.disabled=!0),void 0!==selectedDate&&(day.context.selected=null!==selectedDate&&selectedDate.equals(day.date)),month.number!==day.date.month&&(day.hidden="hidden"===outsideDays||"collapsed"===outsideDays||displayMonths>1&&day.date.after(months[0].firstDate)&&day.date.before(months[displayMonths-1].lastDate))})})})}_updateState(patch){const state=Object.assign({},this._state,patch);let startDate=state.firstDate;if(("minDate"in patch||"maxDate"in patch)&&(function(minDate,maxDate){if(maxDate&&minDate&&maxDate.before(minDate))throw new Error(`'maxDate' ${maxDate} should be greater than 'minDate' ${minDate}`)}(state.minDate,state.maxDate),state.focusDate=checkDateInRange(state.focusDate,state.minDate,state.maxDate),state.firstDate=checkDateInRange(state.firstDate,state.minDate,state.maxDate),startDate=state.focusDate),"disabled"in patch&&(state.focusVisible=!1),"selectedDate"in patch&&0===this._state.months.length&&(startDate=state.selectedDate),"focusVisible"in patch)return state;if("focusDate"in patch&&(state.focusDate=checkDateInRange(state.focusDate,state.minDate,state.maxDate),startDate=state.focusDate,0!==state.months.length&&!state.focusDate.before(state.firstDate)&&!state.focusDate.after(state.lastDate)))return state;if("firstDate"in patch&&(state.firstDate=checkDateInRange(state.firstDate,state.minDate,state.maxDate),startDate=state.firstDate),startDate){const months=function(calendar,date,state,i18n,force){const{displayMonths:displayMonths,months:months}=state,monthsToReuse=months.splice(0,months.length);return Array.from({length:displayMonths},(_,i)=>{const firstDate=Object.assign(calendar.getNext(date,"m",i),{day:1});if(months[i]=null,!force){const reusedIndex=monthsToReuse.findIndex(month=>month.firstDate.equals(firstDate));-1!==reusedIndex&&(months[i]=monthsToReuse.splice(reusedIndex,1)[0])}return firstDate}).forEach((firstDate,i)=>{null===months[i]&&(months[i]=function(calendar,date,state,i18n,month={}){const{dayTemplateData:dayTemplateData,minDate:minDate,maxDate:maxDate,firstDayOfWeek:firstDayOfWeek,markDisabled:markDisabled,outsideDays:outsideDays}=state,calendarToday=calendar.getToday();month.firstDate=null,month.lastDate=null,month.number=date.month,month.year=date.year,month.weeks=month.weeks||[],month.weekdays=month.weekdays||[],date=function(calendar,date,firstDayOfWeek){const daysPerWeek=calendar.getDaysPerWeek(),firstMonthDate=new NgbDate(date.year,date.month,1),dayOfWeek=calendar.getWeekday(firstMonthDate)%daysPerWeek;return calendar.getPrev(firstMonthDate,"d",(daysPerWeek+dayOfWeek-firstDayOfWeek)%daysPerWeek)}(calendar,date,firstDayOfWeek);for(let week=0;week<calendar.getWeeksPerMonth();week++){let weekObject=month.weeks[week];weekObject||(weekObject=month.weeks[week]={number:0,days:[],collapsed:!0});const days=weekObject.days;for(let day=0;day<calendar.getDaysPerWeek();day++){0===week&&(month.weekdays[day]=calendar.getWeekday(date));const newDate=new NgbDate(date.year,date.month,date.day),nextDate=calendar.getNext(newDate),ariaLabel=i18n.getDayAriaLabel(newDate);let disabled=!!(minDate&&newDate.before(minDate)||maxDate&&newDate.after(maxDate));!disabled&&markDisabled&&(disabled=markDisabled(newDate,{month:month.number,year:month.year}));let today=newDate.equals(calendarToday),contextUserData=dayTemplateData?dayTemplateData(newDate,{month:month.number,year:month.year}):void 0;null===month.firstDate&&newDate.month===month.number&&(month.firstDate=newDate),newDate.month===month.number&&nextDate.month!==month.number&&(month.lastDate=newDate);let dayObject=days[day];dayObject||(dayObject=days[day]={}),dayObject.date=newDate,dayObject.context=Object.assign(dayObject.context||{},{$implicit:newDate,date:newDate,data:contextUserData,currentMonth:month.number,currentYear:month.year,disabled:disabled,focused:!1,selected:!1,today:today}),dayObject.tabindex=-1,dayObject.ariaLabel=ariaLabel,dayObject.hidden=!1,date=nextDate}weekObject.number=calendar.getWeekNumber(days.map(day=>day.date),firstDayOfWeek),weekObject.collapsed="collapsed"===outsideDays&&days[0].date.month!==month.number&&days[days.length-1].date.month!==month.number}return month}(calendar,firstDate,state,i18n,monthsToReuse.shift()||{}))}),months}(this._calendar,startDate,state,this._i18n,"dayTemplateData"in patch||"firstDayOfWeek"in patch||"markDisabled"in patch||"minDate"in patch||"maxDate"in patch||"disabled"in patch||"outsideDays"in patch);state.months=months,state.firstDate=months.length>0?months[0].firstDate:void 0,state.lastDate=months.length>0?months[months.length-1].lastDate:void 0,"selectedDate"in patch&&!isDateSelectable(state.selectedDate,state)&&(state.selectedDate=null),"firstDate"in patch&&(void 0===state.focusDate||state.focusDate.before(state.firstDate)||state.focusDate.after(state.lastDate))&&(state.focusDate=startDate);const yearChanged=!this._state.firstDate||this._state.firstDate.year!==state.firstDate.year,monthChanged=!this._state.firstDate||this._state.firstDate.month!==state.firstDate.month;"select"===state.navigation?(("minDate"in patch||"maxDate"in patch||0===state.selectBoxes.years.length||yearChanged)&&(state.selectBoxes.years=function(date,minDate,maxDate){if(!date)return[];const start=minDate?Math.max(minDate.year,date.year-500):date.year-10,length=(maxDate?Math.min(maxDate.year,date.year+500):date.year+10)-start+1,numbers=Array(length);for(let i=0;i<length;i++)numbers[i]=start+i;return numbers}(state.firstDate,state.minDate,state.maxDate)),("minDate"in patch||"maxDate"in patch||0===state.selectBoxes.months.length||yearChanged)&&(state.selectBoxes.months=function(calendar,date,minDate,maxDate){if(!date)return[];let months=calendar.getMonths(date.year);if(minDate&&date.year===minDate.year){const index=months.findIndex(month=>month===minDate.month);months=months.slice(index)}if(maxDate&&date.year===maxDate.year){const index=months.findIndex(month=>month===maxDate.month);months=months.slice(0,index+1)}return months}(this._calendar,state.firstDate,state.minDate,state.maxDate))):state.selectBoxes={years:[],months:[]},"arrows"!==state.navigation&&"select"!==state.navigation||!(monthChanged||yearChanged||"minDate"in patch||"maxDate"in patch||"disabled"in patch)||(state.prevDisabled=state.disabled||function(calendar,date,minDate){const prevDate=Object.assign(calendar.getPrev(date,"m"),{day:1});return minDate&&(prevDate.year===minDate.year&&prevDate.month<minDate.month||prevDate.year<minDate.year&&1===minDate.month)}(this._calendar,state.firstDate,state.minDate),state.nextDisabled=state.disabled||function(calendar,date,maxDate){const nextDate=Object.assign(calendar.getNext(date,"m"),{day:1});return maxDate&&nextDate.after(maxDate)}(this._calendar,state.lastDate,state.maxDate))}return state}}const NavigationEvent=function(){var NavigationEvent={PREV:0,NEXT:1};return NavigationEvent[NavigationEvent.PREV]="PREV",NavigationEvent[NavigationEvent.NEXT]="NEXT",NavigationEvent}();let ng_bootstrap_NgbDatepickerConfig=(()=>{class NgbDatepickerConfig{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return NgbDatepickerConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbDatepickerConfig},token:NgbDatepickerConfig,providedIn:"root"}),NgbDatepickerConfig})();function NGB_DATEPICKER_DATE_ADAPTER_FACTORY(){return new NgbDateStructAdapter}let ng_bootstrap_NgbDateAdapter=(()=>{class NgbDateAdapter{}return NgbDateAdapter.ngInjectableDef=ɵɵdefineInjectable({factory:NGB_DATEPICKER_DATE_ADAPTER_FACTORY,token:NgbDateAdapter,providedIn:"root"}),NgbDateAdapter})();class NgbDateStructAdapter extends ng_bootstrap_NgbDateAdapter{fromModel(date){return date&&isInteger(date.year)&&isInteger(date.month)&&isInteger(date.day)?{year:date.year,month:date.month,day:date.day}:null}toModel(date){return date&&isInteger(date.year)&&isInteger(date.month)&&isInteger(date.day)?{year:date.year,month:date.month,day:date.day}:null}}class ng_bootstrap_NgbDatepicker{constructor(_service,_calendar,i18n,config,cd,_elementRef,_ngbDateAdapter,_ngZone){this._service=_service,this._calendar=_calendar,this.i18n=i18n,this._elementRef=_elementRef,this._ngbDateAdapter=_ngbDateAdapter,this._ngZone=_ngZone,this._destroyed$=new Subject_Subject,this._publicState={},this.navigate=new core_EventEmitter,this.dateSelect=new core_EventEmitter,this.select=this.dateSelect,this.onChange=_=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(input=>this[input]=config[input]),_service.dateSelect$.pipe(takeUntil(this._destroyed$)).subscribe(date=>{this.dateSelect.emit(date)}),_service.model$.pipe(takeUntil(this._destroyed$)).subscribe(model=>{const newDate=model.firstDate,oldDate=this.model?this.model.firstDate:null;this._publicState={maxDate:model.maxDate,minDate:model.minDate,firstDate:model.firstDate,lastDate:model.lastDate,focusedDate:model.focusDate,months:model.months.map(viewModel=>viewModel.firstDate)};let navigationPrevented=!1;if(!newDate.equals(oldDate)&&(this.navigate.emit({current:oldDate?{year:oldDate.year,month:oldDate.month}:null,next:{year:newDate.year,month:newDate.month},preventDefault:()=>navigationPrevented=!0}),navigationPrevented&&null!==oldDate))return void this._service.open(oldDate);const newSelectedDate=model.selectedDate,newFocusedDate=model.focusDate,oldFocusedDate=this.model?this.model.focusDate:null;this.model=model,isChangedDate(newSelectedDate,this._controlValue)&&(this._controlValue=newSelectedDate,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(newSelectedDate))),isChangedDate(newFocusedDate,oldFocusedDate)&&oldFocusedDate&&model.focusVisible&&this.focus(),cd.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(date){this._service.focus(NgbDate.from(date))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(take(1)).subscribe(()=>{const elementToFocus=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');elementToFocus&&elementToFocus.focus()})}navigateTo(date){this._service.open(NgbDate.from(date?date.day?date:Object.assign({},date,{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const focusIns$=fromEvent(this._contentEl.nativeElement,"focusin"),focusOuts$=fromEvent(this._contentEl.nativeElement,"focusout"),{nativeElement:nativeElement}=this._elementRef;merge(focusIns$,focusOuts$).pipe(filter(({target:target,relatedTarget:relatedTarget})=>!(hasClassName(target,"ngb-dp-day")&&hasClassName(relatedTarget,"ngb-dp-day")&&nativeElement.contains(target)&&nativeElement.contains(relatedTarget))),takeUntil(this._destroyed$)).subscribe(({type:type})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===type})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const inputs={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(name=>inputs[name]=this[name]),this._service.set(inputs),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(changes){const inputs={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(name=>name in changes).forEach(name=>inputs[name]=this[name]),this._service.set(inputs),"startDate"in changes){const{currentValue:currentValue,previousValue:previousValue}=changes.startDate;isChangedMonth(previousValue,currentValue)&&this.navigateTo(this.startDate)}}onDateSelect(date){this._service.focus(date),this._service.select(date,{emitEvent:!0})}onNavigateDateSelect(date){this._service.open(date)}onNavigateEvent(event){switch(event){case NavigationEvent.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case NavigationEvent.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(disabled){this._service.set({disabled:disabled})}writeValue(value){this._controlValue=NgbDate.from(this._ngbDateAdapter.fromModel(value)),this._service.select(this._controlValue)}}const Key=function(){var Key={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return Key[Key.Tab]="Tab",Key[Key.Enter]="Enter",Key[Key.Escape]="Escape",Key[Key.Space]="Space",Key[Key.PageUp]="PageUp",Key[Key.PageDown]="PageDown",Key[Key.End]="End",Key[Key.Home]="Home",Key[Key.ArrowLeft]="ArrowLeft",Key[Key.ArrowUp]="ArrowUp",Key[Key.ArrowRight]="ArrowRight",Key[Key.ArrowDown]="ArrowDown",Key}();let ng_bootstrap_NgbDatepickerKeyboardService=(()=>{class NgbDatepickerKeyboardService{processKey(event,datepicker){const{state:state,calendar:calendar}=datepicker;switch(event.which){case Key.PageUp:datepicker.focusDate(calendar.getPrev(state.focusedDate,event.shiftKey?"y":"m",1));break;case Key.PageDown:datepicker.focusDate(calendar.getNext(state.focusedDate,event.shiftKey?"y":"m",1));break;case Key.End:datepicker.focusDate(event.shiftKey?state.maxDate:state.lastDate);break;case Key.Home:datepicker.focusDate(event.shiftKey?state.minDate:state.firstDate);break;case Key.ArrowLeft:datepicker.focusDate(calendar.getPrev(state.focusedDate,"d",1));break;case Key.ArrowUp:datepicker.focusDate(calendar.getPrev(state.focusedDate,"d",calendar.getDaysPerWeek()));break;case Key.ArrowRight:datepicker.focusDate(calendar.getNext(state.focusedDate,"d",1));break;case Key.ArrowDown:datepicker.focusDate(calendar.getNext(state.focusedDate,"d",calendar.getDaysPerWeek()));break;case Key.Enter:case Key.Space:datepicker.focusSelect();break;default:return}event.preventDefault(),event.stopPropagation()}}return NgbDatepickerKeyboardService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbDatepickerKeyboardService},token:NgbDatepickerKeyboardService,providedIn:"root"}),NgbDatepickerKeyboardService})();class NgbDatepickerMonth{constructor(i18n,datepicker,_keyboardService,_service){this.i18n=i18n,this.datepicker=datepicker,this._keyboardService=_keyboardService,this._service=_service}set month(month){this.viewModel=this._service.getMonth(month)}onKeyDown(event){this._keyboardService.processKey(event,this.datepicker)}doSelect(day){day.context.disabled||day.hidden||this.datepicker.onDateSelect(day.date)}}class ng_bootstrap_NgbDatepickerNavigation{constructor(i18n){this.i18n=i18n,this.navigation=NavigationEvent,this.months=[],this.navigate=new core_EventEmitter,this.select=new core_EventEmitter}onClickPrev(event){event.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(event){event.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}const isContainedIn=(element,array)=>!!array&&array.some(item=>item.contains(element)),matchesSelectorIfAny=(element,selector)=>!selector||null!=function(element,selector){return selector?element.closest(selector):null}(element,selector),isMobile=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))();function ngbAutoClose(zone,document,type,close,closed$,insideElements,ignoreElements,insideSelector){var fn;type&&zone.runOutsideAngular((fn=()=>{const escapes$=fromEvent(document,"keydown").pipe(takeUntil(closed$),filter(e=>e.which===Key.Escape),tap(e=>e.preventDefault())),mouseDowns$=fromEvent(document,"mousedown").pipe(map_map(event=>{const element=event.target;return 2!==event.button&&!isContainedIn(element,ignoreElements)&&("inside"===type?isContainedIn(element,insideElements)&&matchesSelectorIfAny(element,insideSelector):"outside"===type?!isContainedIn(element,insideElements):matchesSelectorIfAny(element,insideSelector)||!isContainedIn(element,insideElements))}),takeUntil(closed$));(function(...observables){if(1===observables.length){if(!isArray(observables[0]))return observables[0];observables=observables[0]}return fromArray(observables,void 0).lift(new RaceOperator)})([escapes$,fromEvent(document,"mouseup").pipe(withLatestFrom(mouseDowns$),filter(([_,shouldClose])=>shouldClose),delay_delay(0),takeUntil(closed$))]).subscribe(()=>zone.run(close))},isMobile?()=>setTimeout(()=>fn(),100):fn))}const FOCUSABLE_ELEMENTS_SELECTOR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function getFocusableBoundaryElements(element){const list=Array.from(element.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR)).filter(el=>-1!==el.tabIndex);return[list[0],list[list.length-1]]}const ngbFocusTrap=(zone,element,stopFocusTrap$,refocusOnClick=!1)=>{zone.runOutsideAngular(()=>{const lastFocusedElement$=fromEvent(element,"focusin").pipe(takeUntil(stopFocusTrap$),map_map(e=>e.target));fromEvent(element,"keydown").pipe(takeUntil(stopFocusTrap$),filter(e=>e.which===Key.Tab),withLatestFrom(lastFocusedElement$)).subscribe(([tabEvent,focusedElement])=>{const[first,last]=getFocusableBoundaryElements(element);focusedElement!==first&&focusedElement!==element||!tabEvent.shiftKey||(last.focus(),tabEvent.preventDefault()),focusedElement!==last||tabEvent.shiftKey||(first.focus(),tabEvent.preventDefault())}),refocusOnClick&&fromEvent(element,"click").pipe(takeUntil(stopFocusTrap$),withLatestFrom(lastFocusedElement$),map_map(arr=>arr[1])).subscribe(lastFocusedElement=>lastFocusedElement.focus())})};class Positioning{getAllStyles(element){return window.getComputedStyle(element)}getStyle(element,prop){return this.getAllStyles(element)[prop]}isStaticPositioned(element){return"static"===(this.getStyle(element,"position")||"static")}offsetParent(element){let offsetParentEl=element.offsetParent||document.documentElement;for(;offsetParentEl&&offsetParentEl!==document.documentElement&&this.isStaticPositioned(offsetParentEl);)offsetParentEl=offsetParentEl.offsetParent;return offsetParentEl||document.documentElement}position(element,round=!0){let elPosition,parentOffset={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(element,"position"))elPosition=element.getBoundingClientRect(),elPosition={top:elPosition.top,bottom:elPosition.bottom,left:elPosition.left,right:elPosition.right,height:elPosition.height,width:elPosition.width};else{const offsetParentEl=this.offsetParent(element);elPosition=this.offset(element,!1),offsetParentEl!==document.documentElement&&(parentOffset=this.offset(offsetParentEl,!1)),parentOffset.top+=offsetParentEl.clientTop,parentOffset.left+=offsetParentEl.clientLeft}return elPosition.top-=parentOffset.top,elPosition.bottom-=parentOffset.top,elPosition.left-=parentOffset.left,elPosition.right-=parentOffset.left,round&&(elPosition.top=Math.round(elPosition.top),elPosition.bottom=Math.round(elPosition.bottom),elPosition.left=Math.round(elPosition.left),elPosition.right=Math.round(elPosition.right)),elPosition}offset(element,round=!0){const elBcr=element.getBoundingClientRect(),viewportOffset_top=window.pageYOffset-document.documentElement.clientTop,viewportOffset_left=window.pageXOffset-document.documentElement.clientLeft;let elOffset={height:elBcr.height||element.offsetHeight,width:elBcr.width||element.offsetWidth,top:elBcr.top+viewportOffset_top,bottom:elBcr.bottom+viewportOffset_top,left:elBcr.left+viewportOffset_left,right:elBcr.right+viewportOffset_left};return round&&(elOffset.height=Math.round(elOffset.height),elOffset.width=Math.round(elOffset.width),elOffset.top=Math.round(elOffset.top),elOffset.bottom=Math.round(elOffset.bottom),elOffset.left=Math.round(elOffset.left),elOffset.right=Math.round(elOffset.right)),elOffset}positionElements(hostElement,targetElement,placement,appendToBody){const[placementPrimary="top",placementSecondary="center"]=placement.split("-"),hostElPosition=appendToBody?this.offset(hostElement,!1):this.position(hostElement,!1),targetElStyles=this.getAllStyles(targetElement),marginTop=parseFloat(targetElStyles.marginTop),marginBottom=parseFloat(targetElStyles.marginBottom),marginLeft=parseFloat(targetElStyles.marginLeft),marginRight=parseFloat(targetElStyles.marginRight);let topPosition=0,leftPosition=0;switch(placementPrimary){case"top":topPosition=hostElPosition.top-(targetElement.offsetHeight+marginTop+marginBottom);break;case"bottom":topPosition=hostElPosition.top+hostElPosition.height;break;case"left":leftPosition=hostElPosition.left-(targetElement.offsetWidth+marginLeft+marginRight);break;case"right":leftPosition=hostElPosition.left+hostElPosition.width}switch(placementSecondary){case"top":topPosition=hostElPosition.top;break;case"bottom":topPosition=hostElPosition.top+hostElPosition.height-targetElement.offsetHeight;break;case"left":leftPosition=hostElPosition.left;break;case"right":leftPosition=hostElPosition.left+hostElPosition.width-targetElement.offsetWidth;break;case"center":"top"===placementPrimary||"bottom"===placementPrimary?leftPosition=hostElPosition.left+hostElPosition.width/2-targetElement.offsetWidth/2:topPosition=hostElPosition.top+hostElPosition.height/2-targetElement.offsetHeight/2}targetElement.style.transform=`translate(${Math.round(leftPosition)}px, ${Math.round(topPosition)}px)`;const targetElBCR=targetElement.getBoundingClientRect(),html=document.documentElement,windowHeight=window.innerHeight||html.clientHeight,windowWidth=window.innerWidth||html.clientWidth;return targetElBCR.left>=0&&targetElBCR.top>=0&&targetElBCR.right<=windowWidth&&targetElBCR.bottom<=windowHeight}}const placementSeparator=/\s+/,positionService=new Positioning;function positionElements(hostElement,targetElement,placement,appendToBody,baseClass){let placementVals=Array.isArray(placement)?placement:placement.split(placementSeparator);const allowedPlacements=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],classList=targetElement.classList,addClassesToTarget=targetPlacement=>{const[primary,secondary]=targetPlacement.split("-"),classes=[];return baseClass&&(classes.push(`${baseClass}-${primary}`),secondary&&classes.push(`${baseClass}-${primary}-${secondary}`),classes.forEach(classname=>{classList.add(classname)})),classes};baseClass&&allowedPlacements.forEach(placementToRemove=>{classList.remove(`${baseClass}-${placementToRemove}`)});let hasAuto=placementVals.findIndex(val=>"auto"===val);hasAuto>=0&&allowedPlacements.forEach((function(obj){null==placementVals.find(val=>-1!==val.search("^"+obj))&&placementVals.splice(hasAuto++,1,obj)}));const style=targetElement.style;let testPlacement;style.position="absolute",style.top="0",style.left="0",style["will-change"]="transform";let isInViewport=!1;for(testPlacement of placementVals){let addedClasses=addClassesToTarget(testPlacement);if(positionService.positionElements(hostElement,targetElement,testPlacement,appendToBody)){isInViewport=!0;break}baseClass&&addedClasses.forEach(classname=>{classList.remove(classname)})}return isInViewport||(testPlacement=placementVals[0],addClassesToTarget(testPlacement),positionService.positionElements(hostElement,targetElement,testPlacement,appendToBody)),testPlacement}function NGB_DATEPICKER_PARSER_FORMATTER_FACTORY(){return new NgbDateISOParserFormatter}let ng_bootstrap_NgbDateParserFormatter=(()=>{class NgbDateParserFormatter{}return NgbDateParserFormatter.ngInjectableDef=ɵɵdefineInjectable({factory:NGB_DATEPICKER_PARSER_FORMATTER_FACTORY,token:NgbDateParserFormatter,providedIn:"root"}),NgbDateParserFormatter})();class NgbDateISOParserFormatter extends ng_bootstrap_NgbDateParserFormatter{parse(value){if(value){const dateParts=value.trim().split("-");if(1===dateParts.length&&isNumber(dateParts[0]))return{year:toInteger(dateParts[0]),month:null,day:null};if(2===dateParts.length&&isNumber(dateParts[0])&&isNumber(dateParts[1]))return{year:toInteger(dateParts[0]),month:toInteger(dateParts[1]),day:null};if(3===dateParts.length&&isNumber(dateParts[0])&&isNumber(dateParts[1])&&isNumber(dateParts[2]))return{year:toInteger(dateParts[0]),month:toInteger(dateParts[1]),day:toInteger(dateParts[2])}}return null}format(date){return date?`${date.year}-${isNumber(date.month)?ng_bootstrap_padNumber(date.month):""}-${isNumber(date.day)?ng_bootstrap_padNumber(date.day):""}`:""}}let ng_bootstrap_NgbInputDatepickerConfig=(()=>{class NgbInputDatepickerConfig extends ng_bootstrap_NgbDatepickerConfig{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return NgbInputDatepickerConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbInputDatepickerConfig},token:NgbInputDatepickerConfig,providedIn:"root"}),NgbInputDatepickerConfig})();class ng_bootstrap_NgbInputDatepicker{constructor(_parserFormatter,_elRef,_vcRef,_renderer,_cfr,_ngZone,_calendar,_dateAdapter,_document,_changeDetector,config){this._parserFormatter=_parserFormatter,this._elRef=_elRef,this._vcRef=_vcRef,this._renderer=_renderer,this._cfr=_cfr,this._ngZone=_ngZone,this._calendar=_calendar,this._dateAdapter=_dateAdapter,this._document=_document,this._changeDetector=_changeDetector,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this.dateSelect=new core_EventEmitter,this.navigate=new core_EventEmitter,this.closed=new core_EventEmitter,this._onChange=_=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(input=>this[input]=config[input]),this._zoneSubscription=_ngZone.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(value){this._disabled=""===value||value&&"false"!==value,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){this._onTouched=fn}registerOnValidatorChange(fn){this._validatorChange=fn}setDisabledState(isDisabled){this.disabled=isDisabled}validate(c){const value=c.value;if(null==value)return null;const ngbDate=this._fromDateStruct(this._dateAdapter.fromModel(value));return this._calendar.isValid(ngbDate)?this.minDate&&ngbDate.before(NgbDate.from(this.minDate))?{ngbDate:{requiredBefore:this.minDate}}:this.maxDate&&ngbDate.after(NgbDate.from(this.maxDate))?{ngbDate:{requiredAfter:this.maxDate}}:void 0:{ngbDate:{invalid:c.value}}}writeValue(value){this._model=this._fromDateStruct(this._dateAdapter.fromModel(value)),this._writeModelValue(this._model)}manualDateChange(value,updateView=!1){const inputValueChanged=value!==this._inputValue;inputValueChanged&&(this._inputValue=value,this._model=this._fromDateStruct(this._parserFormatter.parse(value))),!inputValueChanged&&updateView||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===value?null:value),updateView&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const cf=this._cfr.resolveComponentFactory(ng_bootstrap_NgbDatepicker);this._cRef=this._vcRef.createComponent(cf),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(selectedDate=>{this.writeValue(selectedDate),this._onChange(selectedDate),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,ngbFocusTrap(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),ngbAutoClose(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let elementToFocus=this._elWithFocus;isString(this.restoreFocus)?elementToFocus=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(elementToFocus=this.restoreFocus),elementToFocus&&elementToFocus.focus?elementToFocus.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(date){this.isOpen()&&this._cRef.instance.navigateTo(date)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(changes){(changes.minDate||changes.maxDate)&&(this._validatorChange(),this.isOpen()&&(changes.minDate&&(this._cRef.instance.minDate=this.minDate),changes.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(changes)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(datepickerInstance){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(optionName=>{void 0!==this[optionName]&&(datepickerInstance[optionName]=this[optionName])}),datepickerInstance.startDate=this.startDate||this._model}_applyPopupStyling(nativeElement){this._renderer.addClass(nativeElement,"dropdown-menu"),this._renderer.addClass(nativeElement,"show"),"body"===this.container&&this._renderer.addClass(nativeElement,"ngb-dp-body")}_subscribeForDatepickerOutputs(datepickerInstance){datepickerInstance.navigate.subscribe(navigateEvent=>this.navigate.emit(navigateEvent)),datepickerInstance.dateSelect.subscribe(date=>{this.dateSelect.emit(date),!0!==this.autoClose&&"inside"!==this.autoClose||this.close()})}_writeModelValue(model){const value=this._parserFormatter.format(model);this._inputValue=value,this._renderer.setProperty(this._elRef.nativeElement,"value",value),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(model)),this._onTouched())}_fromDateStruct(date){const ngbDate=date?new NgbDate(date.year,date.month,date.day):null;return this._calendar.isValid(ngbDate)?ngbDate:null}_updatePopupPosition(){if(!this._cRef)return;let hostElement;if(hostElement=isString(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!hostElement)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");positionElements(hostElement,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}class NgbDatepickerDayView{constructor(i18n){this.i18n=i18n}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}class ng_bootstrap_NgbDatepickerNavigationSelect{constructor(i18n,_renderer){this.i18n=i18n,this._renderer=_renderer,this.select=new core_EventEmitter,this._month=-1,this._year=-1}changeMonth(month){this.select.emit(new NgbDate(this.date.year,toInteger(month),1))}changeYear(year){this.select.emit(new NgbDate(toInteger(year),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}class NgbDatepickerModule{}let ng_bootstrap_NgbDropdownConfig=(()=>{class NgbDropdownConfig{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return NgbDropdownConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbDropdownConfig},token:NgbDropdownConfig,providedIn:"root"}),NgbDropdownConfig})();class NgbNavbar{}class NgbDropdownItem{constructor(elementRef){this.elementRef=elementRef,this._disabled=!1}set disabled(value){this._disabled=""===value||!0===value}get disabled(){return this._disabled}}class NgbDropdownMenu{constructor(dropdown){this.dropdown=dropdown,this.placement="bottom",this.isOpen=!1}}class NgbDropdownAnchor{constructor(dropdown,_elementRef){this.dropdown=dropdown,this._elementRef=_elementRef,this.anchorEl=_elementRef.nativeElement}getNativeElement(){return this._elementRef.nativeElement}}class NgbDropdownToggle extends NgbDropdownAnchor{constructor(dropdown,elementRef){super(dropdown,elementRef)}}class ng_bootstrap_NgbDropdown{constructor(_changeDetector,config,_document,_ngZone,_elementRef,_renderer,ngbNavbar){this._changeDetector=_changeDetector,this._document=_document,this._ngZone=_ngZone,this._elementRef=_elementRef,this._renderer=_renderer,this._closed$=new Subject_Subject,this._open=!1,this.openChange=new core_EventEmitter,this.placement=config.placement,this.container=config.container,this.autoClose=config.autoClose,this.display=ngbNavbar?"static":"dynamic",this._zoneSubscription=_ngZone.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(take(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(changes){changes.container&&this._open&&this._applyContainer(this.container),changes.placement&&!changes.placement.isFirstChange&&this._applyPlacementClasses()}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers())}_setCloseHandlers(){const anchor=this._anchor;ngbAutoClose(this._ngZone,this._document,this.autoClose,()=>this.close(),this._closed$,this._menu?[this._menuElement.nativeElement]:[],anchor?[anchor.getNativeElement()]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(event){const key=event.which,itemElements=this._getMenuElements();let position=-1,isEventFromItems=!1,itemElement=null;const isEventFromToggle=this._isEventFromToggle(event);if(!isEventFromToggle&&itemElements.length&&itemElements.forEach((item,index)=>{item.contains(event.target)&&(isEventFromItems=!0,itemElement=item),item===this._document.activeElement&&(position=index)}),key!==Key.Space&&key!==Key.Enter){if(isEventFromToggle||isEventFromItems){if(this.open(),itemElements.length){switch(key){case Key.ArrowDown:position=Math.min(position+1,itemElements.length-1);break;case Key.ArrowUp:if(this._isDropup()&&-1===position){position=itemElements.length-1;break}position=Math.max(position-1,0);break;case Key.Home:position=0;break;case Key.End:position=itemElements.length-1}itemElements[position].focus()}event.preventDefault()}}else!isEventFromItems||!0!==this.autoClose&&"inside"!==this.autoClose||fromEvent(itemElement,"click").pipe(take(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(event){return this._anchor.getNativeElement().contains(event.target)}_getMenuElements(){const menu=this._menu;return null==menu?[]:menu.menuItems.filter(item=>!item.disabled).map(item=>item.elementRef.nativeElement)}_positionMenu(){const menu=this._menu;this.isOpen()&&menu&&this._applyPlacementClasses("dynamic"===this.display?positionElements(this._anchor.anchorEl,this._bodyContainer||this._menuElement.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(placement){return Array.isArray(placement)?placement[0]:placement.split(" ")[0]}_resetContainer(){const renderer=this._renderer,menuElement=this._menuElement;if(menuElement){const dropdownMenuElement=menuElement.nativeElement;renderer.appendChild(this._elementRef.nativeElement,dropdownMenuElement),renderer.removeStyle(dropdownMenuElement,"position"),renderer.removeStyle(dropdownMenuElement,"transform")}this._bodyContainer&&(renderer.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(container=null){if(this._resetContainer(),"body"===container){const renderer=this._renderer,dropdownMenuElement=this._menuElement.nativeElement,bodyContainer=this._bodyContainer=this._bodyContainer||renderer.createElement("div");renderer.setStyle(bodyContainer,"position","absolute"),renderer.setStyle(dropdownMenuElement,"position","static"),renderer.setStyle(bodyContainer,"z-index","1050"),renderer.appendChild(bodyContainer,dropdownMenuElement),renderer.appendChild(this._document.body,bodyContainer)}}_applyPlacementClasses(placement){const menu=this._menu;if(menu){placement||(placement=this._getFirstPlacement(this.placement));const renderer=this._renderer,dropdownElement=this._elementRef.nativeElement;renderer.removeClass(dropdownElement,"dropup"),renderer.removeClass(dropdownElement,"dropdown"),menu.placement="static"===this.display?null:placement;const dropdownClass=-1!==placement.search("^top")?"dropup":"dropdown";renderer.addClass(dropdownElement,dropdownClass);const bodyContainer=this._bodyContainer;bodyContainer&&(renderer.removeClass(bodyContainer,"dropup"),renderer.removeClass(bodyContainer,"dropdown"),renderer.addClass(bodyContainer,dropdownClass))}}}class NgbDropdownModule{}let ng_bootstrap_NgbModalConfig=(()=>{class NgbModalConfig{constructor(){this.backdrop=!0,this.keyboard=!0}}return NgbModalConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbModalConfig},token:NgbModalConfig,providedIn:"root"}),NgbModalConfig})();class ContentRef{constructor(nodes,viewRef,componentRef){this.nodes=nodes,this.viewRef=viewRef,this.componentRef=componentRef}}class ng_bootstrap_PopupService{constructor(_type,_injector,_viewContainerRef,_renderer,_componentFactoryResolver,_applicationRef){this._type=_type,this._injector=_injector,this._viewContainerRef=_viewContainerRef,this._renderer=_renderer,this._componentFactoryResolver=_componentFactoryResolver,this._applicationRef=_applicationRef}open(content,context){return this._windowRef||(this._contentRef=this._getContentRef(content,context),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef}close(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(content,context){if(content){if(content instanceof TemplateRef){const viewRef=content.createEmbeddedView(context);return this._applicationRef.attachView(viewRef),new ContentRef([viewRef.rootNodes],viewRef)}return new ContentRef([[this._renderer.createText(""+content)]])}return new ContentRef([])}}const ng_bootstrap_noop=()=>{};let ng_bootstrap_ScrollBar=(()=>{class ScrollBar{constructor(_document){this._document=_document}compensate(){const width=this._getWidth();return this._isPresent(width)?this._adjustBody(width):ng_bootstrap_noop}_adjustBody(scrollbarWidth){const body=this._document.body,userSetPaddingStyle=body.style.paddingRight,actualPadding=parseFloat(window.getComputedStyle(body)["padding-right"]);return body.style["padding-right"]=actualPadding+scrollbarWidth+"px",()=>body.style["padding-right"]=userSetPaddingStyle}_isPresent(scrollbarWidth){const rect=this._document.body.getBoundingClientRect();return window.innerWidth-(rect.left+rect.right)>=scrollbarWidth-.1*scrollbarWidth}_getWidth(){const measurer=this._document.createElement("div");measurer.className="modal-scrollbar-measure";const body=this._document.body;body.appendChild(measurer);const width=measurer.getBoundingClientRect().width-measurer.clientWidth;return body.removeChild(measurer),width}}return ScrollBar.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new ScrollBar(ɵɵinject(common_DOCUMENT))},token:ScrollBar,providedIn:"root"}),ScrollBar})();class NgbModalBackdrop{}class NgbActiveModal{close(result){}dismiss(reason){}}class NgbModalRef{constructor(_windowCmptRef,_contentRef,_backdropCmptRef,_beforeDismiss){this._windowCmptRef=_windowCmptRef,this._contentRef=_contentRef,this._backdropCmptRef=_backdropCmptRef,this._beforeDismiss=_beforeDismiss,_windowCmptRef.instance.dismissEvent.subscribe(reason=>{this.dismiss(reason)}),this.result=new Promise((resolve,reject)=>{this._resolve=resolve,this._reject=reject}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(result){this._windowCmptRef&&(this._resolve(result),this._removeModalElements())}_dismiss(reason){this._reject(reason),this._removeModalElements()}dismiss(reason){if(this._windowCmptRef)if(this._beforeDismiss){const dismiss=this._beforeDismiss();dismiss&&dismiss.then?dismiss.then(result=>{!1!==result&&this._dismiss(reason)},()=>{}):!1!==dismiss&&this._dismiss(reason)}else this._dismiss(reason)}_removeModalElements(){const windowNativeEl=this._windowCmptRef.location.nativeElement;if(windowNativeEl.parentNode.removeChild(windowNativeEl),this._windowCmptRef.destroy(),this._backdropCmptRef){const backdropNativeEl=this._backdropCmptRef.location.nativeElement;backdropNativeEl.parentNode.removeChild(backdropNativeEl),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const ModalDismissReasons=function(){var ModalDismissReasons={BACKDROP_CLICK:0,ESC:1};return ModalDismissReasons[ModalDismissReasons.BACKDROP_CLICK]="BACKDROP_CLICK",ModalDismissReasons[ModalDismissReasons.ESC]="ESC",ModalDismissReasons}();class ng_bootstrap_NgbModalWindow{constructor(_document,_elRef,_zone){this._document=_document,this._elRef=_elRef,this._zone=_zone,this._closed$=new Subject_Subject,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new core_EventEmitter}dismiss(reason){this.dismissEvent.emit(reason)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:nativeElement}=this._elRef;if(this._zone.runOutsideAngular(()=>{fromEvent(nativeElement,"keydown").pipe(takeUntil(this._closed$),filter(e=>e.which===Key.Escape&&this.keyboard)).subscribe(event=>requestAnimationFrame(()=>{event.defaultPrevented||this._zone.run(()=>this.dismiss(ModalDismissReasons.ESC))}));let preventClose=!1;fromEvent(this._dialogEl.nativeElement,"mousedown").pipe(takeUntil(this._closed$),tap(()=>preventClose=!1),switchMap(()=>fromEvent(nativeElement,"mouseup").pipe(takeUntil(this._closed$),take(1))),filter(({target:target})=>nativeElement===target)).subscribe(()=>{preventClose=!0}),fromEvent(nativeElement,"click").pipe(takeUntil(this._closed$)).subscribe(({target:target})=>{!0!==this.backdrop||nativeElement!==target||preventClose||this._zone.run(()=>this.dismiss(ModalDismissReasons.BACKDROP_CLICK)),preventClose=!1})}),!nativeElement.contains(document.activeElement)){const autoFocusable=nativeElement.querySelector("[ngbAutofocus]"),firstFocusable=getFocusableBoundaryElements(nativeElement)[0];(autoFocusable||firstFocusable||nativeElement).focus()}}ngOnDestroy(){const body=this._document.body,elWithFocus=this._elWithFocus;let elementToFocus;elementToFocus=elWithFocus&&elWithFocus.focus&&body.contains(elWithFocus)?elWithFocus:body,this._zone.runOutsideAngular(()=>{setTimeout(()=>elementToFocus.focus()),this._elWithFocus=null}),this._closed$.next()}}let ng_bootstrap_NgbModalStack=(()=>{class NgbModalStack{constructor(_applicationRef,_injector,_document,_scrollBar,_rendererFactory,_ngZone){this._applicationRef=_applicationRef,this._injector=_injector,this._document=_document,this._scrollBar=_scrollBar,this._rendererFactory=_rendererFactory,this._ngZone=_ngZone,this._activeWindowCmptHasChanged=new Subject_Subject,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const activeWindowCmpt=this._windowCmpts[this._windowCmpts.length-1];ngbFocusTrap(this._ngZone,activeWindowCmpt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(activeWindowCmpt.location.nativeElement)}})}open(moduleCFR,contentInjector,content,options){const containerEl=options.container instanceof HTMLElement?options.container:isDefined(options.container)?this._document.querySelector(options.container):this._document.body,renderer=this._rendererFactory.createRenderer(null,null),revertPaddingForScrollBar=this._scrollBar.compensate(),removeBodyClass=()=>{this._modalRefs.length||(renderer.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!containerEl)throw new Error(`The specified modal container "${options.container||"body"}" was not found in the DOM.`);const activeModal=new NgbActiveModal,contentRef=this._getContentRef(moduleCFR,options.injector||contentInjector,content,activeModal,options);let backdropCmptRef=!1!==options.backdrop?this._attachBackdrop(moduleCFR,containerEl):null,windowCmptRef=this._attachWindowComponent(moduleCFR,containerEl,contentRef),ngbModalRef=new NgbModalRef(windowCmptRef,contentRef,backdropCmptRef,options.beforeDismiss);return this._registerModalRef(ngbModalRef),this._registerWindowCmpt(windowCmptRef),ngbModalRef.result.then(revertPaddingForScrollBar,revertPaddingForScrollBar),ngbModalRef.result.then(removeBodyClass,removeBodyClass),activeModal.close=result=>{ngbModalRef.close(result)},activeModal.dismiss=reason=>{ngbModalRef.dismiss(reason)},this._applyWindowOptions(windowCmptRef.instance,options),1===this._modalRefs.length&&renderer.addClass(this._document.body,"modal-open"),backdropCmptRef&&backdropCmptRef.instance&&this._applyBackdropOptions(backdropCmptRef.instance,options),ngbModalRef}dismissAll(reason){this._modalRefs.forEach(ngbModalRef=>ngbModalRef.dismiss(reason))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(moduleCFR,containerEl){let backdropCmptRef=moduleCFR.resolveComponentFactory(NgbModalBackdrop).create(this._injector);return this._applicationRef.attachView(backdropCmptRef.hostView),containerEl.appendChild(backdropCmptRef.location.nativeElement),backdropCmptRef}_attachWindowComponent(moduleCFR,containerEl,contentRef){let windowCmptRef=moduleCFR.resolveComponentFactory(ng_bootstrap_NgbModalWindow).create(this._injector,contentRef.nodes);return this._applicationRef.attachView(windowCmptRef.hostView),containerEl.appendChild(windowCmptRef.location.nativeElement),windowCmptRef}_applyWindowOptions(windowInstance,options){this._windowAttributes.forEach(optionName=>{isDefined(options[optionName])&&(windowInstance[optionName]=options[optionName])})}_applyBackdropOptions(backdropInstance,options){this._backdropAttributes.forEach(optionName=>{isDefined(options[optionName])&&(backdropInstance[optionName]=options[optionName])})}_getContentRef(moduleCFR,contentInjector,content,activeModal,options){return content?content instanceof TemplateRef?this._createFromTemplateRef(content,activeModal):isString(content)?this._createFromString(content):this._createFromComponent(moduleCFR,contentInjector,content,activeModal,options):new ContentRef([])}_createFromTemplateRef(content,activeModal){const viewRef=content.createEmbeddedView({$implicit:activeModal,close(result){activeModal.close(result)},dismiss(reason){activeModal.dismiss(reason)}});return this._applicationRef.attachView(viewRef),new ContentRef([viewRef.rootNodes],viewRef)}_createFromString(content){const component=this._document.createTextNode(""+content);return new ContentRef([[component]])}_createFromComponent(moduleCFR,contentInjector,content,context,options){const contentCmptFactory=moduleCFR.resolveComponentFactory(content),modalContentInjector=Injector.create({providers:[{provide:NgbActiveModal,useValue:context}],parent:contentInjector}),componentRef=contentCmptFactory.create(modalContentInjector),componentNativeEl=componentRef.location.nativeElement;return options.scrollable&&componentNativeEl.classList.add("component-host-scrollable"),this._applicationRef.attachView(componentRef.hostView),new ContentRef([[componentNativeEl]],componentRef.hostView,componentRef)}_setAriaHidden(element){const parent=element.parentElement;parent&&element!==this._document.body&&(Array.from(parent.children).forEach(sibling=>{sibling!==element&&"SCRIPT"!==sibling.nodeName&&(this._ariaHiddenValues.set(sibling,sibling.getAttribute("aria-hidden")),sibling.setAttribute("aria-hidden","true"))}),this._setAriaHidden(parent))}_revertAriaHidden(){this._ariaHiddenValues.forEach((value,element)=>{value?element.setAttribute("aria-hidden",value):element.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(ngbModalRef){const unregisterModalRef=()=>{const index=this._modalRefs.indexOf(ngbModalRef);index>-1&&this._modalRefs.splice(index,1)};this._modalRefs.push(ngbModalRef),ngbModalRef.result.then(unregisterModalRef,unregisterModalRef)}_registerWindowCmpt(ngbWindowCmpt){this._windowCmpts.push(ngbWindowCmpt),this._activeWindowCmptHasChanged.next(),ngbWindowCmpt.onDestroy(()=>{const index=this._windowCmpts.indexOf(ngbWindowCmpt);index>-1&&(this._windowCmpts.splice(index,1),this._activeWindowCmptHasChanged.next())})}}return NgbModalStack.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbModalStack(ɵɵinject(core_ApplicationRef),ɵɵinject(INJECTOR),ɵɵinject(common_DOCUMENT),ɵɵinject(ng_bootstrap_ScrollBar),ɵɵinject(RendererFactory2),ɵɵinject(NgZone))},token:NgbModalStack,providedIn:"root"}),NgbModalStack})(),ng_bootstrap_NgbModal=(()=>{class NgbModal{constructor(_moduleCFR,_injector,_modalStack,_config){this._moduleCFR=_moduleCFR,this._injector=_injector,this._modalStack=_modalStack,this._config=_config}open(content,options={}){const combinedOptions=Object.assign({},this._config,options);return this._modalStack.open(this._moduleCFR,this._injector,content,combinedOptions)}dismissAll(reason){this._modalStack.dismissAll(reason)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return NgbModal.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbModal(ɵɵinject(ComponentFactoryResolver),ɵɵinject(INJECTOR),ɵɵinject(ng_bootstrap_NgbModalStack),ɵɵinject(ng_bootstrap_NgbModalConfig))},token:NgbModal,providedIn:"root"}),NgbModal})();class NgbModalModule{}class NgbNavModule{}let ng_bootstrap_NgbPaginationConfig=(()=>{class NgbPaginationConfig{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return NgbPaginationConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbPaginationConfig},token:NgbPaginationConfig,providedIn:"root"}),NgbPaginationConfig})();class ng_bootstrap_NgbPagination{constructor(config){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new core_EventEmitter(!0),this.disabled=config.disabled,this.boundaryLinks=config.boundaryLinks,this.directionLinks=config.directionLinks,this.ellipses=config.ellipses,this.maxSize=config.maxSize,this.pageSize=config.pageSize,this.rotate=config.rotate,this.size=config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(pageNumber){this._updatePages(pageNumber)}ngOnChanges(changes){this._updatePages(this.page)}isEllipsis(pageNumber){return-1===pageNumber}_applyEllipses(start,end){this.ellipses&&(start>0&&(start>2?this.pages.unshift(-1):2===start&&this.pages.unshift(2),this.pages.unshift(1)),end<this.pageCount&&(end<this.pageCount-2?this.pages.push(-1):end===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let start=0,end=this.pageCount,leftOffset=Math.floor(this.maxSize/2);return this.page<=leftOffset?end=this.maxSize:this.pageCount-this.page<leftOffset?start=this.pageCount-this.maxSize:(start=this.page-leftOffset-1,end=this.page+(this.maxSize%2==0?leftOffset-1:leftOffset)),[start,end]}_applyPagination(){let start=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[start,start+this.maxSize]}_setPageInRange(newPageNo){const prevPageNo=this.page;this.page=getValueInRange(newPageNo,this.pageCount,1),this.page!==prevPageNo&&isNumber(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(newPage){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),isNumber(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(newPage),this.maxSize>0&&this.pageCount>this.maxSize){let start=0,end=this.pageCount;[start,end]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(start,end),this._applyEllipses(start,end)}}}class NgbPaginationModule{}class ng_bootstrap_NgbPopoverWindow{isTitleTemplate(){return this.title instanceof TemplateRef}}class NgbPopoverModule{}let ng_bootstrap_NgbProgressbarConfig=(()=>{class NgbProgressbarConfig{constructor(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}}return NgbProgressbarConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbProgressbarConfig},token:NgbProgressbarConfig,providedIn:"root"}),NgbProgressbarConfig})();class NgbProgressbar{constructor(config){this.value=0,this.max=config.max,this.animated=config.animated,this.striped=config.striped,this.textType=config.textType,this.type=config.type,this.showValue=config.showValue,this.height=config.height}set max(max){this._max=!isNumber(max)||max<=0?100:max}get max(){return this._max}getValue(){return getValueInRange(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}class NgbProgressbarModule{}class NgbRatingModule{}class NgbTabsetModule{}class NgbTimepickerModule{}class NgbToastModule{}class NgbTooltipWindow{}class NgbTooltipModule{}class NgbHighlight{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(changes){const result=ng_bootstrap_toString(this.result),escapedTerms=(Array.isArray(this.term)?this.term:[this.term]).map(term=>ng_bootstrap_toString(term).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).filter(term=>term);this.parts=escapedTerms.length?result.split(new RegExp(`(${escapedTerms.join("|")})`,"gmi")):[result]}}class ng_bootstrap_NgbTypeaheadWindow{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=ng_bootstrap_toString,this.selectEvent=new core_EventEmitter,this.activeChangeEvent=new core_EventEmitter}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(activeIdx){this.activeIdx=activeIdx,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(item){this.selectEvent.emit(item)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}const ARIA_LIVE_DELAY=new InjectionToken("live announcer delay",{providedIn:"root",factory:function(){return 100}});function getLiveElement(document,lazyCreate=!1){let element=document.body.querySelector("#ngb-live");return null==element&&lazyCreate&&(element=document.createElement("div"),element.setAttribute("id","ngb-live"),element.setAttribute("aria-live","polite"),element.setAttribute("aria-atomic","true"),element.classList.add("sr-only"),document.body.appendChild(element)),element}let ng_bootstrap_Live=(()=>{class Live{constructor(_document,_delay){this._document=_document,this._delay=_delay}ngOnDestroy(){const element=getLiveElement(this._document);element&&element.parentElement.removeChild(element)}say(message){const element=getLiveElement(this._document,!0),delay=this._delay;element.textContent="";const setText=()=>element.textContent=message;null===delay?setText():setTimeout(setText,delay)}}return Live.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new Live(ɵɵinject(common_DOCUMENT),ɵɵinject(ARIA_LIVE_DELAY))},token:Live,providedIn:"root"}),Live})(),ng_bootstrap_NgbTypeaheadConfig=(()=>{class NgbTypeaheadConfig{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return NgbTypeaheadConfig.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new NgbTypeaheadConfig},token:NgbTypeaheadConfig,providedIn:"root"}),NgbTypeaheadConfig})(),nextWindowId=0;class ng_bootstrap_NgbTypeahead{constructor(_elementRef,viewContainerRef,_renderer,injector,componentFactoryResolver,config,ngZone,_live,_document,_ngZone,_changeDetector,applicationRef){this._elementRef=_elementRef,this._renderer=_renderer,this._live=_live,this._document=_document,this._ngZone=_ngZone,this._changeDetector=_changeDetector,this._closed$=new Subject_Subject,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new core_EventEmitter,this.popupId="ngb-typeahead-"+nextWindowId++,this._onTouched=()=>{},this._onChange=_=>{},this.container=config.container,this.editable=config.editable,this.focusFirst=config.focusFirst,this.showHint=config.showHint,this.placement=config.placement,this._valueChanges=fromEvent(_elementRef.nativeElement,"input").pipe(map_map($event=>$event.target.value)),this._resubscribeTypeahead=new BehaviorSubject_BehaviorSubject(null),this._popupService=new ng_bootstrap_PopupService(ng_bootstrap_NgbTypeaheadWindow,injector,viewContainerRef,_renderer,componentFactoryResolver,applicationRef),this._zoneSubscription=ngZone.onStable.subscribe(()=>{this.isPopupOpen()&&positionElements(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){const results$=this._valueChanges.pipe(tap(value=>{this._inputValueBackup=this.showHint?value:null,this._onChange(this.editable?value:void 0)})).pipe(this.ngbTypeahead),userInput$=this._resubscribeTypeahead.pipe(switchMap(()=>results$));this._subscription=this._subscribeToUserInput(userInput$)}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){this._onTouched=fn}writeValue(value){this._writeInputValue(this._formatItemForInput(value)),this.showHint&&(this._inputValueBackup=value)}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(event){if(this.isPopupOpen())switch(event.which){case Key.ArrowDown:event.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Key.ArrowUp:event.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Key.Enter:case Key.Tab:const result=this._windowRef.instance.getActive();isDefined(result)&&(event.preventDefault(),event.stopPropagation(),this._selectResult(result)),this._closePopup()}}_openPopup(){this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(result=>this._selectResultClosePopup(result)),this._windowRef.instance.activeChangeEvent.subscribe(activeId=>this.activeDescendant=activeId),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),ngbAutoClose(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement]))}_closePopup(){this._closed$.next(),this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0}_selectResult(result){let defaultPrevented=!1;this.selectItem.emit({item:result,preventDefault:()=>{defaultPrevented=!0}}),this._resubscribeTypeahead.next(null),defaultPrevented||(this.writeValue(result),this._onChange(result))}_selectResultClosePopup(result){this._selectResult(result),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){const userInputLowerCase=this._inputValueBackup.toLowerCase(),formattedVal=this._formatItemForInput(this._windowRef.instance.getActive());userInputLowerCase===formattedVal.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+formattedVal.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,formattedVal.length])):this._writeInputValue(formattedVal)}}_formatItemForInput(item){return null!=item&&this.inputFormatter?this.inputFormatter(item):ng_bootstrap_toString(item)}_writeInputValue(value){this._renderer.setProperty(this._elementRef.nativeElement,"value",ng_bootstrap_toString(value))}_subscribeToUserInput(userInput$){return userInput$.subscribe(results=>{results&&0!==results.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=results,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const count=results?results.length:0;this._live.say(0===count?"No results available":`${count} result${1===count?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}class NgbTypeaheadModule{}class NgbModule{}function debounceTime(dueTime,scheduler=async_async){return source=>source.lift(new DebounceTimeOperator(dueTime,scheduler))}class DebounceTimeOperator{constructor(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}call(subscriber,source){return source.subscribe(new debounceTime_DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))}}class debounceTime_DebounceTimeSubscriber extends Subscriber_Subscriber{constructor(destination,dueTime,scheduler){super(destination),this.dueTime=dueTime,this.scheduler=scheduler,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:lastValue}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(lastValue)}}clearDebounce(){const debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)}}function dispatchNext(subscriber){subscriber.debouncedNext()}const states=[],stateNames=[],artikelGruppen=[],artikelKategorien=[],artikelTypen=[],artikelGroessen=[],artikelFarben=[],gruppenKategorien=[];class select_create_artikel_component_SelectCreateArtikelComponent{constructor(activeModal,artikelService,herstellerService,baseData,dataService){this.activeModal=activeModal,this.artikelService=artikelService,this.herstellerService=herstellerService,this.baseData=baseData,this.dataService=dataService,this.faSearch=faSearch,this.faSignOutAlt=faSignOutAlt,this.ArtikelExistsStatus=-1,this.numBezeichnungExists=-1,this.artikelDaten={mid:0,mcid:0,mcuuid:"",gcid:0,gcuuid:"",Bezeichnung:"",Gruppe:"",Kategorie:"",Typ:"",Hersteller:"",huuid:"",Groesse:"",Farbe:""},this.focus$=new Subject_Subject,this.click$=new Subject_Subject,this.focusGrp$=new Subject_Subject,this.clickGrp$=new Subject_Subject,this.focusKtg$=new Subject_Subject,this.clickKtg$=new Subject_Subject,this.focusTyp$=new Subject_Subject,this.clickTyp$=new Subject_Subject,this.focusGrs$=new Subject_Subject,this.clickGrs$=new Subject_Subject,this.focusFa$=new Subject_Subject,this.clickFa$=new Subject_Subject,this.formIsValid=!1,this.formError="",this.existsStatus={Hersteller:{term:"",count:0},Bezeichnung:{term:"",count:0},Typ:{term:"",count:0},Groesse:{term:"",count:0},Farbe:{term:"",count:0}},this.herstellerExistsStatus={term:"",uuid:"",data:null,isQuerying:!1},this.delayedTrigger={},this.listExistingArticleMatches=[],this.listExistingArticlePage=[],this.pageSize=8,this.collectionSize=0,this.page=1,this.maxSize=6,this.artikelSelected=new core_EventEmitter,this.artikelSearching=new core_EventEmitter,this.artikelCreated=new core_EventEmitter,this.herstellerChanged=new core_EventEmitter,this.gruppeChanged=new core_EventEmitter,this.inputChanging=new core_EventEmitter,this.inputChanged=new core_EventEmitter,this.formatter=state=>state,this.search=text$=>{const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.click$.pipe(filter(()=>!this.instance.isPopupOpen()));return merge(debouncedText$,this.focus$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?stateNames:stateNames.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchGruppen=text$=>{const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickGrp$.pipe(filter(()=>!this.instanceGrp.isPopupOpen()));return merge(debouncedText$,this.focusGrp$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?artikelGruppen:artikelGruppen.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchKategorien=text$=>{const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickKtg$.pipe(filter(()=>!this.instanceKtg.isPopupOpen()));return merge(debouncedText$,this.focusKtg$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?artikelKategorien:artikelKategorien.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchTypen=text$=>{const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickTyp$.pipe(filter(()=>!this.instanceTyp.isPopupOpen()));return merge(debouncedText$,this.focusTyp$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?artikelTypen:artikelTypen.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchGroessen=text$=>{const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickGrs$.pipe(filter(()=>!this.instanceGrs.isPopupOpen()));return merge(debouncedText$,this.focusGrs$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?artikelGroessen:artikelGroessen.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchFarben=text$=>{const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickFa$.pipe(filter(()=>!this.instanceFa.isPopupOpen()));return merge(debouncedText$,this.focusFa$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?artikelFarben:artikelFarben.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))}}ngOnInit(){this.herstellerService.getAllHerstellerWithUuids().then(list=>{for(;states.length>0;)states.pop(),stateNames.pop();list.forEach(item=>{states.push(item),stateNames.push(item.Hersteller)}),console.log("#118 ngOnInit",{states:states,stateNames:stateNames})}),this.artikelService.getGroupedArtikelGruppenKategorien().then(list=>{gruppenKategorien.length=0,list.forEach(itm=>gruppenKategorien.push(itm))}),this.artikelService.getGroupedArtikelGruppen().then(list=>{list.forEach(it=>artikelGruppen.push(it))}),this.artikelService.getGroupedArtikelKategorien().then(list=>{list.forEach(it=>artikelKategorien.push(it))}),this.artikelService.getGroupedArtikelProperties("Typ").then(list=>{list.forEach(it=>artikelTypen.push(it))}),this.artikelService.getGroupedArtikelFarben().then(list=>{list.forEach(it=>artikelFarben.push(it))}),this.artikelService.getGroupedArtikelGroessen().then(list=>{list.forEach(it=>artikelGroessen.push(it))}),this.herstellerChanged.subscribe(()=>{this.checkHersteller().then(()=>{this.inputChanged.emit(),this.rebuildTypeaheadFarben(),this.rebuildTypeaheadTypen()})}),this.gruppeChanged.subscribe(gruppe=>{this.rebuildTypeaheadKategorien(gruppe),this.inputChanged.emit()}),this.inputChanging.subscribe(()=>{this.delegateListArticleMatches(3e3)}),this.inputChanged.subscribe(()=>{this.checkIfArtikelExistsMandant(),this.delegateListArticleMatches(500)})}getWhereInputsOf(artikelProperties){const daten=Object.assign({},this.artikelDaten);console.log("#201 getWhereInputsOf",{artikelProperties:artikelProperties,daten:daten,artikelDaten:this.artikelDaten});const where=artikelProperties.filter(p=>{const hasInput=p in daten&&0!==daten[p]&&""!==daten[p]&&!!daten[p];return console.log("#206 getWhereInputsOf",{p:p,hasInput:hasInput,daten:daten,artikelDaten:Object.assign({},this.artikelDaten),value:this.artikelDaten[p],dvalue:daten[p]}),hasInput}).reduce((o,p)=>(o[p]=this.artikelDaten[p],o),{});return console.log("#210 getWhereInputsOf",{artikelProperties:artikelProperties,where:where,artikelDaten:this.artikelDaten}),where}rebuildTypeaheadGruppen(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const where=this.getWhereInputsOf(["huuid"]);this.artikelService.getGroupedArtikelGruppen(where).then(list=>{artikelGruppen.length=0,list.forEach(it=>artikelGruppen.push(it))})}))}rebuildTypeaheadKategorien(gruppe){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const grpKategorien=gruppenKategorien.find(itm=>itm.gruppe===gruppe);if(gruppe&&grpKategorien&&grpKategorien.kategorien.length)return artikelKategorien.length=0,void grpKategorien.kategorien.forEach(ktg=>artikelKategorien.push(ktg));const buffer=[];gruppenKategorien.forEach(itm=>{itm.kategorien.forEach(ktg=>{ktg&&-1===artikelKategorien.indexOf(ktg)&&buffer.push(ktg)})}),artikelKategorien.length=0,buffer.sort((a,b)=>a.toLowerCase()<b.toLowerCase()?-1:1).forEach(ktg=>artikelKategorien.push(ktg))}))}rebuildTypeaheadTypen(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const where=this.getWhereInputsOf(["huuid"]);this.artikelService.getGroupedArtikelTypen(where).then(list=>{artikelTypen.length=0,list.forEach(it=>artikelTypen.push(it))})}))}rebuildTypeaheadGroessen(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const where=this.getWhereInputsOf(["huuid"]);this.artikelService.getGroupedArtikelGroessen(where).then(list=>{artikelGroessen.length=0,list.forEach(it=>artikelGroessen.push(it))})}))}rebuildTypeaheadFarben(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const where=this.getWhereInputsOf(["huuid"]);this.artikelService.getGroupedArtikelFarben(where).then(list=>{artikelFarben.length=0,list.forEach(it=>artikelFarben.push(it))})}))}delegateCheckHersteller(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const funcName="checkHersteller";funcName in this.delayedTrigger&&(clearTimeout(this.delayedTrigger[funcName]),delete this.delayedTrigger[funcName]),console.log("delegate checkHersteller"),this.delayedTrigger[funcName]=setTimeout(this.checkHersteller.bind(this),1e3)}))}delegateListArticleMatches(delay){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const funcName="listArticleMatches",delayMS=isNaN(delay)?2e3:delay;funcName in this.delayedTrigger&&(clearTimeout(this.delayedTrigger[funcName]),delete this.delayedTrigger[funcName]),console.log("delegate listArticleMatches"),this.delayedTrigger[funcName]=setTimeout(this.listArticleMatches.bind(this),delayMS)}))}checkHersteller(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("called checkHersteller");const input=this.artikelDaten.Hersteller,term="string"==typeof input?input.trim():"";return term!==this.herstellerExistsStatus.term&&(this.herstellerExistsStatus.term=term,this.herstellerExistsStatus.data=null,this.herstellerExistsStatus.uuid=null),term.length?(this.herstellerExistsStatus.isQuerying=!0,yield this.herstellerService.getByName(term).then(data=>(this.herstellerExistsStatus.data=data,this.herstellerExistsStatus.isQuerying=!1,null!=data&&(this.herstellerExistsStatus.uuid="uuid"in data?data.uuid:null,console.log("#167 Hersteller exists: ",this.herstellerExistsStatus),!0)))):(console.log("#172 Hersteller not found: ",term),!1)}))}listArticleMatches(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#175 called listArticleMatches");const mid=this.baseData.getCurrentMid(),d=this.artikelDaten,oCheckData={};yield this.checkHersteller();const huuid=this.herstellerExistsStatus.uuid;for(const k of["Bezeichnung","Typ","Kategorie","Gruppe","Groesse","Farbe"])d[k]&&(oCheckData[k]=d[k]);this.listExistingArticleMatches=yield this.artikelService.listArticleByProperties(mid,huuid,oCheckData),this.page=1,this.onPageChange(this.page),console.log("finished listArticleMatches with results.count: ",this.listExistingArticleMatches.length," for",{mid:mid,huuid:huuid,oCheckData:oCheckData})}))}applyItemAsArtikel(item){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(console.log("#361 applyItemAsArtikel",{item:item}),!item.mcuuid){let artikelRef=yield this.dataService.getArtikelRefByGcuuidMid(item.gcuuid,this.clientId);artikelRef||(artikelRef=yield this.artikelService.insertArtikelRef(item)),item.mcid=artikelRef.mcid,item.mcuuid=artikelRef.uuid}this.artikelSelected.emit({uuid:item.mcuuid,mcuuid:item.mcuuid,name:item.Bezeichnung})}))}applyItemAsInput(item){console.log("#367 applyItemAsInput",{item:item}),this.artikelDaten.Hersteller=item.Hersteller,this.artikelDaten.huuid=item.huuid,this.artikelDaten.Bezeichnung=item.Bezeichnung,this.artikelDaten.Gruppe=item.Gruppe,this.artikelDaten.Kategorie=item.Kategorie,this.artikelDaten.Farbe=item.Farbe,this.artikelDaten.Groesse=item.Groesse,this.artikelDaten.Typ=item.Typ}onInput(event){this.inputChanging.emit(event)}onChange(event){this.inputChanged.emit(event)}onSelectHersteller(selected){const foundHst=states.find(st=>st.Hersteller===selected.item);this.artikelDaten.huuid=foundHst?foundHst.uuid:null,console.log("SelectCreateArtikel onSelectHersteller this.artikelDaten.Hersteller: ",this.artikelDaten.Hersteller,{selected:selected,foundHst:foundHst}),this.herstellerChanged.emit(selected.item)}onChangeHersteller(event){console.log("Hersteller changed",event),event.target instanceof HTMLInputElement&&this.herstellerChanged.emit(event.target.value)}onSelectGruppe(selected){console.log("Gruppe selected",selected),this.gruppeChanged.emit(selected.item)}onChangeGruppe(event){console.log("Gruppe changed",event),event.target instanceof HTMLInputElement&&this.gruppeChanged.emit(event.target.value)}onSelectKategorie(selected){console.log("Kategorien selected",selected),this.inputChanged.emit()}onChangeKategorie(event){console.log("Kategorien changed",event),this.inputChanged.emit(event)}onSelectTypen(selected){console.log("Typen selected",selected),this.inputChanged.emit()}onChangeTyp(event){console.log("Typ changed",event),this.inputChanged.emit(event)}onSelectFarben(selected){console.log("Farben selected",selected),this.inputChanged.emit()}onSelectGroessen(selected){console.log("Groessen selected",selected),this.inputChanged.emit()}getDismissReason(reason){return reason===ModalDismissReasons.ESC?"by pressing ESC":reason===ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+reason}formValidate(){return this.formIsValid=this.artikelDaten.Bezeichnung.length>0&&0===this.numBezeichnungExists,console.log("called formValidate return ",this.formIsValid),this.formIsValid}showSearchForm(event){this.artikelSearching.emit(1),this.activeModal.close()}get gebaeudeId(){return this.gid}set gebaeudeId(gid){this.gid=gid}get clientId(){return this.mid}set clientId(mid){this.mid=mid}checkIfABezeichnungExistsGlobal(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("check if Artikel exists"),this.delegateListArticleMatches(),this.numBezeichnungExists=-1;let NumBezgenExists=0;return yield this.artikelService.artikelBezeichnungExistsGlobal(this.artikelDaten.Bezeichnung).then(numExists=>{this.numBezeichnungExists=numExists,NumBezgenExists=numExists}),this.formValidate(),console.log("check if Artikel exists: ",NumBezgenExists),this.listArticleMatches(),NumBezgenExists}))}checkIfArtikelExistsMandant(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.numBezeichnungExists=-1;let globalArtikelUuids=[];return yield this.artikelService.artikelGlobalByBezeichnung(this.artikelDaten.Bezeichnung).then(items=>{globalArtikelUuids=items.map(item=>item.uuid)}),0!==globalArtikelUuids.length&&0<(yield this.artikelService.artikelMcuuidByGcuuids(this.mid,globalArtikelUuids).then(items=>items.length))}))}save(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(this.formError="",this.formValidate()){this.artikelDaten.mid=this.mid;const result=yield this.artikelService.insert(this.artikelDaten);return result.success?(this.artikelCreated.emit(result),this.activeModal.close(),!0):(this.formError="Daten konnten nicht gespeichert werden!<br>"+result.errorMsg,console.error("save Artikeldaten result ",{artikelDaten:this.artikelDaten,result:result}),!1)}this.formError="Bitte die Angaben vervollständigen, Artikel-Bezeichnung darf noch nicht vergeben sein"}))}onPageChange(page){this.collectionSize=this.listExistingArticleMatches.length,this.pageSize=8;const start=(page-1)*this.pageSize,end=start+this.pageSize;this.listExistingArticlePage=this.listExistingArticleMatches.slice(start,end),console.log("#599 pagination goto page",page,".slice(",start,end,") of",this.collectionSize)}onSubmit(event){console.log("onSubmit",this.artikelDaten),this.save()}}const select_search_artikel_component_states=[];class select_search_artikel_component_SelectSearchArtikelComponent{constructor(dataService,activeModal){this.dataService=dataService,this.activeModal=activeModal,this.faPlus=faPlus,this.faSignOutAlt=faSignOutAlt,this.faSearch=faSearch,this.artikelSelected=new core_EventEmitter,this.artikelCreating=new core_EventEmitter,this.formatter=state=>state.name,this.search=text$=>text$.pipe(debounceTime(200),distinctUntilChanged(),filter(term=>(console.log("filter by term",term),term.length>=2)),map_map(term=>(console.log("map and slice artikels by term",term,"states",select_search_artikel_component_states),select_search_artikel_component_states.filter(item=>new RegExp(term,"mi").test(item.name)).slice(0,10))))}ngOnInit(){}ngAfterViewInit(){this.setSearchFocus()}setSearchFocus(){this.searchArtikelInput&&this.searchArtikelInput.nativeElement&&this.searchArtikelInput.nativeElement.focus?this.searchArtikelInput.nativeElement.focus():console.error("NOT FOUND this.searchArtikelInput.nativeElement")}showCreateForm(event){console.log("showCreateForm"),this.artikelCreating.emit(this.mid),this.activeModal.close()}onSelectItem(selected){console.log(selected,selected.item),this.artikelSelected.emit(selected.item),this.activeModal.close()}get clientId(){return this.mid}set clientId(mid){console.log("SET gebaeudeId","param",mid,"old-mid",this.mid),this.mid!==mid&&(this.mid=mid,console.log("Reload Search-List"),this.loadArtikels().then(()=>{this.setSearchFocus()}))}loadArtikels(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("called loadArtikels"),select_search_artikel_component_states.length=1,yield this.dataService.getArtikelListByClientId(this.mid).then(items=>(console.log("process fetched artikels",items.length),items.map(artikel=>{const nameParts=[];artikel.Typ&&nameParts.push(artikel.Typ),artikel.Bezeichnung&&nameParts.push(artikel.Bezeichnung),artikel.Kategorie&&nameParts.push(artikel.Kategorie),artikel.Gruppe&&nameParts.push(artikel.Gruppe),artikel.Farbe&&nameParts.push(artikel.Farbe),artikel.Groesse&&nameParts.push(artikel.Groesse),artikel.Hersteller&&nameParts.push(artikel.Hersteller);const option={uuid:artikel.mcuuid,mcuuid:artikel.mcuuid,name:nameParts.join(" :: ")};return select_search_artikel_component_states.push(option),Object.assign({},artikel,option)}))).then().catch(err=>{console.error(err)}),this.search=text$=>text$.pipe(debounceTime(200),distinctUntilChanged(),filter(term=>term.length>=2),map_map(term=>select_search_artikel_component_states.filter(item=>new RegExp(term,"mi").test(item.name)).slice(0,10)))}))}}class select_create_raum_component_SelectCreateRaumComponent{constructor(activeModal,raumService){this.activeModal=activeModal,this.raumService=raumService,this.faSearch=faSearch,this.faCamera=faCamera,this.faSignOutAlt=faSignOutAlt,this.raumExistsStatus=-1,this.bezeichnungExistsStatus=-1,this.raumDaten={Raum:"",Raumbezeichnung:"",Etage:"",code:""},this.formIsValid=!1,this.formError="",this.raumSearching=new core_EventEmitter,this.raumCreated=new core_EventEmitter,this.scannerRequest=new core_EventEmitter}getDismissReason(reason){return reason===ModalDismissReasons.ESC?"by pressing ESC":reason===ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+reason}ngOnInit(){}openScanner(target){this.scannerRequest.emit(target)}formValidate(){return console.log("called formValidate"),this.formIsValid=this.raumDaten.Raum.length>0&&0===this.raumExistsStatus,console.log("called formValidate return ",this.formIsValid),this.formIsValid}showSearchForm(event){console.log("called showSearchForm"),this.raumSearching.emit(),this.activeModal.close()}get gebaeudeId(){return console.log("called get gebaeudeId() ",this.gid),this.gid}set gebaeudeId(gid){console.log("called set gebaeudeId","param",gid,"old-gid",this.gid),this.gid=gid}checkIfRaumExists(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("check if raum exists"),this.raumExistsStatus=-1;let raumExists=!1;return yield this.raumService.raumExists(this.gid,this.raumDaten.Raum).then(exists=>{this.raumExistsStatus=exists?1:0,raumExists=exists}),this.formValidate(),console.log("check if raum exists: ",raumExists),raumExists}))}checkIfRaumbezeichnungExists(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("check if bezeichnung exists"),this.bezeichnungExistsStatus=-1;let bezeichnungExists=!1;return yield this.raumService.raumBezeichnungExists(this.gid,this.raumDaten.Raumbezeichnung).then(exists=>{this.bezeichnungExistsStatus=exists?1:0,bezeichnungExists=exists}),console.log("check if bezeichnung exists: ",bezeichnungExists),bezeichnungExists}))}save(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(this.formError="",console.log("save raum "),this.formValidate()){this.raumDaten.gid=this.gid,console.log("save raumdaten ",this.raumDaten);const result=yield this.raumService.insert(this.raumDaten);return console.log("save raumdaten result ",result),result.success?(this.raumCreated.emit(result.newItem),this.activeModal.close(),!0):(this.formError="Daten konnten nicht gespeichert werden!<br>"+result.errorMsg,!1)}this.formError="Bitte die Angaben vervollständigen, Raum darf noch nicht vergeben sein"}))}onSubmit(event){console.log("onSubmit",this.raumDaten),this.save()}}class raum_list_rest_component_RaumListRestComponent{constructor(activeModal,inventarService,baseData){this.activeModal=activeModal,this.inventarService=inventarService,this.baseData=baseData,this.requestDoneList=new core_EventEmitter,this.faSignOutAlt=faSignOutAlt,this.inventarListRest=[],this.inventarListGrouped=[],this.inventarDetailList=[],this.total=0,this.pageNr=1,this.pageSize=0,this.totalPages=0}ngOnInit(){console.log("typeof this.activeModal.dismiss: ",this.activeModal.dismiss)}set raum(raum){this.raumDaten=raum,this.loadInventarByRuuid(raum.uuid).then(()=>{this.setPage(1)})}setPage(pageNr,pageSize){this.total=this.inventarListGrouped.length,this.pageSize=Math.max(1,Math.min(this.total,pageSize||this.pageSize||this.total)),this.totalPages=Math.ceil(this.total/this.pageSize),this.pageNr=Math.min(this.totalPages,Math.max(1,pageNr)),this.inventarListRest=this.inventarListGrouped.slice(Math.max(0,this.pageNr-1)*this.pageSize,this.pageSize)}loadInventarByRuuid(ruuid,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobid||this.baseData.getCurrentJobid(),groupedList=[];return console.log("#54 getHello:",this.inventarService.getHello()),this.inventarService.getInventarListRestByRaumUuid(ruuid,jobid).then(list=>(this.inventarDetailList=list,this.inventarListGrouped=this.inventarDetailList.sort((a,b)=>a.inventar.mcuuid>b.inventar.mcuuid?-1:a.inventar.mcuuid<b.inventar.mcuuid?1:0).reduce((gList,item)=>{const l=gList.length,i=l-1;return l&&gList[i].mcuuid===item.inventar.mcuuid?gList[i].Menge++:gList[l]={mcuuid:item.inventar.mcuuid,Bezeichnung:item.inventar.Bezeichnung||item.artikelData.Bezeichnung,Typ:item.inventar.Typ||item.artikelData.Typ,Menge:1},gList},groupedList),!0))}))}showRaumDoneForm(e){console.log("click showRaumDoneForm"),this.activeModal.close(),this.requestDoneList.emit(this.raumDaten)}}class raum_list_done_component_RaumListDoneComponent{constructor(activeModal,inventarService,baseData){this.activeModal=activeModal,this.inventarService=inventarService,this.baseData=baseData,this.requestRestList=new core_EventEmitter,this.faSignOutAlt=faSignOutAlt,this.inventarListDone=[],this.inventarListGrouped=[],this.inventarDetailList=[],this.total=0,this.pageNr=1,this.pageSize=0,this.totalPages=0}ngOnInit(){}set raum(raum){this.raumDaten=raum,this.loadInventarByRuuid(raum.uuid).then(()=>{this.setPage(1)})}setPage(pageNr,pageSize){this.total=this.inventarListGrouped.length,this.pageSize=Math.max(1,Math.min(this.total,pageSize||this.pageSize||this.total)),this.totalPages=Math.ceil(this.total/this.pageSize),this.pageNr=Math.min(this.totalPages,Math.max(1,pageNr)),this.inventarListDone=this.inventarListGrouped.slice(Math.max(0,this.pageNr-1)*this.pageSize,this.pageSize)}loadInventarByRuuid(ruuid,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobid||this.baseData.getCurrentJobid(),groupedList=[];return console.log("#54 getHello:",this.inventarService.getHello()),this.inventarService.getInventarListDoneByRaumUuid(ruuid,jobid).then(list=>(this.inventarDetailList=list,this.inventarListGrouped=this.inventarDetailList.sort((a,b)=>a.inventar.mcuuid>b.inventar.mcuuid?-1:a.inventar.mcuuid<b.inventar.mcuuid?1:0).reduce((gList,item)=>{const l=gList.length,i=l-1;return l&&gList[i].mcuuid===item.inventar.mcuuid?gList[i].Menge++:gList[l]={mcuuid:item.inventar.mcuuid,Bezeichnung:item.inventar.Bezeichnung||item.artikelData.Bezeichnung,Typ:item.inventar.Typ||item.artikelData.Typ,Menge:1},gList},groupedList),!0))}))}showRaumRestForm(e){console.log("click showRaumDoneForm"),this.activeModal.close(),this.requestRestList.emit(this.raumDaten)}}const select_search_raum_component_states=[];class select_search_raum_component_SelectSearchRaumComponent{constructor(dataService,activeModal,baseData){this.dataService=dataService,this.activeModal=activeModal,this.baseData=baseData,this.faPlus=faPlus,this.faSearch=faSearch,this.faSearchLocation=faSearchLocation,this.faSignOutAlt=faSignOutAlt,this.raumSelected=new core_EventEmitter,this.raumCreating=new core_EventEmitter,this.formatter=state=>state.name,this.search=text$=>text$.pipe(debounceTime(200),distinctUntilChanged(),filter(term=>term.length>=1),map_map(term=>{const matches=select_search_raum_component_states.filter(item=>new RegExp(term,"mi").test(item.name)).sort().slice(0,10);return console.log("search ",{term:term,matches:Object.assign({},matches),states:select_search_raum_component_states}),matches}))}ngOnInit(){}ngAfterViewInit(){this.setSearchFocus()}setSearchFocus(){this.searchInput&&this.searchInput.nativeElement&&this.searchInput.nativeElement.focus?this.searchInput.nativeElement.focus():console.error("NOT FOUND this.searchInput.nativeElement")}showCreateForm(event){console.log("showCreateForm"),this.raumCreating.emit(this.gid),this.activeModal.close()}onSelectItem(selected){console.log(selected,selected.item),this.raumSelected.emit(selected.item),this.activeModal.close()}get gebaeudeId(){return this.gid}set gebaeudeId(gid){console.log("SET gebaeudeId","param",gid,"old-gid",this.gid),this.gid!==gid&&(this.gid=gid,this.jobid=this.baseData.getCurrentJobid(),console.log("Reload Search-List"),this.loadRaeume().then(()=>{this.setSearchFocus()}),this.setSearchFocus())}loadRaeume(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("called loadRaeume"),select_search_raum_component_states.length=0,this.dataService.getRaeumeByGebaeudeId(this.gid,this.jobid).then(raeume2=>{console.log("loadRaeume: ",{raeume2:Object.assign({},raeume2)});const raeume3=raeume2.map(raum=>{const nameParts=[];raum.Raum&&nameParts.push(raum.Raum),raum.Raumbezeichnung&&nameParts.push(raum.Raumbezeichnung),raum.Etage&&nameParts.push(raum.Etage);const itm={uuid:raum.uuid,name:nameParts.join(" :: ")},rOpt=Object.assign({},itm,raum);return select_search_raum_component_states.find(st=>st.uuid===rOpt.uuid)||select_search_raum_component_states.push(rOpt),rOpt});return console.log("loadRaeume: ",{states:Object.assign({},select_search_raum_component_states)}),raeume3}).catch(err=>{console.error(err)})}))}}class gesamt_list_rest_component_GesamtListRestComponent{constructor(activeModal,baseData,raumData){this.activeModal=activeModal,this.baseData=baseData,this.raumData=raumData,this.requestGesamtDone=new core_EventEmitter,this.raumSelected=new core_EventEmitter,this.faSignOutAlt=faSignOutAlt}ngOnInit(){}set gebaeude(gebaeude){this.gebaeudeDaten=gebaeude,this.loadGebaeudeStat()}onSelectRaum(ruuid){this.raumSelected.emit(ruuid),this.activeModal.close()}loadGebaeudeStat(useJobid){const jobid=useJobid||this.baseData.getCurrentJobid();this.raumData.getRaeumeToDoByGebaeudeId(this.gebaeudeDaten.gid,jobid).then(list=>{this.raeumeListDone=list.sort((a,b)=>a.Raum.toLowerCase()<b.Raum.toLowerCase()?-1:1)})}showGesamtDoneForm(){console.log("click showGesamtToDoForm"),this.activeModal.close(),this.requestGesamtDone.emit(this.gebaeudeDaten)}}class gesamt_list_done_component_GesamtListDoneComponent{constructor(activeModal,baseData,raumData){this.activeModal=activeModal,this.baseData=baseData,this.raumData=raumData,this.requestGesamtRest=new core_EventEmitter,this.faCheck=faCheck,this.faInWork=faSpinner,this.faEmpty=faBatteryEmpty,this.faQuarter=faBatteryQuarter,this.faHalf=faBatteryHalf,this.faThreeQuarter=faBatteryThreeQuarters,this.faFull=faBatteryFull,this.faSignOutAlt=faSignOutAlt,this.raumSelected=new core_EventEmitter}ngOnInit(){}set gebaeude(gebaeude){this.gebaeudeDaten=gebaeude,this.loadGebaeudeStat()}onSelectRaum(uuid){this.raumSelected.emit(uuid),this.activeModal.close()}getStatusIconNameByItem(item){return 0===item.done?"empty":item.done>=item.total?"full":item.progress>=75?"three-quarter":item.progress>=50?"half":"quarter"}loadGebaeudeStat(useJobid){const jobid=useJobid||this.baseData.getCurrentJobid();this.raumData.getRaeumeStartedByGebaeudeId(this.gebaeudeDaten.gid,jobid).then(list=>{this.raeumeListDone=list.map(item=>(item.progress=Math.ceil(item.progress<99||item.progress>=100?item.progress:99),Object.assign({},item,{statusIconName:this.getStatusIconNameByItem(item)}))).sort((a,b)=>a.editStatus===b.editStatus&&a.progress===b.progress?a.Raum.toLowerCase()<b.Raum.toLowerCase()?-1:1:a.editStatus!==b.editStatus?a.editStatus<b.editStatus?-1:1:a.progress<b.progress?-1:1)})}showGesamtRestForm(){console.log("click showGesamtToDoForm"),this.activeModal.close(),this.requestGesamtRest.emit(this.gebaeudeDaten)}}class edit_raum_component_EditRaumComponent{constructor(activeModal,raumService){this.activeModal=activeModal,this.raumService=raumService,this.faCamera=faCamera,this.raumExistsStatus=-1,this.bezeichnungExistsStatus=-1,this.raumDaten=null,this.etagen=[],this.validationErrors=[],this.raumInput={gid:0,Raum:"",Raumbezeichnung:"",Etage:"",code:""},this.formIsValid=!1,this.formError="",this.raumSearching=new core_EventEmitter,this.raumChanged=new core_EventEmitter,this.scannerRequest=new core_EventEmitter,this.searchEtage=text$=>text$.pipe(debounceTime(200),distinctUntilChanged(),filter(term=>term.length>=0),map_map(term=>this.etagen.filter(item=>new RegExp(term,"mi").test(item)).slice(0,10)))}getDismissReason(reason){return reason===ModalDismissReasons.ESC?"by pressing ESC":reason===ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+reason}ngOnInit(){}openScanner(target){this.scannerRequest.emit(target)}formValidate(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(console.log("called formValidate"),this.validationErrors.length=0,"string"==typeof this.raumInput.code&&this.raumInput.code.trim().length>0&&this.raumInput.code!==this.raumDaten.code){const codeExists=yield this.raumService.codeExistsInInventur(this.raumDaten.for_jobid,this.raumDaten.uuid,this.raumInput.code);codeExists&&this.validationErrors.push("#96 Raum-Barcode ist bereits für einen anderen Raum vergeben!",JSON.stringify({codeExists:codeExists}))}return this.raumInput.Raum.trim().length>0&&this.raumInput.Raum.trim()!==this.raumDaten.Raum&&(yield this.raumService.raumExistsInInventur(this.raumDaten.for_jobid,this.raumDaten.uuid,this.raumInput.Raum))&&this.validationErrors.push("Raum-Name ist bereits für einen anderen Raum vergeben!"),this.formIsValid=this.raumInput.Raum.length>0&&0===this.validationErrors.length,console.log("called formValidate return ",this.formIsValid),this.formIsValid}))}get raumUuid(){return console.log("called get raumId() ",this.uuid),this.uuid}set raumUuid(uuid){console.log("called set raumId","param",uuid,"old-uuid",this.uuid),this.raumService.get(uuid).then(raum=>{if(this.raumDaten=raum,raum){this.uuid=raum.uuid;for(const inputFld of Object.keys(this.raumInput))this.raumInput[inputFld]=raum[inputFld];console.log("#128 edit-raum.component.ts set raumId(uuid: "+uuid+")",{raum:raum,raumInput:Object.assign({},this.raumInput)}),this.etagen=[],this.raumService.getEtagenByGidInInventur(this.raumDaten.for_jobid,this.raumDaten.gid).then(etagen=>{this.etagen=etagen})}else this.uuid=""}).catch(()=>{this.raumDaten=null,this.uuid=""})}checkIfRaumExists(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("check if raum exists"),this.raumExistsStatus=-1;let raumExists=!1;return yield this.raumService.raumExists(this.gid,this.raumInput.Raum).then(exists=>{this.raumExistsStatus=exists?1:0,raumExists=exists}),yield this.formValidate(),console.log("check if raum exists: ",raumExists),raumExists}))}checkIfRaumbezeichnungExists(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("check if bezeichnung exists"),this.bezeichnungExistsStatus=-1;let bezeichnungExists=!1;return yield this.raumService.raumBezeichnungExists(this.gid,this.raumInput.Raumbezeichnung).then(exists=>{this.bezeichnungExistsStatus=exists?1:0,bezeichnungExists=exists}),console.log("check if bezeichnung exists: ",bezeichnungExists),bezeichnungExists}))}save(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(this.formError="",console.log("save raum "),yield this.formValidate()){console.log("save raumdaten ",this.raumInput);for(const col of Object.keys(this.raumDaten));const result=yield this.raumService.updateByUuid(this.raumDaten.uuid,this.raumInput);return console.log("save raumdaten result ",result),result.success?(this.raumChanged.emit(result.item),this.activeModal.close(),!0):(this.formError="Daten konnten nicht aktualisiert werden!<br>"+result.errorMsg,!1)}this.formError="Bitte die Angaben vervollständigen, Raum darf noch nicht vergeben sein"}))}onSubmit(event){console.log("onSubmit",this.raumInput),this.save()}}const edit_inventar_component_states=[],edit_inventar_component_stateNames=[],edit_inventar_component_artikelGruppen=[],edit_inventar_component_artikelKategorien=[],edit_inventar_component_artikelTypen=[],edit_inventar_component_artikelGroessen=[],edit_inventar_component_artikelFarben=[],edit_inventar_component_gruppenKategorien=[];class edit_inventar_component_EditInventarComponent{constructor(activeModal,inventarService,artikelService,herstellerService,baseData,dataService){this.activeModal=activeModal,this.inventarService=inventarService,this.artikelService=artikelService,this.herstellerService=herstellerService,this.baseData=baseData,this.dataService=dataService,this.artikelSelected=new core_EventEmitter,this.artikelSearching=new core_EventEmitter,this.artikelCreated=new core_EventEmitter,this.herstellerChanged=new core_EventEmitter,this.gruppeChanged=new core_EventEmitter,this.inputChanging=new core_EventEmitter,this.inputChanged=new core_EventEmitter,this.inventarChanged=new core_EventEmitter,this.scannerRequest=new core_EventEmitter,this.faSignOutAlt=faSignOutAlt,this.faCamera=faCamera,this.numBezeichnungExists=-1,this.inventarDaten=null,this.inventarInput={code:"",uuid:"",Bezeichnung:"",Gruppe:"",Kategorie:"",Typ:"",Hersteller:"",Groesse:"",Farbe:"",huuid:""},this.focus$=new Subject_Subject,this.click$=new Subject_Subject,this.focusGrp$=new Subject_Subject,this.clickGrp$=new Subject_Subject,this.focusKtg$=new Subject_Subject,this.clickKtg$=new Subject_Subject,this.focusTyp$=new Subject_Subject,this.clickTyp$=new Subject_Subject,this.focusGrs$=new Subject_Subject,this.clickGrs$=new Subject_Subject,this.focusFa$=new Subject_Subject,this.clickFa$=new Subject_Subject,this.existsStatus={Hersteller:{term:"",count:0},Bezeichnung:{term:"",count:0},Typ:{term:"",count:0},Groesse:{term:"",count:0},Farbe:{term:"",count:0}},this.herstellerExistsStatus={term:"",hid:0,uuid:"",data:null,isQuerying:!1},this.delayedTrigger={},this.listExistingArticleMatches=[],this.listExistingArticlePage=[],this.pageSize=8,this.collectionSize=0,this.page=1,this.maxSize=6,this.validationErrors=[],this.formIsValid=!0,this.formError="",this.uuid="",this.formatter=state=>state,this.search=text$=>{console.log("EditInventarComponent #550");const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.click$.pipe(filter(()=>!this.instance.isPopupOpen()));return merge(debouncedText$,this.focus$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?edit_inventar_component_stateNames:edit_inventar_component_stateNames.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchGruppen=text$=>{console.log("EditInventarComponent #562");const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickGrp$.pipe(filter(()=>!this.instanceGrp.isPopupOpen()));return merge(debouncedText$,this.focusGrp$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?edit_inventar_component_artikelGruppen:edit_inventar_component_artikelGruppen.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchKategorien=text$=>{const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickKtg$.pipe(filter(()=>!this.instanceKtg.isPopupOpen()));return merge(debouncedText$,this.focusKtg$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?edit_inventar_component_artikelKategorien:edit_inventar_component_artikelKategorien.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchTypen=text$=>{console.log("EditInventarComponent #585");const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickTyp$.pipe(filter(()=>!this.instanceTyp.isPopupOpen()));return merge(debouncedText$,this.focusTyp$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?edit_inventar_component_artikelTypen:edit_inventar_component_artikelTypen.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchGroessen=text$=>{console.log("EditInventarComponent #597");const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickGrs$.pipe(filter(()=>!this.instanceGrs.isPopupOpen()));return merge(debouncedText$,this.focusGrs$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?edit_inventar_component_artikelGroessen:edit_inventar_component_artikelGroessen.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))},this.searchFarben=text$=>{console.log("EditInventarComponent #609",{text$:text$});const debouncedText$=text$.pipe(debounceTime(200),distinctUntilChanged()),clicksWithClosedPopup$=this.clickFa$.pipe(filter(()=>!this.instanceFa.isPopupOpen()));return merge(debouncedText$,this.focusFa$,clicksWithClosedPopup$).pipe(map_map(term=>(""===term?edit_inventar_component_artikelFarben:edit_inventar_component_artikelFarben.filter(item=>new RegExp(term,"mi").test(item))).slice(0,10)))}}loadHersteller(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("EditInventarComponent #150 loadHersteller"),this.herstellerService.getAllHerstellerWithUuids().then(list=>{for(;edit_inventar_component_states.length>0;)edit_inventar_component_states.pop(),edit_inventar_component_stateNames.pop();return list.forEach(item=>{edit_inventar_component_states.push(item),edit_inventar_component_stateNames.push(item.Hersteller)}),console.log("#118 ngOnInit",{states:edit_inventar_component_states,stateNames:edit_inventar_component_stateNames}),edit_inventar_component_states.length}).catch(()=>-1)}))}loadGruppenKategorien(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("EditInventarComponent #168"),this.artikelService.getGroupedArtikelGruppenKategorien().then(list=>(edit_inventar_component_gruppenKategorien.length=0,list.forEach(itm=>edit_inventar_component_gruppenKategorien.push(itm)),edit_inventar_component_gruppenKategorien.length)).catch(()=>-1)}))}loadGruppen(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("EditInventarComponent #179"),this.artikelService.getGroupedArtikelGruppen().then(list=>(edit_inventar_component_artikelGruppen.length=0,list.forEach(it=>edit_inventar_component_artikelGruppen.push(it)),edit_inventar_component_artikelGruppen.length)).catch(()=>-1)}))}loadKategorien(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("EditInventarComponent #190"),this.artikelService.getGroupedArtikelKategorien().then(list=>(edit_inventar_component_artikelKategorien.length=0,list.forEach(it=>edit_inventar_component_artikelKategorien.push(it)),edit_inventar_component_artikelKategorien.length)).catch(()=>-1)}))}loadArtikeltypen(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("EditInventarComponent #201"),this.artikelService.getGroupedArtikelProperties("Typ").then(list=>(edit_inventar_component_artikelTypen.length=0,list.forEach(it=>edit_inventar_component_artikelTypen.push(it)),edit_inventar_component_artikelTypen.length)).catch(()=>-1)}))}loadFarben(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("EditInventarComponent #212"),this.artikelService.getGroupedArtikelFarben().then(list=>(edit_inventar_component_artikelFarben.length=0,list.forEach(it=>edit_inventar_component_artikelFarben.push(it)),edit_inventar_component_artikelFarben.length)).catch(()=>-1)}))}loadGroessen(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("EditInventarComponent #223"),this.artikelService.getGroupedArtikelGroessen().then(list=>(edit_inventar_component_artikelGroessen.length=0,list.forEach(it=>edit_inventar_component_artikelGroessen.push(it)),edit_inventar_component_artikelGroessen.length)).catch(()=>-1)}))}ngOnInit(){console.log("EditInventarComponent #234 ngOnInit"),this.mid=this.baseData.getCurrentMid(),Promise.all([this.loadHersteller(),this.loadGruppenKategorien(),this.loadGruppen(),this.loadKategorien(),this.loadArtikeltypen(),this.loadFarben(),this.loadGroessen()]).then(result=>{console.log("loaded all ArtikelData",{result:result,states:edit_inventar_component_states,stateNames:edit_inventar_component_stateNames,artikelTypen:edit_inventar_component_artikelTypen,"gruppenKategorien.length":edit_inventar_component_gruppenKategorien.length,"artikelGruppen.length":edit_inventar_component_artikelGruppen.length,"artikelKategorien.length":edit_inventar_component_artikelKategorien.length,"artikelTypen.length":edit_inventar_component_artikelTypen.length,"artikelFarben.length":edit_inventar_component_artikelFarben.length,"artikelGroessen.length":edit_inventar_component_artikelGroessen.length})}),this.herstellerChanged.subscribe(()=>{this.checkHersteller().then(()=>{this.inputChanged.emit(),this.rebuildTypeaheadFarben(),this.rebuildTypeaheadTypen()})}),this.gruppeChanged.subscribe(gruppe=>{this.rebuildTypeaheadKategorien(gruppe),this.inputChanged.emit()}),this.inputChanging.subscribe(()=>{this.delegateListArticleMatches(3e3)}),this.inputChanged.subscribe(()=>{this.checkIfArtikelExistsMandant(),this.delegateListArticleMatches(500)})}openScanner(target){console.log("EditInventarComponent #287 openScanner"),this.scannerRequest.emit(target)}get inventarUuid(){return console.log("called get raumId() ",this.uuid),this.uuid}set inventarUuid(uuid){console.log("EditInventarComponent #297 set inventarId(id)",{id:uuid}),this.uuid=uuid,this.inventarService.getInventar(uuid).then(result=>{console.log("EditInventarComponent #300 getInventar",{result:result}),this.inventarDaten=result,result&&result.success&&(this.inventarInput.uuid=uuid,this.inventarInput.code=result.inventar.code,this.inventarInput.Bezeichnung=result.artikelData.Bezeichnung,this.inventarInput.Gruppe=result.artikelData.Gruppe,this.inventarInput.Kategorie=result.artikelData.Kategorie,this.inventarInput.Typ=result.artikelData.Typ,this.inventarInput.Hersteller=result.hersteller&&result.hersteller.Hersteller?result.hersteller.Hersteller:"",this.inventarInput.Groesse=result.artikelData.Groesse,this.inventarInput.Farbe=result.artikelData.Farbe,this.inventarInput.mcid=result.inventar.mcid,this.inventarInput.mcuuid=result.inventar.mcuuid,this.inventarInput.gcid=result.artikelRef.gcid,this.inventarInput.gcuuid=result.artikelRef.gcuuid,this.inventarInput.hid=result.artikelData.hid,this.inventarInput.huuid=result.artikelData.huuid,this.inventarInput.Zustand=result.inventar.Zustand)})}formValidate(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return!0}))}getWhereInputsOf(artikelProperties){const daten=Object.assign({},this.inventarInput);console.log("#201 getWhereInputsOf",{artikelProperties:artikelProperties,daten:daten,inventarInput:this.inventarInput});const where=artikelProperties.filter(p=>{const hasInput=p in daten&&0!==daten[p]&&""!==daten[p]&&!!daten[p];return console.log("#206 getWhereInputsOf",{p:p,hasInput:hasInput,daten:daten,artikelDaten:Object.assign({},this.inventarInput),value:this.inventarInput[p],dvalue:daten[p]}),hasInput}).reduce((o,p)=>(o[p]=this.inventarInput[p],o),{});return console.log("#210 getWhereInputsOf",{artikelProperties:artikelProperties,where:where,artikelDaten:this.inventarInput}),where}delegateListArticleMatches(delay){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("EditInventarComponent #347");const funcName="listArticleMatches",delayMS=isNaN(delay)?2e3:delay;funcName in this.delayedTrigger&&(clearTimeout(this.delayedTrigger[funcName]),delete this.delayedTrigger[funcName]),console.log("delegate listArticleMatches"),this.delayedTrigger[funcName]=setTimeout(this.listArticleMatches.bind(this),delayMS)}))}rebuildTypeaheadKategorien(gruppe){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("EditInventarComponent #360");const grpKategorien=edit_inventar_component_gruppenKategorien.find(itm=>itm.gruppe===gruppe);if(gruppe&&grpKategorien&&grpKategorien.kategorien.length)return edit_inventar_component_artikelKategorien.length=0,void grpKategorien.kategorien.forEach(ktg=>edit_inventar_component_artikelKategorien.push(ktg));const buffer=[];edit_inventar_component_gruppenKategorien.forEach(itm=>{itm.kategorien.forEach(ktg=>{ktg&&-1===edit_inventar_component_artikelKategorien.indexOf(ktg)&&buffer.push(ktg)})}),edit_inventar_component_artikelKategorien.length=0,buffer.sort((a,b)=>a.toLowerCase()<b.toLowerCase()?-1:1).forEach(ktg=>edit_inventar_component_artikelKategorien.push(ktg))}))}rebuildTypeaheadTypen(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("EditInventarComponent #384");const where=this.getWhereInputsOf(["hid"]);this.artikelService.getGroupedArtikelTypen(where).then(list=>{edit_inventar_component_artikelTypen.length=0,list.forEach(it=>edit_inventar_component_artikelTypen.push(it))})}))}rebuildTypeaheadFarben(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("EditInventarComponent #393");const where=this.getWhereInputsOf(["hid"]);this.artikelService.getGroupedArtikelFarben(where).then(list=>{edit_inventar_component_artikelFarben.length=0,list.forEach(it=>edit_inventar_component_artikelFarben.push(it))})}))}checkHersteller(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("EditInventarComponent #402"),console.log("called checkHersteller");const input=this.inventarInput.Hersteller,term="string"==typeof input?input.trim():"";return term!==this.herstellerExistsStatus.term&&(this.herstellerExistsStatus.term=term,this.herstellerExistsStatus.data=null,this.herstellerExistsStatus.hid=null,this.herstellerExistsStatus.uuid=null),term.length?(this.herstellerExistsStatus.isQuerying=!0,yield this.herstellerService.getByName(term).then(data=>(this.herstellerExistsStatus.data=data,this.herstellerExistsStatus.isQuerying=!1,null!=data&&(this.herstellerExistsStatus.hid=data.hid,this.herstellerExistsStatus.uuid="uuid"in data?data.uuid:null,console.log("#167 Hersteller exists: ",this.herstellerExistsStatus),!0)))):(console.log("#172 Hersteller not found: ",term),!1)}))}listArticleMatches(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#175 called listArticleMatches");const mid=this.baseData.getCurrentMid(),d=this.inventarInput,oCheckData={};yield this.checkHersteller();const hid=this.herstellerExistsStatus.hid;for(const k of["Bezeichnung","Typ","Kategorie","Gruppe","Groesse","Farbe"])d[k]&&(oCheckData[k]=d[k]);this.listExistingArticleMatches=yield this.artikelService.listArticleByProperties(mid,hid,oCheckData),this.page=1,this.onPageChange(this.page),console.log("finished listArticleMatches with results.count: ",this.listExistingArticleMatches.length," for",{mid:mid,hid:hid,oCheckData:oCheckData})}))}checkIfArtikelExistsMandant(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("EditInventarComponent #465"),console.log("check if bezeichnung exists"),this.numBezeichnungExists=-1;let globalArtikelIds=[];return yield this.artikelService.artikelGlobalByBezeichnung(this.inventarInput.Bezeichnung).then(items=>{globalArtikelIds=items.map(item=>item.uuid)}),0!==globalArtikelIds.length&&0<(yield this.artikelService.artikelMcuuidByGcuuids(this.mid,globalArtikelIds).then(items=>items.length))}))}save(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(console.log("EditInventarComponent #481"),this.formError="",console.log("save inventar"),yield this.formValidate()){const uuid=this.uuid,result=yield this.inventarService.updateByUuid(uuid,this.inventarInput);return result.success?(this.inventarChanged.emit(result),this.inventarInput.hid=result.hersteller&&result.hersteller.hid?result.hersteller.hid:null,this.inventarInput.huuid=result.hersteller.uuid,this.inventarInput.mcid=result.artikelRef.mcid,this.inventarInput.mcuuid=result.artikelRef.uuid,this.inventarInput.gcid=result.artikelData.gcid,this.inventarInput.gcuuid=result.artikelData.uuid,!0):(this.formError="Daten konnten nicht aktualisiert werden!<br>",!1)}return this.formError="Bitte die Angaben vervollständigen, Raum darf noch nicht vergeben sein",!1}))}applyItemAsArtikel(item){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(console.log("EditInventarComponent #509"),this.applyItemAsInput(item),console.log("#361 applyItemAsArtikel",{item:item}),!item.mcuuid){let artikelRef=yield this.dataService.getArtikelRefByGcuuidMid(item.gcuuid,this.mid);artikelRef||(artikelRef=yield this.artikelService.insertArtikelRef(item)),item.mcid=artikelRef.mcid,item.mcuuid=artikelRef.uuid}this.inventarDaten.inventar.mcuuid!==item.mcuuid&&(yield this.inventarService.updateRefs(this.uuid,item.mcuuid,{Zustand:this.inventarInput.Zustand,code:this.inventarInput.code}));const result=yield this.inventarService.getInventar(this.uuid);this.inventarChanged.emit(result)}))}applyItemAsInput(item){console.log("EditInventarComponent #534"),console.log("#367 applyItemAsInput",{item:item}),this.inventarInput.Hersteller=item.Hersteller,this.inventarInput.hid=item.hid,this.inventarInput.Bezeichnung=item.Bezeichnung,this.inventarInput.Gruppe=item.Gruppe,this.inventarInput.Kategorie=item.Kategorie,this.inventarInput.Farbe=item.Farbe,this.inventarInput.Groesse=item.Groesse,this.inventarInput.Typ=item.Typ}onInput(event){console.log("EditInventarComponent #621"),this.inputChanging.emit(event)}onChange(event){this.inputChanged.emit(event)}onSelectHersteller(selected){const foundHst=edit_inventar_component_states.find(st=>st.Hersteller===selected.item);console.log("selected:",selected,"selected.item: ",selected.item,"foundHst:",foundHst),this.inventarInput.huuid=foundHst?foundHst.uuid:null,console.log("this.artikelDaten.Hersteller: ",this.inventarInput.Hersteller,{selected:selected}),this.herstellerChanged.emit(selected.item)}onChangeHersteller(event){console.log("Hersteller changed",event),event.target instanceof HTMLInputElement&&this.herstellerChanged.emit(event.target.value)}onSelectGruppe(selected){console.log("Gruppe selected",selected),this.gruppeChanged.emit(selected.item)}onChangeGruppe(event){console.log("Gruppe changed",event),event.target instanceof HTMLInputElement&&this.gruppeChanged.emit(event.target.value)}onSelectKategorie(selected){console.log("Kategorien selected",selected),this.inputChanged.emit()}onSelectTypen(selected){console.log("Typen selected",selected),this.inputChanged.emit()}onSelectFarben(selected){console.log("Farben selected",selected),this.inputChanged.emit()}onSelectGroessen(selected){console.log("Groessen selected",selected),this.inputChanged.emit()}onPageChange(page){console.log("EditInventarComponent #678"),this.collectionSize=this.listExistingArticleMatches.length,this.pageSize=8;const start=(page-1)*this.pageSize,end=start+this.pageSize;this.listExistingArticlePage=this.listExistingArticleMatches.slice(start,end),console.log("#599 pagination goto page",page,".slice(",start,end,") of",this.collectionSize)}onSubmit(event){console.log("onSubmit",this.inventarInput),this.save()}}class invent_form_component_InventFormComponent{constructor(route,location,dataService,modalService,baseData,inventoryProgress,inventoryEditor,inventarDataService,raumService,imageService,bcLookup,sounds,variables,toastr){this.route=route,this.location=location,this.dataService=dataService,this.modalService=modalService,this.baseData=baseData,this.inventoryProgress=inventoryProgress,this.inventoryEditor=inventoryEditor,this.inventarDataService=inventarDataService,this.raumService=raumService,this.imageService=imageService,this.bcLookup=bcLookup,this.sounds=sounds,this.variables=variables,this.toastr=toastr,this.faSearch=faSearch,this.faCamera=faCamera,this.faEdit=faEdit,this.faImage=faImage,this.faCheck=faCheck,this.faDoorOpen=faDoorOpen,this.faDoorClosed=faDoorClosed,this.faBookReader=faBookReader,this.faLock=faLock,this.faUnlockAlt=faUnlockAlt,this.scanDetectorConfig={minLength:5,maxLength:30,scannerStartsWith:"",scannerEndsWith:"",scanTimeout:100,replaceNotNumber:!1,allowNotNumber:!0,ignoreOverElement:[".formcontrol-edit-barcode"],barcodeType:""},this.formInventar={uuid:null,mcid:null,mcuuid:null,gcid:null,gcuuid:null,ruuid:null,Raum:null,Raumbezeichnung:null,RaumBarcode:null,Barcode:"",Bezeichnung:"",Typ:""},this.lastScanDetectClass="",this.lastScanDetectTimer=null,this.waitingForNewInventarBarcode=!1,this.waitingForInventarData=!1,this.openedCreateRaum=!1,this.artikelImageExists=!1,this.allowNewInventarByGivenArticle=!1,this.jobProgress={total:0,done:0},this.numUnsynced=-1,this.jobLockStatus=DBDIJobLockStatus.Init,this.raumProgress={total:0,done:0},this.currentModal={modalRef:null,isOpen:!1,name:""},this.currentModals=[],this.blobAlertSuccess="success",this.blobAlertFailure="danger",this.blobAlertOff=null,this.blobAlertTimer=null,this.varChangeSubscription=null,this.useOverlay=0}showBlobAlertSuccess(){this.showBlobAlert("success")}showBlobAlertError(){this.showBlobAlert("danger")}showBlobAlert(alertType){this.useOverlay=this.useOverlay<2?this.useOverlay+1:1,this.blobAlert=null,this.blobAlertTimer&&clearTimeout(this.blobAlertTimer),this.blobAlert=alertType,this.blobAlertTimer=setTimeout(()=>{this.blobAlert=null,this.useOverlay=0},1200)}ngOnInit(){this.inventoryProgress.getCurrentInventurLockStatus().then(status=>{this.jobLockStatus=status}),this.unsyncedAmountChangeSubscription=this.dataService.clientSyncAmountChanged.subscribe(amount=>{this.numUnsynced=amount}),this.inventurLockStatusChangeSubscription=this.inventoryProgress.inventurLockStatusChanged.subscribe(status=>{this.jobLockStatus=status}),this.raumStatusChangeSubscription=this.raumService.raumStatusChanged.subscribe(stat=>{stat.uuid===this.roomUuiD&&(this.raumEditStatus=stat.status)}),console.log("this.inventarDataService.changed",this.inventarDataService.changed),this.inventarDataChangeSubscription=this.inventarDataService.changed.subscribe(change=>{this.refreshRaumProgress()}),this.routingSubscription=this.route.params.subscribe(params=>{this.clientID=parseInt(params.clientid,10),this.buildingID=parseInt(params.buildingid,10);const roomUUID=params.roomid;if(this.dataService.getClient(this.clientID).then(clnt=>{this.kunde=clnt,this.baseData.setCurrentMandant(this.kunde)}),this.dataService.getBuilding(this.buildingID,this.clientID).then(bldg=>{this.gebaeude=bldg}),roomUUID)this.loadRaumById(roomUUID);else{const lastSelectedRoom=this.baseData.getCurrentRaum();lastSelectedRoom&&lastSelectedRoom.gid===this.buildingID&&this.loadRaumByData(lastSelectedRoom)}console.log({params:params,kunde:this.kunde,gebaeude:this.gebaeude}),this.refreshInventoryProgress()}),this.jobid=this.baseData.getCurrentJobid(),this.inventur=this.baseData.getCurrentInventur(),this.variables.get("manualBarcodeInput",!1).then(status=>{this.manualBCInputEnabled=status}),this.variables.watch("manualBarcodeInput"),this.varChangeSubscription=this.variables.varChanged.subscribe(setting=>{"manualBarcodeInput"===setting.name&&(this.manualBCInputEnabled=setting.newValue)})}loadRaumById(roomUuid){this.dataService.getRaum(roomUuid).then(raum=>{console.log("InventFormComponente #338 Retrieved Raum by roomUuid",{raum:raum,roomUuid:roomUuid}),this.loadRaumByData(raum)})}loadRaumByData(raum){const url="/form-inventory/"+this.clientID+"/"+this.buildingID+"/"+raum.uuid;console.log("InventFormComponente #345 Change URL ",{raum:raum,url:url}),this.location.go(url),this.roomUuiD=raum.uuid,this.raum=raum,this.baseData.setCurrentRaum(this.raum),this.formInventar.ruuid=raum.uuid,this.formInventar.Raum=raum.Raum,this.formInventar.Raumbezeichnung=raum.Raumbezeichnung,this.formInventar.RaumBarcode=raum.code,this.clearFormInventar(),this.raumEditStatus=this.raum.current_jobstatus,console.log("InventFormComponente #356  loadRaumByData refreshRaumProgress"),this.refreshRaumProgress()}clearFormInventar(){this.waitingForNewInventarBarcode=!1,this.waitingForInventarData=!1,this.inventarData=null,this.artikelUuiD=null,this.formInventar.uuid="",this.formInventar.mcid=0,this.formInventar.mcuuid="",this.formInventar.gcid=0,this.formInventar.gcuuid="",this.formInventar.Barcode="",this.formInventar.Bezeichnung="",this.formInventar.Typ="",this.artikelImageExists=!1}clearFormRaum(){this.formInventar.ruuid="",this.formInventar.Raum="",this.formInventar.Raumbezeichnung="",this.formInventar.RaumBarcode=""}assignInventarToRaum(inventarData){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("InventFormComponente #350 assignInventarToRaum(inventarData)",{inventarData:inventarData}),this.loadInventarByData(inventarData),this.inventarDataService.assignRaum(inventarData.inventar.uuid,this.roomUuiD).then(rslt=>{console.log("InventFormComponente #387 Inventar wurde dem Raum zugewiesen!",{rslt:rslt})}).catch(err=>{console.error("InventFormComponente #390 Inventar konnte nicht zugewiesen werden!",err)})}))}saveNewInventar(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),inventar={mcid:this.formInventar.mcid,mcuuid:this.formInventar.mcuuid,ruuid:this.formInventar.ruuid,code:this.formInventar.Barcode,jobid:jobid,created_at:new Date,created_uid:uid},inserting=this.inventarDataService.insertInventar(inventar,jobid);return inserting.then(result=>{result.success?(console.log("InventFormComponente #409 Inventar wurde hinzugefügt",result),this.loadInventarByUuid(result.insertUUID)):console.error("InventFormComponent #424 Inventar konnte nicht hinzugefügt werden",{result:result})}).catch(err=>{console.error("InventFormComponente #413 Fehler beim Speichern neuer Inventar-Daten",{err:err})}),inserting}))}updateInventarArtikelRef(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),uuid=this.formInventar.uuid,inventar={mcid:this.formInventar.mcid,mcuuid:this.formInventar.mcuuid,ruuid:this.formInventar.ruuid,code:this.formInventar.Barcode,jobid:jobid,modified_at:new Date,modified_uid:uid};return this.inventarDataService.updateArtikelRef(uuid,inventar,jobid)}))}refreshInventoryProgress(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return Promise.all([this.refreshRaumProgress(),this.refreshGebaeudeProgress()]).then(()=>(console.log("InventFormComponente #425 Fortschritt für Gebaeude und Raum wurde aktualisiert"),!0)).catch(err=>(console.error("InventFormComponente #428Beim Aktualisieren des Fortschritts von Gebaeude und Raum ist ein Fehler aufgetreten"),!1))}))}refreshGebaeudeProgress(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.inventoryProgress.getCurrentGebaeudeProgress().then(progress=>{this.jobProgress.done=progress.done,this.jobProgress.total=progress.total})}))}refreshRaumProgress(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.inventoryProgress.getCurrentRaumProgress(this.roomUuiD).then(progress=>{this.raumProgress.done=progress.done,this.raumProgress.total=progress.total}).catch(err=>{console.error("InventFormComponente #449 Fehler bei Raum-Progress-Aktualisierung",err)})}))}loadArtikelByUuid(artikelUuid){this.dataService.getArtikel(artikelUuid).then(item=>{this.loadArtikelByData(item)})}loadArtikelByData(artikel){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.artikelUuiD=artikel.uuid,this.formInventar.mcid=artikel.mcid,this.formInventar.mcuuid=artikel.mcuuid,this.formInventar.gcid=artikel.gcid,this.formInventar.gcuuid=artikel.uuid,this.formInventar.Bezeichnung=artikel.Bezeichnung,this.formInventar.Typ=artikel.Typ,console.log("InventFormComponent #475 loadArtikelByData",{artikel:Object.assign({},artikel),formInventar:Object.assign({},this.formInventar),waitingForInventarData:this.waitingForInventarData,waitingForNewInventarBarcode:this.waitingForNewInventarBarcode}),this.allowNewInventarByGivenArticle&&!this.waitingForInventarData&&this.formInventar.Barcode.length>1&&(this.formInventar.Barcode="",console.log("InventFormComponent #479 set waitingForNewInventarBarcode = true"),this.waitingForNewInventarBarcode=!0);const tmp=Object.assign({},this.formInventar);if(this.formInventar=Object.assign({},tmp),!this.formInventar.uuid&&this.waitingForInventarData){console.log("InventFormComponente #480 call this.saveNewInventar() from this.loadArtikelByData(...)");const insertResult=yield this.saveNewInventar();if(!insertResult||!insertResult.success)return this.toastr.error("Neues Inventar-Objekt konnte nicht hinzugefügt werden!","Fehler bei Neuaufnahme"),!1;this.waitingForInventarData=!1,this.toastr.success("Neues Inventar-Objekt wurde hinzugefügt!","Neuaufnahme gespeichert")}if(this.formInventar.uuid&&confirm("Möchten Sie die Inventardaten wirklich ändern!\nDem Objekt wurden bereits Artikeldaten zugewiesen.\nDrücken Sie [OK] zur Bestätigung\noder auf [Abbrechen]!")){const updateResult=yield this.updateInventarArtikelRef();if(!updateResult||!updateResult.success)return this.toastr.error("Inventar konnte nicht aktualisiert werden!","Fehler bei Artikelzuweisung"),!1;this.toastr.success("Inventar wurde mit neuen Artikeldaten gespeichert","Erfolgreiche Artikelzuweisung")}return console.log("InventFormComponente #487 loadArtikelByData",{waitingForNewInventarBarcode:this.waitingForNewInventarBarcode}),console.log("InventFormComponente #488Applied argument artikel",artikel," to formInventar",this.formInventar),this.reloadImageExistsStatus(),!0}))}loadInventarByUuid(uuid){this.dataService.getInventarData(uuid).then(result=>{console.log("InventFormComponente #494 loadInventarById(uuid)",{uuid:uuid}),this.loadInventarByData(result.inventarData)})}loadInventarByData(inventarData){const inventar=inventarData.inventar,artikelRef=inventarData.artikelRef,artikelData=inventarData.artikelData;console.log("InventFormComponente #503 loadInventarByData(inventarData)",{inventarData:inventarData}),this.inventarData=inventarData,this.artikelUuiD=inventar.mcuuid,this.formInventar.mcid=inventar.mcid,this.formInventar.gcid=artikelRef?artikelRef.gcid:0,this.formInventar.mcuuid=artikelRef.uuid,this.formInventar.gcuuid=artikelData.uuid,this.formInventar.Bezeichnung=artikelData.Bezeichnung,this.formInventar.Typ=artikelData.Typ,this.formInventar.Barcode=inventar.code,this.formInventar.uuid=inventar.uuid,this.reloadImageExistsStatus()}reloadImageExistsStatus(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.artikelImageExists=!1,!!this.formInventar.gcuuid&&this.imageService.imageExistsOfGcuuid(this.formInventar.gcuuid).then(exists=>(this.artikelImageExists=exists,exists)).catch(()=>!1)}))}get kundeName(){return this.kunde?this.kunde.Mandant:""}get adresse(){return this.gebaeude?this.gebaeude.Gebaeude:""}get raumNr(){return this.raum?this.raum.Raum:""}get gebaeudeId(){return this.buildingID}openCreateArtikelImage(){const modalRef=this.modalService.open(create_artikel_image_component_CreateArtikelImageComponent);this.modalWatch(modalRef,"CreateArtikelImage"),modalRef.componentInstance.name=this.formInventar.Bezeichnung+"/"+this.formInventar.Typ,modalRef.componentInstance.gcuuid=this.formInventar.gcuuid,modalRef.componentInstance.setMetaData({for_jobid:this.jobid,mcuuid:this.formInventar.mcuuid,gcuuid:this.formInventar.gcuuid,name:this.formInventar.Bezeichnung+(this.formInventar.Typ?"-"+this.formInventar.Typ:""),desc:this.formInventar.Bezeichnung+(this.formInventar.Typ?" / "+this.formInventar.Typ:"")}),modalRef.result.then(()=>{this.reloadImageExistsStatus()})}openEditArtikelImage(){const modalRef=this.modalService.open(create_artikel_image_component_CreateArtikelImageComponent);this.modalWatch(modalRef,"CreateArtikelImage"),modalRef.componentInstance.name=this.formInventar.Bezeichnung+"/"+this.formInventar.Typ,modalRef.componentInstance.setMcuuid(this.formInventar.mcuuid),modalRef.result.then(()=>{this.reloadImageExistsStatus()})}openShowArtikelImage(){const modalRef=this.modalService.open(show_artikel_image_component_ShowArtikelImageComponent);this.modalWatch(modalRef,"ShowArtikelImage"),modalRef.componentInstance.name="World",modalRef.componentInstance.setMcuuid(this.formInventar.mcuuid),modalRef.result.then(()=>{this.reloadImageExistsStatus()})}openScanner(inputElm){const modalRef=this.modalService.open(scanner_component_ScannerComponent);this.modalWatch(modalRef,"Scanner"),modalRef.componentInstance.name="World",modalRef.componentInstance.onScan.subscribe(data=>{const scan={barcode:data.barcode,length:data.length,valid:data.valid,target:inputElm};modalRef.close(),console.log("InventFormComponente #588 call handleScanData",{data:data,scan:scan}),this.handleScanData(scan)})}getModalRefByName(name){const modal=this.currentModals.find(mod=>mod.name===name);return modal&&modal.modalRef.componentInstance?modal.modalRef:null}closeModalIfOpen(name){const modal=this.currentModals.find(mod=>mod.name===name);return!(!modal||!modal.modalRef.componentInstance||(modal.modalRef.close(),0))}modalWatch(modalRef,name){const mName=name;console.log("InventFormComponente #610 Opened Modal: ",name),this.currentModal={modalRef:modalRef,name:name,isOpen:!0},this.currentModals=this.currentModals.filter(mod=>void 0!==mod.modalRef.componentInstance),this.currentModals.push(this.currentModal),console.log("InventFormComponente #618 After open Modal: ",this.currentModal,this.currentModals),modalRef.result.then(result=>{"SelectCreateRaum"===name&&(this.openedCreateRaum=!1),this.currentModals=this.currentModals.filter(mod=>void 0!==mod.modalRef.componentInstance),this.currentModal=this.currentModals.length?this.currentModals[this.currentModals.length-1]:{modalRef:null,name:"",isOpen:!1},console.log("InventFormComponente #635 After dismiss resolved: ",this.currentModal,this.currentModals)}).catch(err=>{"SelectCreateRaum"===name&&(this.openedCreateRaum=!1),this.currentModals=this.currentModals.filter(mod=>void 0!==mod.modalRef.componentInstance),console.error("InventFormComponente #642 Error on Closing Modal ",{mName:mName,err:err}),this.currentModal=this.currentModals.length?this.currentModals[this.currentModals.length-1]:{modalRef:null,name:"",isOpen:!1},console.log("InventFormComponente #652 After Catch: ",this.currentModal,this.currentModals)})}openSelectCreateArtikel(){const modalRef=this.modalService.open(select_create_artikel_component_SelectCreateArtikelComponent);this.modalWatch(modalRef,"SelectCreateArtikel"),modalRef.componentInstance.name="World",modalRef.componentInstance.clientId=this.clientID,modalRef.componentInstance.artikelCreated.subscribe(artikel=>{this.loadArtikelByData(artikel.newItem)}),modalRef.componentInstance.artikelSelected.subscribe(item=>{console.log("InventFormComponente #665 openSelectCreateArtikel Apply selected Article",item),this.loadArtikelByUuid(item.uuid)}),modalRef.componentInstance.artikelSearching.subscribe(raum=>{this.openSelectSearchArtikel()})}openSelectSearchArtikel(){const modalRef=this.modalService.open(select_search_artikel_component_SelectSearchArtikelComponent);this.modalWatch(modalRef,"SelectSearchArtikel"),modalRef.componentInstance.clientId=this.clientID,modalRef.componentInstance.artikelSelected.subscribe(item=>{console.log("InventFormComponente #678 Apply selected Article",item),this.loadArtikelByUuid(item.uuid)}),modalRef.componentInstance.artikelCreating.subscribe(mid=>{modalRef.close(),this.openSelectCreateArtikel()})}openSelectSearchRaum(){const modalRef=this.modalService.open(select_search_raum_component_SelectSearchRaumComponent);this.modalWatch(modalRef,"SelectSearchRaum"),modalRef.componentInstance.gebaeudeId=this.buildingID,modalRef.componentInstance.raumSelected.subscribe(raum=>{this.loadRaumByData(raum)}),modalRef.componentInstance.raumCreating.subscribe(gid=>{modalRef.close(),this.openSelectCreateRaum()})}openEditRaum(){const modalRef=this.modalService.open(edit_raum_component_EditRaumComponent);this.modalWatch(modalRef,"EditRaum"),modalRef.componentInstance.raumUuid=this.roomUuiD,modalRef.componentInstance.raumChanged.subscribe(raum=>{this.loadRaumByData(raum)}),modalRef.componentInstance.scannerRequest.subscribe(target=>{this.openScanner(target)})}openEditInventar(){const modalRef=this.modalService.open(edit_inventar_component_EditInventarComponent);this.modalWatch(modalRef,"EditInventar"),console.log("InventFormComponente #715 this.inventarData "+this.inventarData.inventar.uuid),modalRef.componentInstance.inventarUuid=this.inventarData.inventar.uuid,modalRef.componentInstance.inventarChanged.subscribe(inventar=>{console.log("InventFormComponente #718 Aktualisierte Inventar-Daten",{inventar:inventar}),this.toastr.success("Inventardaten wurden aktualisiert!"),this.loadInventarByUuid(inventar.inventar.uuid)}),modalRef.componentInstance.scannerRequest.subscribe(target=>{this.openScanner(target)})}openSelectCreateRaum(){const modalRef=this.modalService.open(select_create_raum_component_SelectCreateRaumComponent);this.modalWatch(modalRef,"SelectCreateRaum"),this.openedCreateRaum=!0,modalRef.componentInstance.gebaeudeId=this.buildingID,modalRef.componentInstance.raumCreated.subscribe(raum=>{this.loadRaumByData(raum)}),modalRef.componentInstance.raumSearching.subscribe(()=>{this.openSelectSearchRaum()}),modalRef.componentInstance.scannerRequest.subscribe(target=>{this.openScanner(target)})}openGesamtListDone(useGebaeude){const gebaeude=useGebaeude||this.gebaeude,modalRef=this.modalService.open(gesamt_list_done_component_GesamtListDoneComponent,{size:"xl",scrollable:!0});this.modalWatch(modalRef,"GesamtListDone"),modalRef.componentInstance.gebaeude=gebaeude,modalRef.componentInstance.raumSelected.subscribe(ruuid=>{this.loadRaumById(ruuid)}),modalRef.componentInstance.requestGesamtRest.subscribe(g=>{this.openGesamtListRest(g)})}openGesamtListRest(useGebaeude){const gebaeude=useGebaeude||this.gebaeude;gebaeude&&gebaeude.gid?console.log("InventFormComponente #761 OpenGesamtListRest",{buildingID:this.buildingID,gebaeude:this.gebaeude}):console.error("InventFormComponente #759 No Gebaeude-Data!!!");const modalRef=this.modalService.open(gesamt_list_rest_component_GesamtListRestComponent);this.modalWatch(modalRef,"GesamtListRest"),modalRef.componentInstance.gebaeude=gebaeude,modalRef.componentInstance.raumSelected.subscribe(ruuid=>{this.loadRaumById(ruuid)}),modalRef.componentInstance.requestGesamtDone.subscribe(g=>{this.openGesamtListDone(g)})}openRaumListDone(useRaum){const raum=useRaum||this.raum,modalRef=this.modalService.open(raum_list_done_component_RaumListDoneComponent);this.modalWatch(modalRef,"RaumListDone"),modalRef.componentInstance.raum=raum,modalRef.componentInstance.requestRestList.subscribe(r=>{this.openRaumListRest(r)})}openRaumListRest(useRaum){const raum=useRaum||this.raum,modalRef=this.modalService.open(raum_list_rest_component_RaumListRestComponent);this.modalWatch(modalRef,"RaumListRest"),modalRef.componentInstance.raum=raum,modalRef.componentInstance.requestDoneList.subscribe(r=>{this.openRaumListDone(r)})}ngOnDestroy(){this.routingSubscription.unsubscribe(),this.raumStatusChangeSubscription.unsubscribe(),this.inventarDataChangeSubscription.unsubscribe(),this.inventurLockStatusChangeSubscription.unsubscribe()}toggleRaumEditStatus(){const jobid=this.baseData.getCurrentJobid();this.raumEditStatus!==DBDIRaumEditStatus.Closed?this.raumService.setRaumStatusClosed(this.roomUuiD,jobid):this.raumService.setRaumStatusStarted(this.roomUuiD,jobid)}setJobLockStatusClosed(){this.inventoryProgress.setCurrentInventurLockStatusClosed()}setJobLockStatusOpened(){this.inventoryProgress.setCurrentInventurLockStatusOpened()}setRaumEditStatusClosed(){const jobid=this.baseData.getCurrentJobid();this.raumService.setRaumStatusClosed(this.roomUuiD,jobid)}setRaumEditStatusStarted(){const jobid=this.baseData.getCurrentJobid();this.raumService.setRaumStatusStarted(this.roomUuiD,jobid)}setRaumEditStatusUntouched(){const jobid=this.baseData.getCurrentJobid();this.raumService.setRaumStatusInit(this.roomUuiD,jobid)}onRaumBarcodeInput(event){(event.target instanceof HTMLInputElement||"value"in event.target)&&console.log("InventFormComponente #838 BarCodeInput :",event.target.value)}showGesamtDone(){console.log("InventFormComponente #843 Called show Gesamt Done"),this.openGesamtListDone()}showGesamtRest(){console.log("InventFormComponente #848 Called show Gesamt Rest"),this.openGesamtListRest()}showRaumDone(){console.log("InventFormComponente #853 Called show Raum Done ..."),this.openRaumListDone()}showRaumRest(){console.log("InventFormComponente #858 Called show Raum Rest"),this.openRaumListRest()}onBarcodeInput(){}handleScanData(event){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("InventFormComponente #865 handleScanData",{waitingForNewInventarBarcode:this.waitingForNewInventarBarcode,event:event});const bcResult=yield this.bcLookup.fullLookup(event.barcode,this.jobid);console.log("InventFormComponente #867 handleScanData",{bcResult:bcResult});const barcode=event.barcode;this.displayScannedBarcode(event.barcode);const RaumCreateModal=this.getModalRefByName("SelectCreateRaum"),RaumEditModal=this.getModalRefByName("EditRaum"),InventarEditModal=this.getModalRefByName("EditInventar");if(RaumCreateModal&&RaumCreateModal.componentInstance)return bcResult.lookupResultTable===LookupResultTable.None?(RaumCreateModal.componentInstance.raumDaten.code=bcResult.barcode,this.playSuccess(),!0):(this.playError(),this.toastr.error('Gebe einen gülten Barcode ein oder schließe den Dialog "Neuen Raum anlegen"!<br>'+barcode,"Ungültiger Barcode für Raum-Neu-Erfassung:"),!1);if(RaumEditModal&&RaumEditModal.componentInstance){if(bcResult.lookupResultTable===LookupResultTable.None){const modalComp=RaumEditModal.componentInstance;return confirm("Achtung! Möchtest du wirklich den Raumbarcode bearbeiten?")&&(modalComp.raumInput.code=bcResult.barcode,this.playSuccess()),!0}return this.playError(),this.toastr.error('Gebe einen gülten Barcode ein oder schließe den Dialog "Raum aktualisieren"!<br>'+barcode+" ["+LookupResultTable[bcResult.lookupResultTable]+"]","Ungültiger Barcode für Raum-Aktualisierung"),!1}if(InventarEditModal&&InventarEditModal.componentInstance)return bcResult.lookupResultTable===LookupResultTable.None?(InventarEditModal.componentInstance.inventarInput.code=bcResult.barcode,this.playSuccess(),!0):(this.playError(),this.toastr.error('Gebe einen gülten Barcode ein oder schließe den Dialog "Barcode aktualisieren"!<br>'+barcode,"Ungültiger Barcode für Inventar-Aktualisierung"),!1);if(this.waitingForNewInventarBarcode){if(console.log("InventFormComponente #949 handleScanData"),bcResult.lookupResultTable===LookupResultTable.None){this.formInventar.Barcode=bcResult.barcode,console.log("InventFormComponente #952 handleScanData"),console.log("InventFormComponente #953 call this.saveNewInventar() from this.handleScanData"),this.waitingForNewInventarBarcode=!1;const insertResult=yield this.saveNewInventar();return insertResult&&insertResult.success?this.playSuccess():this.playError(),!0}if(this.playError(),console.log("InventFormComponente #960 handleScanData"),confirm("Barcode ist bereits vergeben!\nDrücken Sie [Abbrechen], um die Neuaufnahme abzubrechen!\nDrücken Sie [OK], wenn Sie einen neuen Barcode vergeben wollen."))return;this.waitingForNewInventarBarcode=!1}if(console.log("InventFormComponente #972 handleScanData"),this.waitingForInventarData)if(bcResult.lookupResultTable!==LookupResultTable.ObjektKatalogMandant){if(this.playError(),confirm("Fehler: Erwarte Artikel-Barcode!\nDrücken Sie [Abbrechen], um die Neuaufnahme abzubrechen!\nDrücken Sie [OK], wenn Sie einen Artikel zuweisen möchten."))return;this.waitingForInventarData=!1,console.log("InventFormComponente #1034 handleScanData",{waitingForNewInventarBarcode:this.waitingForNewInventarBarcode})}else console.log("InventFormComponente #986 Found Artikel-Barcode",{bcResult:bcResult}),console.log("InventFormComponente #987 Continue ...");switch(bcResult.lookupResultTable){case LookupResultTable.None:console.log("InventFormComponente #990 handleScanData LookupResultTable.None"),this.clearFormInventar(),this.formInventar.Barcode=bcResult.barcode,this.waitingForInventarData=!0,this.playSuccess().then(()=>{}),this.toastr.warning("Barcode: "+barcode+"<br>Für eine Neuaufnahme weisen sie bitte einen Artikel zu!","Unbekannter Barcode");break;case LookupResultTable.Raeume:if(console.log("InventFormComponente #1008 handleScanData LookupResultTable.Raeume"),bcResult.raum.gid===this.buildingID)return this.loadRaumByData(bcResult.raum),void this.playSuccess();{const geb=bcResult.gebaeude,gebName=geb?geb.Gebaeude||geb.Adresse:" Unbekannte Standort-ID "+bcResult.raum.gid;this.playError(),this.toastr.error("Der gescannte Raum-Barcode ist einem anderen Standort zugewiesen: "+gebName,"Fehler: Raum kann nicht geladen werden!")}break;case LookupResultTable.Inventar:console.log("InventFormComponente #1031 handleScanData LookupResultTable.Inventar"),this.modalService.dismissAll(),this.assignInventarToRaum({inventar:bcResult.inventar,artikelRef:bcResult.artikelRef,artikelData:bcResult.artikelData}),this.playSuccess();break;case LookupResultTable.ObjektKatalogMandant:console.log("InventFormComponente #1095 handleScanData LookupResultTable.Mandant",{bcResult:bcResult}),this.formInventar.Barcode||(this.playError(),this.toastr.error("Bitte scanne erst einen neuen InventarBarcode für die Artikelzuweisung","Fehler bei Barcodezuweisung")),!this.waitingForInventarData&&this.formInventar.uuid&&(this.playError(),this.toastr.warning("Sie versuchen gerade bereits zugewiesene Inventar-Daten zu ändern","Warnung")),this.loadArtikelByData(Object.assign({},bcResult.artikelRef,{mcuuid:bcResult.artikelRef.uuid},bcResult.artikelData)).then(success=>{success?this.playSuccess():this.playError()});break;default:this.playError(),this.toastr.error("Ungültiger oder nicht richtig erkannter Barcode!")}}))}displayScannedBarcode(barcode){this.input2.nativeElement.value=barcode,this.lastScanDetectTime=new Date,this.lastScanDetectClass="NewFreshScan CountDown-5";let countdown=5;this.lastScanDetectTimer&&(clearInterval(this.lastScanDetectTimer),this.lastScanDetectTimer=null),this.lastScanDetectTimer=setInterval(()=>{this.lastScanDetectClass="NewFreshScan CountDown-"+--countdown,countdown<1&&(this.lastScanDetectClass="",clearInterval(this.lastScanDetectTimer),this.lastScanDetectTimer=null)},1e3)}simulateScanner(){this.inputSimulateBarcode.nativeElement.value||(this.inputSimulateBarcode.nativeElement.value="A-1-3-1-78eae45");const s=this.inputSimulateBarcode.nativeElement.value;for(const character of s){const shiftKey=s!==s.toLowerCase()&&s===s.toUpperCase();if(shiftKey){const shift=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Shift",code:"ShiftLeft",shiftKey:shiftKey});document.dispatchEvent(shift)}const e=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:character,shiftKey:shiftKey});setTimeout(()=>document.dispatchEvent(e))}const xe=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",shiftKey:!1});setTimeout(()=>document.dispatchEvent(xe))}playSuccess(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.showBlobAlertSuccess(),this.sounds.playSuccess()}))}playError(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.showBlobAlertError(),this.sounds.playError()}))}}var dexie_es_keys=Object.keys,dexie_es_isArray=Array.isArray,dexie_es_global="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function extend(obj,extension){return"object"!=typeof extension||dexie_es_keys(extension).forEach((function(key){obj[key]=extension[key]})),obj}var getProto=Object.getPrototypeOf,_hasOwn={}.hasOwnProperty;function hasOwn(obj,prop){return _hasOwn.call(obj,prop)}function dexie_es_props(proto,extension){"function"==typeof extension&&(extension=extension(getProto(proto))),dexie_es_keys(extension).forEach((function(key){setProp(proto,key,extension[key])}))}var defineProperty=Object.defineProperty;function setProp(obj,prop,functionOrGetSet,options){defineProperty(obj,prop,extend(functionOrGetSet&&hasOwn(functionOrGetSet,"get")&&"function"==typeof functionOrGetSet.get?{get:functionOrGetSet.get,set:functionOrGetSet.set,configurable:!0}:{value:functionOrGetSet,configurable:!0,writable:!0},options))}function derive(Child){return{from:function(Parent){return Child.prototype=Object.create(Parent.prototype),setProp(Child.prototype,"constructor",Child),{extend:dexie_es_props.bind(null,Child.prototype)}}}}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,_slice=[].slice;function slice(args,start,end){return _slice.call(args,start,end)}function override(origFunc,overridedFactory){return overridedFactory(origFunc)}function assert(b){if(!b)throw new Error("Assertion Failed")}function asap(fn){dexie_es_global.setImmediate?setImmediate(fn):setTimeout(fn,0)}function arrayToObject(array,extractor){return array.reduce((function(result,item,i){var nameAndValue=extractor(item,i);return nameAndValue&&(result[nameAndValue[0]]=nameAndValue[1]),result}),{})}function tryCatch(fn,onerror,args){try{fn.apply(null,args)}catch(ex){onerror&&onerror(ex)}}function getByKeyPath(obj,keyPath){if(hasOwn(obj,keyPath))return obj[keyPath];if(!keyPath)return obj;if("string"!=typeof keyPath){for(var rv=[],i=0,l=keyPath.length;i<l;++i){var val=getByKeyPath(obj,keyPath[i]);rv.push(val)}return rv}var period=keyPath.indexOf(".");if(-1!==period){var innerObj=obj[keyPath.substr(0,period)];return void 0===innerObj?void 0:getByKeyPath(innerObj,keyPath.substr(period+1))}}function setByKeyPath(obj,keyPath,value){if(obj&&void 0!==keyPath&&(!("isFrozen"in Object)||!Object.isFrozen(obj)))if("string"!=typeof keyPath&&"length"in keyPath){assert("string"!=typeof value&&"length"in value);for(var i=0,l=keyPath.length;i<l;++i)setByKeyPath(obj,keyPath[i],value[i])}else{var period=keyPath.indexOf(".");if(-1!==period){var currentKeyPath=keyPath.substr(0,period),remainingKeyPath=keyPath.substr(period+1);if(""===remainingKeyPath)void 0===value?delete obj[currentKeyPath]:obj[currentKeyPath]=value;else{var innerObj=obj[currentKeyPath];innerObj||(innerObj=obj[currentKeyPath]={}),setByKeyPath(innerObj,remainingKeyPath,value)}}else void 0===value?delete obj[keyPath]:obj[keyPath]=value}}function shallowClone(obj){var rv={};for(var m in obj)hasOwn(obj,m)&&(rv[m]=obj[m]);return rv}var dexie_es_concat=[].concat;function dexie_es_flatten(a){return dexie_es_concat.apply([],a)}var intrinsicTypes="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(dexie_es_flatten([8,16,32,64].map((function(num){return["Int","Uint","Float"].map((function(t){return t+num+"Array"}))})))).filter((function(t){return dexie_es_global[t]})).map((function(t){return dexie_es_global[t]}));function deepClone(any){if(!any||"object"!=typeof any)return any;var rv;if(dexie_es_isArray(any)){rv=[];for(var i=0,l=any.length;i<l;++i)rv.push(deepClone(any[i]))}else if(intrinsicTypes.indexOf(any.constructor)>=0)rv=any;else for(var prop in rv=any.constructor?Object.create(any.constructor.prototype):{},any)hasOwn(any,prop)&&(rv[prop]=deepClone(any[prop]));return rv}function getObjectDiff(a,b,rv,prfx){return rv=rv||{},prfx=prfx||"",dexie_es_keys(a).forEach((function(prop){if(hasOwn(b,prop)){var ap=a[prop],bp=b[prop];"object"==typeof ap&&"object"==typeof bp&&ap&&bp&&""+ap.constructor==""+bp.constructor?getObjectDiff(ap,bp,rv,prfx+prop+"."):ap!==bp&&(rv[prfx+prop]=b[prop])}else rv[prfx+prop]=void 0})),dexie_es_keys(b).forEach((function(prop){hasOwn(a,prop)||(rv[prfx+prop]=b[prop])})),rv}var iteratorSymbol="undefined"!=typeof Symbol&&Symbol.iterator,getIteratorOf=iteratorSymbol?function(x){var i;return null!=x&&(i=x[iteratorSymbol])&&i.apply(x)}:function(){return null},NO_CHAR_ARRAY={};function getArrayOf(arrayLike){var i,a,x,it;if(1===arguments.length){if(dexie_es_isArray(arrayLike))return arrayLike.slice();if(this===NO_CHAR_ARRAY&&"string"==typeof arrayLike)return[arrayLike];if(it=getIteratorOf(arrayLike)){for(a=[];!(x=it.next()).done;)a.push(x.value);return a}if(null==arrayLike)return[arrayLike];if("number"==typeof(i=arrayLike.length)){for(a=new Array(i);i--;)a[i]=arrayLike[i];return a}return[arrayLike]}for(i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return a}var debug="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(value,filter){debug=value,libraryFilter=filter}var libraryFilter=function(){return!0},NEEDS_THROW_FOR_STACK=!new Error("").stack;function getErrorWithStack(){if(NEEDS_THROW_FOR_STACK)try{throw new Error}catch(e){return e}return new Error}function prettyStack(exception,numIgnoredFrames){var stack=exception.stack;return stack?(numIgnoredFrames=numIgnoredFrames||0,0===stack.indexOf(exception.name)&&(numIgnoredFrames+=(exception.name+exception.message).split("\n").length),stack.split("\n").slice(numIgnoredFrames).filter(libraryFilter).map((function(frame){return"\n"+frame})).join("")):""}var idbDomErrorNames=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],errorList=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(idbDomErrorNames),defaultTexts={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function DexieError(name,msg){this._e=getErrorWithStack(),this.name=name,this.message=msg}function ModifyError(msg,failures,successCount,failedKeys){this._e=getErrorWithStack(),this.failures=failures,this.failedKeys=failedKeys,this.successCount=successCount}function BulkError(msg,failures){this._e=getErrorWithStack(),this.name="BulkError",this.failures=failures,this.message=function(msg,failures){return msg+". Errors: "+failures.map((function(f){return f.toString()})).filter((function(v,i,s){return s.indexOf(v)===i})).join("\n")}(msg,failures)}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+": "+this.message}}),derive(ModifyError).from(DexieError),derive(BulkError).from(DexieError);var errnames=errorList.reduce((function(obj,name){return obj[name]=name+"Error",obj}),{}),BaseException=DexieError,exceptions=errorList.reduce((function(obj,name){var fullName=name+"Error";function DexieError(msgOrInner,inner){this._e=getErrorWithStack(),this.name=fullName,msgOrInner?"string"==typeof msgOrInner?(this.message=msgOrInner,this.inner=inner||null):"object"==typeof msgOrInner&&(this.message=msgOrInner.name+" "+msgOrInner.message,this.inner=msgOrInner):(this.message=defaultTexts[name]||fullName,this.inner=null)}return derive(DexieError).from(BaseException),obj[name]=DexieError,obj}),{});exceptions.Syntax=SyntaxError,exceptions.Type=TypeError,exceptions.Range=RangeError;var exceptionMap=idbDomErrorNames.reduce((function(obj,name){return obj[name+"Error"]=exceptions[name],obj}),{}),fullNameExceptions=errorList.reduce((function(obj,name){return-1===["Syntax","Type","Range"].indexOf(name)&&(obj[name+"Error"]=exceptions[name]),obj}),{});function nop(){}function mirror(val){return val}function pureFunctionChain(f1,f2){return null==f1||f1===mirror?f2:function(val){return f2(f1(val))}}function callBoth(on1,on2){return function(){on1.apply(this,arguments),on2.apply(this,arguments)}}function hookCreatingChain(f1,f2){return f1===nop?f2:function(){var res=f1.apply(this,arguments);void 0!==res&&(arguments[0]=res);var onsuccess=this.onsuccess,onerror=this.onerror;this.onsuccess=null,this.onerror=null;var res2=f2.apply(this,arguments);return onsuccess&&(this.onsuccess=this.onsuccess?callBoth(onsuccess,this.onsuccess):onsuccess),onerror&&(this.onerror=this.onerror?callBoth(onerror,this.onerror):onerror),void 0!==res2?res2:res}}function hookDeletingChain(f1,f2){return f1===nop?f2:function(){f1.apply(this,arguments);var onsuccess=this.onsuccess,onerror=this.onerror;this.onsuccess=this.onerror=null,f2.apply(this,arguments),onsuccess&&(this.onsuccess=this.onsuccess?callBoth(onsuccess,this.onsuccess):onsuccess),onerror&&(this.onerror=this.onerror?callBoth(onerror,this.onerror):onerror)}}function hookUpdatingChain(f1,f2){return f1===nop?f2:function(modifications){var res=f1.apply(this,arguments);extend(modifications,res);var onsuccess=this.onsuccess,onerror=this.onerror;this.onsuccess=null,this.onerror=null;var res2=f2.apply(this,arguments);return onsuccess&&(this.onsuccess=this.onsuccess?callBoth(onsuccess,this.onsuccess):onsuccess),onerror&&(this.onerror=this.onerror?callBoth(onerror,this.onerror):onerror),void 0===res?void 0===res2?void 0:res2:extend(res,res2)}}function reverseStoppableEventChain(f1,f2){return f1===nop?f2:function(){return!1!==f2.apply(this,arguments)&&f1.apply(this,arguments)}}function promisableChain(f1,f2){return f1===nop?f2:function(){var res=f1.apply(this,arguments);if(res&&"function"==typeof res.then){for(var thiz=this,i=arguments.length,args=new Array(i);i--;)args[i]=arguments[i];return res.then((function(){return f2.apply(thiz,args)}))}return f2.apply(this,arguments)}}fullNameExceptions.ModifyError=ModifyError,fullNameExceptions.DexieError=DexieError,fullNameExceptions.BulkError=BulkError;var INTERNAL={},nativePromiseInstanceAndProto=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(e){var P=dexie_es_global.Promise;return P?[P.resolve(),P.prototype,P.resolve()]:[]}}(),resolvedNativePromise=nativePromiseInstanceAndProto[0],nativePromiseProto=nativePromiseInstanceAndProto[1],resolvedGlobalPromise=nativePromiseInstanceAndProto[2],nativePromiseThen=nativePromiseProto&&nativePromiseProto.then,NativePromise=resolvedNativePromise&&resolvedNativePromise.constructor,AsyncFunction=nativePromiseInstanceAndProto[3],patchGlobalPromise=!!resolvedGlobalPromise,stack_being_generated=!1,schedulePhysicalTick=resolvedGlobalPromise?function(){resolvedGlobalPromise.then(physicalTick)}:dexie_es_global.setImmediate?setImmediate.bind(null,physicalTick):dexie_es_global.MutationObserver?function(){var hiddenDiv=document.createElement("div");new MutationObserver((function(){physicalTick(),hiddenDiv=null})).observe(hiddenDiv,{attributes:!0}),hiddenDiv.setAttribute("i","1")}:function(){setTimeout(physicalTick,0)},asap$1=function(callback,args){microtickQueue.push([callback,args]),needsNewPhysicalTick&&(schedulePhysicalTick(),needsNewPhysicalTick=!1)},isOutsideMicroTick=!0,needsNewPhysicalTick=!0,unhandledErrors=[],rejectingErrors=[],currentFulfiller=null,rejectionMapper=mirror,globalPSD={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:globalError,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(uh){try{globalError(uh[0],uh[1])}catch(e){}}))}},PSD=globalPSD,microtickQueue=[],numScheduledCalls=0,tickFinalizers=[];function dexie_es_Promise(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=nop,this._lib=!1;var psd=this._PSD=PSD;if(debug&&(this._stackHolder=getErrorWithStack(),this._prev=null,this._numPrev=0),"function"!=typeof fn){if(fn!==INTERNAL)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&handleRejection(this,this._value))}this._state=null,this._value=null,++psd.ref,executePromiseTask(this,fn)}var thenProp={get:function(){var psd=PSD,microTaskId=totalEchoes;function then(onFulfilled,onRejected){var _this=this,possibleAwait=!psd.global&&(psd!==PSD||microTaskId!==totalEchoes);possibleAwait&&decrementExpectedAwaits();var rv=new dexie_es_Promise((function(resolve,reject){propagateToListener(_this,new dexie_es_Listener(nativeAwaitCompatibleWrap(onFulfilled,psd,possibleAwait),nativeAwaitCompatibleWrap(onRejected,psd,possibleAwait),resolve,reject,psd))}));return debug&&linkToPreviousPromise(rv,this),rv}return then.prototype=INTERNAL,then},set:function(value){setProp(this,"then",value&&value.prototype===INTERNAL?thenProp:{get:function(){return value},set:thenProp.set})}};function dexie_es_Listener(onFulfilled,onRejected,resolve,reject,zone){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.resolve=resolve,this.reject=reject,this.psd=zone}function executePromiseTask(promise,fn){try{fn((function(value){if(null===promise._state){if(value===promise)throw new TypeError("A promise cannot be resolved with itself.");var shouldExecuteTick=promise._lib&&beginMicroTickScope();value&&"function"==typeof value.then?executePromiseTask(promise,(function(resolve,reject){value instanceof dexie_es_Promise?value._then(resolve,reject):value.then(resolve,reject)})):(promise._state=!0,promise._value=value,propagateAllListeners(promise)),shouldExecuteTick&&endMicroTickScope()}}),handleRejection.bind(null,promise))}catch(ex){handleRejection(promise,ex)}}function handleRejection(promise,reason){if(rejectingErrors.push(reason),null===promise._state){var shouldExecuteTick=promise._lib&&beginMicroTickScope();reason=rejectionMapper(reason),promise._state=!1,promise._value=reason,debug&&null!==reason&&"object"==typeof reason&&!reason._promise&&tryCatch((function(){var origProp=function getPropertyDescriptor(obj,prop){var proto;return getOwnPropertyDescriptor(obj,prop)||(proto=getProto(obj))&&getPropertyDescriptor(proto,prop)}(reason,"stack");reason._promise=promise,setProp(reason,"stack",{get:function(){return stack_being_generated?origProp&&(origProp.get?origProp.get.apply(reason):origProp.value):promise.stack}})})),function(promise){unhandledErrors.some((function(p){return p._value===promise._value}))||unhandledErrors.push(promise)}(promise),propagateAllListeners(promise),shouldExecuteTick&&endMicroTickScope()}}function propagateAllListeners(promise){var listeners=promise._listeners;promise._listeners=[];for(var i=0,len=listeners.length;i<len;++i)propagateToListener(promise,listeners[i]);var psd=promise._PSD;--psd.ref||psd.finalize(),0===numScheduledCalls&&(++numScheduledCalls,asap$1((function(){0==--numScheduledCalls&&finalizePhysicalTick()}),[]))}function propagateToListener(promise,listener){if(null!==promise._state){var cb=promise._state?listener.onFulfilled:listener.onRejected;if(null===cb)return(promise._state?listener.resolve:listener.reject)(promise._value);++listener.psd.ref,++numScheduledCalls,asap$1(callListener,[cb,promise,listener])}else promise._listeners.push(listener)}function callListener(cb,promise,listener){try{currentFulfiller=promise;var ret,value=promise._value;promise._state?ret=cb(value):(rejectingErrors.length&&(rejectingErrors=[]),ret=cb(value),-1===rejectingErrors.indexOf(value)&&function(promise){for(var i=unhandledErrors.length;i;)if(unhandledErrors[--i]._value===promise._value)return void unhandledErrors.splice(i,1)}(promise)),listener.resolve(ret)}catch(e){listener.reject(e)}finally{currentFulfiller=null,0==--numScheduledCalls&&finalizePhysicalTick(),--listener.psd.ref||listener.psd.finalize()}}function linkToPreviousPromise(promise,prev){var numPrev=prev?prev._numPrev+1:0;numPrev<100&&(promise._prev=prev,promise._numPrev=numPrev)}function physicalTick(){beginMicroTickScope()&&endMicroTickScope()}function beginMicroTickScope(){var wasRootExec=isOutsideMicroTick;return isOutsideMicroTick=!1,needsNewPhysicalTick=!1,wasRootExec}function endMicroTickScope(){var callbacks,i,l;do{for(;microtickQueue.length>0;)for(callbacks=microtickQueue,microtickQueue=[],l=callbacks.length,i=0;i<l;++i){var item=callbacks[i];item[0].apply(null,item[1])}}while(microtickQueue.length>0);isOutsideMicroTick=!0,needsNewPhysicalTick=!0}function finalizePhysicalTick(){var unhandledErrs=unhandledErrors;unhandledErrors=[],unhandledErrs.forEach((function(p){p._PSD.onunhandled.call(null,p._value,p)}));for(var finalizers=tickFinalizers.slice(0),i=finalizers.length;i;)finalizers[--i]()}function PromiseReject(reason){return new dexie_es_Promise(INTERNAL,!1,reason)}function wrap(fn,errorCatcher){var psd=PSD;return function(){var wasRootExec=beginMicroTickScope(),outerScope=PSD;try{return switchToZone(psd,!0),fn.apply(this,arguments)}catch(e){errorCatcher&&errorCatcher(e)}finally{switchToZone(outerScope,!1),wasRootExec&&endMicroTickScope()}}}dexie_es_props(dexie_es_Promise.prototype,{then:thenProp,_then:function(onFulfilled,onRejected){propagateToListener(this,new dexie_es_Listener(null,null,onFulfilled,onRejected,PSD))},catch:function(onRejected){if(1===arguments.length)return this.then(null,onRejected);var type=arguments[0],handler=arguments[1];return this.then(null,"function"==typeof type?function(err){return err instanceof type?handler(err):PromiseReject(err)}:function(err){return err&&err.name===type?handler(err):PromiseReject(err)})},finally:function(onFinally){return this.then((function(value){return onFinally(),value}),(function(err){return onFinally(),PromiseReject(err)}))},stack:{get:function(){if(this._stack)return this._stack;try{stack_being_generated=!0;var stack=function getStack(promise,stacks,limit){if(stacks.length===limit)return stacks;var stack="";if(!1===promise._state){var errorName,message,failure=promise._value;null!=failure?(errorName=failure.name||"Error",message=failure.message||failure,stack=prettyStack(failure,0)):(errorName=failure,message=""),stacks.push(errorName+(message?": "+message:"")+stack)}return debug&&((stack=prettyStack(promise._stackHolder,2))&&-1===stacks.indexOf(stack)&&stacks.push(stack),promise._prev&&getStack(promise._prev,stacks,limit)),stacks}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=stack),stack}finally{stack_being_generated=!1}}},timeout:function(ms,msg){var _this=this;return ms<1/0?new dexie_es_Promise((function(resolve,reject){var handle=setTimeout((function(){return reject(new exceptions.Timeout(msg))}),ms);_this.then(resolve,reject).finally(clearTimeout.bind(null,handle))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&setProp(dexie_es_Promise.prototype,Symbol.toStringTag,"Promise"),globalPSD.env=snapShot(),dexie_es_props(dexie_es_Promise,{all:function(){var values=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new dexie_es_Promise((function(resolve,reject){0===values.length&&resolve([]);var remaining=values.length;values.forEach((function(a,i){return dexie_es_Promise.resolve(a).then((function(x){values[i]=x,--remaining||resolve(values)}),reject)}))}))},resolve:function(value){if(value instanceof dexie_es_Promise)return value;if(value&&"function"==typeof value.then)return new dexie_es_Promise((function(resolve,reject){value.then(resolve,reject)}));var rv=new dexie_es_Promise(INTERNAL,!0,value);return linkToPreviousPromise(rv,currentFulfiller),rv},reject:PromiseReject,race:function(){var values=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new dexie_es_Promise((function(resolve,reject){values.map((function(value){return dexie_es_Promise.resolve(value).then(resolve,reject)}))}))},PSD:{get:function(){return PSD},set:function(value){return PSD=value}},newPSD:newScope,usePSD:usePSD,scheduler:{get:function(){return asap$1},set:function(value){asap$1=value}},rejectionMapper:{get:function(){return rejectionMapper},set:function(value){rejectionMapper=value}},follow:function(fn,zoneProps){return new dexie_es_Promise((function(resolve,reject){return newScope((function(resolve,reject){var psd=PSD;psd.unhandleds=[],psd.onunhandled=reject,psd.finalize=callBoth((function(){var _this=this;tickFinalizers.push((function finalizer(){0===_this.unhandleds.length?resolve():reject(_this.unhandleds[0]),tickFinalizers.splice(tickFinalizers.indexOf(finalizer),1)})),++numScheduledCalls,asap$1((function(){0==--numScheduledCalls&&finalizePhysicalTick()}),[])}),psd.finalize),fn()}),zoneProps,resolve,reject)}))}});var task={awaits:0,echoes:0,id:0},taskCounter=0,zoneStack=[],zoneEchoes=0,totalEchoes=0,zone_id_counter=0;function newScope(fn,props$$1,a1,a2){var parent=PSD,psd=Object.create(parent);psd.parent=parent,psd.ref=0,psd.global=!1,psd.id=++zone_id_counter;var globalEnv=globalPSD.env;psd.env=patchGlobalPromise?{Promise:dexie_es_Promise,PromiseProp:{value:dexie_es_Promise,configurable:!0,writable:!0},all:dexie_es_Promise.all,race:dexie_es_Promise.race,resolve:dexie_es_Promise.resolve,reject:dexie_es_Promise.reject,nthen:getPatchedPromiseThen(globalEnv.nthen,psd),gthen:getPatchedPromiseThen(globalEnv.gthen,psd)}:{},props$$1&&extend(psd,props$$1),++parent.ref,psd.finalize=function(){--this.parent.ref||this.parent.finalize()};var rv=usePSD(psd,fn,a1,a2);return 0===psd.ref&&psd.finalize(),rv}function incrementExpectedAwaits(){return task.id||(task.id=++taskCounter),++task.awaits,task.echoes+=7,task.id}function decrementExpectedAwaits(sourceTaskId){!task.awaits||sourceTaskId&&sourceTaskId!==task.id||(0==--task.awaits&&(task.id=0),task.echoes=7*task.awaits)}function onPossibleParallellAsync(possiblePromise){return task.echoes&&possiblePromise&&possiblePromise.constructor===NativePromise?(incrementExpectedAwaits(),possiblePromise.then((function(x){return decrementExpectedAwaits(),x}),(function(e){return decrementExpectedAwaits(),rejection(e)}))):possiblePromise}function zoneEnterEcho(targetZone){++totalEchoes,task.echoes&&0!=--task.echoes||(task.echoes=task.id=0),zoneStack.push(PSD),switchToZone(targetZone,!0)}function zoneLeaveEcho(){var zone=zoneStack[zoneStack.length-1];zoneStack.pop(),switchToZone(zone,!1)}function switchToZone(targetZone,bEnteringZone){var job,currentZone=PSD;if((bEnteringZone?!task.echoes||zoneEchoes++&&targetZone===PSD:!zoneEchoes||--zoneEchoes&&targetZone===PSD)||(job=bEnteringZone?zoneEnterEcho.bind(null,targetZone):zoneLeaveEcho,nativePromiseThen.call(resolvedNativePromise,job)),targetZone!==PSD&&(PSD=targetZone,currentZone===globalPSD&&(globalPSD.env=snapShot()),patchGlobalPromise)){var GlobalPromise=globalPSD.env.Promise,targetEnv=targetZone.env;nativePromiseProto.then=targetEnv.nthen,GlobalPromise.prototype.then=targetEnv.gthen,(currentZone.global||targetZone.global)&&(Object.defineProperty(dexie_es_global,"Promise",targetEnv.PromiseProp),GlobalPromise.all=targetEnv.all,GlobalPromise.race=targetEnv.race,GlobalPromise.resolve=targetEnv.resolve,GlobalPromise.reject=targetEnv.reject)}}function snapShot(){var GlobalPromise=dexie_es_global.Promise;return patchGlobalPromise?{Promise:GlobalPromise,PromiseProp:Object.getOwnPropertyDescriptor(dexie_es_global,"Promise"),all:GlobalPromise.all,race:GlobalPromise.race,resolve:GlobalPromise.resolve,reject:GlobalPromise.reject,nthen:nativePromiseProto.then,gthen:GlobalPromise.prototype.then}:{}}function usePSD(psd,fn,a1,a2,a3){var outerScope=PSD;try{return switchToZone(psd,!0),fn(a1,a2,a3)}finally{switchToZone(outerScope,!1)}}function nativeAwaitCompatibleWrap(fn,zone,possibleAwait){return"function"!=typeof fn?fn:function(){var outerZone=PSD;possibleAwait&&incrementExpectedAwaits(),switchToZone(zone,!0);try{return fn.apply(this,arguments)}finally{switchToZone(outerZone,!1)}}}function getPatchedPromiseThen(origThen,zone){return function(onResolved,onRejected){return origThen.call(this,nativeAwaitCompatibleWrap(onResolved,zone,!1),nativeAwaitCompatibleWrap(onRejected,zone,!1))}}function globalError(err,promise){var rv;try{rv=promise.onuncatched(err)}catch(e){}if(!1!==rv)try{var event,eventData={promise:promise,reason:err};if(dexie_es_global.document&&document.createEvent?((event=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),extend(event,eventData)):dexie_es_global.CustomEvent&&extend(event=new CustomEvent("unhandledrejection",{detail:eventData}),eventData),event&&dexie_es_global.dispatchEvent&&(dispatchEvent(event),!dexie_es_global.PromiseRejectionEvent&&dexie_es_global.onunhandledrejection))try{dexie_es_global.onunhandledrejection(event)}catch(_){}event.defaultPrevented||console.warn("Unhandled rejection: "+(err.stack||err))}catch(e){}}var rejection=dexie_es_Promise.reject;function dexie_es_Events(ctx){var evs={},rv=function(eventName,subscriber){if(subscriber){for(var i=arguments.length,args=new Array(i-1);--i;)args[i-1]=arguments[i];return evs[eventName].subscribe.apply(null,args),ctx}if("string"==typeof eventName)return evs[eventName]};rv.addEventType=add;for(var i=1,l=arguments.length;i<l;++i)add(arguments[i]);return rv;function add(eventName,chainFunction,defaultFunction){if("object"==typeof eventName)return addConfiguredEvents(eventName);chainFunction||(chainFunction=reverseStoppableEventChain),defaultFunction||(defaultFunction=nop);var context={subscribers:[],fire:defaultFunction,subscribe:function(cb){-1===context.subscribers.indexOf(cb)&&(context.subscribers.push(cb),context.fire=chainFunction(context.fire,cb))},unsubscribe:function(cb){context.subscribers=context.subscribers.filter((function(fn){return fn!==cb})),context.fire=context.subscribers.reduce(chainFunction,defaultFunction)}};return evs[eventName]=rv[eventName]=context,context}function addConfiguredEvents(cfg){dexie_es_keys(cfg).forEach((function(eventName){var args=cfg[eventName];if(dexie_es_isArray(args))add(eventName,cfg[eventName][0],cfg[eventName][1]);else{if("asap"!==args)throw new exceptions.InvalidArgument("Invalid event config");var context=add(eventName,mirror,(function(){for(var i=arguments.length,args=new Array(i);i--;)args[i]=arguments[i];context.subscribers.forEach((function(fn){asap((function(){fn.apply(null,args)}))}))}))}}))}}var dbNamesDB,maxString=String.fromCharCode(65535),maxKey=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return maxString}}(),INVALID_KEY_ARGUMENT="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",connections=[],isIEOrEdge="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),hasIEDeleteObjectStoreBug=isIEOrEdge,hangsOnDeleteLargeKeyRange=isIEOrEdge,dexieStackFrameFilter=function(frame){return!/(dexie\.js|dexie\.min\.js)/.test(frame)};function Dexie(dbName,options){var dbReadyResolve,cancelOpen,hasGetAll,what,fn,deps=Dexie.dependencies,opts=extend({addons:Dexie.addons,autoOpen:!0,indexedDB:deps.indexedDB,IDBKeyRange:deps.IDBKeyRange},options),addons=opts.addons,autoOpen=opts.autoOpen,indexedDB=opts.indexedDB,IDBKeyRange=opts.IDBKeyRange,globalSchema=this._dbSchema={},versions=[],dbStoreNames=[],allTables={},idbdb=null,dbOpenError=null,isBeingOpened=!1,onReadyBeingFired=null,openComplete=!1,READWRITE="readwrite",db=this,dbReadyPromise=new dexie_es_Promise((function(resolve){dbReadyResolve=resolve})),openCanceller=new dexie_es_Promise((function(_,reject){cancelOpen=reject})),autoSchema=!0,hasNativeGetDatabaseNames=!!getNativeGetDatabaseNamesFn(indexedDB);function Version(versionNumber){this._cfg={version:versionNumber,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function createTable(idbtrans,tableName,primKey,indexes){var store=idbtrans.db.createObjectStore(tableName,primKey.keyPath?{keyPath:primKey.keyPath,autoIncrement:primKey.auto}:{autoIncrement:primKey.auto});return indexes.forEach((function(idx){addIndex(store,idx)})),store}function addIndex(store,idx){store.createIndex(idx.name,idx.keyPath,{unique:idx.unique,multiEntry:idx.multi})}function extractTransactionArgs(mode,_tableArgs_,scopeFunc){var i=arguments.length;if(i<2)throw new exceptions.InvalidArgument("Too few arguments");for(var args=new Array(i-1);--i;)args[i-1]=arguments[i];scopeFunc=args.pop();var tables=dexie_es_flatten(args);return[mode,tables,scopeFunc]}function Table(name,tableSchema,optionalTrans){this.name=name,this.schema=tableSchema,this._tx=optionalTrans,this.hook=allTables[name]?allTables[name].hook:dexie_es_Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})}function BulkErrorHandlerCatchAll(errorList,done,supportHooks){return(supportHooks?hookedEventRejectHandler:eventRejectHandler)((function(e){errorList.push(e),done&&done()}))}function bulkDelete(idbstore,trans,keysOrTuples,hasDeleteHook,deletingHook){return new dexie_es_Promise((function(resolve,reject){var len=keysOrTuples.length,lastItem=len-1;if(0===len)return resolve();if(hasDeleteHook){var hookCtx,errorHandler=hookedEventRejectHandler(reject),successHandler=hookedEventSuccessHandler(null);tryCatch((function(){for(var i=0;i<len;++i){var tuple=keysOrTuples[i];deletingHook.call(hookCtx={onsuccess:null,onerror:null},tuple[0],tuple[1],trans);var req=idbstore.delete(tuple[0]);req._hookCtx=hookCtx,req.onerror=errorHandler,req.onsuccess=i===lastItem?hookedEventSuccessHandler(resolve):successHandler}}),(function(err){throw hookCtx.onerror&&hookCtx.onerror(err),err}))}else for(var i=0;i<len;++i){var req=idbstore.delete(keysOrTuples[i]);req.onerror=eventRejectHandler(reject),i===lastItem&&(req.onsuccess=wrap((function(){return resolve()})))}}))}function Transaction(mode,storeNames,dbschema,parent){var _this=this;this.db=db,this.mode=mode,this.storeNames=storeNames,this.idbtrans=null,this.on=dexie_es_Events(this,"complete","error","abort"),this.parent=parent||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new dexie_es_Promise((function(resolve,reject){_this._resolve=resolve,_this._reject=reject})),this._completion.then((function(){_this.active=!1,_this.on.complete.fire()}),(function(e){var wasActive=_this.active;return _this.active=!1,_this.on.error.fire(e),_this.parent?_this.parent._reject(e):wasActive&&_this.idbtrans&&_this.idbtrans.abort(),rejection(e)}))}function WhereClause(table,index,orCollection){this._ctx={table:table,index:":id"===index?null:index,or:orCollection}}function Collection(whereClause,keyRangeGenerator){var keyRange=null,error=null;if(keyRangeGenerator)try{keyRange=keyRangeGenerator()}catch(ex){error=ex}var whereCtx=whereClause._ctx,table=whereCtx.table;this._ctx={table:table,index:whereCtx.index,isPrimKey:!whereCtx.index||table.schema.primKey.keyPath&&whereCtx.index===table.schema.primKey.name,range:keyRange,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:error,or:whereCtx.or,valueMapper:table.hook.reading.fire}}function isPlainKeyRange(ctx,ignoreLimitFilter){return!(ctx.filter||ctx.algorithm||ctx.or)&&(ignoreLimitFilter?ctx.justLimit:!ctx.replayFilter)}function lowerVersionFirst(a,b){return a._cfg.version-b._cfg.version}function setApiOnPlace(objs,tableNames,dbschema){tableNames.forEach((function(tableName){var schema=dbschema[tableName];objs.forEach((function(obj){tableName in obj||(obj===Transaction.prototype||obj instanceof Transaction?setProp(obj,tableName,{get:function(){return this.table(tableName)}}):obj[tableName]=new Table(tableName,schema))}))}))}function iterate(req,filter,fn,resolve,reject,valueMapper){var wrappedFn=wrap(valueMapper?function(x,c,a){return fn(valueMapper(x),c,a)}:fn,reject);req.onerror||(req.onerror=eventRejectHandler(reject)),req.onsuccess=function(fn,reject){return function(){try{fn.apply(this,arguments)}catch(e){reject(e)}}}(filter?function(){var cursor=req.result;if(cursor){var c=function(){cursor.continue()};filter(cursor,(function(advancer){c=advancer}),resolve,reject)&&wrappedFn(cursor.value,cursor,(function(advancer){c=advancer})),c()}else resolve()}:function(){var cursor=req.result;if(cursor){var c=function(){cursor.continue()};wrappedFn(cursor.value,cursor,(function(advancer){c=advancer})),c()}else resolve()},reject)}function cmp(key1,key2){return indexedDB.cmp(key1,key2)}function max(a,b){return cmp(a,b)>0?a:b}function ascending(a,b){return indexedDB.cmp(a,b)}function descending(a,b){return indexedDB.cmp(b,a)}function simpleCompare(a,b){return a<b?-1:a===b?0:1}function simpleCompareReverse(a,b){return a>b?-1:a===b?0:1}function combine(filter1,filter2){return filter1?filter2?function(){return filter1.apply(this,arguments)&&filter2.apply(this,arguments)}:filter1:filter2}function adjustToExistingIndexNames(schema,idbtrans){for(var storeNames=idbtrans.db.objectStoreNames,i=0;i<storeNames.length;++i){var storeName=storeNames[i],store=idbtrans.objectStore(storeName);hasGetAll="getAll"in store;for(var j=0;j<store.indexNames.length;++j){var indexName=store.indexNames[j],keyPath=store.index(indexName).keyPath,dexieName="string"==typeof keyPath?keyPath:"["+slice(keyPath).join("+")+"]";if(schema[storeName]){var indexSpec=schema[storeName].idxByName[dexieName];indexSpec&&(indexSpec.name=indexName)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&dexie_es_global.WorkerGlobalScope&&dexie_es_global instanceof dexie_es_global.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(hasGetAll=!1)}function fireOnBlocked(ev){db.on("blocked").fire(ev),connections.filter((function(c){return c.name===db.name&&c!==db&&!c._vcFired})).map((function(c){return c.on("versionchange").fire(ev)}))}this.version=function(versionNumber){if(idbdb||isBeingOpened)throw new exceptions.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,versionNumber);var versionInstance=versions.filter((function(v){return v._cfg.version===versionNumber}))[0];return versionInstance||(versionInstance=new Version(versionNumber),versions.push(versionInstance),versions.sort(lowerVersionFirst),autoSchema=!1,versionInstance)},extend(Version.prototype,{stores:function(stores){this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,stores):stores;var storesSpec={};versions.forEach((function(version){extend(storesSpec,version._cfg.storesSource)}));var dbschema=this._cfg.dbschema={};return this._parseStoresSpec(storesSpec,dbschema),globalSchema=db._dbSchema=dbschema,[allTables,db,Transaction.prototype].forEach((function(obj){for(var key in obj)obj[key]instanceof Table&&delete obj[key]})),setApiOnPlace([allTables,db,Transaction.prototype,this._cfg.tables],dexie_es_keys(dbschema),dbschema),dbStoreNames=dexie_es_keys(dbschema),this},upgrade:function(upgradeFunction){return this._cfg.contentUpgrade=upgradeFunction,this},_parseStoresSpec:function(stores,outSchema){dexie_es_keys(stores).forEach((function(tableName){if(null!==stores[tableName]){var instanceTemplate={},indexes=function(indexes){var rv=[];return indexes.split(",").forEach((function(index){var name=(index=index.trim()).replace(/([&*]|\+\+)/g,""),keyPath=/^\[/.test(name)?name.match(/^\[(.*)\]$/)[1].split("+"):name;rv.push(new IndexSpec(name,keyPath||null,/\&/.test(index),/\*/.test(index),/\+\+/.test(index),dexie_es_isArray(keyPath),/\./.test(index)))})),rv}(stores[tableName]),primKey=indexes.shift();if(primKey.multi)throw new exceptions.Schema("Primary key cannot be multi-valued");primKey.keyPath&&setByKeyPath(instanceTemplate,primKey.keyPath,primKey.auto?0:primKey.keyPath),indexes.forEach((function(idx){if(idx.auto)throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");if(!idx.keyPath)throw new exceptions.Schema("Index must have a name and cannot be an empty string");setByKeyPath(instanceTemplate,idx.keyPath,idx.compound?idx.keyPath.map((function(){return""})):"")})),outSchema[tableName]=new TableSchema(tableName,primKey,indexes,instanceTemplate)}}))}}),this._allTables=allTables,this._createTransaction=function(mode,storeNames,dbschema,parentTransaction){return new Transaction(mode,storeNames,dbschema,parentTransaction)},this._whenReady=function(fn){return openComplete||PSD.letThrough?fn():new dexie_es_Promise((function(resolve,reject){if(!isBeingOpened){if(!autoOpen)return void reject(new exceptions.DatabaseClosed);db.open().catch(nop)}dbReadyPromise.then(resolve,reject)})).then(fn)},this.verno=0,this.open=function(){if(isBeingOpened||idbdb)return dbReadyPromise.then((function(){return dbOpenError?rejection(dbOpenError):db}));debug&&(openCanceller._stackHolder=getErrorWithStack()),isBeingOpened=!0,dbOpenError=null,openComplete=!1;var resolveDbReady=dbReadyResolve,upgradeTransaction=null;return dexie_es_Promise.race([openCanceller,new dexie_es_Promise((function(resolve,reject){if(!indexedDB)throw new exceptions.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var req=autoSchema?indexedDB.open(dbName):indexedDB.open(dbName,Math.round(10*db.verno));if(!req)throw new exceptions.MissingAPI("IndexedDB API not available");req.onerror=eventRejectHandler(reject),req.onblocked=wrap(fireOnBlocked),req.onupgradeneeded=wrap((function(e){if(upgradeTransaction=req.transaction,autoSchema&&!db._allowEmptyDB){req.onerror=preventDefault,upgradeTransaction.abort(),req.result.close();var delreq=indexedDB.deleteDatabase(dbName);delreq.onsuccess=delreq.onerror=wrap((function(){reject(new exceptions.NoSuchDatabase("Database "+dbName+" doesnt exist"))}))}else upgradeTransaction.onerror=eventRejectHandler(reject),function(oldVersion,idbtrans,reject){var trans=db._createTransaction(READWRITE,dbStoreNames,globalSchema);trans.create(idbtrans),trans._completion.catch(reject);var rejectTransaction=trans._reject.bind(trans);newScope((function(){PSD.trans=trans,0===oldVersion?(dexie_es_keys(globalSchema).forEach((function(tableName){createTable(idbtrans,tableName,globalSchema[tableName].primKey,globalSchema[tableName].indexes)})),dexie_es_Promise.follow((function(){return db.on.populate.fire(trans)})).catch(rejectTransaction)):function(oldVersion,trans,idbtrans){var queue=[],oldVersionStruct=versions.filter((function(version){return version._cfg.version===oldVersion}))[0];if(!oldVersionStruct)throw new exceptions.Upgrade("Dexie specification of currently installed DB version is missing");globalSchema=db._dbSchema=oldVersionStruct._cfg.dbschema;var anyContentUpgraderHasRun=!1;return versions.filter((function(v){return v._cfg.version>oldVersion})).forEach((function(version){queue.push((function(){var oldSchema=globalSchema,newSchema=version._cfg.dbschema;adjustToExistingIndexNames(oldSchema,idbtrans),adjustToExistingIndexNames(newSchema,idbtrans),globalSchema=db._dbSchema=newSchema;var diff=function(oldSchema,newSchema){var diff={del:[],add:[],change:[]};for(var table in oldSchema)newSchema[table]||diff.del.push(table);for(table in newSchema){var oldDef=oldSchema[table],newDef=newSchema[table];if(oldDef){var change={name:table,def:newDef,recreate:!1,del:[],add:[],change:[]};if(oldDef.primKey.src!==newDef.primKey.src)change.recreate=!0,diff.change.push(change);else{var oldIndexes=oldDef.idxByName,newIndexes=newDef.idxByName;for(var idxName in oldIndexes)newIndexes[idxName]||change.del.push(idxName);for(idxName in newIndexes){var oldIdx=oldIndexes[idxName],newIdx=newIndexes[idxName];oldIdx?oldIdx.src!==newIdx.src&&change.change.push(newIdx):change.add.push(newIdx)}(change.del.length>0||change.add.length>0||change.change.length>0)&&diff.change.push(change)}}else diff.add.push([table,newDef])}return diff}(oldSchema,newSchema);if(diff.add.forEach((function(tuple){createTable(idbtrans,tuple[0],tuple[1].primKey,tuple[1].indexes)})),diff.change.forEach((function(change){if(change.recreate)throw new exceptions.Upgrade("Not yet support for changing primary key");var store=idbtrans.objectStore(change.name);change.add.forEach((function(idx){addIndex(store,idx)})),change.change.forEach((function(idx){store.deleteIndex(idx.name),addIndex(store,idx)})),change.del.forEach((function(idxName){store.deleteIndex(idxName)}))})),version._cfg.contentUpgrade)return anyContentUpgraderHasRun=!0,dexie_es_Promise.follow((function(){version._cfg.contentUpgrade(trans)}))})),queue.push((function(idbtrans){anyContentUpgraderHasRun&&hasIEDeleteObjectStoreBug||function(newSchema,idbtrans){for(var i=0;i<idbtrans.db.objectStoreNames.length;++i){var storeName=idbtrans.db.objectStoreNames[i];null==newSchema[storeName]&&idbtrans.db.deleteObjectStore(storeName)}}(version._cfg.dbschema,idbtrans)}))})),function runQueue(){return queue.length?dexie_es_Promise.resolve(queue.shift()(trans.idbtrans)).then(runQueue):dexie_es_Promise.resolve()}().then((function(){!function(newSchema,idbtrans){dexie_es_keys(newSchema).forEach((function(tableName){idbtrans.db.objectStoreNames.contains(tableName)||createTable(idbtrans,tableName,newSchema[tableName].primKey,newSchema[tableName].indexes)}))}(globalSchema,idbtrans)}))}(oldVersion,trans,idbtrans).catch(rejectTransaction)}))}((e.oldVersion>Math.pow(2,62)?0:e.oldVersion)/10,upgradeTransaction,reject)}),reject),req.onsuccess=wrap((function(){if(upgradeTransaction=null,idbdb=req.result,connections.push(db),autoSchema)!function(){if(db.verno=idbdb.version/10,db._dbSchema=globalSchema={},0!==(dbStoreNames=slice(idbdb.objectStoreNames,0)).length){var trans=idbdb.transaction(safariMultiStoreFix(dbStoreNames),"readonly");dbStoreNames.forEach((function(storeName){for(var store=trans.objectStore(storeName),keyPath=store.keyPath,dotted=keyPath&&"string"==typeof keyPath&&-1!==keyPath.indexOf("."),primKey=new IndexSpec(keyPath,keyPath||"",!1,!1,!!store.autoIncrement,keyPath&&"string"!=typeof keyPath,dotted),indexes=[],j=0;j<store.indexNames.length;++j){var idbindex=store.index(store.indexNames[j]);dotted=(keyPath=idbindex.keyPath)&&"string"==typeof keyPath&&-1!==keyPath.indexOf(".");var index=new IndexSpec(idbindex.name,keyPath,!!idbindex.unique,!!idbindex.multiEntry,!1,keyPath&&"string"!=typeof keyPath,dotted);indexes.push(index)}globalSchema[storeName]=new TableSchema(storeName,primKey,indexes,{})})),setApiOnPlace([allTables],dexie_es_keys(globalSchema),globalSchema)}}();else if(idbdb.objectStoreNames.length>0)try{adjustToExistingIndexNames(globalSchema,idbdb.transaction(safariMultiStoreFix(idbdb.objectStoreNames),"readonly"))}catch(e){}idbdb.onversionchange=wrap((function(ev){db._vcFired=!0,db.on("versionchange").fire(ev)})),hasNativeGetDatabaseNames||"__dbnames"===dbName||dbNamesDB.dbnames.put({name:dbName}).catch(nop),resolve()}),reject)}))]).then((function(){return onReadyBeingFired=[],dexie_es_Promise.resolve(Dexie.vip(db.on.ready.fire)).then((function fireRemainders(){if(onReadyBeingFired.length>0){var remainders=onReadyBeingFired.reduce(promisableChain,nop);return onReadyBeingFired=[],dexie_es_Promise.resolve(Dexie.vip(remainders)).then(fireRemainders)}}))})).finally((function(){onReadyBeingFired=null})).then((function(){return isBeingOpened=!1,db})).catch((function(err){try{upgradeTransaction&&upgradeTransaction.abort()}catch(e){}return isBeingOpened=!1,db.close(),rejection(dbOpenError=err)})).finally((function(){openComplete=!0,resolveDbReady()}))},this.close=function(){var idx=connections.indexOf(db);if(idx>=0&&connections.splice(idx,1),idbdb){try{idbdb.close()}catch(e){}idbdb=null}autoOpen=!1,dbOpenError=new exceptions.DatabaseClosed,isBeingOpened&&cancelOpen(dbOpenError),dbReadyPromise=new dexie_es_Promise((function(resolve){dbReadyResolve=resolve})),openCanceller=new dexie_es_Promise((function(_,reject){cancelOpen=reject}))},this.delete=function(){var hasArguments=arguments.length>0;return new dexie_es_Promise((function(resolve,reject){if(hasArguments)throw new exceptions.InvalidArgument("Arguments not allowed in db.delete()");function doDelete(){db.close();var req=indexedDB.deleteDatabase(dbName);req.onsuccess=wrap((function(){hasNativeGetDatabaseNames||dbNamesDB.dbnames.delete(dbName).catch(nop),resolve()})),req.onerror=eventRejectHandler(reject),req.onblocked=fireOnBlocked}isBeingOpened?dbReadyPromise.then(doDelete):doDelete()}))},this.backendDB=function(){return idbdb},this.isOpen=function(){return null!==idbdb},this.hasBeenClosed=function(){return dbOpenError&&dbOpenError instanceof exceptions.DatabaseClosed},this.hasFailed=function(){return null!==dbOpenError},this.dynamicallyOpened=function(){return autoSchema},this.name=dbName,dexie_es_props(this,{tables:{get:function(){return dexie_es_keys(allTables).map((function(name){return allTables[name]}))}}}),this.on=dexie_es_Events(this,"populate","blocked","versionchange",{ready:[promisableChain,nop]}),this.on.ready.subscribe=override(this.on.ready.subscribe,(function(subscribe){return function(subscriber,bSticky){Dexie.vip((function(){openComplete?(dbOpenError||dexie_es_Promise.resolve().then(subscriber),bSticky&&subscribe(subscriber)):onReadyBeingFired?(onReadyBeingFired.push(subscriber),bSticky&&subscribe(subscriber)):(subscribe(subscriber),bSticky||subscribe((function unsubscribe(){db.on.ready.unsubscribe(subscriber),db.on.ready.unsubscribe(unsubscribe)})))}))}})),this.transaction=function(){var args=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,args)},this._transaction=function(mode,tables,scopeFunc){var parentTransaction=PSD.trans;parentTransaction&&parentTransaction.db===db&&-1===mode.indexOf("!")||(parentTransaction=null);var onlyIfCompatible=-1!==mode.indexOf("?");mode=mode.replace("!","").replace("?","");try{var storeNames=tables.map((function(table){var storeName=table instanceof Table?table.name:table;if("string"!=typeof storeName)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return storeName}));if("r"==mode||"readonly"==mode)mode="readonly";else{if("rw"!=mode&&mode!=READWRITE)throw new exceptions.InvalidArgument("Invalid transaction mode: "+mode);mode=READWRITE}if(parentTransaction){if("readonly"===parentTransaction.mode&&mode===READWRITE){if(!onlyIfCompatible)throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");parentTransaction=null}parentTransaction&&storeNames.forEach((function(storeName){if(parentTransaction&&-1===parentTransaction.storeNames.indexOf(storeName)){if(!onlyIfCompatible)throw new exceptions.SubTransaction("Table "+storeName+" not included in parent transaction.");parentTransaction=null}})),onlyIfCompatible&&parentTransaction&&!parentTransaction.active&&(parentTransaction=null)}}catch(e){return parentTransaction?parentTransaction._promise(null,(function(_,reject){reject(e)})):rejection(e)}return parentTransaction?parentTransaction._promise(mode,enterTransactionScope,"lock"):PSD.trans?usePSD(PSD.transless,(function(){return db._whenReady(enterTransactionScope)})):db._whenReady(enterTransactionScope);function enterTransactionScope(){return dexie_es_Promise.resolve().then((function(){var returnValue,transless=PSD.transless||PSD,trans=db._createTransaction(mode,storeNames,globalSchema,parentTransaction),zoneProps={trans:trans,transless:transless};parentTransaction?trans.idbtrans=parentTransaction.idbtrans:trans.create(),scopeFunc.constructor===AsyncFunction&&incrementExpectedAwaits();var promiseFollowed=dexie_es_Promise.follow((function(){if(returnValue=scopeFunc.call(trans,trans))if(returnValue.constructor===NativePromise){var decrementor=decrementExpectedAwaits.bind(null,null);returnValue.then(decrementor,decrementor)}else"function"==typeof returnValue.next&&"function"==typeof returnValue.throw&&(returnValue=awaitIterator(returnValue))}),zoneProps);return(returnValue&&"function"==typeof returnValue.then?dexie_es_Promise.resolve(returnValue).then((function(x){return trans.active?x:rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):promiseFollowed.then((function(){return returnValue}))).then((function(x){return parentTransaction&&trans._resolve(),trans._completion.then((function(){return x}))})).catch((function(e){return trans._reject(e),rejection(e)}))}))}},this.table=function(tableName){if(!hasOwn(allTables,tableName))throw new exceptions.InvalidTable("Table "+tableName+" does not exist");return allTables[tableName]},dexie_es_props(Table.prototype,{_trans:function(mode,fn,writeLocked){var trans=this._tx||PSD.trans;return trans&&trans.db===db?trans===PSD.trans?trans._promise(mode,fn,writeLocked):newScope((function(){return trans._promise(mode,fn,writeLocked)}),{trans:trans,transless:PSD.transless||PSD}):function tempTransaction(mode,storeNames,fn){if(openComplete||PSD.letThrough){var trans=db._createTransaction(mode,storeNames,globalSchema);try{trans.create()}catch(ex){return rejection(ex)}return trans._promise(mode,(function(resolve,reject){return newScope((function(){return PSD.trans=trans,fn(resolve,reject,trans)}))})).then((function(result){return trans._completion.then((function(){return result}))}))}if(!isBeingOpened){if(!autoOpen)return rejection(new exceptions.DatabaseClosed);db.open().catch(nop)}return dbReadyPromise.then((function(){return tempTransaction(mode,storeNames,fn)}))}(mode,[this.name],fn)},_idbstore:function(mode,fn,writeLocked){var tableName=this.name;return this._trans(mode,(function(resolve,reject,trans){if(-1===trans.storeNames.indexOf(tableName))throw new exceptions.NotFound("Table"+tableName+" not part of transaction");return fn(resolve,reject,trans.idbtrans.objectStore(tableName),trans)}),writeLocked)},get:function(keyOrCrit,cb){if(keyOrCrit&&keyOrCrit.constructor===Object)return this.where(keyOrCrit).first(cb);var self=this;return this._idbstore("readonly",(function(resolve,reject,idbstore){var req=idbstore.get(keyOrCrit);req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(){resolve(self.hook.reading.fire(req.result))}),reject)})).then(cb)},where:function(indexOrCrit){if("string"==typeof indexOrCrit)return new WhereClause(this,indexOrCrit);if(dexie_es_isArray(indexOrCrit))return new WhereClause(this,"["+indexOrCrit.join("+")+"]");var keyPaths=dexie_es_keys(indexOrCrit);if(1===keyPaths.length)return this.where(keyPaths[0]).equals(indexOrCrit[keyPaths[0]]);var compoundIndex=this.schema.indexes.concat(this.schema.primKey).filter((function(ix){return ix.compound&&keyPaths.every((function(keyPath){return ix.keyPath.indexOf(keyPath)>=0}))&&ix.keyPath.every((function(keyPath){return keyPaths.indexOf(keyPath)>=0}))}))[0];if(compoundIndex&&maxKey!==maxString)return this.where(compoundIndex.name).equals(compoundIndex.keyPath.map((function(kp){return indexOrCrit[kp]})));compoundIndex||console.warn("The query "+JSON.stringify(indexOrCrit)+" on "+this.name+" would benefit of a compound index ["+keyPaths.join("+")+"]");var idxByName=this.schema.idxByName,simpleIndex=keyPaths.reduce((function(r,keyPath){return[r[0]||idxByName[keyPath],r[0]||!idxByName[keyPath]?combine(r[1],(function(x){return""+getByKeyPath(x,keyPath)==""+indexOrCrit[keyPath]})):r[1]]}),[null,null]),idx=simpleIndex[0];return idx?this.where(idx.name).equals(indexOrCrit[idx.keyPath]).filter(simpleIndex[1]):compoundIndex?this.filter(simpleIndex[1]):this.where(keyPaths).equals("")},count:function(cb){return this.toCollection().count(cb)},offset:function(offset){return this.toCollection().offset(offset)},limit:function(numRows){return this.toCollection().limit(numRows)},reverse:function(){return this.toCollection().reverse()},filter:function(filterFunction){return this.toCollection().and(filterFunction)},each:function(fn){return this.toCollection().each(fn)},toArray:function(cb){return this.toCollection().toArray(cb)},orderBy:function(index){return new Collection(new WhereClause(this,dexie_es_isArray(index)?"["+index.join("+")+"]":index))},toCollection:function(){return new Collection(new WhereClause(this))},mapToClass:function(constructor,structure){this.schema.mappedClass=constructor;var instanceTemplate=Object.create(constructor.prototype);structure&&applyStructure(instanceTemplate,structure),this.schema.instanceTemplate=instanceTemplate;var readHook=function(obj){if(!obj)return obj;var res=Object.create(constructor.prototype);for(var m in obj)if(hasOwn(obj,m))try{res[m]=obj[m]}catch(_){}return res};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=readHook,this.hook("reading",readHook),constructor},defineClass:function(structure){return this.mapToClass(Dexie.defineClass(structure),structure)},bulkDelete:function(keys$$1){return this.hook.deleting.fire===nop?this._idbstore(READWRITE,(function(resolve,reject,idbstore,trans){resolve(bulkDelete(idbstore,trans,keys$$1,!1,nop))})):this.where(":id").anyOf(keys$$1).delete().then((function(){}))},bulkPut:function(objects,keys$$1){var _this=this;return this._idbstore(READWRITE,(function(resolve,reject,idbstore){if(!idbstore.keyPath&&!_this.schema.primKey.auto&&!keys$$1)throw new exceptions.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(idbstore.keyPath&&keys$$1)throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(keys$$1&&keys$$1.length!==objects.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");if(0===objects.length)return resolve();var req,errorHandler,done=function(result){0===errorList.length?resolve(result):reject(new BulkError(_this.name+".bulkPut(): "+errorList.length+" of "+numObjs+" operations failed",errorList))},errorList=[],numObjs=objects.length,table=_this;if(_this.hook.creating.fire===nop&&_this.hook.updating.fire===nop){errorHandler=BulkErrorHandlerCatchAll(errorList);for(var i=0,l=objects.length;i<l;++i)(req=keys$$1?idbstore.put(objects[i],keys$$1[i]):idbstore.put(objects[i])).onerror=errorHandler;req.onerror=BulkErrorHandlerCatchAll(errorList,done),req.onsuccess=eventSuccessHandler(done)}else{var effectiveKeys=keys$$1||idbstore.keyPath&&objects.map((function(o){return getByKeyPath(o,idbstore.keyPath)})),objectLookup=effectiveKeys&&arrayToObject(effectiveKeys,(function(key,i){return null!=key&&[key,objects[i]]}));(effectiveKeys?table.where(":id").anyOf(effectiveKeys.filter((function(key){return null!=key}))).modify((function(){this.value=objectLookup[this.primKey],objectLookup[this.primKey]=null})).catch(ModifyError,(function(e){errorList=e.failures})).then((function(){for(var objsToAdd=[],keysToAdd=keys$$1&&[],i=effectiveKeys.length-1;i>=0;--i){var key=effectiveKeys[i];(null==key||objectLookup[key])&&(objsToAdd.push(objects[i]),keys$$1&&keysToAdd.push(key),null!=key&&(objectLookup[key]=null))}return objsToAdd.reverse(),keys$$1&&keysToAdd.reverse(),table.bulkAdd(objsToAdd,keysToAdd)})).then((function(lastAddedKey){var lastEffectiveKey=effectiveKeys[effectiveKeys.length-1];return null!=lastEffectiveKey?lastEffectiveKey:lastAddedKey})):table.bulkAdd(objects)).then(done).catch(BulkError,(function(e){errorList=errorList.concat(e.failures),done()})).catch(reject)}}),"locked")},bulkAdd:function(objects,keys$$1){var self=this,creatingHook=this.hook.creating.fire;return this._idbstore(READWRITE,(function(resolve,reject,idbstore,trans){if(!idbstore.keyPath&&!self.schema.primKey.auto&&!keys$$1)throw new exceptions.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(idbstore.keyPath&&keys$$1)throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(keys$$1&&keys$$1.length!==objects.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");if(0===objects.length)return resolve();function done(result){0===errorList.length?resolve(result):reject(new BulkError(self.name+".bulkAdd(): "+errorList.length+" of "+numObjs+" operations failed",errorList))}var req,errorHandler,successHandler,errorList=[],numObjs=objects.length;if(creatingHook!==nop){var hookCtx,keyPath=idbstore.keyPath;errorHandler=BulkErrorHandlerCatchAll(errorList,null,!0),successHandler=hookedEventSuccessHandler(null),tryCatch((function(){for(var i=0,l=objects.length;i<l;++i){hookCtx={onerror:null,onsuccess:null};var key=keys$$1&&keys$$1[i],obj=objects[i],effectiveKey=keys$$1?key:keyPath?getByKeyPath(obj,keyPath):void 0,keyToUse=creatingHook.call(hookCtx,effectiveKey,obj,trans);null==effectiveKey&&null!=keyToUse&&(keyPath?setByKeyPath(obj=deepClone(obj),keyPath,keyToUse):key=keyToUse),(req=null!=key?idbstore.add(obj,key):idbstore.add(obj))._hookCtx=hookCtx,i<l-1&&(req.onerror=errorHandler,hookCtx.onsuccess&&(req.onsuccess=successHandler))}}),(function(err){throw hookCtx.onerror&&hookCtx.onerror(err),err})),req.onerror=BulkErrorHandlerCatchAll(errorList,done,!0),req.onsuccess=hookedEventSuccessHandler(done)}else{errorHandler=BulkErrorHandlerCatchAll(errorList);for(var i=0,l=objects.length;i<l;++i)(req=keys$$1?idbstore.add(objects[i],keys$$1[i]):idbstore.add(objects[i])).onerror=errorHandler;req.onerror=BulkErrorHandlerCatchAll(errorList,done),req.onsuccess=eventSuccessHandler(done)}}))},add:function(obj,key){var creatingHook=this.hook.creating.fire;return this._idbstore(READWRITE,(function(resolve,reject,idbstore,trans){var hookCtx={onsuccess:null,onerror:null};if(creatingHook!==nop){var effectiveKey=null!=key?key:idbstore.keyPath?getByKeyPath(obj,idbstore.keyPath):void 0,keyToUse=creatingHook.call(hookCtx,effectiveKey,obj,trans);null==effectiveKey&&null!=keyToUse&&(idbstore.keyPath?setByKeyPath(obj,idbstore.keyPath,keyToUse):key=keyToUse)}try{var req=null!=key?idbstore.add(obj,key):idbstore.add(obj);req._hookCtx=hookCtx,req.onerror=hookedEventRejectHandler(reject),req.onsuccess=hookedEventSuccessHandler((function(result){var keyPath=idbstore.keyPath;keyPath&&setByKeyPath(obj,keyPath,result),resolve(result)}))}catch(e){throw hookCtx.onerror&&hookCtx.onerror(e),e}}))},put:function(obj,key){var _this=this;if(this.hook.creating.fire!==nop||this.hook.updating.fire!==nop){var keyPath=this.schema.primKey.keyPath,effectiveKey=void 0!==key?key:keyPath&&getByKeyPath(obj,keyPath);return null==effectiveKey?this.add(obj):(obj=deepClone(obj),this._trans(READWRITE,(function(){return _this.where(":id").equals(effectiveKey).modify((function(){this.value=obj})).then((function(count){return 0===count?_this.add(obj,key):effectiveKey}))}),"locked"))}return this._idbstore(READWRITE,(function(resolve,reject,idbstore){var req=void 0!==key?idbstore.put(obj,key):idbstore.put(obj);req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(ev){var keyPath=idbstore.keyPath;keyPath&&setByKeyPath(obj,keyPath,ev.target.result),resolve(req.result)}))}))},delete:function(key){return this.hook.deleting.subscribers.length?this.where(":id").equals(key).delete():this._idbstore(READWRITE,(function(resolve,reject,idbstore){var req=idbstore.delete(key);req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(){resolve(req.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(READWRITE,(function(resolve,reject,idbstore){var req=idbstore.clear();req.onerror=eventRejectHandler(reject),req.onsuccess=wrap((function(){resolve(req.result)}))}))},update:function(keyOrObject,modifications){if("object"!=typeof modifications||dexie_es_isArray(modifications))throw new exceptions.InvalidArgument("Modifications must be an object.");if("object"!=typeof keyOrObject||dexie_es_isArray(keyOrObject))return this.where(":id").equals(keyOrObject).modify(modifications);dexie_es_keys(modifications).forEach((function(keyPath){setByKeyPath(keyOrObject,keyPath,modifications[keyPath])}));var key=getByKeyPath(keyOrObject,this.schema.primKey.keyPath);return void 0===key?rejection(new exceptions.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(key).modify(modifications)}}),dexie_es_props(Transaction.prototype,{_lock:function(){return assert(!PSD.global),++this._reculock,1!==this._reculock||PSD.global||(PSD.lockOwnerFor=this),this},_unlock:function(){if(assert(!PSD.global),0==--this._reculock)for(PSD.global||(PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var fnAndPSD=this._blockedFuncs.shift();try{usePSD(fnAndPSD[1],fnAndPSD[0])}catch(e){}}return this},_locked:function(){return this._reculock&&PSD.lockOwnerFor!==this},create:function(idbtrans){var _this=this;if(!this.mode)return this;if(assert(!this.idbtrans),!idbtrans&&!idbdb)switch(dbOpenError&&dbOpenError.name){case"DatabaseClosedError":throw new exceptions.DatabaseClosed(dbOpenError);case"MissingAPIError":throw new exceptions.MissingAPI(dbOpenError.message,dbOpenError);default:throw new exceptions.OpenFailed(dbOpenError)}if(!this.active)throw new exceptions.TransactionInactive;return assert(null===this._completion._state),(idbtrans=this.idbtrans=idbtrans||idbdb.transaction(safariMultiStoreFix(this.storeNames),this.mode)).onerror=wrap((function(ev){preventDefault(ev),_this._reject(idbtrans.error)})),idbtrans.onabort=wrap((function(ev){preventDefault(ev),_this.active&&_this._reject(new exceptions.Abort(idbtrans.error)),_this.active=!1,_this.on("abort").fire(ev)})),idbtrans.oncomplete=wrap((function(){_this.active=!1,_this._resolve()})),this},_promise:function(mode,fn,bWriteLock){var _this=this;if(mode===READWRITE&&this.mode!==READWRITE)return rejection(new exceptions.ReadOnly("Transaction is readonly"));if(!this.active)return rejection(new exceptions.TransactionInactive);if(this._locked())return new dexie_es_Promise((function(resolve,reject){_this._blockedFuncs.push([function(){_this._promise(mode,fn,bWriteLock).then(resolve,reject)},PSD])}));if(bWriteLock)return newScope((function(){var p=new dexie_es_Promise((function(resolve,reject){_this._lock();var rv=fn(resolve,reject,_this);rv&&rv.then&&rv.then(resolve,reject)}));return p.finally((function(){return _this._unlock()})),p._lib=!0,p}));var p=new dexie_es_Promise((function(resolve,reject){var rv=fn(resolve,reject,_this);rv&&rv.then&&rv.then(resolve,reject)}));return p._lib=!0,p},_root:function(){return this.parent?this.parent._root():this},waitFor:function(promise){var root=this._root();if(promise=dexie_es_Promise.resolve(promise),root._waitingFor)root._waitingFor=root._waitingFor.then((function(){return promise}));else{root._waitingFor=promise,root._waitingQueue=[];var store=root.idbtrans.objectStore(root.storeNames[0]);!function spin(){for(++root._spinCount;root._waitingQueue.length;)root._waitingQueue.shift()();root._waitingFor&&(store.get(-1/0).onsuccess=spin)}()}var currentWaitPromise=root._waitingFor;return new dexie_es_Promise((function(resolve,reject){promise.then((function(res){return root._waitingQueue.push(wrap(resolve.bind(null,res)))}),(function(err){return root._waitingQueue.push(wrap(reject.bind(null,err)))})).finally((function(){root._waitingFor===currentWaitPromise&&(root._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new exceptions.Abort),this.active=!1},tables:{get:(what="Transaction.tables",fn=function(){return allTables},function(){return console.warn(what+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+prettyStack(getErrorWithStack(),1)),fn.apply(this,arguments)})},table:function(name){return new Table(name,db.table(name).schema,this)}}),dexie_es_props(WhereClause.prototype,(function(){function fail(collectionOrWhereClause,err,T){var collection=collectionOrWhereClause instanceof WhereClause?new Collection(collectionOrWhereClause):collectionOrWhereClause;return collection._ctx.error=T?new T(err):new TypeError(err),collection}function emptyCollection(whereClause){return new Collection(whereClause,(function(){return IDBKeyRange.only("")})).limit(0)}function nextCasing(key,lowerKey,upperNeedle,lowerNeedle,cmp,dir){for(var length=Math.min(key.length,lowerNeedle.length),llp=-1,i=0;i<length;++i){var lwrKeyChar=lowerKey[i];if(lwrKeyChar!==lowerNeedle[i])return cmp(key[i],upperNeedle[i])<0?key.substr(0,i)+upperNeedle[i]+upperNeedle.substr(i+1):cmp(key[i],lowerNeedle[i])<0?key.substr(0,i)+lowerNeedle[i]+upperNeedle.substr(i+1):llp>=0?key.substr(0,llp)+lowerKey[llp]+upperNeedle.substr(llp+1):null;cmp(key[i],lwrKeyChar)<0&&(llp=i)}return length<lowerNeedle.length&&"next"===dir?key+upperNeedle.substr(key.length):length<key.length&&"prev"===dir?key.substr(0,upperNeedle.length):llp<0?null:key.substr(0,llp)+lowerNeedle[llp]+upperNeedle.substr(llp+1)}function addIgnoreCaseAlgorithm(whereClause,match,needles,suffix){var upper,lower,compare,upperNeedles,lowerNeedles,direction,nextKeySuffix,needlesLen=needles.length;if(!needles.every((function(s){return"string"==typeof s})))return fail(whereClause,"String expected.");function initDirection(dir){upper=function(dir){return"next"===dir?function(s){return s.toUpperCase()}:function(s){return s.toLowerCase()}}(dir),lower=function(dir){return"next"===dir?function(s){return s.toLowerCase()}:function(s){return s.toUpperCase()}}(dir),compare="next"===dir?simpleCompare:simpleCompareReverse;var needleBounds=needles.map((function(needle){return{lower:lower(needle),upper:upper(needle)}})).sort((function(a,b){return compare(a.lower,b.lower)}));upperNeedles=needleBounds.map((function(nb){return nb.upper})),lowerNeedles=needleBounds.map((function(nb){return nb.lower})),direction=dir,nextKeySuffix="next"===dir?"":suffix}initDirection("next");var c=new Collection(whereClause,(function(){return IDBKeyRange.bound(upperNeedles[0],lowerNeedles[needlesLen-1]+suffix)}));c._ondirectionchange=function(direction){initDirection(direction)};var firstPossibleNeedle=0;return c._addAlgorithm((function(cursor,advance,resolve){var key=cursor.key;if("string"!=typeof key)return!1;var lowerKey=lower(key);if(match(lowerKey,lowerNeedles,firstPossibleNeedle))return!0;for(var lowestPossibleCasing=null,i=firstPossibleNeedle;i<needlesLen;++i){var casing=nextCasing(key,lowerKey,upperNeedles[i],lowerNeedles[i],compare,direction);null===casing&&null===lowestPossibleCasing?firstPossibleNeedle=i+1:(null===lowestPossibleCasing||compare(lowestPossibleCasing,casing)>0)&&(lowestPossibleCasing=casing)}return advance(null!==lowestPossibleCasing?function(){cursor.continue(lowestPossibleCasing+nextKeySuffix)}:resolve),!1})),c}return{between:function(lower,upper,includeLower,includeUpper){includeLower=!1!==includeLower,includeUpper=!0===includeUpper;try{return cmp(lower,upper)>0||0===cmp(lower,upper)&&(includeLower||includeUpper)&&(!includeLower||!includeUpper)?emptyCollection(this):new Collection(this,(function(){return IDBKeyRange.bound(lower,upper,!includeLower,!includeUpper)}))}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}},equals:function(value){return new Collection(this,(function(){return IDBKeyRange.only(value)}))},above:function(value){return new Collection(this,(function(){return IDBKeyRange.lowerBound(value,!0)}))},aboveOrEqual:function(value){return new Collection(this,(function(){return IDBKeyRange.lowerBound(value)}))},below:function(value){return new Collection(this,(function(){return IDBKeyRange.upperBound(value,!0)}))},belowOrEqual:function(value){return new Collection(this,(function(){return IDBKeyRange.upperBound(value)}))},startsWith:function(str){return"string"!=typeof str?fail(this,"String expected."):this.between(str,str+maxString,!0,!0)},startsWithIgnoreCase:function(str){return""===str?this.startsWith(str):addIgnoreCaseAlgorithm(this,(function(x,a){return 0===x.indexOf(a[0])}),[str],maxString)},equalsIgnoreCase:function(str){return addIgnoreCaseAlgorithm(this,(function(x,a){return x===a[0]}),[str],"")},anyOfIgnoreCase:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===set.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(x,a){return-1!==a.indexOf(x)}),set,"")},startsWithAnyOfIgnoreCase:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===set.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(x,a){return a.some((function(n){return 0===x.indexOf(n)}))}),set,maxString)},anyOf:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments),compare=ascending;try{set.sort(compare)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}if(0===set.length)return emptyCollection(this);var c=new Collection(this,(function(){return IDBKeyRange.bound(set[0],set[set.length-1])}));c._ondirectionchange=function(direction){set.sort(compare="next"===direction?ascending:descending)};var i=0;return c._addAlgorithm((function(cursor,advance,resolve){for(var key=cursor.key;compare(key,set[i])>0;)if(++i===set.length)return advance(resolve),!1;return 0===compare(key,set[i])||(advance((function(){cursor.continue(set[i])})),!1)})),c},notEqual:function(value){return this.inAnyRange([[-1/0,value],[value,maxKey]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(0===set.length)return new Collection(this);try{set.sort(ascending)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}var ranges=set.reduce((function(res,val){return res?res.concat([[res[res.length-1][1],val]]):[[-1/0,val]]}),null);return ranges.push([set[set.length-1],maxKey]),this.inAnyRange(ranges,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(ranges,options){if(0===ranges.length)return emptyCollection(this);if(!ranges.every((function(range){return void 0!==range[0]&&void 0!==range[1]&&ascending(range[0],range[1])<=0})))return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",exceptions.InvalidArgument);var set,includeLowers=!options||!1!==options.includeLowers,includeUppers=options&&!0===options.includeUppers,sortDirection=ascending;function rangeSorter(a,b){return sortDirection(a[0],b[0])}try{(set=ranges.reduce((function(ranges,newRange){for(var i=0,l=ranges.length;i<l;++i){var range=ranges[i];if(cmp(newRange[0],range[1])<0&&cmp(newRange[1],range[0])>0){range[0]=cmp(a=range[0],b=newRange[0])<0?a:b,range[1]=max(range[1],newRange[1]);break}}var a,b;return i===l&&ranges.push(newRange),ranges}),[])).sort(rangeSorter)}catch(ex){return fail(this,INVALID_KEY_ARGUMENT)}var i=0,keyIsBeyondCurrentEntry=includeUppers?function(key){return ascending(key,set[i][1])>0}:function(key){return ascending(key,set[i][1])>=0},keyIsBeforeCurrentEntry=includeLowers?function(key){return descending(key,set[i][0])>0}:function(key){return descending(key,set[i][0])>=0},checkKey=keyIsBeyondCurrentEntry,c=new Collection(this,(function(){return IDBKeyRange.bound(set[0][0],set[set.length-1][1],!includeLowers,!includeUppers)}));return c._ondirectionchange=function(direction){"next"===direction?(checkKey=keyIsBeyondCurrentEntry,sortDirection=ascending):(checkKey=keyIsBeforeCurrentEntry,sortDirection=descending),set.sort(rangeSorter)},c._addAlgorithm((function(cursor,advance,resolve){for(var key=cursor.key;checkKey(key);)if(++i===set.length)return advance(resolve),!1;return!!function(key){return!keyIsBeyondCurrentEntry(key)&&!keyIsBeforeCurrentEntry(key)}(key)||(0===cmp(key,set[i][1])||0===cmp(key,set[i][0])||advance((function(){cursor.continue(sortDirection===ascending?set[i][0]:set[i][1])})),!1)})),c},startsWithAnyOf:function(){var set=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return set.every((function(s){return"string"==typeof s}))?0===set.length?emptyCollection(this):this.inAnyRange(set.map((function(str){return[str,str+maxString]}))):fail(this,"startsWithAnyOf() only works with strings")}}})),dexie_es_props(Collection.prototype,(function(){function addFilter(ctx,fn){ctx.filter=combine(ctx.filter,fn)}function addReplayFilter(ctx,factory,isLimitFilter){var curr=ctx.replayFilter;ctx.replayFilter=curr?function(){return combine(curr(),factory())}:factory,ctx.justLimit=isLimitFilter&&!curr}function getIndexOrStore(ctx,store){if(ctx.isPrimKey)return store;var indexSpec=ctx.table.schema.idxByName[ctx.index];if(!indexSpec)throw new exceptions.Schema("KeyPath "+ctx.index+" on object store "+store.name+" is not indexed");return store.index(indexSpec.name)}function openCursor(ctx,store){var idxOrStore=getIndexOrStore(ctx,store);return ctx.keysOnly&&"openKeyCursor"in idxOrStore?idxOrStore.openKeyCursor(ctx.range||null,ctx.dir+ctx.unique):idxOrStore.openCursor(ctx.range||null,ctx.dir+ctx.unique)}function iter(ctx,fn,resolve,reject,idbstore){var filter=ctx.replayFilter?combine(ctx.filter,ctx.replayFilter()):ctx.filter;ctx.or?function(){var set={},resolved=0;function resolveboth(){2==++resolved&&resolve()}function union(item,cursor,advance){if(!filter||filter(cursor,advance,resolveboth,reject)){var primaryKey=cursor.primaryKey,key=""+primaryKey;"[object ArrayBuffer]"===key&&(key=""+new Uint8Array(primaryKey)),hasOwn(set,key)||(set[key]=!0,fn(item,cursor,advance))}}ctx.or._iterate(union,resolveboth,reject,idbstore),iterate(openCursor(ctx,idbstore),ctx.algorithm,union,resolveboth,reject,!ctx.keysOnly&&ctx.valueMapper)}():iterate(openCursor(ctx,idbstore),combine(ctx.algorithm,filter),fn,resolve,reject,!ctx.keysOnly&&ctx.valueMapper)}return{_read:function(fn,cb){var ctx=this._ctx;return ctx.error?ctx.table._trans(null,rejection.bind(null,ctx.error)):ctx.table._idbstore("readonly",fn).then(cb)},_write:function(fn){var ctx=this._ctx;return ctx.error?ctx.table._trans(null,rejection.bind(null,ctx.error)):ctx.table._idbstore(READWRITE,fn,"locked")},_addAlgorithm:function(fn){var ctx=this._ctx;ctx.algorithm=combine(ctx.algorithm,fn)},_iterate:function(fn,resolve,reject,idbstore){return iter(this._ctx,fn,resolve,reject,idbstore)},clone:function(props$$1){var rv=Object.create(this.constructor.prototype),ctx=Object.create(this._ctx);return props$$1&&extend(ctx,props$$1),rv._ctx=ctx,rv},raw:function(){return this._ctx.valueMapper=null,this},each:function(fn){var ctx=this._ctx;return this._read((function(resolve,reject,idbstore){iter(ctx,fn,resolve,reject,idbstore)}))},count:function(cb){var ctx=this._ctx;if(isPlainKeyRange(ctx,!0))return this._read((function(resolve,reject,idbstore){var idx=getIndexOrStore(ctx,idbstore),req=ctx.range?idx.count(ctx.range):idx.count();req.onerror=eventRejectHandler(reject),req.onsuccess=function(e){resolve(Math.min(e.target.result,ctx.limit))}}),cb);var count=0;return this._read((function(resolve,reject,idbstore){iter(ctx,(function(){return++count,!1}),(function(){resolve(count)}),reject,idbstore)}),cb)},sortBy:function(keyPath,cb){var parts=keyPath.split(".").reverse(),lastPart=parts[0],lastIndex=parts.length-1;function getval(obj,i){return i?getval(obj[parts[i]],i-1):obj[lastPart]}var order="next"===this._ctx.dir?1:-1;function sorter(a,b){var aVal=getval(a,lastIndex),bVal=getval(b,lastIndex);return aVal<bVal?-order:aVal>bVal?order:0}return this.toArray((function(a){return a.sort(sorter)})).then(cb)},toArray:function(cb){var ctx=this._ctx;return this._read((function(resolve,reject,idbstore){if(hasGetAll&&"next"===ctx.dir&&isPlainKeyRange(ctx,!0)&&ctx.limit>0){var readingHook=ctx.table.hook.reading.fire,idxOrStore=getIndexOrStore(ctx,idbstore),req=ctx.limit<1/0?idxOrStore.getAll(ctx.range,ctx.limit):idxOrStore.getAll(ctx.range);req.onerror=eventRejectHandler(reject),req.onsuccess=eventSuccessHandler(readingHook===mirror?resolve:function(res){try{resolve(res.map(readingHook))}catch(e){reject(e)}})}else{var a=[];iter(ctx,(function(item){a.push(item)}),(function(){resolve(a)}),reject,idbstore)}}),cb)},offset:function(offset){var ctx=this._ctx;return offset<=0||(ctx.offset+=offset,isPlainKeyRange(ctx)?addReplayFilter(ctx,(function(){var offsetLeft=offset;return function(cursor,advance){return 0===offsetLeft||(1===offsetLeft?(--offsetLeft,!1):(advance((function(){cursor.advance(offsetLeft),offsetLeft=0})),!1))}})):addReplayFilter(ctx,(function(){var offsetLeft=offset;return function(){return--offsetLeft<0}}))),this},limit:function(numRows){return this._ctx.limit=Math.min(this._ctx.limit,numRows),addReplayFilter(this._ctx,(function(){var rowsLeft=numRows;return function(cursor,advance,resolve){return--rowsLeft<=0&&advance(resolve),rowsLeft>=0}}),!0),this},until:function(filterFunction,bIncludeStopEntry){return addFilter(this._ctx,(function(cursor,advance,resolve){return!filterFunction(cursor.value)||(advance(resolve),bIncludeStopEntry)})),this},first:function(cb){return this.limit(1).toArray((function(a){return a[0]})).then(cb)},last:function(cb){return this.reverse().first(cb)},filter:function(filterFunction){return addFilter(this._ctx,(function(cursor){return filterFunction(cursor.value)})),function(ctx,fn){ctx.isMatch=combine(ctx.isMatch,fn)}(this._ctx,filterFunction),this},and:function(filterFunction){return this.filter(filterFunction)},or:function(indexName){return new WhereClause(this._ctx.table,indexName,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(cb){var ctx=this._ctx;return ctx.keysOnly=!ctx.isMatch,this.each((function(val,cursor){cb(cursor.key,cursor)}))},eachUniqueKey:function(cb){return this._ctx.unique="unique",this.eachKey(cb)},eachPrimaryKey:function(cb){var ctx=this._ctx;return ctx.keysOnly=!ctx.isMatch,this.each((function(val,cursor){cb(cursor.primaryKey,cursor)}))},keys:function(cb){var ctx=this._ctx;ctx.keysOnly=!ctx.isMatch;var a=[];return this.each((function(item,cursor){a.push(cursor.key)})).then((function(){return a})).then(cb)},primaryKeys:function(cb){var ctx=this._ctx;if(hasGetAll&&"next"===ctx.dir&&isPlainKeyRange(ctx,!0)&&ctx.limit>0)return this._read((function(resolve,reject,idbstore){var idxOrStore=getIndexOrStore(ctx,idbstore),req=ctx.limit<1/0?idxOrStore.getAllKeys(ctx.range,ctx.limit):idxOrStore.getAllKeys(ctx.range);req.onerror=eventRejectHandler(reject),req.onsuccess=eventSuccessHandler(resolve)})).then(cb);ctx.keysOnly=!ctx.isMatch;var a=[];return this.each((function(item,cursor){a.push(cursor.primaryKey)})).then((function(){return a})).then(cb)},uniqueKeys:function(cb){return this._ctx.unique="unique",this.keys(cb)},firstKey:function(cb){return this.limit(1).keys((function(a){return a[0]})).then(cb)},lastKey:function(cb){return this.reverse().firstKey(cb)},distinct:function(){var ctx=this._ctx,idx=ctx.index&&ctx.table.schema.idxByName[ctx.index];if(!idx||!idx.multi)return this;var set={};return addFilter(this._ctx,(function(cursor){var strKey=cursor.primaryKey.toString(),found=hasOwn(set,strKey);return set[strKey]=!0,!found})),this},modify:function(changes){var self=this,hook=this._ctx.table.hook,updatingHook=hook.updating.fire,deletingHook=hook.deleting.fire;return this._write((function(resolve,reject,idbstore,trans){var modifyer;if("function"==typeof changes)modifyer=updatingHook===nop&&deletingHook===nop?changes:function(item){var origItem=deepClone(item);if(!1===changes.call(this,item,this))return!1;if(hasOwn(this,"value")){var objectDiff=getObjectDiff(origItem,this.value),additionalChanges=updatingHook.call(this,objectDiff,this.primKey,origItem,trans);additionalChanges&&(item=this.value,dexie_es_keys(additionalChanges).forEach((function(keyPath){setByKeyPath(item,keyPath,additionalChanges[keyPath])})))}else deletingHook.call(this,this.primKey,item,trans)};else if(updatingHook===nop){var keyPaths=dexie_es_keys(changes),numKeys=keyPaths.length;modifyer=function(item){for(var anythingModified=!1,i=0;i<numKeys;++i){var keyPath=keyPaths[i],val=changes[keyPath];getByKeyPath(item,keyPath)!==val&&(setByKeyPath(item,keyPath,val),anythingModified=!0)}return anythingModified}}else{var origChanges=changes;changes=shallowClone(origChanges),modifyer=function(item){var anythingModified=!1,additionalChanges=updatingHook.call(this,changes,this.primKey,deepClone(item),trans);return additionalChanges&&extend(changes,additionalChanges),dexie_es_keys(changes).forEach((function(keyPath){var val=changes[keyPath];getByKeyPath(item,keyPath)!==val&&(setByKeyPath(item,keyPath,val),anythingModified=!0)})),additionalChanges&&(changes=shallowClone(origChanges)),anythingModified}}var count=0,successCount=0,iterationComplete=!1,failures=[],failKeys=[],currentKey=null;function doReject(e){return e&&(failures.push(e),failKeys.push(currentKey)),reject(new ModifyError("Error modifying one or more objects",failures,successCount,failKeys))}function checkFinished(){iterationComplete&&successCount+failures.length===count&&(failures.length>0?doReject():resolve(successCount))}self.clone().raw()._iterate((function(item,cursor){currentKey=cursor.primaryKey;var thisContext={primKey:cursor.primaryKey,value:item,onsuccess:null,onerror:null};function onerror(e){return failures.push(e),failKeys.push(thisContext.primKey),checkFinished(),!0}if(!1!==modifyer.call(thisContext,item,thisContext)){var bDelete=!hasOwn(thisContext,"value");++count,tryCatch((function(){var req=bDelete?cursor.delete():cursor.update(thisContext.value);req._hookCtx=thisContext,req.onerror=hookedEventRejectHandler(onerror),req.onsuccess=hookedEventSuccessHandler((function(){++successCount,checkFinished()}))}),onerror)}else thisContext.onsuccess&&thisContext.onsuccess(thisContext.value)}),(function(){iterationComplete=!0,checkFinished()}),doReject,idbstore)}))},delete:function(){var _this=this,ctx=this._ctx,range=ctx.range,deletingHook=ctx.table.hook.deleting.fire,hasDeleteHook=deletingHook!==nop;if(!hasDeleteHook&&isPlainKeyRange(ctx)&&(ctx.isPrimKey&&!hangsOnDeleteLargeKeyRange||!range))return this._write((function(resolve,reject,idbstore){var onerror=eventRejectHandler(reject),countReq=range?idbstore.count(range):idbstore.count();countReq.onerror=onerror,countReq.onsuccess=function(){var count=countReq.result;tryCatch((function(){var delReq=range?idbstore.delete(range):idbstore.clear();delReq.onerror=onerror,delReq.onsuccess=function(){return resolve(count)}}),(function(err){return reject(err)}))}}));var CHUNKSIZE=hasDeleteHook?2e3:1e4;return this._write((function(resolve,reject,idbstore,trans){var totalCount=0,collection=_this.clone({keysOnly:!ctx.isMatch&&!hasDeleteHook}).distinct().limit(CHUNKSIZE).raw(),keysOrTuples=[],nextChunk=function(){return collection.each(hasDeleteHook?function(val,cursor){keysOrTuples.push([cursor.primaryKey,cursor.value])}:function(val,cursor){keysOrTuples.push(cursor.primaryKey)}).then((function(){return keysOrTuples.sort(hasDeleteHook?function(a,b){return ascending(a[0],b[0])}:ascending),bulkDelete(idbstore,trans,keysOrTuples,hasDeleteHook,deletingHook)})).then((function(){var count=keysOrTuples.length;return totalCount+=count,keysOrTuples=[],count<CHUNKSIZE?totalCount:nextChunk()}))};resolve(nextChunk())}))}}})),extend(this,{Collection:Collection,Table:Table,Transaction:Transaction,Version:Version,WhereClause:WhereClause}),db.on("versionchange",(function(ev){ev.newVersion>0?console.warn("Another connection wants to upgrade database '"+db.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+db.name+"'. Closing db now to resume the delete request."),db.close()})),db.on("blocked",(function(ev){!ev.newVersion||ev.newVersion<ev.oldVersion?console.warn("Dexie.delete('"+db.name+"') was blocked"):console.warn("Upgrade '"+db.name+"' blocked by other connection holding version "+ev.oldVersion/10)})),addons.forEach((function(fn){fn(db)}))}function applyStructure(obj,structure){return dexie_es_keys(structure).forEach((function(member){var value=function parseType(type){if("function"==typeof type)return new type;if(dexie_es_isArray(type))return[parseType(type[0])];if(type&&"object"==typeof type){var rv={};return applyStructure(rv,type),rv}return type}(structure[member]);obj[member]=value})),obj}function hookedEventSuccessHandler(resolve){return wrap((function(event){var req=event.target,ctx=req._hookCtx,result=ctx.value||req.result,hookSuccessHandler=ctx&&ctx.onsuccess;hookSuccessHandler&&hookSuccessHandler(result),resolve&&resolve(result)}),resolve)}function eventRejectHandler(reject){return wrap((function(event){return preventDefault(event),reject(event.target.error),!1}))}function eventSuccessHandler(resolve){return wrap((function(event){resolve(event.target.result)}))}function hookedEventRejectHandler(reject){return wrap((function(event){var req=event.target,err=req.error,ctx=req._hookCtx,hookErrorHandler=ctx&&ctx.onerror;return hookErrorHandler&&hookErrorHandler(err),preventDefault(event),reject(err),!1}))}function preventDefault(event){event.stopPropagation&&event.stopPropagation(),event.preventDefault&&event.preventDefault()}function awaitIterator(iterator){var callNext=function(result){return iterator.next(result)},onSuccess=step(callNext),onError=step((function(error){return iterator.throw(error)}));function step(getNext){return function(val){var next=getNext(val),value=next.value;return next.done?value:value&&"function"==typeof value.then?value.then(onSuccess,onError):dexie_es_isArray(value)?dexie_es_Promise.all(value).then(onSuccess,onError):onSuccess(value)}}return step(callNext)()}function IndexSpec(name,keyPath,unique,multi,auto,compound,dotted){this.name=name,this.keyPath=keyPath,this.unique=unique,this.multi=multi,this.auto=auto,this.compound=compound,this.dotted=dotted;var keyPathSrc="string"==typeof keyPath?keyPath:keyPath&&"["+[].join.call(keyPath,"+")+"]";this.src=(unique?"&":"")+(multi?"*":"")+(auto?"++":"")+keyPathSrc}function TableSchema(name,primKey,indexes,instanceTemplate){this.name=name,this.primKey=primKey||new IndexSpec,this.indexes=indexes||[new IndexSpec],this.instanceTemplate=instanceTemplate,this.mappedClass=null,this.idxByName=arrayToObject(indexes,(function(index){return[index.name,index]}))}function safariMultiStoreFix(storeNames){return 1===storeNames.length?storeNames[0]:storeNames}function getNativeGetDatabaseNamesFn(indexedDB){var fn=indexedDB&&(indexedDB.getDatabaseNames||indexedDB.webkitGetDatabaseNames);return fn&&fn.bind(indexedDB)}setDebug(debug,dexieStackFrameFilter),dexie_es_props(Dexie,fullNameExceptions),dexie_es_props(Dexie,{delete:function(databaseName){var db=new Dexie(databaseName),promise=db.delete();return promise.onblocked=function(fn){return db.on("blocked",fn),this},promise},exists:function(name){return new Dexie(name).open().then((function(db){return db.close(),!0})).catch(Dexie.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(cb){var getDatabaseNames=getNativeGetDatabaseNamesFn(Dexie.dependencies.indexedDB);return getDatabaseNames?new dexie_es_Promise((function(resolve,reject){var req=getDatabaseNames();req.onsuccess=function(event){resolve(slice(event.target.result,0))},req.onerror=eventRejectHandler(reject)})).then(cb):dbNamesDB.dbnames.toCollection().primaryKeys(cb)},defineClass:function(){return function(properties){properties&&extend(this,properties)}},applyStructure:applyStructure,ignoreTransaction:function(scopeFunc){return PSD.trans?usePSD(PSD.transless,scopeFunc):scopeFunc()},vip:function(fn){return newScope((function(){return PSD.letThrough=!0,fn()}))},async:function(generatorFn){return function(){try{var rv=awaitIterator(generatorFn.apply(this,arguments));return rv&&"function"==typeof rv.then?rv:dexie_es_Promise.resolve(rv)}catch(e){return rejection(e)}}},spawn:function(generatorFn,args,thiz){try{var rv=awaitIterator(generatorFn.apply(thiz,args||[]));return rv&&"function"==typeof rv.then?rv:dexie_es_Promise.resolve(rv)}catch(e){return rejection(e)}},currentTransaction:{get:function(){return PSD.trans||null}},waitFor:function(promiseOrFunction,optionalTimeout){var promise=dexie_es_Promise.resolve("function"==typeof promiseOrFunction?Dexie.ignoreTransaction(promiseOrFunction):promiseOrFunction).timeout(optionalTimeout||6e4);return PSD.trans?PSD.trans.waitFor(promise):promise},Promise:dexie_es_Promise,debug:{get:function(){return debug},set:function(value){setDebug(value,"dexie"===value?function(){return!0}:dexieStackFrameFilter)}},derive:derive,extend:extend,props:dexie_es_props,override:override,Events:dexie_es_Events,getByKeyPath:getByKeyPath,setByKeyPath:setByKeyPath,delByKeyPath:function(obj,keyPath){"string"==typeof keyPath?setByKeyPath(obj,keyPath,void 0):"length"in keyPath&&[].map.call(keyPath,(function(kp){setByKeyPath(obj,kp,void 0)}))},shallowClone:shallowClone,deepClone:deepClone,getObjectDiff:getObjectDiff,asap:asap,maxKey:maxKey,minKey:-1/0,addons:[],connections:connections,MultiModifyError:exceptions.Modify,errnames:errnames,IndexSpec:IndexSpec,TableSchema:TableSchema,dependencies:function(){try{return{indexedDB:dexie_es_global.indexedDB||dexie_es_global.mozIndexedDB||dexie_es_global.webkitIndexedDB||dexie_es_global.msIndexedDB,IDBKeyRange:dexie_es_global.IDBKeyRange||dexie_es_global.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(n){return parseInt(n)})).reduce((function(p,c,i){return p+c/Math.pow(10,2*i)})),default:Dexie,Dexie:Dexie}),dexie_es_Promise.rejectionMapper=function(domError,message){if(!domError||domError instanceof DexieError||domError instanceof TypeError||domError instanceof SyntaxError||!domError.name||!exceptionMap[domError.name])return domError;var rv=new exceptionMap[domError.name](message||domError.message,domError);return"stack"in domError&&setProp(rv,"stack",{get:function(){return this.inner.stack}}),rv},(dbNamesDB=new Dexie("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==dexie_es_global.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(name){return dbNamesDB.dbnames.put({name:name}).catch(nop)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(_e){}}();var dexie_es=Dexie;function dexie_observable_es_nop(){}function dexie_observable_es_promisableChain(f1,f2){return f1===dexie_observable_es_nop?f2:function(){var res=f1.apply(this,arguments);if(res&&"function"==typeof res.then){var thiz=this,args=arguments;return res.then((function(){return f2.apply(thiz,args)}))}return f2.apply(this,arguments)}}function createUUID(){var d=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"===c?r:7&r|8).toString(16)}))}var dexie_observable_es_Promise=dexie_es.Promise;function overrideParseStoresSpec(origFunc){return function(stores,dbSchema){stores._changes="++rev",stores._syncNodes="++id,myRevision,lastHeartBeat,&url,isMaster,type,status",stores._intercomm="++id,destinationNode",stores._uncommittedChanges="++id,node",origFunc.call(this,stores,dbSchema),Object.keys(dbSchema).forEach((function(tableName){var schema=dbSchema[tableName];0===schema.primKey.name.indexOf("$$")&&(schema.primKey.uuid=!0,schema.primKey.name=schema.primKey.name.substr(2),schema.primKey.keyPath=schema.primKey.keyPath.substr(2))})),Object.keys(dbSchema).forEach((function(tableName){0!==tableName.indexOf("_")&&0!==tableName.indexOf("$")&&(dbSchema[tableName].observable=!0)}))}}var Observable,dexie_observable_es_global=self,DatabaseChange=dexie_es.defineClass({rev:Number,source:String,table:String,key:Object,type:Number,obj:Object,mods:Object,oldObj:Object}),dexie_observable_es_override=dexie_es.override,Promise$1=dexie_es.Promise,browserIsShuttingDown=!1;function dexie_observable_es_Observable(db){var localStorage=dexie_observable_es_Observable.localStorageImpl,SyncNode=dexie_es.defineClass({myRevision:Number,type:String,lastHeartBeat:Number,deleteTimeStamp:Number,url:String,isMaster:Number,syncProtocol:String,syncContext:null,syncOptions:Object,connected:!1,status:Number,appliedRemoteRevision:null,remoteBaseRevisions:[{local:Number,remote:null}],dbUploadState:{tablesToUpload:[String],currentTable:String,currentKey:null,localBaseRevision:Number}});db.observable={},db.observable.SyncNode=SyncNode;var wakeupObservers=function(db,Observable,localStorage){return function(lastWrittenRevision){Observable.latestRevision[db.name]<lastWrittenRevision&&(Observable.latestRevision[db.name]=lastWrittenRevision,dexie_es.ignoreTransaction((function(){Observable.on("latestRevisionIncremented").fire(db.name,lastWrittenRevision)})),localStorage&&localStorage.setItem("Dexie.Observable/latestRevision/"+db.name,lastWrittenRevision))}}(db,dexie_observable_es_Observable,localStorage),overrideCreateTransaction=function(db,wakeupObservers){return function(origFunc){return function(mode,storenames,dbschema,parent){if(db.dynamicallyOpened())return origFunc.apply(this,arguments);var addChanges=!1;"readwrite"===mode&&storenames.some((function(storeName){return dbschema[storeName]&&dbschema[storeName].observable}))&&(addChanges=!0,-1===(storenames=storenames.slice(0)).indexOf("_changes")&&storenames.push("_changes"));var trans=origFunc.call(this,mode,storenames,dbschema,parent);return addChanges&&(trans._lastWrittenRevision=0,trans.on("complete",(function(){if(trans._lastWrittenRevision)if(parent){var rootTransaction=function findRootTransaction(trans){return trans.parent?findRootTransaction(trans.parent):trans}(parent);rootTransaction._lastWrittenRevision=Math.max(trans._lastWrittenRevision,rootTransaction.lastWrittenRevision||0)}else wakeupObservers.timeoutHandle&&clearTimeout(wakeupObservers.timeoutHandle),wakeupObservers.timeoutHandle=setTimeout((function(){delete wakeupObservers.timeoutHandle,wakeupObservers(trans._lastWrittenRevision)}),25)})),trans.parent&&trans.parent.source&&(trans.source=trans.parent.source)),trans}}}(db,wakeupObservers),crudMonitor=function(db){return function(table){if(!table.hook._observing){table.hook._observing=!0;var tableName=table.name;table.hook("creating").subscribe(function(db,table){return function(primKey,obj,trans){var rv=void 0;void 0===primKey&&table.schema.primKey.uuid&&(primKey=rv=createUUID(),table.schema.primKey.keyPath&&dexie_es.setByKeyPath(obj,table.schema.primKey.keyPath,primKey));var change={source:trans.source||null,table:table.name,key:void 0===primKey?null:primKey,type:1,obj:obj},promise=db._changes.add(change).then((function(rev){return trans._lastWrittenRevision=Math.max(trans._lastWrittenRevision,rev),rev}));return this.onsuccess=function(resultKey){primKey!=resultKey&&promise._then((function(){change.key=resultKey,db._changes.put(change)}))},this.onerror=function(){promise._then((function(rev){db._changes.delete(rev)}))},rv}}(db,table)),table.hook("updating").subscribe(function(db,tableName){return function(mods,primKey,oldObj,trans){var modsWithoutUndefined={},anythingChanged=!1,newObj=dexie_es.deepClone(oldObj);for(var propPath in mods){var mod=mods[propPath];if(void 0===mod)dexie_es.delByKeyPath(newObj,propPath),modsWithoutUndefined[propPath]=null,anythingChanged=!0;else{var currentValue=dexie_es.getByKeyPath(oldObj,propPath);mod!==currentValue&&JSON.stringify(mod)!==JSON.stringify(currentValue)&&(dexie_es.setByKeyPath(newObj,propPath,mod),modsWithoutUndefined[propPath]=mod,anythingChanged=!0)}}if(anythingChanged){var promise=db._changes.add({source:trans.source||null,table:tableName,key:primKey,type:2,mods:modsWithoutUndefined,oldObj:oldObj,obj:newObj});this.onsuccess=function(){promise._then((function(rev){trans._lastWrittenRevision=Math.max(trans._lastWrittenRevision,rev)}))},this.onerror=function(){promise._then((function(rev){db._changes.delete(rev)}))}}}}(db,tableName)),table.hook("deleting").subscribe(function(db,tableName){return function(primKey,obj,trans){var promise=db._changes.add({source:trans.source||null,table:tableName,key:primKey,type:3,oldObj:obj}).then((function(rev){return trans._lastWrittenRevision=Math.max(trans._lastWrittenRevision,rev),rev})).catch((function(e){console.log(obj),console.log(e.stack)}));this.onerror=function(){promise._then((function(rev){db._changes.delete(rev)}))}}}(db,tableName))}}}(db),overrideOpen=function(db,SyncNode,crudMonitor){return function(origOpen){return function(){return Object.keys(db._allTables).forEach((function(tableName){var table=db._allTables[tableName];table.schema.observable&&crudMonitor(table),"_syncNodes"===table.name&&table.mapToClass(SyncNode)})),origOpen.apply(this,arguments)}}}(db,SyncNode,crudMonitor),mySyncNode={node:null},intercomm=function(db,Observable,SyncNode,mySyncNode,localStorage){var requestsWaitingForReply={};function consumeIntercommMessages(){return mySyncNode.node?dexie_es.ignoreTransaction((function(){return db.transaction("rw","_intercomm",(function(){return db._intercomm.where({destinationNode:mySyncNode.node.id}).toArray((function(messages){return messages.forEach((function(msg){return function(msg){if("response"===msg.type){var request=requestsWaitingForReply[msg.requestId.toString()];request&&(msg.isFailure?request.reject(msg.message.error):request.resolve(msg.message.result),delete requestsWaitingForReply[msg.requestId.toString()])}else msg.resolve=function(result){db.observable.sendMessage("response",{result:result},msg.sender,{requestId:msg.id})},msg.reject=function(error){db.observable.sendMessage("response",{error:error.toString()},msg.sender,{isFailure:!0,requestId:msg.id})},db.on.message.fire(msg)}(msg)})),db._intercomm.where("id").anyOf(messages.map((function(msg){return msg.id}))).delete()}))}))})):dexie_observable_es_Promise.reject(new dexie_es.DatabaseClosedError)}return db.observable.sendMessage=function(type,message,destinationNode,options){if(options=options||{},!mySyncNode.node)return options.wantReply?dexie_observable_es_Promise.reject(new dexie_es.DatabaseClosedError):dexie_observable_es_Promise.resolve();var msg={message:message,destinationNode:destinationNode,sender:mySyncNode.node.id,type:type};return dexie_es.extend(msg,options),dexie_es.ignoreTransaction((function(){var tables=["_intercomm"];options.wantReply&&tables.push("_syncNodes");var promise=db.transaction("rw",tables,(function(){return options.wantReply?db._syncNodes.where("id").equals(destinationNode).count((function(receiverAlive){return receiverAlive?db._intercomm.add(msg):db._syncNodes.where("isMaster").above(0).first((function(masterNode){return msg.destinationNode=masterNode.id,db._intercomm.add(msg)}))})):db._intercomm.add(msg)})).then((function(messageId){var rv=null;return options.wantReply&&(rv=new dexie_observable_es_Promise((function(resolve,reject){requestsWaitingForReply[messageId.toString()]={resolve:resolve,reject:reject}}))),localStorage&&localStorage.setItem("Dexie.Observable/intercomm/"+db.name,messageId.toString()),Observable.on.intercomm.fire(db.name),rv}));return options.wantReply?promise:void promise.catch((function(){}))}))},db.observable.broadcastMessage=function(type,message,bIncludeSelf){if(mySyncNode.node){var mySyncNodeId=mySyncNode.node.id;dexie_es.ignoreTransaction((function(){db._syncNodes.toArray((function(nodes){return dexie_observable_es_Promise.all(nodes.filter((function(node){return"local"===node.type&&(bIncludeSelf||node.id!==mySyncNodeId)})).map((function(node){return db.observable.sendMessage(type,message,node.id)})))})).catch((function(){}))}))}},{onIntercomm:function(dbname){dbname===db.name&&consumeIntercommMessages().catch("DatabaseClosedError",(function(){}))},consumeIntercommMessages:consumeIntercommMessages}}(db,dexie_observable_es_Observable,0,mySyncNode,localStorage),onIntercomm=intercomm.onIntercomm,consumeIntercommMessages=intercomm.consumeIntercommMessages;Object.defineProperty(db,"_localSyncNode",{get:function(){return mySyncNode.node}});var pollHandle=null,heartbeatHandle=null;dexie_es.fake&&(db.version(1).stores({_syncNodes:"++id,myRevision,lastHeartBeat",_changes:"++rev",_intercomm:"++id,destinationNode",_uncommittedChanges:"++id,node"}),db._syncNodes.mapToClass(SyncNode),db._changes.mapToClass(DatabaseChange),mySyncNode.node=new SyncNode({myRevision:0,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null})),db.Version.prototype._parseStoresSpec=dexie_observable_es_override(db.Version.prototype._parseStoresSpec,overrideParseStoresSpec),db.on.addEventType({changes:"asap",cleanup:[dexie_observable_es_promisableChain,dexie_observable_es_nop],message:"asap"}),db._createTransaction=dexie_observable_es_override(db._createTransaction,overrideCreateTransaction),dexie_observable_es_Observable.latestRevision[db.name]=dexie_observable_es_Observable.latestRevision[db.name]||0,db.open=dexie_observable_es_override(db.open,overrideOpen),db.close=dexie_observable_es_override(db.close,(function(origClose){return function(){return db.dynamicallyOpened()||(wakeupObservers.timeoutHandle&&(clearTimeout(wakeupObservers.timeoutHandle),delete wakeupObservers.timeoutHandle),dexie_observable_es_Observable.on("latestRevisionIncremented").unsubscribe(onLatestRevisionIncremented),dexie_observable_es_Observable.on("suicideNurseCall").unsubscribe(onSuicide),dexie_observable_es_Observable.on("intercomm").unsubscribe(onIntercomm),dexie_observable_es_Observable.on("beforeunload").unsubscribe(onBeforeUnload),mySyncNode.node&&mySyncNode.node.id&&(dexie_observable_es_Observable.on.suicideNurseCall.fire(db.name,mySyncNode.node.id),localStorage&&localStorage.setItem("Dexie.Observable/deadnode:"+mySyncNode.node.id.toString()+"/"+db.name,"dead"),mySyncNode.node.deleteTimeStamp=1,mySyncNode.node.lastHeartBeat=0,db._syncNodes.put(mySyncNode.node),mySyncNode.node=null),pollHandle&&clearTimeout(pollHandle),pollHandle=null,heartbeatHandle&&clearTimeout(heartbeatHandle),heartbeatHandle=null),origClose.apply(this,arguments)}})),db.delete=dexie_observable_es_override(db.delete,(function(origDelete){return function(){return origDelete.apply(this,arguments).then((function(result){return dexie_observable_es_Observable.latestRevision[db.name]=0,result}))}})),db.on("ready",(function(){return db.dynamicallyOpened()?db:db.table("_changes").orderBy("rev").last((function(lastChange){var latestRevision=lastChange?lastChange.rev:0;return mySyncNode.node=new SyncNode({myRevision:latestRevision,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null,isMaster:0}),dexie_observable_es_Observable.latestRevision[db.name]<latestRevision&&(dexie_observable_es_Observable.latestRevision[db.name]=latestRevision,dexie_es.ignoreTransaction((function(){dexie_observable_es_Observable.on.latestRevisionIncremented.fire(latestRevision)}))),db.transaction("rw","_syncNodes",(function(){return db._syncNodes.where("isMaster").equals(1).first((function(currentMaster){if(currentMaster){if(currentMaster.lastHeartBeat<Date.now()-2e4)return mySyncNode.node.isMaster=1,currentMaster.isMaster=0,db._syncNodes.put(currentMaster)}else mySyncNode.node.isMaster=1})).then((function(){return db._syncNodes.add(mySyncNode.node).then((function(){dexie_observable_es_Observable.on("latestRevisionIncremented",onLatestRevisionIncremented),dexie_observable_es_Observable.on("beforeunload",onBeforeUnload),dexie_observable_es_Observable.on("suicideNurseCall",onSuicide),dexie_observable_es_Observable.on("intercomm",onIntercomm),pollHandle=setTimeout(poll,500),heartbeatHandle=setTimeout(heartbeat,15e3)}))}))})).then((function(){cleanup()}))}))}),!0);var handledRevision=0;function onLatestRevisionIncremented(dbname,latestRevision){if(dbname===db.name){if(handledRevision>=latestRevision)return;handledRevision=latestRevision,dexie_es.vip((function(){readChanges().catch("DatabaseClosedError",(function(){}))}))}}function readChanges(latestRevision,recursion,wasPartial){if(!recursion&&readChanges.ongoingOperation)return readChanges.ongoingOperation;var partial=!1,ourSyncNode=mySyncNode.node;if(!ourSyncNode)return Promise$1.reject(new dexie_es.DatabaseClosedError);var promise=db._changes.where("rev").above(ourSyncNode.myRevision).limit(1e3).toArray((function(changes){if(changes.length>0){var lastChange=changes[changes.length-1];partial=1e3===changes.length,db.on("changes").fire(changes,partial),ourSyncNode.myRevision=lastChange.rev}else wasPartial&&db.on("changes").fire([],!1);var ourNodeStillExists=!1;return db._syncNodes.where(":id").equals(ourSyncNode.id).modify((function(syncNode){ourNodeStillExists=!0,syncNode.lastHeartBeat=Date.now(),syncNode.deleteTimeStamp=null,syncNode.myRevision=Math.max(syncNode.myRevision,ourSyncNode.myRevision)})).then((function(){return ourNodeStillExists}))})).then((function(ourNodeStillExists){if(!ourNodeStillExists)throw browserIsShuttingDown?new Error("Browser is shutting down"):(db.close(),console.error("Out of sync"),dexie_observable_es_global.location&&dexie_observable_es_global.location.reload(!0),new Error("Out of sync"));if(partial||dexie_observable_es_Observable.latestRevision[db.name]>ourSyncNode.myRevision)return readChanges(0,(recursion||0)+1,partial)})).finally((function(){delete readChanges.ongoingOperation}));return recursion||(readChanges.ongoingOperation=promise),promise}function heartbeat(){heartbeatHandle=null;var currentInstance=mySyncNode.node&&mySyncNode.node.id;currentInstance&&db.transaction("rw!",db._syncNodes,(function(){db._syncNodes.where({id:currentInstance}).first((function(ourSyncNode){if(ourSyncNode)return ourSyncNode.lastHeartBeat=Date.now(),ourSyncNode.deleteTimeStamp=null,db._syncNodes.put(ourSyncNode);db.isOpen()&&db.close()}))})).catch("DatabaseClosedError",(function(){})).finally((function(){mySyncNode.node&&mySyncNode.node.id===currentInstance&&db.isOpen()&&(heartbeatHandle=setTimeout(heartbeat,15e3))}))}function poll(){pollHandle=null;var currentInstance=mySyncNode.node&&mySyncNode.node.id;currentInstance&&dexie_es.vip((function(){readChanges().then(cleanup).then(consumeIntercommMessages).catch("DatabaseClosedError",(function(){})).finally((function(){mySyncNode.node&&mySyncNode.node.id===currentInstance&&db.isOpen()&&(pollHandle=setTimeout(poll,500))}))}))}function cleanup(){var ourSyncNode=mySyncNode.node;return ourSyncNode?db.transaction("rw","_syncNodes","_changes","_intercomm",(function(){var weBecameMaster=!1;db._syncNodes.where("lastHeartBeat").below(Date.now()-2e4).filter((function(node){return"local"===node.type})).modify((function(node){node.deleteTimeStamp&&node.deleteTimeStamp<Date.now()?(delete this.value,localStorage&&localStorage.removeItem("Dexie.Observable/deadnode:"+node.id+"/"+db.name),node.isMaster&&(db._syncNodes.update(ourSyncNode,{isMaster:1}),weBecameMaster=!0),db._intercomm.where({destinationNode:node.id}).modify((function(msg){msg.wantReply?msg.destinationNode=ourSyncNode.id:delete this.value}))):node.deleteTimeStamp||(node.deleteTimeStamp=Date.now()+2e4)})).then((function(){return dexie_observable_es_Observable.deleteOldChanges(db),db.on("cleanup").fire(weBecameMaster)}))})):Promise$1.reject(new dexie_es.DatabaseClosedError)}function onBeforeUnload(){mySyncNode.node&&(browserIsShuttingDown=!0,mySyncNode.node.deleteTimeStamp=1,mySyncNode.node.lastHeartBeat=0,db._syncNodes.put(mySyncNode.node),dexie_observable_es_Observable.wereTheOneDying=!0,localStorage&&localStorage.setItem("Dexie.Observable/deadnode:"+mySyncNode.node.id.toString()+"/"+db.name,"dead"))}function onSuicide(dbname,nodeID){dbname!==db.name||dexie_observable_es_Observable.wereTheOneDying||dexie_es.vip((function(){db._syncNodes.update(nodeID,{deleteTimeStamp:1,lastHeartBeat:0}).then(cleanup)}))}}dexie_observable_es_Observable.latestRevision={},dexie_observable_es_Observable.on=dexie_es.Events(null,"latestRevisionIncremented","suicideNurseCall","intercomm","beforeunload"),dexie_observable_es_Observable.createUUID=createUUID,dexie_observable_es_Observable.deleteOldChanges=function deleteOldChanges(db){dexie_es.ignoreTransaction((function(){return db._syncNodes.orderBy("myRevision").first((function(oldestNode){return db._changes.where("rev").below(oldestNode.myRevision).limit(100).primaryKeys()})).then((function(keysToDelete){if(0!==keysToDelete.length)return db._changes.bulkDelete(keysToDelete).then((function(){100===keysToDelete.length&&setTimeout((function(){return db.isOpen()&&deleteOldChanges(db)}),500)}))}))})).catch((function(){}))},dexie_observable_es_Observable._onStorage=(Observable=dexie_observable_es_Observable,function(event){if(event.key&&0===event.key.indexOf("Dexie.Observable/")){var parts=event.key.split("/"),prop=parts[1],dbname=parts[2];if("latestRevision"===prop){var rev=parseInt(event.newValue,10);!isNaN(rev)&&rev>Observable.latestRevision[dbname]&&(Observable.latestRevision[dbname]=rev,dexie_es.ignoreTransaction((function(){Observable.on("latestRevisionIncremented").fire(dbname,rev)})))}else if(0===prop.indexOf("deadnode:")){var nodeID=parseInt(prop.split(":")[1],10);event.newValue&&Observable.on.suicideNurseCall.fire(dbname,nodeID)}else"intercomm"===prop&&event.newValue&&Observable.on.intercomm.fire(dbname)}}),dexie_observable_es_Observable._onBeforeUnload=function(){dexie_observable_es_Observable.on.beforeunload.fire()};try{dexie_observable_es_Observable.localStorageImpl=dexie_observable_es_global.localStorage}catch(ex){}dexie_observable_es_global.addEventListener&&(dexie_observable_es_global.addEventListener("storage",dexie_observable_es_Observable._onStorage),dexie_observable_es_global.addEventListener("beforeunload",dexie_observable_es_Observable._onBeforeUnload)),dexie_es.Observable=dexie_observable_es_Observable,dexie_es.addons.push(dexie_observable_es_Observable);var dexie_syncable_es_Promise$1=dexie_es.Promise;function initPersistedContext(node){return function(){function PersistedContext(nodeID,otherProps){this.nodeID=nodeID,otherProps&&dexie_es.extend(this,otherProps)}return PersistedContext.prototype.save=function(){return dexie_es.vip((function(){return node.save()}))},PersistedContext}()}function getBaseRevisionAndMaxClientRevision(node){if(0===node.remoteBaseRevisions.length)return{maxClientRevision:1/0,remoteBaseRevision:null};for(var i=node.remoteBaseRevisions.length-1;i>=0;--i)if(node.myRevision>=node.remoteBaseRevisions[i].local)return{maxClientRevision:i===node.remoteBaseRevisions.length-1?1/0:node.remoteBaseRevisions[i+1].local,remoteBaseRevision:node.remoteBaseRevisions[i].remote};return{maxClientRevision:node.remoteBaseRevisions[0].local,remoteBaseRevision:null}}var Statuses={ERROR:-1,OFFLINE:0,CONNECTING:1,ONLINE:2,SYNCING:3,ERROR_WILL_RETRY:4},Promise$2=dexie_es.Promise;function initConnectProtocol(db,protocolInstance,dbAliveID,options,rejectConnectPromise){var enqueue=function(db){return function enqueue(context,fn,instanceID){function _enqueue(){return context.ongoingOperation=context.ongoingOperation?context.ongoingOperation.then((function(){return enqueue(context,fn,instanceID)})):dexie_es.ignoreTransaction((function(){return dexie_es.vip((function(){return fn()}))})).finally((function(){delete context.ongoingOperation})),context.ongoingOperation}return instanceID?db._localSyncNode&&instanceID===db._localSyncNode.id?_enqueue():dexie_es.Promise.reject(new dexie_es.DatabaseClosedError):db.isOpen()?_enqueue():dexie_es.Promise.reject(new dexie_es.DatabaseClosedError)}}(db),hasMoreToGive={hasMoreToGive:!0};function stillAlive(){return db._localSyncNode&&db._localSyncNode.id===dbAliveID}return function(node,activePeer){var connectedContinuation,getLocalChangesForNode=function(db,hasMoreToGive,partialsThreshold){var MAX_CHANGES_PER_CHUNK=partialsThreshold;return function(node,cb){var getChangesSinceRevision=function(db,node,hasMoreToGive){return function(revision,maxChanges,maxRevision,cb){var changeSet={},numChanges=0,partial=!1,ignoreSource=node.id,nextRevision=revision;return db.transaction("r",db._changes,(function(){return db._changes.where("rev").between(revision,maxRevision,!1,!0).until((function(){if(numChanges===maxChanges)return partial=!0,!0})).each((function(change){if(nextRevision=change.rev,change.source!==ignoreSource){var changeToSend={type:change.type,table:change.table,key:change.key};1===change.type?changeToSend.obj=change.obj:2===change.type&&(changeToSend.mods=change.mods);var id=change.table+":"+change.key,prevChange=changeSet[id];if(prevChange){var mergedChange=function(prevChange,nextChange){switch(prevChange.type){case 1:switch(nextChange.type){case 1:return nextChange;case 2:return function(prevChange,nextChange){var clonedChange=dexie_es.deepClone(prevChange);return Object.keys(nextChange.mods).forEach((function(keyPath){dexie_es.setByKeyPath(clonedChange.obj,keyPath,nextChange.mods[keyPath])})),clonedChange}(prevChange,nextChange);case 3:return nextChange}break;case 2:switch(nextChange.type){case 1:return nextChange;case 2:return function(prevChange,nextChange){var clonedChange=dexie_es.deepClone(prevChange);return Object.keys(nextChange.mods).forEach((function(keyPath){var hadParentPath=!1;Object.keys(prevChange.mods).filter((function(parentPath){return 0===keyPath.indexOf(parentPath+".")})).forEach((function(parentPath){dexie_es.setByKeyPath(clonedChange.mods[parentPath],keyPath.substr(parentPath.length+1),nextChange.mods[keyPath]),hadParentPath=!0})),hadParentPath||(clonedChange.mods[keyPath]=nextChange.mods[keyPath]),Object.keys(prevChange.mods).filter((function(subPath){return 0===subPath.indexOf(keyPath+".")})).forEach((function(subPath){delete clonedChange.mods[subPath]}))})),clonedChange}(prevChange,nextChange);case 3:return nextChange}break;case 3:switch(nextChange.type){case 1:return nextChange;case 2:case 3:return prevChange}}}(prevChange,changeToSend);changeSet[id]=mergedChange}else changeSet[id]=changeToSend,++numChanges}}))})).then((function(){var changes=Object.keys(changeSet).map((function(key){return changeSet[key]}));return hasMoreToGive.hasMoreToGive=partial,cb(changes,partial,{myRevision:nextRevision})}))}}(db,node,hasMoreToGive),getTableObjectsAsChanges=function(db,node,MAX_CHANGES_PER_CHUNK,getChangesSinceRevision,hasMoreToGive,cb){return function getTableObjectsAsChanges(state,changes,collection){var limitReached=!1;return collection.until((function(){if(changes.length===MAX_CHANGES_PER_CHUNK)return limitReached=!0,!0})).each((function(item,cursor){changes.push({type:1,table:state.currentTable,key:cursor.key,obj:cursor.value}),state.currentKey=cursor.key})).then((function(){if(limitReached)return hasMoreToGive.hasMoreToGive=!0,cb(changes,null,!0,{dbUploadState:state});if(0===state.tablesToUpload.length){var brmcr=getBaseRevisionAndMaxClientRevision(node);return getChangesSinceRevision(state.localBaseRevision,MAX_CHANGES_PER_CHUNK-changes.length,brmcr.maxClientRevision,(function(additionalChanges,partial,nodeModificationsOnAck){return changes=changes.concat(additionalChanges),nodeModificationsOnAck.dbUploadState=null,cb(changes,brmcr.remoteBaseRevision,partial,nodeModificationsOnAck)}))}return state.currentTable=state.tablesToUpload.shift(),getTableObjectsAsChanges(state,changes,db.table(state.currentTable).orderBy(":id"))}))}}(db,node,MAX_CHANGES_PER_CHUNK,getChangesSinceRevision,hasMoreToGive,cb);if(node.myRevision>=0){var brmcr=getBaseRevisionAndMaxClientRevision(node);return getChangesSinceRevision(node.myRevision,MAX_CHANGES_PER_CHUNK,brmcr.maxClientRevision,(function(changes,partial,nodeModificationsOnAck){return cb(changes,brmcr.remoteBaseRevision,partial,nodeModificationsOnAck)}))}if(null===node.dbUploadState){var tablesToUpload=db.tables.filter((function(table){return table.schema.observable})).map((function(table){return table.name}));if(0===tablesToUpload.length)return dexie_es.Promise.resolve(cb([],null,!1,{}));var dbUploadState={tablesToUpload:tablesToUpload,currentTable:tablesToUpload.shift(),currentKey:null};return db._changes.orderBy("rev").last((function(lastChange){dbUploadState.localBaseRevision=lastChange&&lastChange.rev||0;var collection=db.table(dbUploadState.currentTable).orderBy(":id");return getTableObjectsAsChanges(dbUploadState,[],collection)}))}if(node.dbUploadState.currentKey){var collection=db.table(node.dbUploadState.currentTable).where(":id").above(node.dbUploadState.currentKey);return getTableObjectsAsChanges(dexie_es.deepClone(node.dbUploadState),[],collection)}return collection=db.table(dbUploadState.currentTable).orderBy(":id"),getTableObjectsAsChanges(dexie_es.deepClone(node.dbUploadState),[],collection)}}(db,hasMoreToGive,protocolInstance.partialsThreshold),url=activePeer.url;function changeStatusTo(newStatus){node.status!==newStatus&&(node.status=newStatus,node.save().then((function(){db.syncable.on.statusChanged.fire(newStatus,url),db.observable.broadcastMessage("syncStatusChanged",{newStatus:newStatus,url:url},!1)})).catch("DatabaseClosedError",(function(){})))}return activePeer.on("disconnect",(function(newStatus){isNaN(newStatus)||changeStatusTo(newStatus)})),changeStatusTo(Statuses.CONNECTING),doSync();function doSync(){return enqueue(doSync,(function(){return getLocalChangesForNode_autoAckIfEmpty(node,sendChangesToProvider)}),dbAliveID)}function sendChangesToProvider(changes,remoteBaseRevision,partial,nodeModificationsOnAck){var finalSyncPromise=new Promise$2((function(resolve,reject){rejectConnectPromise.p=function(err){reject(err)},dexie_es.asap((function(){try{protocolInstance.sync(node.syncContext,url,options,remoteBaseRevision,node.appliedRemoteRevision,changes,partial,applyRemoteChanges,onChangesAccepted,(function(continuation){resolve(continuation)}),onError)}catch(ex){onError(ex,1/0)}function onError(error,again){reject(error),stillAlive()&&(!isNaN(again)&&again<1/0?(setTimeout((function(){stillAlive()&&(changeStatusTo(Statuses.SYNCING),doSync().catch("DatabaseClosedError",abortTheProvider))}),again),changeStatusTo(Statuses.ERROR_WILL_RETRY),connectedContinuation&&connectedContinuation.disconnect&&connectedContinuation.disconnect(),connectedContinuation=null):abortTheProvider(error))}}))}));return finalSyncPromise.then((function(){})).finally((function(){rejectConnectPromise.p=null}));function onChangesAccepted(){return Object.keys(nodeModificationsOnAck).forEach((function(keyPath){dexie_es.setByKeyPath(node,keyPath,nodeModificationsOnAck[keyPath])})),finalSyncPromise.then(continueSendingChanges),node.save()}}function abortTheProvider(error){activePeer.disconnect(Statuses.ERROR,error)}function getLocalChangesForNode_autoAckIfEmpty(node,cb){return getLocalChangesForNode(node,(function autoAck(changes,remoteBaseRevision,partial,nodeModificationsOnAck){return 0===changes.length&&"myRevision"in nodeModificationsOnAck&&nodeModificationsOnAck.myRevision!==node.myRevision?(Object.keys(nodeModificationsOnAck).forEach((function(keyPath){dexie_es.setByKeyPath(node,keyPath,nodeModificationsOnAck[keyPath])})),node.save().catch("DatabaseClosedError",(function(){})),getLocalChangesForNode(node,autoAck)):cb(changes,remoteBaseRevision,partial,nodeModificationsOnAck)}))}function applyRemoteChanges(remoteChanges,remoteRevision,partial){var saveToUncommittedChanges=function(db,node){return function(changes,remoteRevision){return db.transaction("rw!",db._uncommittedChanges,(function(){return db._uncommittedChanges.bulkAdd(changes.map((function(change){var changeWithNodeId={node:node.id,type:change.type,table:change.table,key:change.key};return change.obj&&(changeWithNodeId.obj=change.obj),change.mods&&(changeWithNodeId.mods=change.mods),changeWithNodeId})))})).then((function(){return node.appliedRemoteRevision=remoteRevision,node.save()}))}}(db,node),finallyCommitAllChanges=function(db,node){var applyChanges=function(db){return function(changes){var collectedChanges={};changes.forEach((function(change){var _a;collectedChanges.hasOwnProperty(change.table)||(collectedChanges[change.table]=((_a={})[1]=[],_a[3]=[],_a[2]=[],_a)),collectedChanges[change.table][change.type].push(change)}));var table_names=Object.keys(collectedChanges),tables=table_names.map((function(table){return db.table(table)}));return db.transaction("rw",tables,(function(){table_names.forEach((function(table_name){var table=db.table(table_name),specifyKeys=!table.schema.primKey.keyPath,createChangesToApply=collectedChanges[table_name][1],deleteChangesToApply=collectedChanges[table_name][3],updateChangesToApply=collectedChanges[table_name][2];createChangesToApply.length>0&&table.bulkPut(createChangesToApply.map((function(c){return c.obj})),specifyKeys?createChangesToApply.map((function(c){return c.key})):void 0),updateChangesToApply.length>0&&function(table,changes){var keys=changes.map((function(c){return c.key})),map={};table.where(":id").anyOf(keys).raw().each((function(obj,cursor){map[cursor.primaryKey+""]=obj})).then((function(){var objsToPut=changes.filter((function(c){return map.hasOwnProperty(c.key+"")})).map((function(c){var curr=map[c.key+""];return Object.keys(c.mods).forEach((function(keyPath){dexie_es.setByKeyPath(curr,keyPath,c.mods[keyPath])})),curr}));return table.bulkPut(objsToPut)}))}(table,updateChangesToApply),deleteChangesToApply.length>0&&table.bulkDelete(deleteChangesToApply.map((function(c){return c.key})))}))}))}}(db);return function(changes,remoteRevision){var tablesToIncludeInTrans=db.tables.filter((function(table){return"_changes"===table.name||"_uncommittedChanges"===table.name||table.schema.observable}));return db.transaction("rw!",tablesToIncludeInTrans,(function(){var trans=dexie_es.currentTransaction,localRevisionBeforeChanges=0;return db._changes.orderBy("rev").last((function(lastChange){localRevisionBeforeChanges=lastChange&&lastChange.rev||0})).then((function(){return trans.source=node.id,db._uncommittedChanges.where("node").equals(node.id).toArray()})).then((function(uncommittedChanges){return applyChanges(uncommittedChanges)})).then((function(){return db._uncommittedChanges.where("node").equals(node.id).delete()})).then((function(){return applyChanges(changes)})).then((function(){return db._changes.orderBy("rev").last()})).then((function(lastChange){var currentLocalRevision=lastChange&&lastChange.rev||0;if(node.appliedRemoteRevision=remoteRevision,node.remoteBaseRevisions.push({remote:remoteRevision,local:currentLocalRevision}),node.myRevision===localRevisionBeforeChanges&&(node.myRevision=currentLocalRevision),node.remoteBaseRevisions.length>1)for(var i=node.remoteBaseRevisions.length-1;i>0;--i)if(node.myRevision>=node.remoteBaseRevisions[i].local){node.remoteBaseRevisions.splice(0,i);break}node.save().catch((function(err){console.warn("Dexie.Syncable: Unable to save SyncNode after applying remote changes: "+(err.stack||err))}))}))}))}}(db,node);return enqueue(applyRemoteChanges,(function(){return stillAlive()?(partial?saveToUncommittedChanges(remoteChanges,remoteRevision):finallyCommitAllChanges(remoteChanges,remoteRevision)).catch((function(error){return abortTheProvider(error),Promise$2.reject(error)})):Promise$2.reject(new dexie_es.DatabaseClosedError)}),dbAliveID)}function continueSendingChanges(continuation){stillAlive()?(connectedContinuation=continuation,activePeer.on("disconnect",(function(){if(connectedContinuation){if(connectedContinuation.react)try{connectedContinuation.disconnect()}catch(e){}connectedContinuation=null}})),continuation.react?function(continuation){var changesWaiting,isWaitingForServer;function onChanges(){connectedContinuation&&(changeStatusTo(Statuses.SYNCING),isWaitingForServer?changesWaiting=!0:reactToChanges())}function reactToChanges(){connectedContinuation&&(changesWaiting=!1,isWaitingForServer=!0,getLocalChangesForNode_autoAckIfEmpty(node,(function(changes,remoteBaseRevision,partial,nodeModificationsOnAck){connectedContinuation&&(changes.length>0?continuation.react(changes,remoteBaseRevision,partial,(function(){Object.keys(nodeModificationsOnAck).forEach((function(keyPath){dexie_es.setByKeyPath(node,keyPath,nodeModificationsOnAck[keyPath])})),node.save().catch("DatabaseClosedError",(function(){})),reactToChanges()})):(isWaitingForServer=!1,changesWaiting?reactToChanges():changeStatusTo(Statuses.ONLINE)))})).catch((function(ex){console.error("Got "+ex.message+" caught by reactToChanges"),abortTheProvider(ex)})))}db.on("changes",onChanges),activePeer.on("disconnect",(function(){db.on.changes.unsubscribe(onChanges)})),reactToChanges()}(continuation):function(){function syncAgain(){getLocalChangesForNode_autoAckIfEmpty(node,(function(changes,remoteBaseRevision,partial,nodeModificationsOnAck){protocolInstance.sync(node.syncContext,url,options,remoteBaseRevision,node.appliedRemoteRevision,changes,partial,applyRemoteChanges,(function(){Object.keys(nodeModificationsOnAck).forEach((function(keyPath){dexie_es.setByKeyPath(node,keyPath,nodeModificationsOnAck[keyPath])})),node.save().catch("DatabaseClosedError",(function(){}))}),(function(continuation){connectedContinuation&&(connectedContinuation=continuation,partial?syncAgain():!isNaN(continuation.again)&&continuation.again<1/0?(changeStatusTo(Statuses.ONLINE),setTimeout((function(){connectedContinuation&&(changeStatusTo(Statuses.SYNCING),syncAgain())}),continuation.again)):activePeer.disconnect(Statuses.OFFLINE))}),(function(error,again){!isNaN(again)&&again<1/0?connectedContinuation&&(setTimeout((function(){connectedContinuation&&(changeStatusTo(Statuses.SYNCING),syncAgain())}),again),changeStatusTo(Statuses.ERROR_WILL_RETRY)):abortTheProvider(error)}))})).catch(abortTheProvider)}hasMoreToGive.hasMoreToGive?syncAgain():connectedContinuation&&!isNaN(connectedContinuation.again)&&connectedContinuation.again<1/0?(changeStatusTo(Statuses.ONLINE),setTimeout((function(){connectedContinuation&&(changeStatusTo(Statuses.SYNCING),syncAgain())}),connectedContinuation.again)):activePeer.disconnect(Statuses.OFFLINE)}()):continuation.disconnect&&continuation.disconnect()}}}var dexie_syncable_es_override=dexie_es.override,dexie_syncable_es_Promise=dexie_es.Promise,dexie_syncable_es_Observable=dexie_es.Observable;function Syncable(db){var activePeers=[],connectFn=function(db,activePeers){return function(protocolInstance,protocolName,url,options,dbAliveID){var existingPeer=activePeers.filter((function(peer){return peer.url===url}));if(existingPeer.length>0){var diffObject={};return dexie_es.getObjectDiff(existingPeer[0].syncOptions,options,diffObject),0!==Object.keys(diffObject).length?db.syncable.disconnect(url).then((function(){return execConnect()})):existingPeer[0].connectPromise}function execConnect(){var rejectConnectPromise={p:null},connectProtocol=initConnectProtocol(db,protocolInstance,dbAliveID,options,rejectConnectPromise),connectPromise=function(db,protocolName,url){return function(options){return db.transaction("rw",db._syncNodes,db._changes,(function(){if(!url)throw new Error("Url cannot be empty");return db._syncNodes.where("url").equalsIgnoreCase(url).first((function(node){if(node){var PersistedContext=initPersistedContext(node);node.syncContext=new PersistedContext(node.id,node.syncContext),node.syncProtocol=protocolName,node.syncOptions=options,db._syncNodes.put(node)}else{(node=new db.observable.SyncNode).myRevision=-1,node.appliedRemoteRevision=null,node.remoteBaseRevisions=[],node.type="remote",node.syncProtocol=protocolName,node.url=url,node.syncOptions=options,node.lastHeartBeat=Date.now(),node.dbUploadState=null;var PersistedContext_1=initPersistedContext(node);dexie_es.Promise.resolve(function(){if(!1===options.initialUpload)return db._changes.toCollection().lastKey((function(currentRevision){node.myRevision=currentRevision}))}()).then((function(){db._syncNodes.add(node).then((function(nodeID){node.syncContext=new PersistedContext_1(nodeID),db._syncNodes.put(node)}))}))}return node}))}))}}(db,protocolName,url)(options).then((function(node){return connectProtocol(node,activePeer)})),disconnected=!1,activePeer={url:url,status:Statuses.OFFLINE,connectPromise:connectPromise,syncOptions:options,on:dexie_es.Events(null,"disconnect"),disconnect:function(newStatus,error){var pos=activePeers.indexOf(activePeer);pos>=0&&activePeers.splice(pos,1),error&&rejectConnectPromise.p&&rejectConnectPromise.p(error),disconnected||activePeer.on.disconnect.fire(newStatus,error),disconnected=!0}};return activePeers.push(activePeer),connectPromise}return execConnect()}}(db,activePeers),syncableConnect=function(db,connect){return function(protocolInstance,protocolName,url,options){if(db.isOpen()){if(!db._localSyncNode)throw new Error("Precondition failed: local sync node is missing. Make sure Dexie.Observable is active!");return db._localSyncNode.isMaster?connect(protocolInstance,protocolName,url,options,db._localSyncNode.id):db.table("_syncNodes").where("isMaster").above(0).first((function(masterNode){return db.observable.sendMessage("connect",{protocolName:protocolName,url:url,options:options},masterNode.id,{wantReply:!0})}))}return db.hasBeenClosed()?dexie_syncable_es_Promise$1.reject(new dexie_es.DatabaseClosedError):db.hasFailed()?dexie_syncable_es_Promise$1.reject(new dexie_es.InvalidStateError("Dexie.Syncable: Cannot connect. Database has failed to open")):new dexie_syncable_es_Promise$1((function(resolve,reject){db.on("ready",(function(){return db._syncNodes.get({url:url},(function(node){var connectPromise=db.syncable.connect(protocolName,url,options);if(connectPromise.then(resolve,reject),!node||!node.appliedRemoteRevision)return connectPromise}))})),db.open().catch((function(ex){reject(new dexie_es.InvalidStateError("Dexie.Syncable: Couldn't connect. Database failed to open",ex))}))}))}}(db,connectFn);db.on("message",(function(msg){dexie_es.vip((function(){"connect"===msg.type?db.syncable.connect(msg.message.protocolName,msg.message.url,msg.message.options).then(msg.resolve,msg.reject):"disconnect"===msg.type?db.syncable.disconnect(msg.message.url).then(msg.resolve,msg.reject):"syncStatusChanged"===msg.type&&db.syncable.on.statusChanged.fire(msg.message.newStatus,msg.message.url)}))})),db.on("cleanup",(function(weBecameMaster){weBecameMaster&&dexie_es.ignoreTransaction((function(){return dexie_es.vip((function(){return db._syncNodes.where({type:"remote"}).filter((function(node){return node.status!==Statuses.OFFLINE})).toArray((function(connectedRemoteNodes){return dexie_syncable_es_Promise.all(connectedRemoteNodes.map((function(node){return db.syncable.connect(node.syncProtocol,node.url,node.syncOptions).catch((function(e){console.warn("Dexie.Syncable: Could not connect to "+node.url+". "+(e.stack||e))}))})))}))}))})).catch("DatabaseClosedError",(function(){}))})),db.on("ready",(function(){db._localSyncNode&&db._localSyncNode.isMaster&&db._syncNodes.where("type").equals("remote").and((function(node){return node.status!==Statuses.OFFLINE})).toArray((function(connectedRemoteNodes){connectedRemoteNodes.forEach((function(node){return db.syncable.connect(node.syncProtocol,node.url,node.syncOptions).catch((function(){}))}))})).catch("DatabaseClosedError",(function(){}))}),!0),db.syncable={},db.syncable.getStatus=function(url,cb){return db.isOpen()?dexie_es.vip((function(){return db._syncNodes.where("url").equals(url).first((function(node){return node?node.status:Statuses.OFFLINE}))})).then(cb):dexie_syncable_es_Promise.resolve(Syncable.Statuses.OFFLINE).then(cb)},db.syncable.getOptions=function(url,cb){return db.transaction("r?",db._syncNodes,(function(){return db._syncNodes.where("url").equals(url).first((function(node){return node.syncOptions})).then(cb)}))},db.syncable.list=function(){return db.transaction("r?",db._syncNodes,(function(){return db._syncNodes.where("type").equals("remote").toArray((function(a){return a.map((function(node){return node.url}))}))}))},db.syncable.on=dexie_es.Events(db,{statusChanged:"asap"}),db.syncable.disconnect=function(url){return dexie_es.ignoreTransaction((function(){return dexie_syncable_es_Promise.resolve().then((function(){return db._localSyncNode&&db._localSyncNode.isMaster?dexie_syncable_es_Promise.all(activePeers.filter((function(peer){return peer.url===url})).map((function(peer){return peer.disconnect(Statuses.OFFLINE)}))):db._syncNodes.where("isMaster").above(0).first((function(masterNode){return db.observable.sendMessage("disconnect",{url:url},masterNode.id,{wantReply:!0})}))})).then((function(){return db._syncNodes.where("url").equals(url).modify((function(node){node.status=Statuses.OFFLINE}))}))}))},db.syncable.connect=function(protocolName,url,options){options=options||{};var protocolInstance=Syncable.registeredProtocols[protocolName];return protocolInstance?syncableConnect(protocolInstance,protocolName,url,options):dexie_syncable_es_Promise.reject(new Error("ISyncProtocol '"+protocolName+"' is not registered in Dexie.Syncable.registerSyncProtocol()"))},db.syncable.delete=function(url){return db.syncable.disconnect(url).then((function(){return db.transaction("rw!",db._syncNodes,db._changes,db._uncommittedChanges,(function(){var nodeIDsToDelete;return db._syncNodes.where("url").equals(url).toArray((function(nodes){return nodes.map((function(node){return node.id}))})).then((function(nodeIDs){return nodeIDsToDelete=nodeIDs,db._syncNodes.where("id").anyOf(nodeIDs).delete()})).then((function(){return db._uncommittedChanges.where("node").anyOf(nodeIDsToDelete).delete()}))})).then((function(){dexie_syncable_es_Observable.deleteOldChanges(db)}))}))},db.syncable.unsyncedChanges=function(url){return db._syncNodes.where("url").equals(url).first((function(node){return db._changes.where("rev").above(node.myRevision).toArray()}))},db.close=dexie_syncable_es_override(db.close,(function(origClose){return function(){return activePeers.forEach((function(peer){peer.disconnect()})),origClose.apply(this,arguments)}})),Object.defineProperty(db.observable.SyncNode.prototype,"save",{enumerable:!1,configurable:!0,writable:!0,value:function(){var _this=this;return db.transaction("rw?",db._syncNodes,(function(){return db._syncNodes.put(_this)}))}})}function concatMap(project,resultSelector){return mergeMap(project,resultSelector,1)}Syncable.Statuses=Statuses,Syncable.StatusTexts={"-1":"ERROR",0:"OFFLINE",1:"CONNECTING",2:"ONLINE",3:"SYNCING",4:"ERROR_WILL_RETRY"},Syncable.registeredProtocols={},Syncable.registerSyncProtocol=function(name,protocolInstance){var partialsThreshold=protocolInstance.partialsThreshold;if("number"==typeof partialsThreshold){if(isNaN(partialsThreshold)||partialsThreshold<0)throw new Error("The given number for the threshold is not supported")}else protocolInstance.partialsThreshold=1/0;Syncable.registeredProtocols[name]=protocolInstance},dexie_es.Syncable=Syncable,dexie_es.addons.push(Syncable);class HttpHandler{}class HttpBackend{}class HttpHeaders{constructor(headers){this.normalizedNames=new Map,this.lazyUpdate=null,headers?this.lazyInit="string"==typeof headers?()=>{this.headers=new Map,headers.split("\n").forEach(line=>{const index=line.indexOf(":");if(index>0){const name=line.slice(0,index),key=name.toLowerCase(),value=line.slice(index+1).trim();this.maybeSetNormalizedName(name,key),this.headers.has(key)?this.headers.get(key).push(value):this.headers.set(key,[value])}})}:()=>{this.headers=new Map,Object.keys(headers).forEach(name=>{let values=headers[name];const key=name.toLowerCase();"string"==typeof values&&(values=[values]),values.length>0&&(this.headers.set(key,values),this.maybeSetNormalizedName(name,key))})}:this.headers=new Map}has(name){return this.init(),this.headers.has(name.toLowerCase())}get(name){this.init();const values=this.headers.get(name.toLowerCase());return values&&values.length>0?values[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(name){return this.init(),this.headers.get(name.toLowerCase())||null}append(name,value){return this.clone({name:name,value:value,op:"a"})}set(name,value){return this.clone({name:name,value:value,op:"s"})}delete(name,value){return this.clone({name:name,value:value,op:"d"})}maybeSetNormalizedName(name,lcName){this.normalizedNames.has(lcName)||this.normalizedNames.set(lcName,name)}init(){this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(update=>this.applyUpdate(update)),this.lazyUpdate=null))}copyFrom(other){other.init(),Array.from(other.headers.keys()).forEach(key=>{this.headers.set(key,other.headers.get(key)),this.normalizedNames.set(key,other.normalizedNames.get(key))})}clone(update){const clone=new HttpHeaders;return clone.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,clone.lazyUpdate=(this.lazyUpdate||[]).concat([update]),clone}applyUpdate(update){const key=update.name.toLowerCase();switch(update.op){case"a":case"s":let value=update.value;if("string"==typeof value&&(value=[value]),0===value.length)return;this.maybeSetNormalizedName(update.name,key);const base=("a"===update.op?this.headers.get(key):void 0)||[];base.push(...value),this.headers.set(key,base);break;case"d":const toDelete=update.value;if(toDelete){let existing=this.headers.get(key);if(!existing)return;existing=existing.filter(value=>-1===toDelete.indexOf(value)),0===existing.length?(this.headers.delete(key),this.normalizedNames.delete(key)):this.headers.set(key,existing)}else this.headers.delete(key),this.normalizedNames.delete(key)}}forEach(fn){this.init(),Array.from(this.normalizedNames.keys()).forEach(key=>fn(this.normalizedNames.get(key),this.headers.get(key)))}}class HttpUrlEncodingCodec{encodeKey(key){return standardEncoding(key)}encodeValue(value){return standardEncoding(value)}decodeKey(key){return decodeURIComponent(key)}decodeValue(value){return decodeURIComponent(value)}}function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class HttpParams{constructor(options={}){if(this.updates=null,this.cloneFrom=null,this.encoder=options.encoder||new HttpUrlEncodingCodec,options.fromString){if(options.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(rawParams,codec){const map=new Map;return rawParams.length>0&&rawParams.split("&").forEach(param=>{const eqIdx=param.indexOf("="),[key,val]=-1==eqIdx?[codec.decodeKey(param),""]:[codec.decodeKey(param.slice(0,eqIdx)),codec.decodeValue(param.slice(eqIdx+1))],list=map.get(key)||[];list.push(val),map.set(key,list)}),map}(options.fromString,this.encoder)}else options.fromObject?(this.map=new Map,Object.keys(options.fromObject).forEach(key=>{const value=options.fromObject[key];this.map.set(key,Array.isArray(value)?value:[value])})):this.map=null}has(param){return this.init(),this.map.has(param)}get(param){this.init();const res=this.map.get(param);return res?res[0]:null}getAll(param){return this.init(),this.map.get(param)||null}keys(){return this.init(),Array.from(this.map.keys())}append(param,value){return this.clone({param:param,value:value,op:"a"})}set(param,value){return this.clone({param:param,value:value,op:"s"})}delete(param,value){return this.clone({param:param,value:value,op:"d"})}toString(){return this.init(),this.keys().map(key=>{const eKey=this.encoder.encodeKey(key);return this.map.get(key).map(value=>eKey+"="+this.encoder.encodeValue(value)).join("&")}).join("&")}clone(update){const clone=new HttpParams({encoder:this.encoder});return clone.cloneFrom=this.cloneFrom||this,clone.updates=(this.updates||[]).concat([update]),clone}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(key=>this.map.set(key,this.cloneFrom.map.get(key))),this.updates.forEach(update=>{switch(update.op){case"a":case"s":const base=("a"===update.op?this.map.get(update.param):void 0)||[];base.push(update.value),this.map.set(update.param,base);break;case"d":if(void 0===update.value){this.map.delete(update.param);break}{let base=this.map.get(update.param)||[];const idx=base.indexOf(update.value);-1!==idx&&base.splice(idx,1),base.length>0?this.map.set(update.param,base):this.map.delete(update.param)}}}),this.cloneFrom=this.updates=null)}}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer}function isBlob(value){return"undefined"!=typeof Blob&&value instanceof Blob}function isFormData(value){return"undefined"!=typeof FormData&&value instanceof FormData}class HttpRequest{constructor(method,url,third,fourth){let options;if(this.url=url,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=method.toUpperCase(),function(method){switch(method){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fourth?(this.body=void 0!==third?third:null,options=fourth):options=third,options&&(this.reportProgress=!!options.reportProgress,this.withCredentials=!!options.withCredentials,options.responseType&&(this.responseType=options.responseType),options.headers&&(this.headers=options.headers),options.params&&(this.params=options.params)),this.headers||(this.headers=new HttpHeaders),this.params){const params=this.params.toString();if(0===params.length)this.urlWithParams=url;else{const qIdx=url.indexOf("?");this.urlWithParams=url+(-1===qIdx?"?":qIdx<url.length-1?"&":"")+params}}else this.params=new HttpParams,this.urlWithParams=url}serializeBody(){return null===this.body?null:isArrayBuffer(this.body)||isBlob(this.body)||isFormData(this.body)||"string"==typeof this.body?this.body:this.body instanceof HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||isFormData(this.body)?null:isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(update={}){const method=update.method||this.method,url=update.url||this.url,responseType=update.responseType||this.responseType,body=void 0!==update.body?update.body:this.body,withCredentials=void 0!==update.withCredentials?update.withCredentials:this.withCredentials,reportProgress=void 0!==update.reportProgress?update.reportProgress:this.reportProgress;let headers=update.headers||this.headers,params=update.params||this.params;return void 0!==update.setHeaders&&(headers=Object.keys(update.setHeaders).reduce((headers,name)=>headers.set(name,update.setHeaders[name]),headers)),update.setParams&&(params=Object.keys(update.setParams).reduce((params,param)=>params.set(param,update.setParams[param]),params)),new HttpRequest(method,url,body,{params:params,headers:headers,reportProgress:reportProgress,responseType:responseType,withCredentials:withCredentials})}}const HttpEventType=function(){var HttpEventType={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return HttpEventType[HttpEventType.Sent]="Sent",HttpEventType[HttpEventType.UploadProgress]="UploadProgress",HttpEventType[HttpEventType.ResponseHeader]="ResponseHeader",HttpEventType[HttpEventType.DownloadProgress]="DownloadProgress",HttpEventType[HttpEventType.Response]="Response",HttpEventType[HttpEventType.User]="User",HttpEventType}();class HttpResponseBase{constructor(init,defaultStatus=200,defaultStatusText="OK"){this.headers=init.headers||new HttpHeaders,this.status=void 0!==init.status?init.status:defaultStatus,this.statusText=init.statusText||defaultStatusText,this.url=init.url||null,this.ok=this.status>=200&&this.status<300}}class HttpHeaderResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.ResponseHeader}clone(update={}){return new HttpHeaderResponse({headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.Response,this.body=void 0!==init.body?init.body:null}clone(update={}){return new HttpResponse({body:void 0!==update.body?update.body:this.body,headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpErrorResponse extends HttpResponseBase{constructor(init){super(init,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(init.url||"(unknown url)"):`Http failure response for ${init.url||"(unknown url)"}: ${init.status} ${init.statusText}`,this.error=init.error||null}}function addBody(options,body){return{body:body,headers:options.headers,observe:options.observe,params:options.params,reportProgress:options.reportProgress,responseType:options.responseType,withCredentials:options.withCredentials}}class http_HttpClient{constructor(handler){this.handler=handler}request(first,url,options={}){let req;if(first instanceof HttpRequest)req=first;else{let headers=void 0;headers=options.headers instanceof HttpHeaders?options.headers:new HttpHeaders(options.headers);let params=void 0;options.params&&(params=options.params instanceof HttpParams?options.params:new HttpParams({fromObject:options.params})),req=new HttpRequest(first,url,void 0!==options.body?options.body:null,{headers:headers,params:params,reportProgress:options.reportProgress,responseType:options.responseType||"json",withCredentials:options.withCredentials})}const events$=of(req).pipe(concatMap(req=>this.handler.handle(req)));if(first instanceof HttpRequest||"events"===options.observe)return events$;const res$=events$.pipe(filter(event=>event instanceof HttpResponse));switch(options.observe||"body"){case"body":switch(req.responseType){case"arraybuffer":return res$.pipe(map_map(res=>{if(null!==res.body&&!(res.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return res.body}));case"blob":return res$.pipe(map_map(res=>{if(null!==res.body&&!(res.body instanceof Blob))throw new Error("Response is not a Blob.");return res.body}));case"text":return res$.pipe(map_map(res=>{if(null!==res.body&&"string"!=typeof res.body)throw new Error("Response is not a string.");return res.body}));case"json":default:return res$.pipe(map_map(res=>res.body))}case"response":return res$;default:throw new Error(`Unreachable: unhandled observe type ${options.observe}}`)}}delete(url,options={}){return this.request("DELETE",url,options)}get(url,options={}){return this.request("GET",url,options)}head(url,options={}){return this.request("HEAD",url,options)}jsonp(url,callbackParam){return this.request("JSONP",url,{params:(new HttpParams).append(callbackParam,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(url,options={}){return this.request("OPTIONS",url,options)}patch(url,body,options={}){return this.request("PATCH",url,addBody(options,body))}post(url,body,options={}){return this.request("POST",url,addBody(options,body))}put(url,body,options={}){return this.request("PUT",url,addBody(options,body))}}class HttpInterceptorHandler{constructor(next,interceptor){this.next=next,this.interceptor=interceptor}handle(req){return this.interceptor.intercept(req,this.next)}}const HTTP_INTERCEPTORS=new InjectionToken("HTTP_INTERCEPTORS");class NoopInterceptor{intercept(req,next){return next.handle(req)}}const XSSI_PREFIX=/^\)\]\}',?\n/;class XhrFactory{}class BrowserXhr{constructor(){}build(){return new XMLHttpRequest}}class http_HttpXhrBackend{constructor(xhrFactory){this.xhrFactory=xhrFactory}handle(req){if("JSONP"===req.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Observable_Observable(observer=>{const xhr=this.xhrFactory.build();if(xhr.open(req.method,req.urlWithParams),req.withCredentials&&(xhr.withCredentials=!0),req.headers.forEach((name,values)=>xhr.setRequestHeader(name,values.join(","))),req.headers.has("Accept")||xhr.setRequestHeader("Accept","application/json, text/plain, */*"),!req.headers.has("Content-Type")){const detectedType=req.detectContentTypeHeader();null!==detectedType&&xhr.setRequestHeader("Content-Type",detectedType)}if(req.responseType){const responseType=req.responseType.toLowerCase();xhr.responseType="json"!==responseType?responseType:"text"}const reqBody=req.serializeBody();let headerResponse=null;const partialFromXhr=()=>{if(null!==headerResponse)return headerResponse;const status=1223===xhr.status?204:xhr.status,statusText=xhr.statusText||"OK",headers=new HttpHeaders(xhr.getAllResponseHeaders()),url=function(xhr){return"responseURL"in xhr&&xhr.responseURL?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):null}(xhr)||req.url;return headerResponse=new HttpHeaderResponse({headers:headers,status:status,statusText:statusText,url:url}),headerResponse},onLoad=()=>{let{headers:headers,status:status,statusText:statusText,url:url}=partialFromXhr(),body=null;204!==status&&(body=void 0===xhr.response?xhr.responseText:xhr.response),0===status&&(status=body?200:0);let ok=status>=200&&status<300;if("json"===req.responseType&&"string"==typeof body){const originalBody=body;body=body.replace(XSSI_PREFIX,"");try{body=""!==body?JSON.parse(body):null}catch(error){body=originalBody,ok&&(ok=!1,body={error:error,text:body})}}ok?(observer.next(new HttpResponse({body:body,headers:headers,status:status,statusText:statusText,url:url||void 0})),observer.complete()):observer.error(new HttpErrorResponse({error:body,headers:headers,status:status,statusText:statusText,url:url||void 0}))},onError=error=>{const{url:url}=partialFromXhr(),res=new HttpErrorResponse({error:error,status:xhr.status||0,statusText:xhr.statusText||"Unknown Error",url:url||void 0});observer.error(res)};let sentHeaders=!1;const onDownProgress=event=>{sentHeaders||(observer.next(partialFromXhr()),sentHeaders=!0);let progressEvent={type:HttpEventType.DownloadProgress,loaded:event.loaded};event.lengthComputable&&(progressEvent.total=event.total),"text"===req.responseType&&xhr.responseText&&(progressEvent.partialText=xhr.responseText),observer.next(progressEvent)},onUpProgress=event=>{let progress={type:HttpEventType.UploadProgress,loaded:event.loaded};event.lengthComputable&&(progress.total=event.total),observer.next(progress)};return xhr.addEventListener("load",onLoad),xhr.addEventListener("error",onError),req.reportProgress&&(xhr.addEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.addEventListener("progress",onUpProgress)),xhr.send(reqBody),observer.next({type:HttpEventType.Sent}),()=>{xhr.removeEventListener("error",onError),xhr.removeEventListener("load",onLoad),req.reportProgress&&(xhr.removeEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.removeEventListener("progress",onUpProgress)),xhr.abort()}})}}const XSRF_COOKIE_NAME=new InjectionToken("XSRF_COOKIE_NAME"),XSRF_HEADER_NAME=new InjectionToken("XSRF_HEADER_NAME");class HttpXsrfTokenExtractor{}class http_HttpXsrfCookieExtractor{constructor(doc,platform,cookieName){this.doc=doc,this.platform=platform,this.cookieName=cookieName,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const cookieString=this.doc.cookie||"";return cookieString!==this.lastCookieString&&(this.parseCount++,this.lastToken=parseCookieValue(cookieString,this.cookieName),this.lastCookieString=cookieString),this.lastToken}}class HttpXsrfInterceptor{constructor(tokenService,headerName){this.tokenService=tokenService,this.headerName=headerName}intercept(req,next){const lcUrl=req.url.toLowerCase();if("GET"===req.method||"HEAD"===req.method||lcUrl.startsWith("http://")||lcUrl.startsWith("https://"))return next.handle(req);const token=this.tokenService.getToken();return null===token||req.headers.has(this.headerName)||(req=req.clone({headers:req.headers.set(this.headerName,token)})),next.handle(req)}}class HttpInterceptingHandler{constructor(backend,injector){this.backend=backend,this.injector=injector,this.chain=null}handle(req){if(null===this.chain){const interceptors=this.injector.get(HTTP_INTERCEPTORS,[]);this.chain=interceptors.reduceRight((next,interceptor)=>new HttpInterceptorHandler(next,interceptor),this.backend)}return this.chain.handle(req)}}class HttpClientXsrfModule{static disable(){return{ngModule:HttpClientXsrfModule,providers:[{provide:HttpXsrfInterceptor,useClass:NoopInterceptor}]}}static withOptions(options={}){return{ngModule:HttpClientXsrfModule,providers:[options.cookieName?{provide:XSRF_COOKIE_NAME,useValue:options.cookieName}:[],options.headerName?{provide:XSRF_HEADER_NAME,useValue:options.headerName}:[]]}}}class HttpClientModule{}let basedata_service_BasedataService=(()=>{class BasedataService{constructor(){this.userChanged=new core_EventEmitter,this.mandantChanged=new core_EventEmitter,this.inventurChanged=new core_EventEmitter,this.gebaeudeChanged=new core_EventEmitter,this.raumChanged=new core_EventEmitter,this.deviceChanged=new core_EventEmitter,this.inventurStatusChanged=new core_EventEmitter,this.apiBaseUrlChanged=new core_EventEmitter,this.currentMandant=JSON.parse(localStorage.getItem("currentMandant")),this.currentInventur=JSON.parse(localStorage.getItem("currentInventur")),this.currentUser=JSON.parse(localStorage.getItem("currentUser")),this.previousUser=JSON.parse(localStorage.getItem("previousUser")),this.currentGebaeude=JSON.parse(localStorage.getItem("currentGebaeude")),this.currentRaum=JSON.parse(localStorage.getItem("currentRaum")),this.currentDevice=JSON.parse(localStorage.getItem("currentDevice")),this.currentInventurStatus=JSON.parse(localStorage.getItem("currentInventurStatus")),this.currentApiBaseUrl=JSON.parse(localStorage.getItem("currentApiBaseUrl"))}setCurrentMandant(mandant){this.currentMandant=mandant,localStorage.setItem("currentMandant",JSON.stringify(mandant)),this.mandantChanged.emit(this.currentMandant)}setCurrentInventur(inventur){this.currentInventur=inventur,localStorage.setItem("currentInventur",JSON.stringify(inventur)),this.inventurChanged.emit(this.currentInventur)}setCurrentInventurStatus(inventurStatus){this.currentInventurStatus=inventurStatus,localStorage.setItem("currentInventurStatus",JSON.stringify(inventurStatus)),this.inventurStatusChanged.emit(this.currentInventurStatus)}setCurrentGebaeude(gebaeude){this.currentGebaeude=gebaeude,localStorage.setItem("currentGebaeude",JSON.stringify(gebaeude)),this.gebaeudeChanged.emit(this.currentGebaeude)}setCurrentRaum(raum){this.currentRaum=raum,localStorage.setItem("currentRaum",JSON.stringify(raum)),this.raumChanged.emit(this.currentRaum)}setCurrentDevice(deviceid){this.currentDevice=deviceid,localStorage.setItem("currentDevice",JSON.stringify(deviceid)),this.deviceChanged.emit(this.currentDevice)}setCurrentUser(user){this.currentUser=user,localStorage.setItem("currentUser",JSON.stringify(user)),this.userChanged.emit(this.currentUser)}setPreviousUser(user){this.previousUser=user,localStorage.setItem("previousUser",JSON.stringify(user))}setCurrentApiBaseUrl(apiBaseUrl){this.currentApiBaseUrl=apiBaseUrl,localStorage.setItem("currentApiBaseUrl",JSON.stringify(apiBaseUrl)),this.apiBaseUrlChanged.emit(this.currentApiBaseUrl)}getCurrentDevice(){return this.currentDevice}getCurrentDeviceId(){try{return this.currentDevice}catch(e){return 0}}getCurrentUser(){return this.currentUser}getPreviousUser(){return this.previousUser}getPreviousUid(){try{return this.previousUser.id}catch(e){return 0}}getCurrentUid(){try{return this.currentUser.id}catch(e){return 0}}getCurrentMandant(){return this.currentMandant}getCurrentInventur(){return this.currentInventur}getCurrentInventurStatus(){return this.currentInventurStatus}getCurrentJobid(){try{return this.currentInventur.jobid}catch(e){return 0}}getCurrentMid(){try{return this.currentInventur.mid}catch(e){return 0}}getCurrentGebaeude(){return this.currentGebaeude}getCurrentGid(){try{return this.currentGebaeude.gid}catch(e){return 0}}getCurrentRaum(){return this.currentRaum}getCurrentRuuid(){try{return this.currentRaum.uuid}catch(e){return""}}getCurrentApiBaseUrl(){return this.currentApiBaseUrl}getCurrentApiBaseUrlOrSetDefault(setter){return this.currentApiBaseUrl||this.setCurrentApiBaseUrl(setter()),this.currentApiBaseUrl}}return BasedataService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new BasedataService},token:BasedataService,providedIn:"root"}),BasedataService})(),api_service_ApiService=(()=>{class ApiService{constructor(http,baseData){this.http=http,this.baseData=baseData,this.apiBaseUrl="",this.apiBaseUrl=this.baseData.getCurrentApiBaseUrlOrSetDefault(this.getDefaultApiUrl)}getDefaultApiUrl(){const hostName=window.location.hostname;let defaultUrl="";switch(hostName){case"inventory.local":case"127.0.0.1":case"localhost":defaultUrl="https://"+hostName+":8040/";break;case"https://mertens-inventory-client.bluebirdapp.de/":defaultUrl="https://mertens-inventory.bluebirdapp.de/";break;case"mertens-inventory.firebaseapp.com":case"mertens-inventory.web.app":default:defaultUrl="https://inventory.mertens.services/"}return console.log("ApiService #37 getDefaultApiUrl()",{hostName:hostName,defaultUrl:defaultUrl}),defaultUrl}getBaseUrl(){return this.apiBaseUrl}getUrlByPath(path){for(;path.startsWith("/");)path=path.substr(1);return this.apiBaseUrl+path}getHealthPingUrl(){return this.getUrlByPath("assets/ping.json")}getConnectedPingUrl(){return this.getUrlByPath("auth/connected")}getUrl(url){return url.substr(0,10).match(/^[a-zA-Z]:\/\//)?url:this.getUrlByPath(url)}get(path,options){return this.http.get(this.getUrl(path),options)}post(path,body,options){return this.http.post(this.getUrl(path),body,options)}put(path,body,options){return this.http.put(this.getUrl(path),body,options)}}return ApiService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new ApiService(ɵɵinject(http_HttpClient),ɵɵinject(basedata_service_BasedataService))},token:ApiService,providedIn:"root"}),ApiService})(),dexie_sync_client_service_DexieSyncClientService=(()=>{class DexieSyncClientService{constructor(apiService){this.apiService=apiService}sync(context,url,options,baseRevision,syncedRevision,changes,partial,applyRemoteChanges,onChangesAccepted,onSuccess,onError){this.apiService.post("/api/sync/dexie",{clientIdentity:context.clientIdentity||null,baseRevision:baseRevision,partial:partial,changes:changes,syncedRevision:syncedRevision}).toPromise().catch(err=>{onError(err,1e4)}).then(data=>{data.success?"clientIdentity"in data?(context.clientIdentity=data.clientIdentity,context.save().then(()=>{onChangesAccepted(),applyRemoteChanges(data.changes,data.currentRevision,data.partial,data.needsResync),onSuccess({again:1e4})}).catch(e=>{onError(e,1/0)})):(onChangesAccepted(),applyRemoteChanges(data.changes,data.currentRevision,data.partial,data.needsResync),onSuccess({again:1e4})):onError(data.errorMessage,1/0)})}}return DexieSyncClientService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new DexieSyncClientService(ɵɵinject(api_service_ApiService))},token:DexieSyncClientService,providedIn:"root"}),DexieSyncClientService})(),dexie_service_DexieService=(()=>{class DexieService extends dexie_es{constructor(syncClient,baseData){super("merTensIventory.1"),this.syncClient=syncClient,this.baseData=baseData,this.clientSyncAmountChanged=new core_EventEmitter,this.dbVersion=12,this.nextDbVersion=0,this.stopClientLogForServerLoad=!1,this.nextDbVersion=this.dbVersion+1,this.on("versionchange",event=>{console.log("DexieService #62 event versionchange ",{event:event})}),this.on("message",event=>{console.log("DexieService #65 event message",{event:event})}),this.init()}clearDB(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("clear db"),Promise.all(this.tables.map(t=>t.clear())).then(()=>(console.log("clear db finished"),!0)).catch(r=>(console.error(r),!1))}))}init(){dexie_es.Syncable.registerSyncProtocol("inventorySync",this.syncClient),this.nextDbVersion=this.dbVersion+1,this.version(12).stores({barcodeLookup:"&[code+for_jobid],table,for_jobid,[table+for_jobid],updateHelper,[table+updateHelper]",clientChangeLog:"++id,table,type,key,uuid,jobid,sync_done",devices:"++id,name,user_agent",gebaeude:"++gid,mid,Gebaeude",hersteller:"$$uuid,hid,Hersteller,for_jobid,created_jobid",images:"$$uuid,id,name,type,size,width,height,gcuuid,mcuuid,url,for_jobid,created_jobid,modified_jobid",inventar:"$$uuid,ivid,mcid,for_jobid,mcuuid,code,[rid+jobid],rid,rid_init,rid_neu,ruuid,jobid,invid,iv_nr",inventuren:"++jobid,mid,gid,Titel,Start,aktiviert,AbgeschlossenAm",inventurenGebaeude:"[jobid+gid+uid],jobid,gid,uid",inventurenUser:"&[jobid+uid],jobid,uid",inventurenUserStatus:"&[jobid+uid+device_id],jobid,uid,device_id,status,token",lieferant:"++hid,Lieferant",mandanten:"++mid,Mandant",objektbuchBarcodesLookup:"&code,for_jobid",objektKatalogGlobal:"$$uuid,gcid,code,hid,Bezeichnung,Typ,Gruppe,Kategorie,Farbe,Groesse,created_jobid",objektKatalogMandant:"$$uuid,mcid,gcid,gcuuid,code,mid,for_jobid,created_jobid",objektKatalogImages:"$$uuid,id,for_jobid,RefTable,RefUuid,ImgUuid,Kategorie",raeume:"$$uuid,rid,gid,[rid+gid],for_jobid,code,raumid,Raum,Raumbezeichnung,Etage,current_jobid,current_jobstatus",serverSyncErrors:"++id,jobid,clientChangeLogId,table,type,uuid,error_code,error_msg",uploads:"++id,uuid,mid,standort,importkey,filename,filesize,checksum,stat,errors",users:"++id,name,email,password",variables:"&name,value"});{const v2=this.nextDbVersion;this.version(v2).stores({images:"$$uuid,id,name,type,size,width,height,gcuuid,mcuuid,url,for_jobid,created_jobid,modified_jobid"}).upgrade(trans=>{console.log("Starte Upgrade for DB-Version "+v2),this.images.toCollection().each(img=>{this.objektKatalogMandant.where({mcid:img.mcid}).first().then(okm=>{this.images.where({uuid:img.uuid}).modify({mcuuid:okm.uuid})})})}),this.nextDbVersion+=1}{const v3=this.nextDbVersion;this.version(v3).stores({images:"$$uuid,id,name,type,size,width,height,gcuuid,mcuuid,url,for_jobid,created_jobid,modified_jobid"}).upgrade(trans=>{console.log("Starte Upgrade for DB-Version "+v3),this.images.toCollection().each(img=>{this.objektKatalogMandant.where({mcid:img.mcid}).first().then(okm=>{this.images.where({uuid:img.uuid}).modify({mcuuid:okm.uuid})})})}),this.nextDbVersion+=1}{const v4=this.nextDbVersion;this.version(v4).stores({images:"$$uuid,id,name,type,size,width,height,gcuuid,mcuuid,url,for_jobid,created_jobid,modified_jobid"}).upgrade(trans=>(console.log("Starte Upgrade for DB-Version "+v4),trans)),this.nextDbVersion+=1}{const v5=this.nextDbVersion;this.version(v5).stores({objektKatalogGlobal:"$$uuid,gcid,code,huuid,Bezeichnung,Typ,Gruppe,Kategorie,Farbe,Groesse,created_jobid"}).upgrade(trans=>(console.log("Starte Upgrade for DB-Version "+v5),trans)),this.nextDbVersion+=1}{const v6=this.nextDbVersion;this.version(v6).stores({objektKatalogGlobal:"$$uuid,gcid,code,huuid,Bezeichnung,[Bezeichnung+huuid],Typ,Gruppe,Kategorie,Farbe,Groesse,created_jobid"}).upgrade(trans=>(console.log("Starte Upgrade for DB-Version "+v6),trans)),this.nextDbVersion+=1}{const v7=this.nextDbVersion;this.version(v7).stores({objektKatalogGlobal:"$$uuid,uuid,gcid,code,huuid,Bezeichnung,[Bezeichnung+huuid],Typ,Gruppe,Kategorie,Farbe,Groesse,created_jobid"}).upgrade(trans=>(console.log("Starte Upgrade for DB-Version "+v7),trans)),this.nextDbVersion+=1}const validLogTables=["hersteller","inventar","images","objektKatalogGlobal","objektKatalogMandant","objektKatalogImages","raeume"];let lastClientChangeLogTimestamp=0,lastClientChangeLogTimer=null;const lastClientChangeLogTrigger=()=>{this.clientChangeLog.count().then(num=>{this.clientSyncAmountChanged.emit(num)})};this.on("changes",(changes,partial)=>{changes.forEach(change=>{if("clientChangeLog"===change.table){if(2===change.type&&!("sync_done"in change.mods))return;(()=>{const now=Date.now();if(lastClientChangeLogTimer){if(now-lastClientChangeLogTimestamp<2e3)return;clearTimeout(lastClientChangeLogTimer),lastClientChangeLogTimer=null}lastClientChangeLogTimestamp=Date.now(),lastClientChangeLogTimer=setTimeout(lastClientChangeLogTrigger,2e3)})()}}),this.stopClientLogForServerLoad||changes.forEach(change=>{-1!==validLogTables.indexOf(change.table)&&change.table!==this.clientChangeLog.name&&this.addChangeLog(change)})})}addChangeLog(change){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const log=this.getChangeLogFlag(change);if(null!=log&&!1===log)return;let uuid=this.getChangeLogUuid(change);if(3!==change.type){const obj=yield this.table(change.table).get(change.key);uuid="uuid"in obj?obj.uuid:"",delete obj.log,yield this.table(change.table).put(obj,change.key)}const chlog={timestamp:new Date,table:change.table,type:change.type,key:change.key,uuid:uuid,mid:this.baseData.getCurrentMid(),uid:this.baseData.getCurrentUid(),jobid:this.baseData.getCurrentJobid(),sync_attempts:0,sync_done:0};switch(change.type){case 1:switch("log"in change.obj&&delete change.obj.log,chlog.obj=change.obj,change.table){case"objektKatalogGlobal":"huuid"in chlog.obj||(chlog.obj.huuid=this.getChangeLogProp(change,"huuid"));break;case"objektKatalogMandant":"gcuuid"in chlog.obj||(chlog.obj.gcuuid=this.getChangeLogProp(change,"gcuuid"));break;case"inventar":"mcuuid"in chlog.obj||(chlog.obj.mcuuid=this.getChangeLogProp(change,"mcuuid")),"ruuid"in chlog.obj||(chlog.obj.ruuid=this.getChangeLogProp(change,"ruuid"))}break;case 2:switch(chlog.mods=change.mods,"log"in chlog.mods&&delete chlog.mods.log,change.table){case"objektKatalogGlobal":"huuid"in chlog.mods||(chlog.mods.huuid=this.getChangeLogProp(change,"huuid")),"hid"in chlog.mods||(chlog.mods.hid=this.getChangeLogProp(change,"hid"));break;case"objektKatalogMandant":"gcuuid"in chlog.mods||(chlog.mods.gcuuid=this.getChangeLogProp(change,"gcuuid")),"gcid"in chlog.mods||(chlog.mods.gcid=this.getChangeLogProp(change,"gcid"));break;case"inventar":"mcuuid"in chlog.mods||(chlog.mods.mcuuid=this.getChangeLogProp(change,"mcuuid")),"ruuid"in chlog.mods||(chlog.mods.ruuid=this.getChangeLogProp(change,"ruuid"))}const colNames=Object.keys(chlog.mods);if(0===colNames.length||1===colNames.length&&colNames[0].startsWith("modified_"))return;console.log("#211  addChangeLog on changes: An object was updated: ",change.table,change.key,change.mods,{chlog:chlog});break;case 3:return}this.clientChangeLog.add(chlog).catch(e=>{console.error("DexieService addChangeLog #400",{e:e})})}))}getChangeLogUuid(change){return"obj"in change&&"uuid"in change.obj?change.obj.uuid:"mods"in change&&"uuid"in change.mods?change.mods.uuid:"oldObj"in change&&"uuid"in change.oldObj?change.oldObj.uuid:void 0}getChangeLogProp(change,propName){return propName in change&&propName in change.obj?change.obj.uuid:propName in change&&propName in change.mods?change.mods.uuid:propName in change&&propName in change.oldObj?change.oldObj.uuid:void 0}getChangeLogFlag(change){const ch=change;return"object"!=typeof ch?(console.error("#192 dexie.service getChangeLog(change) change is not a object: ",change),!1):"object"==typeof ch.obj&&"log"in ch.obj?ch.obj.log:"object"==typeof ch.mods&&"log"in ch.mods?ch.mods.log:"object"==typeof ch.oldObj&&"log"in ch.oldObj?ch.oldObj.log:void 0}stopChangeLogForImport(stop){console.log("#199 stopClientLogForServerLoad => ",stop),this.stopClientLogForServerLoad=stop}}return DexieService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new DexieService(ɵɵinject(dexie_sync_client_service_DexieSyncClientService),ɵɵinject(basedata_service_BasedataService))},token:DexieService,providedIn:"root"}),DexieService})();class RetryWhenOperator{constructor(notifier,source){this.notifier=notifier,this.source=source}call(subscriber,source){return source.subscribe(new retryWhen_RetryWhenSubscriber(subscriber,this.notifier,this.source))}}class retryWhen_RetryWhenSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,notifier,source){super(destination),this.notifier=notifier,this.source=source}error(err){if(!this.isStopped){let errors=this.errors,retries=this.retries,retriesSubscription=this.retriesSubscription;if(retries)this.errors=null,this.retriesSubscription=null;else{errors=new Subject_Subject;try{const{notifier:notifier}=this;retries=notifier(errors)}catch(e){return super.error(e)}retriesSubscription=subscribeToResult(this,retries)}this._unsubscribeAndRecycle(),this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,errors.next(err)}}_unsubscribe(){const{errors:errors,retriesSubscription:retriesSubscription}=this;errors&&(errors.unsubscribe(),this.errors=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const{_unsubscribe:_unsubscribe}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=_unsubscribe,this.source.subscribe(this)}}var lodash=__webpack_require__("LvDl");const ConnectionServiceOptionsToken=new InjectionToken("ConnectionServiceOptionsToken");let connection_service_service_ConnectionService=(()=>{class ConnectionService{constructor(http,options,apiService){this.http=http,this.apiService=apiService,this.stateChangeEventEmitter=new core_EventEmitter,this.currentState={hasServerAccess:!1,hasValidSession:!1,hasNetworkConnection:window.navigator.onLine},this.serviceOptions=lodash.defaults({},options,ConnectionService.DEFAULT_OPTIONS),this.checkNetworkState(),this.checkInternetState()}get options(){return lodash.clone(this.serviceOptions)}setAuthState(isLoggedIn){this.currentState.hasValidSession=isLoggedIn,this.emitEvent()}refresh(){this.checkInternetState()}checkInternetState(){lodash.isNil(this.httpSubscription)||this.httpSubscription.unsubscribe();const method=this.serviceOptions.requestMethod,heartBeatPath=this.serviceOptions.heartbeatUrl;if(this.serviceOptions.enableHeartbeat)this.httpSubscription=function(dueTime=0,periodOrScheduler,scheduler){let period=-1;return isNumeric(periodOrScheduler)?period=Number(periodOrScheduler)<1?1:Number(periodOrScheduler):isScheduler(periodOrScheduler)&&(scheduler=periodOrScheduler),isScheduler(scheduler)||(scheduler=async_async),new Observable_Observable(subscriber=>{const due=isNumeric(dueTime)?dueTime:+dueTime-scheduler.now();return scheduler.schedule(dispatch,due,{index:0,period:period,subscriber:subscriber})})}(0,this.serviceOptions.heartbeatInterval).pipe(switchMap(()=>this.apiService[method](heartBeatPath,{responseType:"text"})),(notifier=errors=>errors.pipe(tap(val=>{console.error("Http error:",val);const lastAccess=this.currentState.hasServerAccess;this.currentState.hasServerAccess=!1,!1!==lastAccess&&this.emitEvent()}),delay_delay(this.serviceOptions.heartbeatRetryInterval)),source=>source.lift(new RetryWhenOperator(notifier,source)))).subscribe(result=>{const lastAccess=this.currentState.hasServerAccess,lastSession=this.currentState.hasValidSession;this.currentState.hasServerAccess=!0,result&&"string"==typeof result&&result.match(/"connected"\s*:\s*true/)&&(this.currentState.hasValidSession=!0),lastAccess===this.currentState.hasServerAccess&&lastSession===this.currentState.hasValidSession||this.emitEvent()});else{const lastAccess=this.currentState.hasServerAccess;this.currentState.hasServerAccess=!1,!1!==lastAccess&&this.emitEvent()}var notifier}checkNetworkState(){lodash.isNil(this.onlineSubscription)||this.onlineSubscription.unsubscribe(),this.onlineSubscription=fromEvent(window,"online").subscribe(()=>{this.currentState.hasNetworkConnection=!0,this.checkInternetState(),this.emitEvent()}),lodash.isNil(this.offlineSubscription)||this.offlineSubscription.unsubscribe(),this.offlineSubscription=fromEvent(window,"offline").subscribe(()=>{this.currentState.hasNetworkConnection=!1,this.currentState.hasServerAccess=!1,this.emitEvent()})}emitEvent(){this.stateChangeEventEmitter.emit(this.currentState)}ngOnDestroy(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe(),this.httpSubscription.unsubscribe()}catch(e){}}monitor(reportCurrentState=!0){return reportCurrentState?this.stateChangeEventEmitter.pipe(debounceTime(300),startWith(this.currentState)):this.stateChangeEventEmitter.pipe(debounceTime(300))}updateOptions(options){this.serviceOptions=lodash.defaults({},options,this.serviceOptions),this.checkInternetState()}getCurrentState(){return this.currentState}get hasServerAccess(){return this.currentState.hasServerAccess}get hasNetworkConnection(){return this.currentState.hasNetworkConnection}}return ConnectionService.DEFAULT_OPTIONS={enableHeartbeat:!0,heartbeatUrl:"/auth/heartbeat",heartbeatInterval:12e4,heartbeatRetryInterval:6e4,requestMethod:"get",responseType:"text"},ConnectionService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new ConnectionService(ɵɵinject(http_HttpClient),ɵɵinject(ConnectionServiceOptionsToken,8),ɵɵinject(api_service_ApiService))},token:ConnectionService,providedIn:"root"}),ConnectionService})();var SettingsChangeAction=function(SettingsChangeAction){return SettingsChangeAction[SettingsChangeAction.Insert=0]="Insert",SettingsChangeAction[SettingsChangeAction.Update=1]="Update",SettingsChangeAction[SettingsChangeAction.Delete=2]="Delete",SettingsChangeAction[SettingsChangeAction.SetProperty=3]="SetProperty",SettingsChangeAction[SettingsChangeAction.AddListItem=4]="AddListItem",SettingsChangeAction[SettingsChangeAction.AppendString=5]="AppendString",SettingsChangeAction}({});let variables_service_VariablesService=(()=>{class VariablesService{constructor(db,baseData){this.db=db,this.baseData=baseData,this.watchVariables=[],this.varChanged=new core_EventEmitter,this.variables=this.db.variables,this.get("Settings.watchVariables",[]).then(watchVars=>{this.watchVariables=watchVars})}watch(...watchNames){watchNames.forEach(name=>{this.watchVariables.find(alreadyWatched=>alreadyWatched===name)||this.watchVariables.push(name)}),this.set("Settings.watchVariables",this.watchVariables)}unwatch(...unwatchNames){this.watchVariables=this.watchVariables.filter(alreadyWatched=>-1===unwatchNames.indexOf(alreadyWatched)),this.set("Settings.watchVariables",this.watchVariables)}checkWatchVar(name,action,newValue,oldValue){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(!this.watchVariables.find(watchVar=>watchVar===name))return;const checkVal=action!==SettingsChangeAction.Delete?newValue:oldValue;let varType="any";varType=void 0===checkVal?"undefined":null===typeof checkVal?"null":checkVal.constructor.name,this.varChanged.emit({name:name,action:action,varType:varType,newValue:newValue,oldValue:action!==SettingsChangeAction.AddListItem&&action!==SettingsChangeAction.AppendString?oldValue:null,oldSize:action===SettingsChangeAction.AddListItem||action===SettingsChangeAction.AppendString?oldValue:null})}))}getAll(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.variables.toArray()}))}set(name,value,logComment=""){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){let oldVal,action=SettingsChangeAction.Insert;return(yield this.has(name))&&(oldVal=yield this.get(name),action=SettingsChangeAction.Update),yield this.variables.put({name:name,value:value}).then(()=>(this.checkWatchVar(name,action,value,oldVal),!0)).catch(err=>!1)}))}setRevId(name,value,logComment=""){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){let oldVal,action=SettingsChangeAction.Insert;return(yield this.has(name))&&(oldVal=yield this.get(name),action=SettingsChangeAction.Update),0===value||oldVal>value?(console.error("Kritischer Zugriff: Wert von "+name+" wurde versucht herunterzusetzen von "+oldVal+" auf "+value,{name:name,value:value,logComment:logComment,oldVal:oldVal,action:action}),!1):yield this.variables.put({name:name,value:value}).then(()=>(this.checkWatchVar(name,action,value,oldVal),!0)).catch(err=>!1)}))}get(name,defaultValue=null){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.variables.get(name).then(item=>item.value).catch(err=>defaultValue)}))}has(name){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return 0<(yield this.variables.where({name:name}).count())}))}delete(name){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(!(yield this.has(name)))return!0;const oldVal=yield this.get(name);return 0<(yield this.variables.where({name:name}).delete())&&(this.checkWatchVar(name,SettingsChangeAction.Delete,null,oldVal),!0)}))}toKeyValueObject(key,value){const obj={};return obj[key]=value,obj}setObjectPropery(name,propertyName,propertyValue){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const obj=yield this.get(name,{}),oldVal=this.toKeyValueObject(propertyName,propertyName in obj?obj[propertyName]:void 0),newVal=this.toKeyValueObject(propertyName,propertyValue);return obj[propertyName]=propertyValue,yield this.set(name,obj),this.checkWatchVar(name,SettingsChangeAction.SetProperty,newVal,oldVal),!0}))}appendListItem(name,item){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const list=yield this.get(name,[]);return list.push(item),yield this.set(name,list),this.checkWatchVar(name,SettingsChangeAction.AddListItem,item,list.length-1),list.length}))}appendString(name,append,sep=""){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const oldStr=yield this.get(name,"");return oldStr?yield this.set(name,oldStr+sep+append):yield this.set(name,append),this.checkWatchVar(name,SettingsChangeAction.AppendString,append,oldStr.length),!0}))}isEqual(name,compare){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return compare===(yield this.get(name))}))}}return VariablesService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new VariablesService(ɵɵinject(dexie_service_DexieService),ɵɵinject(basedata_service_BasedataService))},token:VariablesService,providedIn:"root"}),VariablesService})(),dbsync_log_service_DbsyncLogService=(()=>{class DbsyncLogService{constructor(){this.tableSyncProgress=new core_EventEmitter,this.totalSyncProgress=new core_EventEmitter,this.syncMessage=new core_EventEmitter,this.syncError=new core_EventEmitter,this.loadingMetaData=new core_EventEmitter,this.loadingMetaError=new core_EventEmitter,this.loadingMetaMessage=new core_EventEmitter,this.jobList=[]}start(jobid,revisionId){this.jobList.find(s=>s.jobid!==jobid)&&this.finish(jobid);const newJob={jobid:jobid,revisionId:revisionId,executed:0,total:0,chunks:0,puts:0,modified:0,deleted:0,tables:[],tableSyncDetails:{},start:new Date};this.jobList.push(newJob),this.totalSyncProgress.emit(newJob)}finish(jobid){this.jobList=this.jobList.filter(s=>s.jobid!==jobid)}jobSetTotal(jobid,total){const job=this.jobList.find(s=>s.jobid!==jobid);job&&(job.total=total)}jobSetRevisionId(jobid,revisionId){const job=this.jobList.find(s=>s.jobid!==jobid);job&&(job.revisionId=revisionId)}jobSetChunks(jobid,chunks){const job=this.jobList.find(s=>s.jobid!==jobid);job&&(job.chunks=chunks)}log(data){const job=this.jobList.find(s=>s.jobid===data.jobid);this.tableSyncProgress.emit(data),job&&(job.revisionId=Math.max(job.revisionId,data.revisionId),job.executed+=data.executed,job.puts+=data.puts,job.modified+=data.modified,job.deleted+=data.deleted,job.tableSyncDetails[data.table]=data,job.tables.find(t=>t.table===data.table)||(job.tables.push({table:data.table,executed:data.executed,total:data.total}),job.total+=data.total),this.totalSyncProgress.emit(job))}message(jobid,message){this.syncMessage.emit({jobid:jobid,message:message})}error(jobid,message){this.syncError.emit({jobid:jobid,message:message})}metaData(data){this.loadingMetaData.emit(data)}metaMessage(message){this.loadingMetaMessage.emit(message)}metaError(error){this.loadingMetaError.emit(error)}}return DbsyncLogService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new DbsyncLogService},token:DbsyncLogService,providedIn:"root"}),DbsyncLogService})();var SyncJobStatus=function(SyncJobStatus){return SyncJobStatus[SyncJobStatus.Init=0]="Init",SyncJobStatus[SyncJobStatus.Pending=1]="Pending",SyncJobStatus[SyncJobStatus.AlreadyStarted=2]="AlreadyStarted",SyncJobStatus[SyncJobStatus.Offline=3]="Offline",SyncJobStatus[SyncJobStatus.Aborted=4]="Aborted",SyncJobStatus[SyncJobStatus.QueryChangeLogs=5]="QueryChangeLogs",SyncJobStatus[SyncJobStatus.AbortedEmptyChangeLogs=6]="AbortedEmptyChangeLogs",SyncJobStatus[SyncJobStatus.Uploading=7]="Uploading",SyncJobStatus[SyncJobStatus.ServerAnswered=8]="ServerAnswered",SyncJobStatus[SyncJobStatus.ServerAnsweredWithErrors=9]="ServerAnsweredWithErrors",SyncJobStatus[SyncJobStatus.WriteServerSyncedIds=10]="WriteServerSyncedIds",SyncJobStatus[SyncJobStatus.WriteServerReChanges=11]="WriteServerReChanges",SyncJobStatus[SyncJobStatus.WriteServerChanges=12]="WriteServerChanges",SyncJobStatus[SyncJobStatus.RefreshLogs=13]="RefreshLogs",SyncJobStatus[SyncJobStatus.FinishedWithErrors=14]="FinishedWithErrors",SyncJobStatus[SyncJobStatus.Finished=15]="Finished",SyncJobStatus}({});class dbsync_client_service_SyncJobResult{constructor(jobid){this.jobid=jobid,this.status=SyncJobStatus.Init,this.committed=0,this.confirmed=0,this.committedIds=[],this.confirmedIds=[],this.refreshed=null,this.serverChanges={},this.unsynced=-1,this.errorMsg="",this.starttime=Date.now(),this.stoptime=0,this.alreadyStartedProcess=null,this.statusChanged=new core_EventEmitter,this.finished=!1}get duration(){return(this.stoptime||Date.now())-this.starttime}get durationFormatted(){const dur=(this.stoptime||Date.now())-this.starttime,ms=dur%1e3,s=Math.floor(dur/1e3)%60,m=Math.floor(dur/6e4)%60,h=Math.floor(dur/36e5);return(h>0?h+"h ":"")+(m>0?m+"m ":"")+(s>0?s+"s ":"")+(ms>0?ms+"ms ":"")}onStatusChange(cb){this.statusChangeCallback=cb}setStatus(status){return status!==this.status&&(this.status=status,this.statusChanged.emit(status),this.statusChangeCallback&&this.statusChangeCallback(this.status)),this}getStatus(){return this.status}getStatusName(){return SyncJobStatus[this.status].toString()}finish(status,errorMsg){return this.stoptime=Date.now(),this.finished=!0,this.setStatus(status),void 0!==errorMsg&&(this.errorMsg=errorMsg),this}}let dbsync_client_service_DBSyncClientService=(()=>{class DBSyncClientService{constructor(dexieService,apiService,baseData,networkService,settings,dbSyncLogService){this.dexieService=dexieService,this.apiService=apiService,this.baseData=baseData,this.networkService=networkService,this.settings=settings,this.dbSyncLogService=dbSyncLogService,this.processes=[],this.processingJobids=[],this.processStarted=new core_EventEmitter,this.processFinished=new core_EventEmitter,this.syncIntervalTimer=null,this.fullImportJobid=0,this.autoSyncChange=new core_EventEmitter,this.updateStatusChanges=new core_EventEmitter,this.currentJobChange=new core_EventEmitter,this.syncErrorChange=new core_EventEmitter,this.subscriptionClientLogsChanged=this.dexieService.clientSyncAmountChanged.subscribe(amount=>{console.log("DBSyncClientService #245 clientSyncAmountChanged: ",{amount:amount})}),this.autoSyncStart()}ngOnDestroy(){this.subscriptionClientLogsChanged.unsubscribe()}initCurrentJobSyncStatus(){this.currentJobSyncStatus={jobid:0,unsyncedClientLogs:0,serverRevisionId:0,clientRevisionId:0,isUploading:!1,isRunning:!1,jobStatus:SyncJobStatus.Init}}autoSyncIsRunning(){return null!==this.syncIntervalTimer}setFullImportJobiId(jobid){this.fullImportJobid=jobid}getFullImportJobId(){return this.fullImportJobid}autoSyncStart(startNow=!1){this.syncIntervalTimer&&this.autoSyncStop(),this.syncIntervalTimer=setInterval(this.sync.bind(this),6e4),this.autoSyncChange.emit(!0),startNow&&this.sync()}autoSyncStop(){if(this.syncIntervalTimer)try{clearInterval(this.syncIntervalTimer),this.syncIntervalTimer=null,this.autoSyncChange.emit(!1)}catch(e){}}sync(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const isDBSyncService=this instanceof DBSyncClientService;if(console.log("#233 dbsync-client.service sync() this is DBSyncClientService",{isDBSyncService:isDBSyncService}),!isDBSyncService)return void console.error("#235 dbsync-client.service sync() this is not correct binded to Instance of DBSyncClientService");const currJobId=this.baseData.getCurrentJobid();console.log("#240 dbsync-client.service sync() currJobId:",currJobId),console.log("#241 dbsync-client.service sync() call getIncompleteInventuren()");const incompleteInventurLogs=yield this.getIncompleteInventuren(),currJobIdx=incompleteInventurLogs.map(itm=>itm.jobid).indexOf(currJobId);if(console.log("#245 dbsync-client.service sync() currJobIdx: ",currJobIdx),-1!==currJobIdx){console.log("#248 dbsync-client.service sync()");const currJob=incompleteInventurLogs[currJobIdx];incompleteInventurLogs.slice(currJobIdx,1),console.log("#251 dbsync-client.service sync(), call sendByJobId(",currJob.jobid,currJob.changes,")"),this.sendByJobId(currJob.jobid,currJob.changes)}for(const logs of incompleteInventurLogs)console.log("#256 dbsync-client.service sync(), call sendByJobId(",logs.jobid,logs.changes,")"),this.sendByJobId(logs.jobid,logs.changes);console.log("#260 dbsync-client.service END")}))}getCurrentClientRevId(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.baseData.getCurrentJobid();return this.getClientRevIdByJobid(jobid)}))}getClientRevIdByJobid(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const lastRevIdVar=`jobid-${jobid}-revision-id`;return(yield this.settings.get(lastRevIdVar))||0}))}setCurrentClientRevId(newRevId){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#298 dbsync-client.service setCurrentClientRevId(newRevId: ",newRevId,")");const lastRevIdVar=`jobid-${this.baseData.getCurrentJobid()}-revision-id`;return yield this.settings.setRevId(lastRevIdVar,newRevId,"dbsync-client.service.ts setCurrentClientRevId")}))}askServerForChanges(jobid=0){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){jobid||(jobid=this.baseData.getCurrentJobid());const devid=this.baseData.getCurrentDeviceId()||0,lastRevId=yield this.getClientRevIdByJobid(jobid);return this.networkService.hasServerAccess?this.apiService.get(`api/sync/havingChanges/${jobid}/${lastRevId}/${devid}`,{}).toPromise().then(data=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){return"errorMsg"in data&&data.errorMsg?(console.error(data.errorMsg),{success:!1}):Object.assign({success:!0},data)}))):(console.error("Abort Change-Request: No Internet!"),{success:!1,errorMsg:"Abort Change-Request: No Internet!",MaxRevisionId:-1,NumChanges:-1})}))}syncJob(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("[called DBSyncClientService syncJob()] call this.clearFinishedProcesses"),this.clearFinishedProcesses(),console.log("[called syncJob] call this.processes.find(proc => proc.jobid === "+jobid+")");const currJobProc=this.processes.find(proc=>proc.jobid===jobid),newJob=new dbsync_client_service_SyncJobResult(jobid);if(currJobProc&&!currJobProc.finished)return console.log("Doppelter Sync-Aufruf. Sync für Job "+jobid+" läuft bereits!",{currJobProc:currJobProc}),newJob.alreadyStartedProcess=currJobProc,console.log("[called syncJob] call newJob.finish(AlreadyStarted)"),newJob.finish(SyncJobStatus.AlreadyStarted,"Sync-Process is already running. Duration: "+currJobProc.durationFormatted);console.log("[called syncJob] call this.numUnsyncedChangeLogsByJobId("+jobid+")");const numChanges=yield this.numUnsyncedChangeLogsByJobId(jobid);return numChanges||console.log("[called syncJob] numClientChanges: "+numChanges),console.log("[called syncJob] call this.sendByJobId("+jobid+", [], newJob)"),this.sendByJobId(jobid,[],newJob),newJob}))}finishProcess(proc,status,errorMsg){return proc.finished||proc.finish(status,errorMsg||null),this.clearFinishedProcesses(),this.processFinished.emit(proc),proc}sendByJobId(useJobid,useLogs,useJobResult){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("[called sendByJobId]("+useJobid+", useLogs(",{useLogs:useLogs,useJobResult:useJobResult}),this.clearFinishedProcesses();const jobid=useJobid,syncJobResult=useJobResult||new dbsync_client_service_SyncJobResult(jobid);if(this.getFullImportJobId()===useJobid)return this.finishProcess(syncJobResult,SyncJobStatus.AlreadyStarted,"Synchronisation wurde abgebrochen, da Import noch läuft!");if(!this.networkService.hasServerAccess)return console.error("#369 dbsync-client.service sendByJobId() Synchronisatioon wurde abgebrochen wegen fehlender Serververbindung!"),this.finishProcess(syncJobResult,SyncJobStatus.Offline,"Synchronisatioon wurde abgebrochen wegen fehlender Serververbindung!");const ServerInfo=yield this.askServerForChanges(),devid=this.baseData.getCurrentDeviceId()||0,lastRevIdVar=`jobid-${jobid}-revision-id`;let lastRevId=(yield this.settings.get(lastRevIdVar))||0;const jobInProcess=this.processes.find(proc=>proc.jobid===jobid);if(jobInProcess&&!jobInProcess.finished)return console.error("#369 dbsync-client.service sendByJobId() Synchronisatioon wurde abgebrochen. Sync läuft bereits"),syncJobResult.alreadyStartedProcess=jobInProcess,syncJobResult.finish(SyncJobStatus.AlreadyStarted);if(syncJobResult.setStatus(SyncJobStatus.Pending),this.processStarted.emit(syncJobResult),useLogs&&useLogs.length||(console.error("#395 dbsync-client.service sendByJobId() Keine Client-Änderungen!"),syncJobResult.setStatus(SyncJobStatus.QueryChangeLogs),useLogs=yield this.getUnsyncedChangeLogsByJobId(useJobid)),!useLogs&&!ServerInfo.NumChanges)return console.error("#369 dbsync-client.service sendByJobId(); Synchronisatioon wurde abgebrochen. Keine Änderungen!"),this.finishProcess(syncJobResult,SyncJobStatus.AbortedEmptyChangeLogs);let logs=useLogs;syncJobResult.sendClientDeviceId=devid,syncJobResult.committedIds=logs.map(itm=>itm.id),console.log("#410 dbsync-client.service sendByJobId(); call this.processes.push(syncJobResult)"),this.processingJobids.push(jobid),this.processes.push(syncJobResult),this.dbSyncLogService.start(jobid,lastRevId);const syncLogMsg=this.dbSyncLogService.message.bind(this.dbSyncLogService,[jobid]),syncLogErr=this.dbSyncLogService.error.bind(this.dbSyncLogService,[jobid]),syncLogData=this.dbSyncLogService.log.bind(this.dbSyncLogService);syncLogMsg("Starte Synchronisation");let lastSyncDate,total=0,executed=0,chunks=0;const tableLogs={};let syncJobLoop=0;for(;!syncJobResult.finished&&syncJobLoop<20;){if(syncJobLoop++,syncJobLoop>1&&(lastRevId=(yield this.settings.get(lastRevIdVar))||0,logs=yield this.getUnsyncedChangeLogsByJobId(useJobid)),"jobid-2-revision-id"===lastRevIdVar&&0===lastRevId){const err="Fehlerhafter Wert für "+name+": "+lastRevId;return console.error(err),void alert(err)}console.log("#421 dbsync-client.service sendByJobId() Synchronisations-Loop!",{syncJobLoop:syncJobLoop,lastRevId:lastRevId,logs:logs}),syncLogMsg("Download Daten ..."),syncJobResult.committed=logs.length,lastSyncDate=new Date,yield this.apiService.post("api/sync/syncWithRevisionId/"+jobid,{jobid:jobid,devid:devid,lastRevId:lastRevId,changes:logs}).toPromise().then(data=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(chunks++,"errorMsg"in data&&data.errorMsg)return syncJobResult.errorMsg=data.errorMsg,console.error(data.errorMsg),syncLogErr("Download Fehler: "+data.errorMsg),this.finishProcess(syncJobResult,SyncJobStatus.ServerAnsweredWithErrors);if(this.saveLastSyncErrorEvent({jobid:jobid,startDate:lastSyncDate,errors:data.aSyncErrors||[]}),0===total&&(total=data.serverChanges.total,this.dbSyncLogService.jobSetTotal(jobid,total)),this.dbSyncLogService.jobSetChunks(jobid,chunks),syncLogMsg("Verarbeite Server-Antwort ..."),console.log("Changes wurden gesendet, verarbeite Response",{aSyncedChangeIds:data.aSyncedChangeIds?data.aSyncedChangeIds.length:0,aFailedChangeIds:data.aFailedChangeIds?data.aFailedChangeIds.length:0,serverRechanges:data.serverRechanges?data.serverRechanges.length:0,serverChanges:data.serverChanges.rows?data.serverChanges.rows.length:0}),console.log("Process sync_done"),data.aSyncedChangeIds&&data.aSyncedChangeIds.length>0&&(syncLogMsg("Entferne vom Server bestätige Client-Logs ..."),syncJobResult.setStatus(SyncJobStatus.WriteServerSyncedIds),yield this.dexieService.clientChangeLog.where("id").anyOf(data.aSyncedChangeIds).modify({sync_done:1}),yield this.dexieService.clientChangeLog.where({sync_done:1}).delete()),data.aFailedChangeIds&&data.aFailedChangeIds.length>0){syncJobResult.errorMsg+="Num Failed Server-Syncs: "+data.aFailedChangeIds.length+".\n";for(const chckFailure of data.aFailedChangeIds)switch(chckFailure.reason){case"INSERT_ALREADY_EXISTS":case"NEWER_VERSION_ON_SERVER":yield this.dexieService.clientChangeLog.delete(chckFailure.id)}}if(console.log("Process serverRechanges"),data.serverRechanges&&data.serverRechanges.length>0&&(syncLogMsg("Korrigiere Client-Ids nach Server-Antwort ..."),syncJobResult.setStatus(SyncJobStatus.WriteServerReChanges),yield Promise.all(data.serverRechanges.map(chg=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){return chg.table=chg.table[0].toLowerCase()+chg.table.substr(1),chg.mods.log=!1,this.dexieService.table(chg.table).where({uuid:chg.uuid}).modify(chg.mods)}))))),console.log("Process serverChanges"),data.serverChanges.rows&&data.serverChanges.rows.length>0){syncLogMsg("Import Server-Changes ..."),syncJobResult.setStatus(SyncJobStatus.WriteServerChanges);const chgLen=data.serverChanges.rows.length;for(let ci=0;ci<chgLen;ci++){const chg=data.serverChanges.rows[ci],currRevId=chg.revision_id;if(currRevId<lastRevId){const err="#501 SYNC-FEHLER: LastRevId ist größer als CurrRevID: "+lastRevId+" > "+currRevId;return console.error(err),void alert(err)}switch(chg.table=chg.table[0].toLowerCase()+chg.table.substr(1),chg.table in tableLogs||(tableLogs[chg.table]={jobid:jobid,table:chg.table,revisionId:chg.revision_id,executed:0,puts:0,modified:0,deleted:0,total:0,lastEmittedrevisionId:0}),chg.type){case 1:tableLogs[chg.table].puts++;const objInsertData=Object.assign({},JSON.parse(chg.obj),{log:!1});console.log("#494 "+ci+"/"+chgLen+" dbsync-client.service. await this.dexieService.table( "+chg.table+" ).put( objInsertData )",objInsertData),yield this.dexieService.table(chg.table).put(objInsertData);break;case 2:tableLogs[chg.table].modified++;const objUpdateData=Object.assign({},JSON.parse(chg.mods),{log:!1});console.log("#499 "+ci+"/"+chgLen+" dbsync-client.service. await this.dexieService.table( "+chg.table+" ).where({uuid:"+chg.uuid+"}).modify( objUpdateData )",chg),yield this.dexieService.table(chg.table).where({uuid:chg.uuid}).modify(objUpdateData);break;case 3:tableLogs[chg.table].deleted++,console.log("#329 "+ci+"/"+chgLen+" dbsync-client delete "+chg.table+" by uuid "+chg.uuid),yield this.dexieService.table(chg.table).where({uuid:chg.uuid}).delete()}if(executed++,tableLogs[chg.table].executed++,lastRevId=currRevId,console.log("511 "+ci+"/"+chgLen+" dbsync-client.service await this.settings.set(",lastRevIdVar,chg.revision_id,")"),yield this.settings.setRevId(lastRevIdVar,chg.revision_id,"LogRow "+ci+"/"+chgLen+"; RevId "+currRevId),executed===total||executed%100==0)for(const logData of Object.values(tableLogs))logData.revisionId>logData.lastEmittedrevisionId&&(syncLogData(logData),logData.lastEmittedrevisionId=logData.revisionId)}}console.log("Process SyncResponse finished"),syncJobResult.revisionId=yield this.settings.get(lastRevIdVar),syncJobResult.committed=logs?logs.length:0,syncJobResult.synced=data.aSyncedChangeIds?data.aSyncedChangeIds.length:0,syncJobResult.conflicts=data.aFailedChangeIds?data.aFailedChangeIds.length:0,syncJobResult.numServerRechanges=data.serverRechanges?data.serverRechanges.length:0,syncJobResult.numServerChanges=data.serverChanges?data.serverChanges.rows.length:0,console.log("#508 dbsync-client.service, data.serverChanges.total:",data.serverChanges.total);for(const logData of Object.values(tableLogs))syncLogData(logData),logData.lastEmittedrevisionId=logData.revisionId;return data.serverChanges.rows.length<data.serverChanges.total?(console.log("#511 keep SyncProcess(jobid: "+syncJobResult.jobid+") open"),syncJobResult):(console.log("#514 finish SyncProcess(jobid: "+syncJobResult.jobid+")"),syncLogMsg("Aktuelle Synchronisation wurde abgeschlossen"),this.finishProcess(syncJobResult,SyncJobStatus.Finished))})))}}))}addBarcodeToLookupTable(code,table,uuid,forJobid,id){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const tblBarcodeLookup=this.dexieService.barcodeLookup,key=this.dexieService.table(table).schema.primKey.keyPath;return tblBarcodeLookup.put(Object.assign({code:code,table:table,key:key,id:id,for_jobid:forJobid,uuid:uuid,updateHelper:1},{log:!1})),!0}))}clearFinishedProcesses(){console.log("DBSyncClientService #668 processList before clearFinishedProcesses",Object.assign({},this.processes.map(p=>p))),this.processes=this.processes.filter(proc=>{const finished=!proc.finished;return finished&&(proc=null),!finished}),this.processingJobids=this.processes.map(proc=>proc.jobid),console.log("DBSyncClientService #677 processList after clearFinishedProcesses",Object.assign({},this.processes.map(p=>p)))}getRunningProcesses(){return this.clearFinishedProcesses(),this.processes}getProcessByJobId(jobid){return this.processes.find(proc=>proc.jobid===jobid)}updateCommitCounter(committedIds,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexieService.clientChangeLog.where("id").anyOf(committedIds).and(log=>!jobid||log.jobid===jobid).modify(log=>(log.sync_attempts++,log.sync_lastattempt=new Date,log))}))}processResponseByJobId(syncedLogIds,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const syncTime=Date.now();return yield this.dexieService.clientChangeLog.where("id").anyOf(syncedLogIds).and(log=>!jobid||log.jobid===jobid).modify({sync_done:1,sync_time:syncTime})}))}getUnsyncedChangeLogsByJobId(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexieService.clientChangeLog.where({jobid:jobid}).filter(itm=>!("sync_done"in itm)||0===itm.sync_done).toArray().then(list=>this.sortAndFixChangeLogs(list))}))}sortAndFixChangeLogs(list){console.log("DbSyncClientService #866 sortAndFixChangeLogs",Object.assign({},list));const tablePrio=["inventar","objektKatalogMandant","objektKatalogGlobal","hersteller"],db=this.dexieService;return list.sort((a,b)=>a.timestamp!==b.timestamp?a.timestamp<b.timestamp?-1:1:tablePrio.indexOf(a.table)>tablePrio.indexOf(b.table)?-1:1),Promise.all(list.map(itm=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(2===itm.type&&(0===Object.keys(itm.mods).length||1===Object.keys(itm.mods).length&&"modified_at"in itm.mods))return console.log("DbSyncClientService #881 Removing empty Entry from Change-Log",{itm:itm}),db.clientChangeLog.delete(itm.id),null;if("objektKatalogMandant"===itm.table&&1===itm.type&&!itm.obj.gcuuid){const artikelData=yield db.objektKatalogGlobal.where({gcid:itm.obj.gcid}).first();artikelData&&(itm.obj.gcuuid=artikelData.uuid)}if("inventar"===itm.table)if(2===itm.type){let isEmptyMod=!1;if(itm.mods.mcid&&!itm.mods.mcuuid){console.error("DBSyncClient Found Inventar-Update #872 without mcuuid-Field",Object.assign({},itm));const artikelRef=yield db.objektKatalogMandant.where({mcid:itm.mods.mcid}).first();artikelRef?(itm.mods.mcuuid=artikelRef.uuid,console.log("DBSyncClient Found Inventar-Update #875 added mcuuid-Field",Object.assign({},itm))):console.error("DBSyncClient Found Inventar-Update #875 but don t found ArtikelRef.mcuuid-Field",Object.assign({},itm)),delete itm.mods.mcid}1===Object.keys(itm.mods).length&&"modified_at"in itm.mods&&(isEmptyMod=!0),0===Object.keys(itm.mods).length&&(isEmptyMod=!0),isEmptyMod&&(console.log("DbSyncClientService #908 Removing empty Entry from Change-Log",{itm:itm}),db.clientChangeLog.delete(itm.id),itm=null)}else if(1===itm.type){if(console.log("DBSyncClient #849 Test if inventar has gcuuid instead of mcuuid, itm.obj.mcuuid: "+itm.obj.mcuuid),yield db.objektKatalogGlobal.where({uuid:itm.obj.mcuuid}).first().then(rslt=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(console.log("DbSyncClientService #851 result of okm-Query by mcuuid",{rslt:rslt}),rslt){const okgItm=rslt;yield db.objektKatalogMandant.where({gcuuid:okgItm.uuid}).first().then(okm=>{itm.obj.mcuuid=okm.uuid,db.inventar.update(itm.obj.uuid,{mcuuid:okm.uuid}),db.clientChangeLog.update(itm.id,{obj:Object.assign({},itm.obj,{mcuuid:okm.uuid})})})}return rslt}))).catch(reason=>{console.error("DBSyncClient #865 Error on Querying for OKG by "+itm.obj.mcuuid,{reason:reason})}),itm.obj.mcid&&itm.obj.mcuuid&&(console.log("DBSyncClient Found Inventar-Update #872 with mcuuid-Field",Object.assign({},itm)),delete itm.obj.mcid),itm.obj.rid&&!itm.obj.ruuid){console.error("DBSyncClient Found Inventar-Update #872 without ruuid-Field",Object.assign({},itm));const raum=yield db.raeume.where({rid:itm.obj.rid}).first();raum&&(itm.obj.ruuid=raum.uuid,console.log("Fixed Missing ruuid-Field",Object.assign({},itm)))}itm.obj.ruuid&&itm.obj.mcuuid||(console.error("DbSyncClientService #938 Removing incomplete Inventar + Entry from Change-Log",{itm:itm}),db.clientChangeLog.delete(itm.id),db.inventar.delete(itm.uuid),itm.obj.code&&itm.obj.for_jobid&&itm.uuid&&db.barcodeLookup.where({code:itm.obj.code,for_jobid:itm.obj.for_jobid}).filter(lkup=>lkup.uuid===itm.uuid).delete(),itm=null)}return itm}))).filter(itm=>!!itm))}numUnsyncedChangeLogsByJobId(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const rslt=this.dexieService.clientChangeLog.where("jobid").equals(jobid).count();return rslt.then(num=>(console.log("then numUnsyncedChangeLogsByJobId: ",{jobid:jobid,num:num}),num)).catch(err=>{console.error("then numUnsyncedChangeLogsByJobId: ",{jobid:jobid,err:err})}),rslt}))}getCurrentSyncStatus(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return Promise.all([this.numUnsyncedChangeLogs(),this.getRunningProcesses()])}))}numUnsyncedChangeLogs(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexieService.clientChangeLog.where({sync_done:0}).count()}))}getIncompleteInventuren(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexieService.clientChangeLog.where({sync_done:0}).count(),this.dexieService.clientChangeLog.where({sync_done:0}).toArray().then(list=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){const currJobId=this.baseData.getCurrentJobid(),listGroupedByJobid=[];listGroupedByJobid.push({jobid:currJobId,changes:[]});const groupIds=[currJobId];return list.forEach(item=>{const jobid=item.jobid;let groupIdx=groupIds.indexOf(jobid);-1===groupIdx&&(groupIds.push(jobid),listGroupedByJobid.push({jobid:jobid,changes:[]}),groupIdx=groupIds.indexOf(jobid)),listGroupedByJobid[groupIdx].changes.push(item)}),Promise.all(Object.keys(listGroupedByJobid).map(groupIdx=>(listGroupedByJobid[groupIdx].changes=this.sortAndFixChangeLogs(listGroupedByJobid[groupIdx].changes),groupIdx))).then(()=>listGroupedByJobid)})))}))}saveLastSyncErrorEvent(event){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=event.jobid,insertData=event.errors.map(itm=>({jobid:jobid,clientChangeLogId:itm.clientChangeLogId||null,table:itm.table,type:itm.type||null,uuid:itm.uuid,error_code:itm.ERROR_CODE,error_msg:itm.ERROR_MSG||"",error_data:itm.ERROR_DATA||null,error_ref_table:itm.ERROR_REF_TABLE||null,error_ref_by:itm.ERROR_REF_BY||null,error_ref_uuid:itm.ERROR_REF_UUID||null,timestamp:new Date}));this.dexieService.serverSyncErrors.where({jobid:jobid}).delete().finally(()=>this.dexieService.serverSyncErrors.bulkAdd(insertData)).then(n=>{n>0&&this.resyncServerErrors(jobid)}).finally(()=>{this.syncErrorChange.emit({jobid:jobid,count:event.errors.length})})}))}resyncServerErrors(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const db=this.dexieService;console.log("DBSyncClientService resyncServerErrors #980"),(yield db.serverSyncErrors.where({jobid:jobid}).toArray()).map(err=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(console.log("DBSyncClientService resyncServerErrors #983",{err:err}),!("clientChangeLogId"in err)||!err.clientChangeLogId)return console.error("DBSyncClientService resyncServerErrors #985 NO clientChangeLogId in err",{err:err}),!1;const table=err.table,uuid=err.uuid,chId=err.clientChangeLogId;console.log("DBSyncClientService resyncServerErrors #992 ",{id:chId,table:table,uuid:uuid});const logItem=yield db.clientChangeLog.get(chId);logItem&&logItem.table===table&&logItem.uuid===uuid||console.error("logItem by id ",chId," not found",{table:table,uuid:uuid}),console.log("DBSyncClientService resyncServerErrors #998 ",{logItem:logItem,id:chId,table:table,uuid:uuid}),console.log("DBSyncClientService resyncServerErrors #1003",{logItem:logItem});const data=yield db.table(table).get(uuid);switch(console.log("DBSyncClientService resyncServerErrors #1005",{err_code:err.error_code,data:data}),err.error_code){case"ITEM_NOT_FOUND":if(console.log("DBSyncClientService resyncServerErrors #1009 clientChangeLog.delete ",{chId:chId}),yield db.clientChangeLog.delete(chId),data){const chgLogData={jobid:logItem.jobid,key:0,mid:logItem.mid,obj:data,sync_attempts:0,sync_done:0,table:logItem.table,timestamp:new Date,type:1,uid:logItem.uid,uuid:logItem.uuid};console.log("DBSyncClientService resyncServerErrors #1025 clientChangeLog.add ",{chgLogData:chgLogData}),db.clientChangeLog.add(chgLogData)}break;case"NEWER_VERSION_ON_SERVER":console.log("DBSyncClientService resyncServerErrors #1031 clientChangeLog.delete ",{chId:chId}),yield db.clientChangeLog.delete(chId)}})))}))}}return DBSyncClientService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new DBSyncClientService(ɵɵinject(dexie_service_DexieService),ɵɵinject(api_service_ApiService),ɵɵinject(basedata_service_BasedataService),ɵɵinject(connection_service_service_ConnectionService),ɵɵinject(variables_service_VariablesService),ɵɵinject(dbsync_log_service_DbsyncLogService))},token:DBSyncClientService,providedIn:"root"}),DBSyncClientService})();class dbsync_component_DbsyncComponent{constructor(dbsyncClient,baseData,networkService,dataService,dbsyncLogService,dexie){this.dbsyncClient=dbsyncClient,this.baseData=baseData,this.networkService=networkService,this.dataService=dataService,this.dbsyncLogService=dbsyncLogService,this.dexie=dexie,this.faSync=faSync,this.faSyncAlt=faSyncAlt,this.syncInProcess=!0,this.syncTables=[],this.lastServerSyncErrors=[],this.subscribedSyncJobProcesses=[],this.syncTotal={jobid:0,revisionId:0,total:0,executed:0,percent:0,puts:0,modified:0,deleted:0,tables:[],chunks:0,start:null}}ngOnDestroy(){this.subscriptionSyncTotal.unsubscribe(),this.subscriptionSyncTable.unsubscribe(),this.subscriptionSyncMsg.unsubscribe(),this.subscriptionSyncErr.unsubscribe(),this.subscriptionNetworkService.unsubscribe(),this.subscriptionAutoSyncChange.unsubscribe(),this.subscriptionProcessStarted.unsubscribe(),this.subscriptionProcessFinished.unsubscribe(),this.subscriptionLastSyncErr.unsubscribe(),this.removeAllSyncJobStatusSubscriptions()}ngOnInit(){this.jobid=this.baseData.getCurrentJobid(),this.refreshStatusInfos(),this.loadServerSyncErrors(this.jobid),this.subscriptionLastSyncErr=this.dbsyncClient.syncErrorChange.subscribe(result=>{this.lastServerSyncErrors=[],result.count>0&&this.loadServerSyncErrors(result.jobid)}),this.subscriptionSyncTable=this.dbsyncLogService.tableSyncProgress.subscribe(data=>{let syncTbl=this.syncTables.find(t=>t.table===data.table);syncTbl?(syncTbl.executed=data.executed,syncTbl.puts=data.puts,syncTbl.modified=data.modified,syncTbl.deleted=data.deleted):(syncTbl=Object.assign({},data),this.syncTables.push(syncTbl))}),this.subscriptionSyncTotal=this.dbsyncLogService.totalSyncProgress.subscribe(data=>{if(this.refreshStatusInfos(),0===data.executed)for(;this.syncTables.length;)this.syncTables.pop();for(const k of Object.keys(data))this.syncTotal[k]=data[k]}),this.subscriptionSyncMsg=this.dbsyncLogService.syncMessage.subscribe(data=>{this.refreshStatusInfos()}),this.subscriptionSyncErr=this.dbsyncLogService.syncError.subscribe(data=>{this.refreshStatusInfos()}),this.subscriptionNetworkService=this.networkService.monitor().subscribe(()=>{this.networkService.hasServerAccess&&this.refreshStatusInfos()}),this.subscriptionAutoSyncChange=this.dbsyncClient.autoSyncChange.subscribe(isRunning=>{this.syncAutoRun=isRunning}),this.subscriptionProcessStarted=this.dbsyncClient.processStarted.subscribe(proc=>{console.log("Gestarted: Synchronisierung für Inventur mit JobId "+proc.jobid,{proc:proc}),proc.jobid===this.syncJobid&&(this.syncInProcess=!proc.finished)}),this.subscriptionProcessFinished=this.dbsyncClient.processFinished.subscribe(proc=>{console.log("Beendet: Synchronisierung für Inventur mit JobId "+proc.jobid,{proc:proc}),proc.jobid===this.syncJobid&&(this.syncInProcess=!proc.finished)})}loadServerSyncErrors(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.serverSyncErrors.where({jobid:jobid}).toArray().then(errors=>(errors.find(itm=>itm.timestamp instanceof Date&&(this.lastServerSyncDate=itm.timestamp,!0)),this.lastServerSyncJobid=jobid,this.lastServerSyncErrors=errors,errors.length))}))}refreshStatusInfos(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.jobid=this.baseData.getCurrentJobid(),this.syncJobid=this.jobid,this.currInventur=this.baseData.getCurrentInventur(),this.deviceId=this.baseData.getCurrentDeviceId(),this.currUser=this.baseData.getCurrentUser(),this.syncUid=this.baseData.getCurrentUid(),this.syncDevid=this.baseData.getCurrentDeviceId(),this.currProcess=this.dbsyncClient.getProcessByJobId(this.jobid),console.log({method:"refreshStatusInfos",syncUid:this.syncUid,syncUser:this.baseData.getCurrentUser(),syncDevid:this.syncDevid,syncStatus:this.syncStatus,syncFinished:this.syncFinished}),this.checkForUnsyncedChanges(),this.currProcess?(this.syncInProcess=!this.currProcess.finished,this.syncJobid=this.currProcess.jobid,this.syncStatus=this.currProcess.getStatus(),this.syncStatusName=this.currProcess.getStatusName(),this.syncErrorMsg=this.currProcess.errorMsg,this.syncFinished=this.currProcess.finished,this.syncDuration=this.currProcess.duration,this.syncDurFormatted=this.currProcess.durationFormatted,console.log("Synchronisierung läuft ...",{proc:this.currProcess})):(console.log("Synchronisierung läuft nicht ..."),this.syncStatus=SyncJobStatus.Init,this.syncFinished=!0,this.syncInProcess=!1),this.dbsyncClient.askServerForChanges(this.jobid).then(infos=>{console.log("callback of async askServerForChange for jobid "+this.jobid,{infos:infos}),infos.success&&(this.serverRevisionId=infos.MaxRevisionId,this.numServerChanges=infos.NumChanges)}),this.dbsyncClient.getCurrentClientRevId().then(revid=>{this.clientRevisionId=revid}),this.syncAutoRun=this.dbsyncClient.autoSyncIsRunning()}))}checkForUnsyncedChanges(){this.dbsyncClient.numUnsyncedChangeLogsByJobId(this.jobid).then(num=>{this.numUnsyncedChanges=num})}syncAutoStop(){this.dbsyncClient.autoSyncStop()}syncAutoStart(){this.dbsyncClient.autoSyncStart(!0)}syncCurrJob(){"number"==typeof this.syncJobid?(console.log("called syncCurrJob, call syncStart("+this.syncJobid+")"),this.syncStart(this.syncJobid)):console.error("syncJobid is not defined")}resetCurrJob(){console.log("#106 dbsync called resetCurrJob()"),this.syncInProcess=!0,this.dataService.loadInventurDataByInventurId(this.syncJobid,!0).finally(()=>{this.syncInProcess=!1})}syncStart(jobid){console.log("called syncStart, call dbsyncClient.syncJob("+jobid+")"),this.dbsyncClient.syncJob(jobid).then(proc=>{if(this.isSyncJobStatusSubscribed(proc))return;const syncJobStatusChangeSubscription=proc.statusChanged.subscribe(status=>{this.syncJobid=proc.jobid,this.syncStatus=proc.getStatus(),this.syncStatusName=proc.getStatusName(),this.syncErrorMsg=this.currProcess&&"errorMsg"in this.currProcess?this.currProcess.errorMsg:"",this.syncFinished=this.currProcess?this.currProcess.finished:null,this.syncDuration=this.currProcess?this.currProcess.duration:null,this.syncDurFormatted=this.currProcess?this.currProcess.durationFormatted:"",console.log("Process-Status has changed",{proc:proc}),this.syncInProcess=!proc.finished,proc.finished&&(console.log("#186 dbsync.component remove/unsubscribe finished SyncJob"),this.removeSyncJobStatusSubscriptionBySub(syncJobStatusChangeSubscription))});this.addSyncJobStatusSubscription(proc,syncJobStatusChangeSubscription)})}isSyncJobStatusSubscribed(proc){return!!this.subscribedSyncJobProcesses.find(p=>p[0]===proc)}addSyncJobStatusSubscription(proc,sub){console.log("#200 dbsync.component addSyncJobStatusSubscription"),this.subscribedSyncJobProcesses.push([proc,sub])}removeSyncJobStatusSubscriptionBySub(sub){console.log("#204 dbsync.component removeSyncJobStatusSubscriptionBySub");const foundProc=this.subscribedSyncJobProcesses.find(p=>p[1]===sub);foundProc&&(console.log("#207 dbsync.component foundProc"),foundProc[1].unsubscribe(),this.subscribedSyncJobProcesses=this.subscribedSyncJobProcesses.filter(p=>p!==foundProc))}removeSyncJobStatusSubscriptionByProc(proc){console.log("#214 dbsync.component removeSyncJobStatusSubscriptionByProc");const foundProc=this.subscribedSyncJobProcesses.find(p=>p[0]===proc);foundProc&&(console.log("#217 dbsync.component foundProc"),foundProc[1].unsubscribe(),this.subscribedSyncJobProcesses=this.subscribedSyncJobProcesses.filter(p=>p!==foundProc))}removeAllSyncJobStatusSubscriptions(){console.log("#224 dbsync.component removeSyncJobStatusSubscriptionByProc"),this.subscribedSyncJobProcesses.forEach(proc=>{proc[1].unsubscribe()}),this.subscribedSyncJobProcesses.length=0}}class settings_component_SettingsComponent{constructor(dexieService,variables,baseData,barcodeLookup,sounds){this.dexieService=dexieService,this.variables=variables,this.baseData=baseData,this.barcodeLookup=barcodeLookup,this.sounds=sounds,this.variableList=[],this.buildBcLookup=!1,this.changedManualBCInput=new core_EventEmitter}ngOnInit(){this.reloadVariableList(),this.variables.get("manualBarcodeInput",!1).then(val=>{this.enableManualBCInput=!!val})}reloadVariableList(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.variableList=yield this.variables.getAll()}))}changeManualBCInput(event){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("changeManualBCInput",{event:event}),this.variables.set("manualBarcodeInput",this.enableManualBCInput),this.changedManualBCInput.emit(this.enableManualBCInput)}))}dbClear(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){yield this.dexieService.clearDB(),this.baseData.setCurrentInventur(null),this.baseData.setCurrentRaum(null),this.baseData.setCurrentGebaeude(null),this.baseData.setCurrentRaum(null)}))}reIndexBarcodeLookup(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.buildBcLookup=!0,console.log("Start rebuildOnRunningSystem"),this.barcodeLookup.rebuildOnRunningSystem().then(result=>{console.log("Finished BC-Lookup-Rebuild",{result:result})}).catch(err=>{console.error(err)}).finally(()=>{this.buildBcLookup=!1}),this.reloadVariableList()}))}playSuccess(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.sounds.playSuccess()}))}playError(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.sounds.playError()}))}}"localStorage"in window&&null===localStorage.getItem("ClientDeviceId")&&localStorage.setItem("ClientDeviceId",JSON.stringify(0)),function(){tslib_es6.__awaiter(this,void 0,void 0,(function*(){return navigator.storage&&navigator.storage.persist&&(yield navigator.storage.persist())}))}();class app_module_AppModule{constructor(){library.add(faSquare,faCheckSquare,faBarcode,faUser,faKey,index_es_faSquare,index_es_faCheckSquare,faStackOverflow,faGithub,faMedium)}}class app_component_AppComponent{constructor(connectionService,toastr,swUpdate,swPush){this.connectionService=connectionService,this.toastr=toastr,this.swUpdate=swUpdate,this.swPush=swPush,this.title="frontend",this.currentApplicationVersion=environment.appVersion,this.VAPID_PUBLIC_KEY="BG2ymYfILNZzi183knEsp5PkW8jaGhsMR0u1iAriOfRUjKrLuAQLE6oZf_TguLnBPDksMDE900zi_qnoqmjOE3Y",this.heartBeatState=this.connectionService.options.enableHeartbeat,this.swUpdate.isEnabled&&this.setupUpdates()}onPrompt(event){return this.deferredInstallPrompt=event,!1}setHeartBeatState(state){this.heartBeatState=state,this.connectionService.updateOptions({enableHeartbeat:state})}setupUpdates(){this.swUpdate.available.subscribe(event=>{console.log("current version is",event.current),console.log("available version is",event.available),this.toastr.info("Aktuelle Version: "+event.current+"<br>Aktuelle Version"+event.available,"New Version is available!").onAction.subscribe(()=>location.reload())}),this.swUpdate.activateUpdate().then(e=>{this.toastr.info("Anwendung wurde aktualisert und wird neu geladen","Reload!").onAction.subscribe(()=>location.reload())}),this.swUpdate.checkForUpdate()}setupPush(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const pushSubscription=yield this.swPush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY}).then(sub=>{console.log("Push Subscription",sub)},err=>{console.error("error registering for push",err)});console.log({pushSubscription:pushSubscription})}))}installApp(){this.deferredInstallPrompt.prompt()}}var RenderType_NgbAlert=createRendererType2({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function View_NgbAlert_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.closeHandler()&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"]))],null,null)}function View_NgbAlert_0(_l){return viewDef(2,[ngContentDef(null,0),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbAlert_1)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){_ck(_v,2,0,_v.component.dismissible)}),null)}function View_NgbAlert_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],null,null)],(function(_ck,_v){_ck(_v,1,0)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).dismissible)}))}var NgbAlertNgFactory=createComponentFactory("ngb-alert",ng_bootstrap_NgbAlert,View_NgbAlert_Host_0,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),RenderType_ɵd=createRendererType2({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function View_ɵd_0(_l){return viewDef(2,[(_l()(),textDef(0,null,["",""]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.i18n.getDayNumerals(_co.date))}))}var RenderType_ɵe=createRendererType2({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function View_ɵe_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(_v,en,$event){var ad=!0;return"select"===en&&(ad=!1!==_v.component.select.emit($event)&&ad),ad}),View_ɵf_0,RenderType_ɵf)),directiveDef(1,8437760,null,0,ng_bootstrap_NgbDatepickerNavigationSelect,[ng_bootstrap_NgbDatepickerI18n,Renderer2],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.date,_co.disabled,_co.selectBoxes.months,_co.selectBoxes.years)}),null)}function View_ɵe_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function View_ɵe_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function View_ɵe_3(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_ɵe_4)),directiveDef(1,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(_l()(),textDef(3,null,[" "," "," "])),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵe_5)),directiveDef(5,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_v.context.index>0),_ck(_v,5,0,_v.context.index!==_co.months.length-1)}),(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.i18n.getMonthFullName(_v.context.$implicit.number,_v.context.$implicit.year),_co.i18n.getYearNumerals(_v.context.$implicit.year))}))}function View_ɵe_2(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_ɵe_3)),directiveDef(1,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,1,0,_v.component.months)}),null)}function View_ɵe_0(_l){return viewDef(2,[(_l()(),elementDef(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onClickPrev($event)&&ad),ad}),null,null)),(_l()(),elementDef(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵe_1)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵe_2)),directiveDef(6,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onClickNext($event)&&ad),ad}),null,null)),(_l()(),elementDef(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.showSelect),_ck(_v,6,0,!_co.showSelect)}),(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.prevDisabled),_ck(_v,8,0,_co.nextDisabled)}))}var RenderType_ɵf=createRendererType2({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],data:{}});function View_ɵf_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),directiveDef(1,147456,null,0,NgSelectOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),directiveDef(2,147456,null,0,ɵNgSelectMultipleOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),(_l()(),textDef(3,null,["",""]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit)}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.i18n.getMonthFullName(_v.context.$implicit,null==_co.date?null:_co.date.year)),_ck(_v,3,0,_co.i18n.getMonthShortName(_v.context.$implicit,null==_co.date?null:_co.date.year))}))}function View_ɵf_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"option",[],null,null,null,null,null)),directiveDef(1,147456,null,0,NgSelectOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),directiveDef(2,147456,null,0,ɵNgSelectMultipleOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),(_l()(),textDef(3,null,["",""]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit)}),(function(_ck,_v){_ck(_v,3,0,_v.component.i18n.getYearNumerals(_v.context.$implicit))}))}function View_ɵf_0(_l){return viewDef(2,[queryDef(402653184,1,{monthSelect:0}),queryDef(402653184,2,{yearSelect:0}),(_l()(),elementDef(2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.changeMonth($event.target.value)&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵf_1)),directiveDef(4,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),elementDef(5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.changeYear($event.target.value)&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵf_2)),directiveDef(7,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.months),_ck(_v,7,0,_co.years)}),(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.disabled),_ck(_v,5,0,_co.disabled)}))}var RenderType_NgbDatepicker=createRendererType2({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function View_NgbDatepicker_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,View_ɵd_0,RenderType_ɵd)),directiveDef(1,49152,null,0,NgbDatepickerDayView,[ng_bootstrap_NgbDatepickerI18n],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.context.currentMonth,_v.context.date,_v.context.disabled,_v.context.focused,_v.context.selected)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).selected,nodeValue(_v,1).selected,nodeValue(_v,1).isMuted(),nodeValue(_v,1).isMuted(),nodeValue(_v,1).focused)}))}function View_NgbDatepicker_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(_l()(),textDef(1,null,[" "," "," "]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.i18n.getMonthFullName(_v.parent.context.$implicit.number,_v.parent.context.$implicit.year),_co.i18n.getYearNumerals(_v.parent.context.$implicit.year))}))}function View_NgbDatepicker_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepicker_4)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(3,0,null,null,1,"ngb-datepicker-month",[["role","grid"]],null,[[null,"keydown"]],(function(_v,en,$event){var ad=!0;return"keydown"===en&&(ad=!1!==nodeValue(_v,4).onKeyDown($event)&&ad),ad}),View_NgbDatepickerMonth_0,RenderType_NgbDatepickerMonth)),directiveDef(4,49152,null,0,NgbDatepickerMonth,[ng_bootstrap_NgbDatepickerI18n,ng_bootstrap_NgbDatepicker,ng_bootstrap_NgbDatepickerKeyboardService,ng_bootstrap_NgbDatepickerService],{month:[0,"month"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,"none"===_co.navigation||_co.displayMonths>1&&"select"===_co.navigation),_ck(_v,4,0,_v.context.$implicit.firstDate)}),null)}function View_NgbDatepicker_2(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepicker_3)),directiveDef(1,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,1,0,_v.component.model.months)}),null)}function View_NgbDatepicker_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"navigate"===en&&(ad=!1!==_co.onNavigateEvent($event)&&ad),"select"===en&&(ad=!1!==_co.onNavigateDateSelect($event)&&ad),ad}),View_ɵe_0,RenderType_ɵe)),directiveDef(1,49152,null,0,ng_bootstrap_NgbDatepickerNavigation,[ng_bootstrap_NgbDatepickerI18n],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.model.firstDate,_co.model.disabled,_co.model.months,"select"===_co.model.navigation,_co.model.prevDisabled,_co.model.nextDisabled,_co.model.selectBoxes)}),null)}function View_NgbDatepicker_6(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbDatepicker_7(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbDatepicker_0(_l){return viewDef(2,[queryDef(402653184,1,{_defaultDayTemplate:0}),queryDef(402653184,2,{_contentEl:0}),(_l()(),anchorDef(0,[[1,2],["defaultDayTemplate",2]],null,0,null,View_NgbDatepicker_1)),(_l()(),anchorDef(0,[["defaultContentTemplate",2]],null,0,null,View_NgbDatepicker_2)),(_l()(),elementDef(4,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepicker_5)),directiveDef(6,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(7,0,[[2,0],["content",1]],null,2,"div",[["class","ngb-dp-content"]],[[2,"ngb-dp-months",null]],null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepicker_6)),directiveDef(9,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepicker_7)),directiveDef(11,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,"none"!==_co.navigation),_ck(_v,9,0,(null==_co.contentTemplate?null:_co.contentTemplate.templateRef)||nodeValue(_v,3)),_ck(_v,11,0,_co.footerTemplate)}),(function(_ck,_v){_ck(_v,7,0,!_v.component.contentTemplate)}))}function View_NgbDatepicker_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"ngb-datepicker",[],null,null,null,View_NgbDatepicker_0,RenderType_NgbDatepicker)),providerDef(5120,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[ng_bootstrap_NgbDatepicker]),providerDef(512,null,ng_bootstrap_NgbDatepickerService,ng_bootstrap_NgbDatepickerService,[ng_bootstrap_NgbCalendar,ng_bootstrap_NgbDatepickerI18n]),directiveDef(3,4964352,null,1,ng_bootstrap_NgbDatepicker,[ng_bootstrap_NgbDatepickerService,ng_bootstrap_NgbCalendar,ng_bootstrap_NgbDatepickerI18n,ng_bootstrap_NgbDatepickerConfig,ChangeDetectorRef,ElementRef,ng_bootstrap_NgbDateAdapter,NgZone],null,null),queryDef(335544320,1,{contentTemplate:0})],(function(_ck,_v){_ck(_v,3,0)}),null)}var NgbDatepickerNgFactory=createComponentFactory("ngb-datepicker",ng_bootstrap_NgbDatepicker,View_NgbDatepicker_Host_0,{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",dateSelect:"dateSelect",select:"select"},[]),RenderType_NgbDatepickerMonth=createRendererType2({encapsulation:2,styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function View_NgbDatepickerMonth_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function View_NgbDatepickerMonth_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(_l()(),textDef(1,null,[" "," "]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.i18n.getWeekdayShortName(_v.context.$implicit))}))}function View_NgbDatepickerMonth_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_2)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_3)),directiveDef(4,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.datepicker.showWeekNumbers),_ck(_v,4,0,_co.viewModel.weekdays)}),null)}function View_NgbDatepickerMonth_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(_l()(),textDef(1,null,["",""]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.i18n.getWeekNumerals(_v.parent.parent.context.$implicit.number))}))}function View_NgbDatepickerMonth_9(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbDatepickerMonth_8(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_9)),directiveDef(1,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,1,0,_v.parent.context.$implicit.context,_v.component.datepicker.dayTemplate)}),null)}function View_NgbDatepickerMonth_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(_v.component.doSelect(_v.context.$implicit),ad=!1!==$event.preventDefault()&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_8)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){_ck(_v,2,0,!_v.context.$implicit.hidden)}),(function(_ck,_v){_ck(_v,0,0,_v.context.$implicit.context.disabled,_v.context.$implicit.tabindex,_v.context.$implicit.hidden,_v.context.$implicit.context.today,_v.context.$implicit.ariaLabel)}))}function View_NgbDatepickerMonth_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_6)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_7)),directiveDef(4,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){_ck(_v,2,0,_v.component.datepicker.showWeekNumbers),_ck(_v,4,0,_v.parent.context.$implicit.days)}),null)}function View_NgbDatepickerMonth_4(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_5)),directiveDef(1,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,1,0,!_v.context.$implicit.collapsed)}),null)}function View_NgbDatepickerMonth_0(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_1)),directiveDef(1,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbDatepickerMonth_4)),directiveDef(3,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.datepicker.showWeekdays),_ck(_v,3,0,_co.viewModel.weeks)}),null)}var RenderType_NgbPagination=createRendererType2({encapsulation:2,styles:[],data:{}});function View_NgbPagination_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["««"]))],null,null)}function View_NgbPagination_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["«"]))],null,null)}function View_NgbPagination_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["»"]))],null,null)}function View_NgbPagination_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["»»"]))],null,null)}function View_NgbPagination_5(_l){return viewDef(0,[(_l()(),textDef(-1,null,["..."]))],null,null)}function View_NgbPagination_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["(current)"]))],null,null)}function View_NgbPagination_6(_l){return viewDef(0,[(_l()(),textDef(0,null,[" "," "])),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_7)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit===_v.context.currentPage)}),(function(_ck,_v){_ck(_v,0,0,_v.context.$implicit)}))}function View_NgbPagination_9(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbPagination_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,"a",[["aria-label","First"],["class","page-link"],["href",""]],[[1,"tabindex",0],[1,"aria-disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(_v.component.selectPage(1),ad=!1!==$event.preventDefault()&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,2,null,View_NgbPagination_9)),directiveDef(3,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),pureObjectDef(4,{disabled:0,currentPage:1})],(function(_ck,_v){var _co=_v.component,currVal_3=_ck(_v,4,0,_co.previousDisabled(),_co.page);_ck(_v,3,0,currVal_3,(null==_co.tplFirst?null:_co.tplFirst.templateRef)||nodeValue(_v.parent,0))}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.previousDisabled()),_ck(_v,1,0,_co.previousDisabled()?"-1":null,_co.previousDisabled()?"true":null)}))}function View_NgbPagination_11(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbPagination_10(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,"a",[["aria-label","Previous"],["class","page-link"],["href",""]],[[1,"tabindex",0],[1,"aria-disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&(_co.selectPage(_co.page-1),ad=!1!==$event.preventDefault()&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,2,null,View_NgbPagination_11)),directiveDef(3,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),pureObjectDef(4,{disabled:0})],(function(_ck,_v){var _co=_v.component,currVal_3=_ck(_v,4,0,_co.previousDisabled());_ck(_v,3,0,currVal_3,(null==_co.tplPrevious?null:_co.tplPrevious.templateRef)||nodeValue(_v.parent,1))}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.previousDisabled()),_ck(_v,1,0,_co.previousDisabled()?"-1":null,_co.previousDisabled()?"true":null)}))}function View_NgbPagination_14(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbPagination_13(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"a",[["aria-disabled","true"],["class","page-link"],["tabindex","-1"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,2,null,View_NgbPagination_14)),directiveDef(2,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),pureObjectDef(3,{disabled:0,currentPage:1})],(function(_ck,_v){var _co=_v.component,currVal_0=_ck(_v,3,0,!0,_co.page);_ck(_v,2,0,currVal_0,(null==_co.tplEllipsis?null:_co.tplEllipsis.templateRef)||nodeValue(_v.parent.parent,4))}),null)}function View_NgbPagination_16(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbPagination_15(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"a",[["class","page-link"],["href",""]],[[1,"tabindex",0],[1,"aria-disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(_v.component.selectPage(_v.parent.context.$implicit),ad=!1!==$event.preventDefault()&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,2,null,View_NgbPagination_16)),directiveDef(2,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),pureObjectDef(3,{disabled:0,$implicit:1,currentPage:2})],(function(_ck,_v){var _co=_v.component,currVal_2=_ck(_v,3,0,_co.disabled,_v.parent.context.$implicit,_co.page);_ck(_v,2,0,currVal_2,(null==_co.tplNumber?null:_co.tplNumber.templateRef)||nodeValue(_v.parent.parent,5))}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.disabled?"-1":null,_co.disabled?"true":null)}))}function View_NgbPagination_12(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"li",[["class","page-item"]],[[2,"active",null],[2,"disabled",null],[1,"aria-current",0]],null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_13)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_15)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.isEllipsis(_v.context.$implicit)),_ck(_v,4,0,!_co.isEllipsis(_v.context.$implicit))}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_v.context.$implicit===_co.page,_co.isEllipsis(_v.context.$implicit)||_co.disabled,_v.context.$implicit===_co.page?"page":null)}))}function View_NgbPagination_18(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbPagination_17(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,"a",[["aria-label","Next"],["class","page-link"],["href",""]],[[1,"tabindex",0],[1,"aria-disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&(_co.selectPage(_co.page+1),ad=!1!==$event.preventDefault()&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,2,null,View_NgbPagination_18)),directiveDef(3,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),pureObjectDef(4,{disabled:0,currentPage:1})],(function(_ck,_v){var _co=_v.component,currVal_3=_ck(_v,4,0,_co.nextDisabled(),_co.page);_ck(_v,3,0,currVal_3,(null==_co.tplNext?null:_co.tplNext.templateRef)||nodeValue(_v.parent,2))}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.nextDisabled()),_ck(_v,1,0,_co.nextDisabled()?"-1":null,_co.nextDisabled()?"true":null)}))}function View_NgbPagination_20(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_NgbPagination_19(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"li",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,"a",[["aria-label","Last"],["class","page-link"],["href",""]],[[1,"tabindex",0],[1,"aria-disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&(_co.selectPage(_co.pageCount),ad=!1!==$event.preventDefault()&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,2,null,View_NgbPagination_20)),directiveDef(3,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),pureObjectDef(4,{disabled:0,currentPage:1})],(function(_ck,_v){var _co=_v.component,currVal_3=_ck(_v,4,0,_co.nextDisabled(),_co.page);_ck(_v,3,0,currVal_3,(null==_co.tplLast?null:_co.tplLast.templateRef)||nodeValue(_v.parent,3))}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.nextDisabled()),_ck(_v,1,0,_co.nextDisabled()?"-1":null,_co.nextDisabled()?"true":null)}))}function View_NgbPagination_0(_l){return viewDef(2,[(_l()(),anchorDef(0,[["first",2]],null,0,null,View_NgbPagination_1)),(_l()(),anchorDef(0,[["previous",2]],null,0,null,View_NgbPagination_2)),(_l()(),anchorDef(0,[["next",2]],null,0,null,View_NgbPagination_3)),(_l()(),anchorDef(0,[["last",2]],null,0,null,View_NgbPagination_4)),(_l()(),anchorDef(0,[["ellipsis",2]],null,0,null,View_NgbPagination_5)),(_l()(),anchorDef(0,[["defaultNumber",2]],null,0,null,View_NgbPagination_6)),(_l()(),elementDef(6,0,null,null,10,"ul",[],[[8,"className",0]],null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_8)),directiveDef(8,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_10)),directiveDef(10,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_12)),directiveDef(12,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_17)),directiveDef(14,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbPagination_19)),directiveDef(16,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,8,0,_co.boundaryLinks),_ck(_v,10,0,_co.directionLinks),_ck(_v,12,0,_co.pages),_ck(_v,14,0,_co.directionLinks),_ck(_v,16,0,_co.boundaryLinks)}),(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,"pagination"+(_co.size?" pagination-"+_co.size:""))}))}var RenderType_ɵm=createRendererType2({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function View_ɵm_2(_l){return viewDef(0,[(_l()(),textDef(0,null,["",""]))],null,(function(_ck,_v){_ck(_v,0,0,_v.component.title)}))}function View_ɵm_3(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_ɵm_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(_l()(),anchorDef(0,[["simpleTitle",2]],null,0,null,View_ɵm_2)),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵm_3)),directiveDef(3,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.context,_co.isTitleTemplate()?_co.title:nodeValue(_v,1))}),null)}function View_ɵm_0(_l){return viewDef(2,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵm_1)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),ngContentDef(null,0)],(function(_ck,_v){_ck(_v,2,0,null!=_v.component.title)}),null)}function View_ɵm_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,View_ɵm_0,RenderType_ɵm)),directiveDef(1,49152,null,0,ng_bootstrap_NgbPopoverWindow,[],null,null)],null,(function(_ck,_v){_ck(_v,0,0,"popover"+(nodeValue(_v,1).popoverClass?" "+nodeValue(_v,1).popoverClass:""),nodeValue(_v,1).id)}))}var ɵmNgFactory=createComponentFactory("ngb-popover-window",ng_bootstrap_NgbPopoverWindow,View_ɵm_Host_0,{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),RenderType_NgbProgressbar=createRendererType2({encapsulation:2,styles:[],data:{}});function View_NgbProgressbar_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(1,null,["","%"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.getPercentValue())}))}function View_NgbProgressbar_0(_l){return viewDef(2,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","progress"]],[[4,"height",null]],null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,"div",[["aria-valuemin","0"],["role","progressbar"]],[[8,"className",0],[4,"width","%"],[1,"aria-valuenow",0],[1,"aria-valuemax",0]],null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_NgbProgressbar_1)),directiveDef(3,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),ngContentDef(null,0)],(function(_ck,_v){_ck(_v,3,0,_v.component.showValue)}),(function(_ck,_v){var a2,c2,a3,a4,_co=_v.component;_ck(_v,0,0,_co.height),_ck(_v,1,0,(a2=_co.textType?" text-"+_co.textType:"",c2="\n      ",a3=_co.animated?" progress-bar-animated":"",a4=_co.striped?" progress-bar-striped":"","progress-bar"+_toStringWithNull(_co.type?" bg-"+_co.type:"")+""+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+_toStringWithNull(a4)),_co.getPercentValue(),_co.getValue(),_co.max)}))}var RenderType_ɵr=createRendererType2({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function View_ɵr_0(_l){return viewDef(2,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),ngContentDef(null,0)],null,null)}function View_ɵr_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,View_ɵr_0,RenderType_ɵr)),directiveDef(1,49152,null,0,NgbTooltipWindow,[],null,null)],null,(function(_ck,_v){_ck(_v,0,0,"tooltip show"+(nodeValue(_v,1).tooltipClass?" "+nodeValue(_v,1).tooltipClass:""),nodeValue(_v,1).id)}))}var ɵrNgFactory=createComponentFactory("ngb-tooltip-window",NgbTooltipWindow,View_ɵr_Host_0,{id:"id",tooltipClass:"tooltipClass"},{},["*"]),RenderType_ɵs=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ɵs_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-highlight",[],null,null,null,View_NgbHighlight_0,RenderType_NgbHighlight)),directiveDef(1,573440,null,0,NgbHighlight,[],{result:[0,"result"],term:[1,"term"]},null)],(function(_ck,_v){var currVal_0=_v.context.formatter(_v.context.result);_ck(_v,1,0,currVal_0,_v.context.term)}),null)}function View_ɵs_3(_l){return viewDef(0,[(_l()(),anchorDef(0,null,null,0))],null,null)}function View_ɵs_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"mouseenter"===en&&(ad=!1!==_co.markActive(_v.context.index)&&ad),"click"===en&&(ad=!1!==_co.select(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),anchorDef(16777216,null,null,2,null,View_ɵs_3)),directiveDef(2,540672,null,0,NgTemplateOutlet,[ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),pureObjectDef(3,{result:0,term:1,formatter:2})],(function(_ck,_v){var _co=_v.component,currVal_2=_ck(_v,3,0,_v.context.$implicit,_co.term,_co.formatter);_ck(_v,2,0,currVal_2,_co.resultTemplate||nodeValue(_v.parent,0))}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.id+"-"+_v.context.index,_v.context.index===_co.activeIdx)}))}function View_ɵs_0(_l){return viewDef(0,[(_l()(),anchorDef(0,[["rt",2]],null,0,null,View_ɵs_1)),(_l()(),anchorDef(16777216,null,null,1,null,View_ɵs_2)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){_ck(_v,2,0,_v.component.results)}),null)}function View_ɵs_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(_v,en,$event){var ad=!0;return"mousedown"===en&&(ad=!1!==$event.preventDefault()&&ad),ad}),View_ɵs_0,RenderType_ɵs)),directiveDef(1,114688,null,0,ng_bootstrap_NgbTypeaheadWindow,[],null,null)],(function(_ck,_v){_ck(_v,1,0)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).id)}))}var ɵsNgFactory=createComponentFactory("ngb-typeahead-window",ng_bootstrap_NgbTypeaheadWindow,View_ɵs_Host_0,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),RenderType_NgbHighlight=createRendererType2({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function View_NgbHighlight_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(_l()(),textDef(1,null,["",""]))],null,(function(_ck,_v){_ck(_v,0,0,_v.component.highlightClass),_ck(_v,1,0,_v.parent.context.$implicit)}))}function View_NgbHighlight_3(_l){return viewDef(0,[(_l()(),textDef(0,null,["",""]))],null,(function(_ck,_v){_ck(_v,0,0,_v.parent.context.$implicit)}))}function View_NgbHighlight_1(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_NgbHighlight_2)),directiveDef(1,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(_l()(),anchorDef(0,[["even",2]],null,0,null,View_NgbHighlight_3))],(function(_ck,_v){_ck(_v,1,0,_v.context.odd,nodeValue(_v,2))}),null)}function View_NgbHighlight_0(_l){return viewDef(2,[(_l()(),anchorDef(16777216,null,null,1,null,View_NgbHighlight_1)),directiveDef(1,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.parts)}),null)}var RenderType_ɵu=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ɵu_0(_l){return viewDef(0,[],null,null)}function View_ɵu_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,View_ɵu_0,RenderType_ɵu)),directiveDef(1,49152,null,0,NgbModalBackdrop,[],null,null)],null,(function(_ck,_v){_ck(_v,0,0,"modal-backdrop fade show"+(nodeValue(_v,1).backdropClass?" "+nodeValue(_v,1).backdropClass:""))}))}var ɵuNgFactory=createComponentFactory("ngb-modal-backdrop",NgbModalBackdrop,View_ɵu_Host_0,{backdropClass:"backdropClass"},{},[]),RenderType_ɵv=createRendererType2({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function View_ɵv_0(_l){return viewDef(0,[queryDef(402653184,1,{_dialogEl:0}),(_l()(),elementDef(1,0,[[1,0],["dialog",1]],null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),ngContentDef(null,0)],null,(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,"modal-dialog"+(_co.size?" modal-"+_co.size:"")+(_co.centered?" modal-dialog-centered":"")+(_co.scrollable?" modal-dialog-scrollable":""))}))}function View_ɵv_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],null,null,View_ɵv_0,RenderType_ɵv)),directiveDef(1,4440064,null,0,ng_bootstrap_NgbModalWindow,[common_DOCUMENT,ElementRef,NgZone],null,null)],(function(_ck,_v){_ck(_v,1,0)}),(function(_ck,_v){_ck(_v,0,0,"modal fade show d-block"+(nodeValue(_v,1).windowClass?" "+nodeValue(_v,1).windowClass:""),!0,nodeValue(_v,1).ariaLabelledBy)}))}var ɵvNgFactory=createComponentFactory("ngb-modal-window",ng_bootstrap_NgbModalWindow,View_ɵv_Host_0,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]);function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}EmptyErrorImpl.prototype=Object.create(Error.prototype);const EmptyError=EmptyErrorImpl;function defer(observableFactory){return new Observable_Observable(subscriber=>{let input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}return(input?from(input):empty_empty()).subscribe(subscriber)})}function takeLast(count){return function(source){return 0===count?empty_empty():source.lift(new takeLast_TakeLastOperator(count))}}class takeLast_TakeLastOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError}call(subscriber,source){return source.subscribe(new takeLast_TakeLastSubscriber(subscriber,this.total))}}class takeLast_TakeLastSubscriber extends Subscriber_Subscriber{constructor(destination,total){super(destination),this.total=total,this.ring=new Array,this.count=0}_next(value){const ring=this.ring,total=this.total,count=this.count++;ring.length<total?ring.push(value):ring[count%total]=value}_complete(){const destination=this.destination;let count=this.count;if(count>0){const total=this.count>=this.total?this.total:this.count,ring=this.ring;for(let i=0;i<total;i++){const idx=count++%total;destination.next(ring[idx])}}destination.complete()}}const throwIfEmpty=(errorFactory=defaultErrorFactory)=>tap({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw errorFactory()}});function defaultErrorFactory(){return new EmptyError}function defaultIfEmpty(defaultValue=null){return source=>source.lift(new DefaultIfEmptyOperator(defaultValue))}class DefaultIfEmptyOperator{constructor(defaultValue){this.defaultValue=defaultValue}call(subscriber,source){return source.subscribe(new defaultIfEmpty_DefaultIfEmptySubscriber(subscriber,this.defaultValue))}}class defaultIfEmpty_DefaultIfEmptySubscriber extends Subscriber_Subscriber{constructor(destination,defaultValue){super(destination),this.defaultValue=defaultValue,this.isEmpty=!0}_next(value){this.isEmpty=!1,this.destination.next(value)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function last_last(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter((v,i)=>predicate(v,i,source)):identity,takeLast(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}function catchError(selector){return function(source){const operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}}class CatchOperator{constructor(selector){this.selector=selector}call(subscriber,source){return source.subscribe(new catchError_CatchSubscriber(subscriber,this.selector,this.caught))}}class catchError_CatchSubscriber extends OuterSubscriber_OuterSubscriber{constructor(destination,selector,caught){super(destination),this.selector=selector,this.caught=caught}error(err){if(!this.isStopped){let result;try{result=this.selector(err,this.caught)}catch(err2){return void super.error(err2)}this._unsubscribeAndRecycle();const innerSubscriber=new InnerSubscriber_InnerSubscriber(this,void 0,void 0);this.add(innerSubscriber),subscribeToResult(this,result,void 0,void 0,innerSubscriber)}}}function first_first(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?filter((v,i)=>predicate(v,i,source)):identity,take(1),hasDefaultValue?defaultIfEmpty(defaultValue):throwIfEmpty(()=>new EmptyError))}class EveryOperator{constructor(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}call(observer,source){return source.subscribe(new every_EverySubscriber(observer,this.predicate,this.thisArg,this.source))}}class every_EverySubscriber extends Subscriber_Subscriber{constructor(destination,predicate,thisArg,source){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}notifyComplete(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()}_next(value){let result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function scan(accumulator,seed){let hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}}class ScanOperator{constructor(accumulator,seed,hasSeed=!1){this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}call(subscriber,source){return source.subscribe(new scan_ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))}}class scan_ScanSubscriber extends Subscriber_Subscriber{constructor(destination,accumulator,_seed,hasSeed){super(destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}get seed(){return this._seed}set seed(value){this.hasSeed=!0,this._seed=value}_next(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)}_tryNext(value){const index=this.index++;let result;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)}}class FinallyOperator{constructor(callback){this.callback=callback}call(subscriber,source){return source.subscribe(new finalize_FinallySubscriber(subscriber,this.callback))}}class finalize_FinallySubscriber extends Subscriber_Subscriber{constructor(destination,callback){super(destination),this.add(new Subscription_Subscription(callback))}}class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger="imperative",restoredState=null){super(id,url),this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason){super(id,url),this.reason=reason}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error){super(id,url),this.error=error}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ɵEmptyOutletComponent{}class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return this.params.hasOwnProperty(name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}function navigationCancelingError(message){const error=Error("NavigationCancelingError: "+message);return error.ngNavigationCancelingError=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split("/");if(parts.length>segments.length)return null;if("full"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(":"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}class LoadedRouterConfig{constructor(routes,module){this.routes=routes,this.module=module}}function validateConfig(config,parentPath=""){for(let i=0;i<config.length;i++){const route=config[i];router_validateNode(route,getFullPath(parentPath,route))}}function router_validateNode(route,fullPath){if(!route)throw new Error(`\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(route))throw new Error(`Invalid configuration of route '${fullPath}': Array cannot be specified`);if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&"primary"!==route.outlet)throw new Error(`Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);if(route.redirectTo&&route.children)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);if(route.redirectTo&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);if(route.children&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);if(route.redirectTo&&route.component)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and component cannot be used together`);if(route.path&&route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===route.path&&void 0===route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);if("string"==typeof route.path&&"/"===route.path.charAt(0))throw new Error(`Invalid configuration of route '${fullPath}': path cannot start with a slash`);if(""===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch)throw new Error(`Invalid configuration of route '{path: "${fullPath}", redirectTo: "${route.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==route.pathMatch&&"full"!==route.pathMatch&&"prefix"!==route.pathMatch)throw new Error(`Invalid configuration of route '${fullPath}': pathMatch can only be set to 'prefix' or 'full'`);route.children&&validateConfig(route.children,fullPath)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?parentPath+"/":!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:"":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?Object.assign({},r,{children:children}):Object.assign({},r);return!c.component&&(children||c.loadChildren)&&c.outlet&&"primary"!==c.outlet&&(c.component=ɵEmptyOutletComponent),c}function shallowEqual(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(key=k1[i],a[key]!==b[key])return!1;return!0}function router_flatten(arr){return Array.prototype.concat.apply([],arr)}function router_last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return isObservable(value)?value:core_isPromise(value)?from(Promise.resolve(value)):of(value)}function containsTree(container,containee,exact){return exact?function(container,containee){return shallowEqual(container,containee)}(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>containee[key]===container[key])}(container.queryParams,containee.queryParams)&&function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length)return!!equalPath(container.segments.slice(0,containeePaths.length),containeePaths)&&!containee.hasChildren();if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&!!container.children.primary&&containsSegmentGroupHelper(container.children.primary,containee,next)}}(container,containee,containee.segments)}(container.root,containee.root)}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}function mapChildrenIntoArray(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{"primary"===childOutlet&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{"primary"!==childOutlet&&(res=res.concat(fn(child,childOutlet)))}),res}class UrlSerializer{}class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){return`${"/"+function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children.primary?serializeSegment(segment.children.primary,!1):"",children=[];return forEach(segment.children,(v,k)=>{"primary"!==k&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join("//")})`:primary}{const children=mapChildrenIntoArray(segment,(v,k)=>"primary"===k?[serializeSegment(segment.children.primary,!1)]:[`${k}:${serializeSegment(v,!1)}`]);return`${serializePaths(segment)}/(${children.join("//")})`}}(tree.root,!0)}${function(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join("&"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`});return strParams.length?"?"+strParams.join("&"):""}(tree.queryParams)}${"string"==typeof tree.fragment?"#"+encodeURI(tree.fragment):""}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join("/")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,";")}function encodeUriSegment(s){return encodeUriString(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\+/g,"%20"))}function serializePath(path){return`${encodeUriSegment(path.path)}${params=path.parameters,Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join("")}`;var params}const SEGMENT_RE=/^[^\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:""}const QUERY_PARAM_RE=/^[^=?&#]+/,QUERY_PARAM_VALUE_RE=/^[^?&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional("?"))do{this.parseQueryParam(params)}while(this.consumeOptional("&"));return params}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const segments=[];for(this.peekStartsWith("(")||segments.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),segments.push(this.parseSegment());let children={};this.peekStartsWith("/(")&&(this.capture("/"),children=this.parseParens(!0));let res={};return this.peekStartsWith("(")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res.primary=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(""===path&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(";");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=matchSegments(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:""}(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=function(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:""}(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(currentVal=[currentVal],params[decodedKey]=currentVal),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if("/"!==next&&")"!==next&&";"!==next)throw new Error(`Cannot parse url '${this.url}'`);let outletName=void 0;path.indexOf(":")>-1?(outletName=path.substr(0,path.indexOf(":")),this.capture(outletName),this.capture(":")):allowPrimary&&(outletName="primary");const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children.primary:new UrlSegmentGroup([],children),this.consumeOptional("//")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new Error(`Expected "${str}".`)}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function(urlTree,rootComponent){const activated=new ActivatedRouteSnapshot([],{},{},"",{},"primary",rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot("",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject_BehaviorSubject([new UrlSegment("",{})]),emptyParams=new BehaviorSubject_BehaviorSubject({}),emptyData=new BehaviorSubject_BehaviorSubject({}),emptyQueryParams=new BehaviorSubject_BehaviorSubject({}),fragment=new BehaviorSubject_BehaviorSubject(""),activated=new router_ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,"primary",rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class router_ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(map_map(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(map_map(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy="emptyOnly"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if("always"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&""===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:Object.assign({},res.params,curr.params),data:Object.assign({},res.data,curr.data),resolve:Object.assign({},res.resolve,curr._resolvedData)}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(", ")} } `:"";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){var as,bs;return shallowEqual(a.params,b.params)&&equalPath(as=a.url,bs=b.url)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters))&&!(!a.parent!=!b.parent)&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function isMatrixParams(command){return"object"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function router_tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){let qp={};return queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>""+v):""+value}),new UrlTree(urlTree.root===oldSegmentGroup?newSegmentGroup:function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new Error("Root segment cannot have matrix parameters");const cmdWithOutlet=commands.find(c=>"object"==typeof c&&null!=c&&c.outlets);if(cmdWithOutlet&&cmdWithOutlet!==router_last(commands))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function getPath(command){return"object"==typeof command&&null!=command&&command.outlets?command.outlets.primary:""+command}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&"object"==typeof next&&void 0===next.outlets){if(!router_compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!router_compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children.primary=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function(commands){return"object"!=typeof commands[0]||void 0===commands[0].outlets?{primary:commands}:commands[0].outlets}(commands),children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){if("object"==typeof commands[i]&&void 0!==commands[i].outlets){const children=createNewSegmentChildren(commands[i].outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){paths.push(new UrlSegment(segmentGroup.segments[startIndex].path,commands[0])),i++;continue}const curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,router_stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function router_stringify(params){const res={};return forEach(params,(v,k)=>res[k]=""+v),res}function router_compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr)if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context){const children=nodeChildrenAsMap(route),contexts=route.value.component?context.children:parentContexts;forEach(children,(v,k)=>this.deactivateRouteAndItsChildren(v,contexts)),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated())}}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr)if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRouteNodeAndItsChildren(stored.route)}else{const config=function(snapshot){for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}(future.snapshot),cmpFactoryResolver=config?config.module.componentFactoryResolver:null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function router_isFunction(v){return"function"==typeof v}function isUrlTree(v){return v instanceof UrlTree}class NoMatch{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch(segmentGroup){return new Observable_Observable(obs=>obs.error(new NoMatch(segmentGroup)))}function absoluteRedirect(newTree){return new Observable_Observable(obs=>obs.error(new AbsoluteRedirect(newTree)))}function namedOutletsRedirect(redirectTo){return new Observable_Observable(obs=>obs.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`)))}class router_ApplyRedirects{constructor(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(map_map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.ngModule,this.config,tree.root,"primary").pipe(map_map(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=rootCandidate.segments.length>0?new UrlSegmentGroup([],{primary:rootCandidate}):rootCandidate;return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(map_map(children=>new UrlSegmentGroup([],children))):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(ngModule,routes,segmentGroup){return function(obj,fn){if(0===Object.keys(obj).length)return of({});const waitHead=[],waitTail=[],res={};return forEach(obj,(a,k)=>{const mapped=fn(k,a).pipe(map_map(r=>res[k]=r));"primary"===k?waitHead.push(mapped):waitTail.push(mapped)}),of.apply(null,waitHead.concat(waitTail)).pipe(concatAll(),last_last(),map_map(()=>res))}(segmentGroup.children,(childOutlet,child)=>this.expandSegmentGroup(ngModule,routes,child,childOutlet))}expandSegment(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){return of(...routes).pipe(map_map(r=>this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch)return of(null);throw e}))),concatAll(),first_first(s=>!!s),catchError((e,_)=>{if(e instanceof EmptyError||"EmptyError"===e.name){if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}expandSegmentAgainstRoute(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){return"**"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild,positionalParamSegments:positionalParamSegments}=match(segmentGroup,route,segments);if(!matched)return noMatch(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(mergeMap(newSegments=>this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)))}matchSegmentAgainstRoute(ngModule,rawSegmentGroup,route,segments){if("**"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(map_map(cfg=>(route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})))):of(new UrlSegmentGroup(segments,{}));const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild}=match(rawSegmentGroup,route,segments);if(!matched)return noMatch(rawSegmentGroup);const rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(mergeMap(routerConfig=>{const childModule=routerConfig.module,childConfig=routerConfig.routes,{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=function(segmentGroup,consumedSegments,slicedSegments,config){return slicedSegments.length>0&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r)&&"primary"!==getOutlet(r))}(segmentGroup,slicedSegments,config)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function(routes,primarySegmentGroup){const res={};res.primary=primarySegmentGroup;for(const r of routes)""===r.path&&"primary"!==getOutlet(r)&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]}:0===slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r))}(segmentGroup,slicedSegments,config)?{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,slicedSegments,routes,children){const res={};for(const r of routes)isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return Object.assign({},children,res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments}:{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig);return 0===slicedSegments.length&&segmentGroup.hasChildren()?this.expandChildren(childModule,childConfig,segmentGroup).pipe(map_map(children=>new UrlSegmentGroup(consumedSegments,children))):0===childConfig.length&&0===slicedSegments.length?of(new UrlSegmentGroup(consumedSegments,{})):this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,"primary",!0).pipe(map_map(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}getChildConfig(ngModule,route,segments){return route.children?of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?of(route._loadedConfig):function(moduleInjector,route,segments){const canLoad=route.canLoad;return canLoad&&0!==canLoad.length?from(canLoad).pipe(map_map(injectionToken=>{const guard=moduleInjector.get(injectionToken);let guardVal;if(function(guard){return guard&&router_isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!router_isFunction(guard))throw new Error("Invalid CanLoad guard");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(concatAll(),(predicate=result=>!0===result,source=>source.lift(new EveryOperator(predicate,void 0,source)))):of(!0);var predicate}(ngModule.injector,route,segments).pipe(mergeMap(shouldLoad=>shouldLoad?this.configLoader.load(ngModule.injector,route).pipe(map_map(cfg=>(route._loadedConfig=cfg,cfg))):function(route){return new Observable_Observable(obs=>obs.error(navigationCancelingError(`Cannot load children because the guard of the route "path: '${route.path}'" returned false`)))}(route))):of(new LoadedRouterConfig([],ngModule))}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return of(res);if(c.numberOfChildren>1||!c.children.primary)return namedOutletsRedirect(route.redirectTo);c=c.children.primary}}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreatreUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if("string"==typeof v&&v.startsWith(":")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(":")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function match(segmentGroup,route,segments){if(""===route.path)return"full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children.primary){const c=s.children.primary;return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||segments.length>0)||"full"!==r.pathMatch)&&""===r.path&&void 0!==r.redirectTo}function getOutlet(route){return route.outlet||"primary"}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function(curr,future,mode){if("function"==typeof mode)return mode(curr,future);switch(mode){case"pathParamsChange":return!equalPath(curr.url,future.url);case"pathParamsOrQueryParamsChange":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case"paramsChange":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers);shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),getChildRouteGuards(futureNode,currNode,future.component?context?context.children:null:parentContexts,futurePath,checks),shouldRun&&checks.canDeactivateChecks.push(new CanDeactivate(context&&context.outlet&&context.outlet.component||null,curr))}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),getChildRouteGuards(futureNode,null,future.component?context?context.children:null:parentContexts,futurePath,checks)}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getToken(token,snapshot,moduleInjector){const config=function(snapshot){if(!snapshot)return null;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(snapshot);return(config?config.module.injector:moduleInjector).get(token)}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{deactivateRouteAndItsChildren(node,r.component?context?context.children.getContext(childName):null:context,checks)}),checks.canDeactivateChecks.push(new CanDeactivate(r.component&&context&&context.outlet&&context.outlet.isActivated?context.outlet.component:null,r))}const INITIAL_VALUE=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return switchMap(obs=>function(...observables){let resultSelector=null,scheduler=null;return isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),"function"==typeof observables[observables.length-1]&&(resultSelector=observables.pop()),1===observables.length&&isArray(observables[0])&&(observables=observables[0]),fromArray(observables,scheduler).lift(new CombineLatestOperator(resultSelector))}(...obs.map(o=>o.pipe(take(1),startWith(INITIAL_VALUE)))).pipe(scan((acc,list)=>{let isPending=!1;return list.reduce((innerAcc,val,i)=>{if(innerAcc!==INITIAL_VALUE)return innerAcc;if(val===INITIAL_VALUE&&(isPending=!0),!isPending){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),filter(item=>item!==INITIAL_VALUE),map_map(item=>isUrlTree(item)?item:!0===item),take(1)))}function fireActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot)),of(!0)}function fireChildActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot)),of(!0)}function runCanActivate(futureRSS,futureARS,moduleInjector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;return canActivate&&0!==canActivate.length?of(canActivate.map(c=>defer(()=>{const guard=getToken(c,futureARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivate guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())}))).pipe(prioritizedGuardValue()):of(!0)}function runCanActivateChild(futureRSS,path,moduleInjector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>function(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}(p)).filter(_=>null!==_).map(d=>defer(()=>of(d.guards.map(c=>{const guard=getToken(c,d.node,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivateChild guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue())));return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}class NoMatch$1{}class router_Recognizer{constructor(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}recognize(){try{const rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,"primary"),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),of(routeState)}catch(e){return new Observable_Observable(obs=>obs.error(e))}}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}processChildren(config,segmentGroup){const children=mapChildrenIntoArray(segmentGroup,(child,childOutlet)=>this.processSegmentGroup(config,child,childOutlet));return function(nodes){const names={};nodes.forEach(n=>{const routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){const p=routeWithSameOutletName.url.map(s=>s.toString()).join("/"),c=n.value.url.map(s=>s.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${p}' and '${c}'.`)}names[n.value.outlet]=n.value})}(children),children.sort((a,b)=>"primary"===a.value.outlet?-1:"primary"===b.value.outlet?1:a.value.outlet.localeCompare(b.value.outlet)),children}processSegment(config,segmentGroup,segments,outlet){for(const r of config)try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}processSegmentAgainstRoute(route,rawSegment,segments,outlet){if(route.redirectTo)throw new NoMatch$1;if((route.outlet||"primary")!==outlet)throw new NoMatch$1;let snapshot,consumedSegments=[],rawSlicedSegments=[];if("**"===route.path){const params=segments.length>0?router_last(segments).parameters:{};snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route))}else{const result=function(segmentGroup,route,segments){if(""===route.path){if("full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)throw new NoMatch$1;const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?Object.assign({},posParams,res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(rawSegment,route,segments);consumedSegments=result.consumedSegments,rawSlicedSegments=segments.slice(result.lastChild),snapshot=new ActivatedRouteSnapshot(consumedSegments,result.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route))}const childConfig=function(route){return route.children?route.children:route.loadChildren?route._loadedConfig.routes:[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split$1(rawSegment,consumedSegments,rawSlicedSegments,childConfig,this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren()){const children=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children)]}if(0===childConfig.length&&0===slicedSegments.length)return[new TreeNode(snapshot,[])];const children=this.processSegment(childConfig,segmentGroup,slicedSegments,"primary");return[new TreeNode(snapshot,children)]}}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)s=s._sourceSegment,res+=s._segmentIndexShift?s._segmentIndexShift:0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(slicedSegments.length>0&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&"primary"!==getOutlet$1(r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){const res={};res.primary=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(""===r.path&&"primary"!==getOutlet$1(r)){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift="legacy"===relativeLinkResolution?segmentGroup.segments.length:consumedSegments.length,res[getOutlet$1(r)]=s}return Object.assign({},children,res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||"full"!==r.pathMatch)&&""===r.path&&void 0===r.redirectTo}function getOutlet$1(route){return route.outlet||"primary"}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function getResolver(injectionToken,futureARS,futureRSS,moduleInjector){const resolver=getToken(injectionToken,futureARS,moduleInjector);return wrapIntoObservable(resolver.resolve?resolver.resolve(futureARS,futureRSS):resolver(futureARS,futureRSS))}function switchTap(next){return function(source){return source.pipe(switchMap(v=>{const nextResult=next(v);return nextResult?from(nextResult).pipe(map_map(()=>v)):from([v])}))}}class RouteReuseStrategy{}class DefaultRouteReuseStrategy{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}const ROUTES=new InjectionToken("ROUTES");class router_RouterConfigLoader{constructor(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}load(parentInjector,route){return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(map_map(factory=>{this.onLoadEndListener&&this.onLoadEndListener(route);const module=factory.create(parentInjector);return new LoadedRouterConfig(router_flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))}loadModuleFactory(loadChildren){return"string"==typeof loadChildren?from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(mergeMap(t=>t instanceof NgModuleFactory?of(t):from(this.compiler.compileModuleAsync(t))))}}class UrlHandlingStrategy{}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse("/")}function defaultRouterHook(snapshot,runExtras){return of(null)}class router_Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Subject_Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=injector.get(NgModuleRef),this.console=injector.get(Console);const ngZone=injector.get(NgZone);this.isNgZoneEnabled=ngZone instanceof NgZone,this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new router_RouterConfigLoader(loader,compiler,r=>this.triggerEvent(new RouteConfigLoadStart(r)),r=>this.triggerEvent(new RouteConfigLoadEnd(r))),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject_BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(transitions){const eventsSubject=this.events;return transitions.pipe(filter(t=>0!==t.id),map_map(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(t=>{let completed=!1,errored=!1;return of(t).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),switchMap(t=>{const urlTransition=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return of(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?empty_EMPTY:[t]}),switchMap(t=>Promise.resolve(t)),(moduleInjector=this.ngModule.injector,configLoader=this.configLoader,urlSerializer=this.urlSerializer,config=this.config,function(source){return source.pipe(switchMap(t=>function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new router_ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()}(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(map_map(urlAfterRedirects=>Object.assign({},t,{urlAfterRedirects:urlAfterRedirects})))))}),tap(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(mergeMap(t=>function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy="emptyOnly",relativeLinkResolution="legacy"){return new router_Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution).recognize()}(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(map_map(targetSnapshot=>Object.assign({},t,{targetSnapshot:targetSnapshot})))))}}(this.rootComponentType,this.config,url=>this.serializeUrl(url),this.paramsInheritanceStrategy,this.relativeLinkResolution),tap(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),tap(t=>{const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));var moduleInjector,configLoader,urlSerializer,config;if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return of(Object.assign({},t,{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:Object.assign({},extras,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),empty_EMPTY}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),map_map(t=>Object.assign({},t,{guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(moduleInjector,forwardEvent){return function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?of(Object.assign({},t,{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return from(checks).pipe(mergeMap(check=>function(component,currARS,currRSS,futureRSS,moduleInjector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;return canDeactivate&&0!==canDeactivate.length?of(canDeactivate.map(c=>{const guard=getToken(c,currARS,moduleInjector);let observable;if(function(guard){return guard&&router_isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanDeactivate guard");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(first_first())})).pipe(prioritizedGuardValue()):of(!0)}(check.component,check.route,currRSS,futureRSS,moduleInjector)),first_first(result=>!0!==result,!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(mergeMap(canDeactivate=>canDeactivate&&"boolean"==typeof canDeactivate?function(futureSnapshot,checks,moduleInjector,forwardEvent){return from(checks).pipe(concatMap(check=>from([fireChildActivationStart(check.route.parent,forwardEvent),fireActivationStart(check.route,forwardEvent),runCanActivateChild(futureSnapshot,check.path,moduleInjector),runCanActivate(futureSnapshot,check.route,moduleInjector)]).pipe(concatAll(),first_first(result=>!0!==result,!0))),first_first(result=>!0!==result,!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):of(canDeactivate)),map_map(guardsResult=>Object.assign({},t,{guardsResult:guardsResult})))}))}}(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(isUrlTree(t.guardsResult)){const error=navigationCancelingError(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw error.url=t.guardsResult,error}}),tap(t=>{const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),filter(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),"");return eventsSubject.next(navCancel),t.resolve(!1),!1}return!0}),switchTap(t=>{if(t.guards.canActivateChecks.length)return of(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),(paramsInheritanceStrategy=this.paramsInheritanceStrategy,moduleInjector=this.ngModule.injector,function(source){return source.pipe(mergeMap(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;return canActivateChecks.length?from(canActivateChecks).pipe(concatMap(check=>function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){const keys=Object.keys(resolve);if(0===keys.length)return of({});if(1===keys.length){const key=keys[0];return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map_map(value=>({[key]:value})))}const data={};return from(keys).pipe(mergeMap(key=>getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(map_map(value=>(data[key]=value,value))))).pipe(last_last(),map_map(()=>data))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(map_map(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=Object.assign({},futureARS.data,inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null)))}(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)),function(accumulator,seed){return arguments.length>=2?function(source){return pipe(scan(accumulator,seed),takeLast(1),defaultIfEmpty(seed))(source)}:function(source){return pipe(scan((acc,value,index)=>accumulator(acc,value,index+1)),takeLast(1))(source)}}((_,__)=>_),map_map(_=>t)):of(t)}))}),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}));var paramsInheritanceStrategy,moduleInjector}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),map_map(t=>{const targetRouterState=function(routeReuseStrategy,curr,prevState){const root=function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){const tree=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(curr.children.length!==result.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");result.value._futureSnapshot=curr.value;for(let i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,tree),tree}{const value=new router_ActivatedRoute(new BehaviorSubject_BehaviorSubject((c=curr.value).url),new BehaviorSubject_BehaviorSubject(c.params),new BehaviorSubject_BehaviorSubject(c.queryParams),new BehaviorSubject_BehaviorSubject(c.fragment),new BehaviorSubject_BehaviorSubject(c.data),c.outlet,c.component,c),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}}var c}(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:targetRouterState})}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=this.rootContexts,routeReuseStrategy=this.routeReuseStrategy,forwardEvent=evt=>this.triggerEvent(evt),map_map(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t))),tap({next(){completed=!0},complete(){completed=!0}}),(callback=()=>{if(!completed&&!errored){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);eventsSubject.next(navCancel),t.resolve(!1)}this.currentNavigation=null},source=>source.lift(new FinallyOperator(callback))),catchError(e=>{if(errored=!0,(error=e)&&error.ngNavigationCancelingError){const redirecting=isUrlTree(e.url);redirecting||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),t.resolve(!1),redirecting&&this.navigateByUrl(e.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const navError=new NavigationError(t.id,this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(this.errorHandler(e))}catch(ee){t.reject(ee)}}var error;return empty_EMPTY}));var callback,rootContexts,routeReuseStrategy,forwardEvent}))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}getTransition(){const transition=this.transitions.value;return transition.urlAfterRedirects=this.browserUrlTree,transition}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(change=>{let rawUrlTree=this.parseUrl(change.url);const source="popstate"===change.type?"popstate":"hashchange",state=change.state&&change.state.navigationId?change.state:null;setTimeout(()=>{this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,preserveQueryParams:preserveQueryParams,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras;isDevMode()&&preserveQueryParams&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;if(queryParamsHandling)switch(queryParamsHandling){case"merge":q=Object.assign({},this.currentUrlTree.queryParams,queryParams);break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),function(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return router_tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);const nav=function(commands){if("string"==typeof commands[0]&&1===commands.length&&"/"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if("object"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]="string"==typeof commands?commands.split("/"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return"string"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split("/").forEach((urlPart,partIndex)=>{0==partIndex&&"."===urlPart||(0==partIndex&&""===urlPart?isAbsolute=!0:".."===urlPart?numberOfDoubleDots++:""!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(commands);if(nav.toRoot())return router_tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);const startingPosition=function(nav,tree,route){if(nav.isAbsolute)return new Position(tree.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);const modifier=isMatrixParams(nav.commands[0])?0:1;return function(group,index,numberOfDoubleDots){let g=group,ci=index,dd=numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,g=g.parent,!g)throw new Error("Invalid number of '../'");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,route.snapshot._lastPathIndex+modifier,nav.numberOfDoubleDots)}(nav,urlTree,route),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return router_tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}(a,this.currentUrlTree,commands,q,f)}navigateByUrl(url,extras={skipLocationChange:!1}){isDevMode()&&this.isNgZoneEnabled&&!NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,"imperative",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new Error(`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,exact){if(isUrlTree(url))return containsTree(this.currentUrlTree,url,exact);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,exact)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(rawUrl,source,restoredState,extras){const lastNavigation=this.getTransition();if(lastNavigation&&"imperative"!==source&&"imperative"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&"hashchange"==source&&"popstate"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&"popstate"==source&&"hashchange"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);let resolve=null,reject=null;const promise=new Promise((res,rej)=>{resolve=res,reject=rej}),id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,replaceUrl,id,state){const path=this.urlSerializer.serialize(url);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,"",Object.assign({},state,{navigationId:id})):this.location.go(path,"",Object.assign({},state,{navigationId:id}))}resetStateAndUrl(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class router_RouterLink{constructor(router,route,tabIndex,renderer,el){this.router=router,this.route=route,this.commands=[],null==tabIndex&&renderer.setAttribute(el.nativeElement,"tabindex","0")}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=value}onClick(){const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,extras),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}class router_RouterLinkWithHref{constructor(router,route,locationStrategy){this.router=router,this.route=route,this.locationStrategy=locationStrategy,this.commands=[],this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.updateTargetUrlAndHref()})}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=value}ngOnChanges(changes){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(button,ctrlKey,metaKey,shiftKey){if(0!==button||ctrlKey||metaKey||shiftKey)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}function attrBoolValue(s){return""===s||!!s}class RouterLinkActive{constructor(router,element,renderer,link,linkWithHref){this.router=router,this.element=element,this.renderer=renderer,this.link=link,this.linkWithHref=linkWithHref,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(_=>this.update()),this.linksWithHrefs.changes.subscribe(_=>this.update()),this.update()}set routerLinkActive(data){const classes=Array.isArray(data)?data:data.split(" ");this.classes=classes.filter(c=>!!c)}ngOnChanges(changes){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const hasActiveLinks=this.hasActiveLinks();this.isActive!==hasActiveLinks&&(this.isActive=hasActiveLinks,this.classes.forEach(c=>{hasActiveLinks?this.renderer.addClass(this.element.nativeElement,c):this.renderer.removeClass(this.element.nativeElement,c)}))})}isLinkActive(router){return link=>router.isActive(link.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const isActiveCheckFn=this.isLinkActive(this.router);return this.link&&isActiveCheckFn(this.link)||this.linkWithHref&&isActiveCheckFn(this.linkWithHref)||this.links.some(isActiveCheckFn)||this.linksWithHrefs.some(isActiveCheckFn)}}class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}class router_RouterOutlet{constructor(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core_EventEmitter,this.deactivateEvents=new core_EventEmitter,this.name=name||"primary",parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolver){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=activatedRoute;const factory=(resolver=resolver||this.resolver).resolveComponentFactory(activatedRoute._futureSnapshot.routeConfig.component),childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===router_ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class PreloadingStrategy{}class router_PreloadAllModules{preload(route,fn){return fn().pipe(catchError(()=>of(null)))}}class router_NoPreloading{preload(route,fn){return of(null)}}class router_RouterPreloader{constructor(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy,this.loader=new router_RouterConfigLoader(moduleLoader,compiler,r=>router.triggerEvent(new RouteConfigLoadStart(r)),r=>router.triggerEvent(new RouteConfigLoadEnd(r)))}setUpPreloading(){this.subscription=this.router.events.pipe(filter(e=>e instanceof NavigationEnd),concatMap(()=>this.preload())).subscribe(()=>{})}preload(){const ngModule=this.injector.get(NgModuleRef);return this.processRoutes(ngModule,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(ngModule,routes){const res=[];for(const route of routes)if(route.loadChildren&&!route.canLoad&&route._loadedConfig){const childConfig=route._loadedConfig;res.push(this.processRoutes(childConfig.module,childConfig.routes))}else route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children));return from(res).pipe(mergeAll(),map_map(_=>{}))}preloadConfig(ngModule,route){return this.preloadingStrategy.preload(route,()=>this.loader.load(ngModule.injector,route).pipe(mergeMap(config=>(route._loadedConfig=config,this.processRoutes(config.module,config.routes)))))}}class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||"disabled",options.anchorScrolling=options.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,"popstate"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ROUTER_CONFIGURATION=new InjectionToken("ROUTER_CONFIGURATION"),ROUTER_FORROOT_GUARD=new InjectionToken("ROUTER_FORROOT_GUARD"),ROUTER_PROVIDERS=[common_Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:router_Router,useFactory:setupRouter,deps:[core_ApplicationRef,UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[UrlHandlingStrategy,new Optional],[RouteReuseStrategy,new Optional]]},ChildrenOutletContexts,{provide:router_ActivatedRoute,useFactory:rootRoute,deps:[router_Router]},{provide:NgModuleFactoryLoader,useClass:SystemJsNgModuleLoader},router_RouterPreloader,router_NoPreloading,router_PreloadAllModules,{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];function routerNgProbeToken(){return new NgProbeToken("Router",router_Router)}class router_RouterModule{constructor(guard,router){}static forRoot(routes,config){return{ngModule:router_RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[router_Router,new Optional,new SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:LocationStrategy,useFactory:provideLocationStrategy,deps:[PlatformLocation,[new Inject(APP_BASE_HREF),new Optional],ROUTER_CONFIGURATION]},{provide:RouterScroller,useFactory:createRouterScroller,deps:[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:router_NoPreloading},{provide:NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[router_RouterInitializer,{provide:APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[router_RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[router_RouterInitializer]},{provide:APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}}static forChild(routes){return{ngModule:router_RouterModule,providers:[provideRoutes(routes)]}}}function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}function provideLocationStrategy(platformLocationStrategy,baseHref,options={}){return options.useHash?new HashLocationStrategy(platformLocationStrategy,baseHref):new PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideRoutes(routes){return[{provide:ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}function setupRouter(ref,urlSerializer,contexts,location,injector,loader,compiler,config,opts={},urlHandlingStrategy,routeReuseStrategy){const router=new router_Router(null,urlSerializer,contexts,location,injector,loader,compiler,router_flatten(config));if(urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),opts.errorHandler&&(router.errorHandler=opts.errorHandler),opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler),opts.enableTracing){const dom=getDOM();router.events.subscribe(e=>{dom.logGroup("Router Event: "+e.constructor.name),dom.log(e.toString()),dom.log(e),dom.logGroupEnd()})}return opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation),opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy),opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy),opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution),router}function rootRoute(router){return router.routerState.root}class router_RouterInitializer{constructor(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new Subject_Subject}appInitializer(){return this.injector.get(LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let resolve=null;const res=new Promise(r=>resolve=r),router=this.injector.get(router_Router),opts=this.injector.get(ROUTER_CONFIGURATION);if(this.isLegacyDisabled(opts)||this.isLegacyEnabled(opts))resolve(!0);else if("disabled"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if("enabled"!==opts.initialNavigation)throw new Error(`Invalid initialNavigation options: '${opts.initialNavigation}'`);router.hooks.afterPreactivation=()=>this.initNavigation?of(null):(this.initNavigation=!0,resolve(!0),this.resultOfPreactivationDone),router.initialNavigation()}return res})}bootstrapListener(bootstrappedComponentRef){const opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(router_RouterPreloader),routerScroller=this.injector.get(RouterScroller),router=this.injector.get(router_Router),ref=this.injector.get(core_ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(opts){return"legacy_enabled"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation}isLegacyDisabled(opts){return"legacy_disabled"===opts.initialNavigation||!1===opts.initialNavigation}}function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}const ROUTER_INITIALIZER=new InjectionToken("Router Initializer");var RenderType_ɵangular_packages_router_router_l=createRendererType2({encapsulation:2,styles:[],data:{}});function View_ɵangular_packages_router_router_l_0(_l){return viewDef(0,[(_l()(),elementDef(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),directiveDef(1,212992,null,0,router_RouterOutlet,[ChildrenOutletContexts,ViewContainerRef,ComponentFactoryResolver,[8,null],ChangeDetectorRef],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}function View_ɵangular_packages_router_router_l_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ng-component",[],null,null,null,View_ɵangular_packages_router_router_l_0,RenderType_ɵangular_packages_router_router_l)),directiveDef(1,49152,null,0,ɵEmptyOutletComponent,[],null,null)],null,null)}var ɵangular_packages_router_router_lNgFactory=createComponentFactory("ng-component",ɵEmptyOutletComponent,View_ɵangular_packages_router_router_l_Host_0,{},{},[]);class ngx_toastr_ToastPackage{constructor(toastId,config,message,title,toastType,toastRef){this.toastId=toastId,this.config=config,this.message=message,this.title=title,this.toastType=toastType,this.toastRef=toastRef,this._onTap=new Subject_Subject,this._onAction=new Subject_Subject,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(action){this._onAction.next(action)}onAction(){return this._onAction.asObservable()}}const DefaultNoComponentGlobalConfig={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},TOAST_CONFIG=new InjectionToken("ToastConfig");class ComponentPortal{constructor(component,injector){this.component=component,this.injector=injector}attach(host,newestOnTop){return this._attachedHost=host,host.attach(this,newestOnTop)}detach(){const host=this._attachedHost;if(host)return this._attachedHost=void 0,host.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(host){this._attachedHost=host}}class DomPortalHost extends class{attach(portal,newestOnTop){return this._attachedPortal=portal,this.attachComponentPortal(portal,newestOnTop)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(fn){this._disposeFn=fn}}{constructor(_hostDomElement,_componentFactoryResolver,_appRef){super(),this._hostDomElement=_hostDomElement,this._componentFactoryResolver=_componentFactoryResolver,this._appRef=_appRef}attachComponentPortal(portal,newestOnTop){const componentFactory=this._componentFactoryResolver.resolveComponentFactory(portal.component);let componentRef;return componentRef=componentFactory.create(portal.injector),this._appRef.attachView(componentRef.hostView),this.setDisposeFn(()=>{this._appRef.detachView(componentRef.hostView),componentRef.destroy()}),newestOnTop?this._hostDomElement.insertBefore(this._getComponentRootNode(componentRef),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(componentRef)),componentRef}_getComponentRootNode(componentRef){return componentRef.hostView.rootNodes[0]}}let ngx_toastr_OverlayContainer=(()=>{let OverlayContainer=class{constructor(_document){this._document=_document}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const container=this._document.createElement("div");container.classList.add("overlay-container"),this._document.body.appendChild(container),this._containerElement=container}};return OverlayContainer.ngInjectableDef=defineInjectable({factory:function(){return new OverlayContainer(inject(common_DOCUMENT))},token:OverlayContainer,providedIn:"root"}),OverlayContainer})();class OverlayRef{constructor(_portalHost){this._portalHost=_portalHost}attach(portal,newestOnTop=!0){return this._portalHost.attach(portal,newestOnTop)}detach(){return this._portalHost.detach()}}let ngx_toastr_Overlay=(()=>{let Overlay=class{constructor(_overlayContainer,_componentFactoryResolver,_appRef,_document){this._overlayContainer=_overlayContainer,this._componentFactoryResolver=_componentFactoryResolver,this._appRef=_appRef,this._document=_document,this._paneElements=new Map}create(positionClass,overlayContainer){return this._createOverlayRef(this.getPaneElement(positionClass,overlayContainer))}getPaneElement(positionClass="",overlayContainer){return this._paneElements.get(overlayContainer)||this._paneElements.set(overlayContainer,{}),this._paneElements.get(overlayContainer)[positionClass]||(this._paneElements.get(overlayContainer)[positionClass]=this._createPaneElement(positionClass,overlayContainer)),this._paneElements.get(overlayContainer)[positionClass]}_createPaneElement(positionClass,overlayContainer){const pane=this._document.createElement("div");return pane.id="toast-container",pane.classList.add(positionClass),pane.classList.add("toast-container"),overlayContainer?overlayContainer.getContainerElement().appendChild(pane):this._overlayContainer.getContainerElement().appendChild(pane),pane}_createPortalHost(pane){return new DomPortalHost(pane,this._componentFactoryResolver,this._appRef)}_createOverlayRef(pane){return new OverlayRef(this._createPortalHost(pane))}};return Overlay.ngInjectableDef=defineInjectable({factory:function(){return new Overlay(inject(ngx_toastr_OverlayContainer),inject(ComponentFactoryResolver),inject(core_ApplicationRef),inject(common_DOCUMENT))},token:Overlay,providedIn:"root"}),Overlay})();class ngx_toastr_ToastRef{constructor(_overlayRef){this._overlayRef=_overlayRef,this.duplicatesCount=0,this._afterClosed=new Subject_Subject,this._activate=new Subject_Subject,this._manualClose=new Subject_Subject,this._resetTimeout=new Subject_Subject,this._countDuplicate=new Subject_Subject}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(resetTimeout,countDuplicate){resetTimeout&&this._resetTimeout.next(),countDuplicate&&this._countDuplicate.next(++this.duplicatesCount)}}class ToastInjector{constructor(_toastPackage,_parentInjector){this._toastPackage=_toastPackage,this._parentInjector=_parentInjector}get(token,notFoundValue,flags){return token===ngx_toastr_ToastPackage?this._toastPackage:this._parentInjector.get(token,notFoundValue,flags)}}let ngx_toastr_ToastrService=(()=>{let ToastrService=class{constructor(token,overlay,_injector,sanitizer,ngZone){this.overlay=overlay,this._injector=_injector,this.sanitizer=sanitizer,this.ngZone=ngZone,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},token.default,token.config),token.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},token.default.iconClasses,token.config.iconClasses))}show(message,title,override={},type=""){return this._preBuildNotification(type,message,title,this.applyConfig(override))}success(message,title,override={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",message,title,this.applyConfig(override))}error(message,title,override={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",message,title,this.applyConfig(override))}info(message,title,override={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",message,title,this.applyConfig(override))}warning(message,title,override={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",message,title,this.applyConfig(override))}clear(toastId){for(const toast of this.toasts)if(void 0!==toastId){if(toast.toastId===toastId)return void toast.toastRef.manualClose()}else toast.toastRef.manualClose()}remove(toastId){const found=this._findToast(toastId);if(!found)return!1;if(found.activeToast.toastRef.close(),this.toasts.splice(found.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const p=this.toasts[this.currentlyActive].toastRef;p.isInactive()||(this.currentlyActive=this.currentlyActive+1,p.activate())}return!0}findDuplicate(message,resetOnDuplicate,countDuplicates){for(let i=0;i<this.toasts.length;i++){const toast=this.toasts[i];if(toast.message===message)return toast.toastRef.onDuplicate(resetOnDuplicate,countDuplicates),toast}return null}applyConfig(override={}){return Object.assign({},this.toastrConfig,override)}_findToast(toastId){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===toastId)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(toastType,message,title,config){return config.onActivateTick?this.ngZone.run(()=>this._buildNotification(toastType,message,title,config)):this._buildNotification(toastType,message,title,config)}_buildNotification(toastType,message,title,config){if(!config.toastComponent)throw new Error("toastComponent required");const duplicate=this.findDuplicate(message,this.toastrConfig.resetTimeoutOnDuplicate,this.toastrConfig.countDuplicates);if(message&&this.toastrConfig.preventDuplicates&&null!==duplicate)return duplicate;this.previousToastMessage=message;let keepInactive=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(keepInactive=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const overlayRef=this.overlay.create(config.positionClass,this.overlayContainer);this.index=this.index+1;let sanitizedMessage=message;message&&config.enableHtml&&(sanitizedMessage=this.sanitizer.sanitize(SecurityContext.HTML,message));const toastRef=new ngx_toastr_ToastRef(overlayRef),toastPackage=new ngx_toastr_ToastPackage(this.index,config,sanitizedMessage,title,toastType,toastRef),toastInjector=new ToastInjector(toastPackage,this._injector),component=new ComponentPortal(config.toastComponent,toastInjector),portal=overlayRef.attach(component,this.toastrConfig.newestOnTop);toastRef.componentInstance=portal._component;const ins={toastId:this.index,message:message||"",toastRef:toastRef,onShown:toastRef.afterActivate(),onHidden:toastRef.afterClosed(),onTap:toastPackage.onTap(),onAction:toastPackage.onAction(),portal:portal};return keepInactive||setTimeout(()=>{ins.toastRef.activate(),this.currentlyActive=this.currentlyActive+1}),this.toasts.push(ins),ins}};return ToastrService.ngInjectableDef=defineInjectable({factory:function(){return new ToastrService(inject(TOAST_CONFIG),inject(ngx_toastr_Overlay),inject(INJECTOR),inject(DomSanitizer),inject(NgZone))},token:ToastrService,providedIn:"root"}),ToastrService})(),Toast=class{constructor(toastrService,toastPackage,ngZone){this.toastrService=toastrService,this.toastPackage=toastPackage,this.ngZone=ngZone,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=toastPackage.message,this.title=toastPackage.title,this.options=toastPackage.config,this.originalTimeout=toastPackage.config.timeOut,this.toastClasses=`${toastPackage.toastType} ${toastPackage.config.toastClass}`,this.sub=toastPackage.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=toastPackage.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=toastPackage.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=toastPackage.toastRef.countDuplicate().subscribe(count=>{this.duplicatesCount=count})}get displayStyle(){return"inactive"===this.state.value?"none":"inherit"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const now=(new Date).getTime();this.width=(this.hideTime-now)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(func,timeout){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(func),timeout)):this.timeout=setTimeout(()=>func(),timeout)}outsideInterval(func,timeout){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(func),timeout)):this.intervalId=setInterval(()=>func(),timeout)}runInsideAngular(func){this.ngZone?this.ngZone.run(()=>func()):func()}};var ToastrModule_1;const DefaultGlobalConfig=Object.assign({},DefaultNoComponentGlobalConfig,{toastComponent:Toast});let ToastrModule=ToastrModule_1=class{static forRoot(config={}){return{ngModule:ToastrModule_1,providers:[{provide:TOAST_CONFIG,useValue:{default:DefaultGlobalConfig,config:config}}]}}};var ToastNoAnimationModule_1;const DefaultNoAnimationsGlobalConfig=Object.assign({},DefaultNoComponentGlobalConfig,{toastComponent:class{constructor(toastrService,toastPackage,appRef){this.toastrService=toastrService,this.toastPackage=toastPackage,this.appRef=appRef,this.width=-1,this.toastClasses="",this.state="inactive",this.message=toastPackage.message,this.title=toastPackage.title,this.options=toastPackage.config,this.originalTimeout=toastPackage.config.timeOut,this.toastClasses=`${toastPackage.toastType} ${toastPackage.config.toastClass}`,this.sub=toastPackage.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=toastPackage.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=toastPackage.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=toastPackage.toastRef.countDuplicate().subscribe(count=>{this.duplicatesCount=count})}get displayStyle(){return"inactive"===this.state?"none":"inherit"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const now=(new Date).getTime();this.width=(this.hideTime-now)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}});ToastNoAnimationModule_1=class{static forRoot(config={}){return{ngModule:ToastNoAnimationModule_1,providers:[{provide:TOAST_CONFIG,useValue:{default:DefaultNoAnimationsGlobalConfig,config:config}}]}}};var RenderType_Toast=createRendererType2({encapsulation:2,styles:[],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"inactive",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"active",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"removed",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"inactive => active",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null},{type:1,expr:"active => removed",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null}],options:{}}]}});function View_Toast_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"button",[["aria-label","Close"],["class","toast-close-button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.remove()&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"]))],null,null)}function View_Toast_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,null,null,null,null,null,null,null)),(_l()(),textDef(1,null,["[","]"]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.duplicatesCount+1)}))}function View_Toast_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"div",[],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(_l()(),textDef(1,null,[" "," "])),(_l()(),anchorDef(16777216,null,null,1,null,View_Toast_3)),directiveDef(3,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){_ck(_v,3,0,_v.component.duplicatesCount)}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.options.titleClass,_co.title),_ck(_v,1,0,_co.title)}))}function View_Toast_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[8,"innerHTML",1]],null,null,null,null))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.options.messageClass,_co.message)}))}function View_Toast_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(_l()(),textDef(1,null,[" "," "]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.options.messageClass,_co.message),_ck(_v,1,0,_co.message)}))}function View_Toast_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,0,"div",[["class","toast-progress"]],[[4,"width",null]],null,null,null,null))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.width+"%")}))}function View_Toast_0(_l){return viewDef(0,[(_l()(),anchorDef(16777216,null,null,1,null,View_Toast_1)),directiveDef(1,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_Toast_2)),directiveDef(3,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_Toast_4)),directiveDef(5,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_Toast_5)),directiveDef(7,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_Toast_6)),directiveDef(9,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.options.closeButton),_ck(_v,3,0,_co.title),_ck(_v,5,0,_co.message&&_co.options.enableHtml),_ck(_v,7,0,_co.message&&!_co.options.enableHtml),_ck(_v,9,0,_co.options.progressBar)}),null)}function View_Toast_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["toast-component",""]],[[8,"className",0],[40,"@flyInOut",0],[4,"display",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,1).tapToast()&&ad),"mouseenter"===en&&(ad=!1!==nodeValue(_v,1).stickAround()&&ad),"mouseleave"===en&&(ad=!1!==nodeValue(_v,1).delayedHideToast()&&ad),ad}),View_Toast_0,RenderType_Toast)),directiveDef(1,180224,null,0,Toast,[ngx_toastr_ToastrService,ngx_toastr_ToastPackage,NgZone],null,null)],null,(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).toastClasses,nodeValue(_v,1).state,nodeValue(_v,1).displayStyle)}))}var ToastNgFactory=createComponentFactory("[toast-component]",Toast,View_Toast_Host_0,{},{},[]);const faNormalizeIconSpec=(iconSpec,defaultPrefix="fas")=>{return null==iconSpec?null:void 0!==(i=iconSpec).prefix&&void 0!==i.iconName?iconSpec:Array.isArray(iconSpec)&&2===iconSpec.length?{prefix:iconSpec[0],iconName:iconSpec[1]}:"string"==typeof iconSpec?{prefix:defaultPrefix,iconName:iconSpec}:void 0;var i},objectWithKey=(key,value)=>Array.isArray(value)&&value.length>0||!Array.isArray(value)&&value?{[key]:value}:{},faClassList=props=>{const classes={"fa-spin":props.spin,"fa-pulse":props.pulse,"fa-fw":props.fixedWidth,"fa-border":props.border,"fa-li":props.listItem,"fa-inverse":props.inverse,"fa-layers-counter":props.counter,"fa-flip-horizontal":"horizontal"===props.flip||"both"===props.flip,"fa-flip-vertical":"vertical"===props.flip||"both"===props.flip,["fa-"+props.size]:null!==props.size,["fa-rotate-"+props.rotate]:null!==props.rotate,["fa-pull-"+props.pull]:null!==props.pull};return Object.keys(classes).map(key=>classes[key]?key:null).filter(key=>key)},faNotFoundIconHtml=`<svg class="${index_es_config.replacementClass}" viewBox="0 0 448 512"></svg>\x3c!--icon not found--\x3e`;let angular_fontawesome_FaIconService=(()=>{class FaIconService{constructor(){this.defaultPrefix="fas"}}return FaIconService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new FaIconService},token:FaIconService,providedIn:"root"}),FaIconService})();class angular_fontawesome_FaIconComponent{constructor(sanitizer,iconService){this.sanitizer=sanitizer,this.iconService=iconService,this.classes=[]}ngOnChanges(changes){changes&&(this.updateIconSpec(),this.updateParams(),this.updateIcon(),this.renderIcon())}updateIconSpec(){this.iconSpec=faNormalizeIconSpec(this.iconProp,this.iconService.defaultPrefix)}updateParams(){const classes=objectWithKey("classes",[...faClassList({flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth}),...this.classes]),mask=objectWithKey("mask",faNormalizeIconSpec(this.mask,this.iconService.defaultPrefix)),parsedTransform="string"==typeof this.transform?function(transformString){var transform={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return transformString?transformString.toLowerCase().split(" ").reduce((function(acc,n){var parts=n.toLowerCase().split("-"),first=parts[0],rest=parts.slice(1).join("-");if(first&&"h"===rest)return acc.flipX=!0,acc;if(first&&"v"===rest)return acc.flipY=!0,acc;if(rest=parseFloat(rest),isNaN(rest))return acc;switch(first){case"grow":acc.size=acc.size+rest;break;case"shrink":acc.size=acc.size-rest;break;case"left":acc.x=acc.x-rest;break;case"right":acc.x=acc.x+rest;break;case"up":acc.y=acc.y-rest;break;case"down":acc.y=acc.y+rest;break;case"rotate":acc.rotate=acc.rotate+rest}return acc}),transform):transform}(this.transform):this.transform,transform=objectWithKey("transform",parsedTransform);this.params=Object.assign({title:this.title},transform,classes,mask,{styles:this.styles,symbol:this.symbol})}updateIcon(){this.icon=icon(this.iconSpec,this.params)}renderIcon(){this.iconSpec||console.error("FontAwesome: Could not find icon. It looks like you've provided a null or undefined icon object to this component."),((iconObj,iconSpec)=>{iconSpec&&!this.icon&&console.error(`FontAwesome: Could not find icon with iconName=${iconSpec.iconName} and prefix=${iconSpec.prefix}`)})(0,this.iconSpec),this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(this.icon?this.icon.html.join("\n"):faNotFoundIconHtml)}}class FontAwesomeModule{}var RenderType_FaIconComponent=createRendererType2({encapsulation:2,styles:[],data:{}});function View_FaIconComponent_0(_l){return viewDef(0,[],null,null)}var crypto_js=__webpack_require__("NFKh");class User{constructor(email,id,uToken,uTokenExpirationDate,pwHash){this.email=email,this.id=id,this.uToken=uToken,this.uTokenExpirationDate=uTokenExpirationDate,this.pwHash=pwHash}get token(){return!this.uTokenExpirationDate||new Date>this.uTokenExpirationDate?null:this.uToken}get expirationDate(){return this.uTokenExpirationDate}}let auth_service_AuthService=(()=>{class AuthService{constructor(http,router,connection,baseData,apiService){this.http=http,this.router=router,this.connection=connection,this.baseData=baseData,this.apiService=apiService,this.user=null,this.authPath="/auth/login"}logout(){this.baseData.setCurrentUser(null)}login(email,password){const loginUrl=this.apiService.getUrlByPath(this.authPath);console.log("#37 AuthService.login",{email:email,password:password,loginUrl:loginUrl});const pwHash=crypto_js.SHA3("Inventory"+password),pwHashB64=crypto_js.enc.Base64.stringify(pwHash);if(!this.connection.hasNetworkConnection){const lastUser=this.getUser();let err="Es besteht aktuell keine Serververbindung! ";if(lastUser)if(lastUser.email===email){if(lastUser.pwHash===pwHashB64)return new Observable_Observable(observer=>{observer.next(!0),observer.complete()});err+="Passwort stimmt nicht mit dem ihrer letzten Anmeldung überein!<br>",err+="last pwHash: "+lastUser.pwHash+"<br>",err+="this pwHash: "+pwHashB64+"<br>",err+=JSON.stringify(lastUser)}else err+="Die Email stimmt nicht mit der letzten Anmeldung überein. ",err+="Im Offline-Modus kann nur die letzte Sitzung wieder aufgebaut werden!",err+="Korrigieren Sie ihre Email-Angabe oder versuchen es erneut wenn sie online sind!";else err+="Und aktuell existieren keine vorherigen Sitzungen, die wieder aufgebaut werden können.",err+="Versuchen Sie es später noch einmal!";return throwError_throwError(err)}return this.http.post(loginUrl,{email:email,password:password,returnSecureToken:!0,clientDeviceId:this.getClientDeviceId()}).pipe(catchError(this.handleError),tap(resData=>{console.log("AuthService.login",{resData:resData}),this.handleAuthentication(email,resData.auth_identifier,resData.access_token,+resData.expires_in,+resData.clientDeviceId,pwHashB64)}))}handleAuthentication(email,userId,token,expiresIn,clientDeviceId,pwHash){const expirationDate=new Date((new Date).getTime()+1e3*expiresIn);this.user=new User(email,userId,token,expirationDate,pwHash);const previousUser=this.baseData.getCurrentUser();previousUser&&this.baseData.setPreviousUser(previousUser),this.setUserData(this.user),this.setClientDeviceId(clientDeviceId),this.connection.setAuthState(!0),this.connection.refresh()}setUserData(userData){this.baseData.setCurrentUser(this.user),localStorage.setItem("userData",JSON.stringify(userData))}setClientDeviceId(devid){this.baseData.setCurrentDevice(devid)}getClientDeviceId(){return this.baseData.getCurrentDeviceId()||0}getUser(){if(this.user instanceof User)return this.user;const userData=JSON.parse(localStorage.getItem("userData"));return userData&&"email"in userData&&"id"in userData&&"uToken"in userData&&"uTokenExpirationDate"in userData&&"pwHash"in userData?new User(userData.email,userData.id,userData.uToken,userData.uTokenExpirationDate,userData.pwHash):null}getUserToken(){return this.user instanceof User?this.user.token:""}handleError(errorRes){let errorMessage="An unknown error occurred!";if(!errorRes.error||!errorRes.error.error)return throwError_throwError(errorMessage);switch(errorRes.error.error.message){case"EMAIL_EXISTS":errorMessage="This email exists already";break;case"EMAIL_NOT_FOUND":errorMessage="This email does not exist.";break;case"INVALID_PASSWORD":errorMessage="This password is not correct."}return throwError_throwError(errorMessage)}}return AuthService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new AuthService(ɵɵinject(http_HttpClient),ɵɵinject(router_Router),ɵɵinject(connection_service_service_ConnectionService),ɵɵinject(basedata_service_BasedataService),ɵɵinject(api_service_ApiService))},token:AuthService,providedIn:"root"}),AuthService})();var RenderType_AuthComponent=createRendererType2({encapsulation:0,styles:[["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%}.bg[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-repeat:no-repeat;background-position:center;background-attachment:fixed;background-size:cover;overflow:auto;background:linear-gradient(to right bottom,#1cc7d0,#013ca6,#013ca6,#1cc7d0)}.h1[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:100;color:#fff;z-index:1;position:relative;margin-left:auto;margin-right:auto;text-align:center;width:14rem;margin-bottom:3rem;letter-spacing:.2em}.h2[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:2rem;color:#fff;font-weight:300;letter-spacing:.4em;margin-bottom:1.5rem}.user_card[_ngcontent-%COMP%]{height:400px;width:350px;margin-top:auto;margin-bottom:auto;background:rgba(0,0,0,.25);position:relative;display:flex;justify-content:center;flex-direction:column;padding:10px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-webkit-box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);-moz-box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:5px}.brand_logo_container[_ngcontent-%COMP%]{position:absolute;height:90px;width:200px;top:25px;border-radius:5px;background:#60a3bc;padding:10px;text-align:center}.brand_logo[_ngcontent-%COMP%]{height:150px;width:150px;border-radius:50%;border:2px solid #fff}.login_btn[_ngcontent-%COMP%]{width:100%;background:#1bc1ce!important;color:#fff!important}.login_btn[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:0!important}.login_container[_ngcontent-%COMP%]{margin-top:2rem;padding:0}.input-group-text[_ngcontent-%COMP%]{background:#1bc1ce!important;color:#fff!important;border:0!important;border-radius:.25rem 0 0 .25rem!important}.input_pass[_ngcontent-%COMP%]:focus, .input_user[_ngcontent-%COMP%]{box-shadow:none!important;outline:0!important}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::before{background-color:#c0392b!important}.brand_logo_barcode[_ngcontent-%COMP%]{font-size:6rem;position:absolute;top:-25%;left:9%;width:83%;height:6rem;text-align:center;white-space:nowrap;overflow:hidden}.brand_logo_text[_ngcontent-%COMP%]{font-size:1rem;position:absolute;top:30px;left:0;width:100%;text-align:center;background-color:inherit;font-weight:700;letter-spacing:.06em;padding:.2em 0 .3em}.form-control.ng-invalid[_ngcontent-%COMP%]{border-right:.4rem solid #f7a9a9}.form-control.ng-valid[_ngcontent-%COMP%]{border-right:.4rem solid #adfaad}"]],data:{}});function View_AuthComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","alert alert-danger"],["style","max-width:90vw"]],null,null,null,null,null)),(_l()(),textDef(1,null,["",""]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.error)}))}function View_AuthComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","bg"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,49,"div",[["class","container h-100"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,48,"div",[["class","d-flex justify-content-center h-100"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,47,"div",[],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,"h1",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["merTens Inventory"])),(_l()(),elementDef(6,0,null,null,42,"div",[["class","user_card"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,1,"h2",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["LOGIN"])),(_l()(),elementDef(10,0,null,null,38,"div",[["class","d-flex justify-content-center form_container"]],null,null,null,null,null)),(_l()(),elementDef(11,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"submit"===en&&(ad=!1!==nodeValue(_v,13).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==nodeValue(_v,13).onReset()&&ad),"ngSubmit"===en&&(ad=!1!==_co.onLoginSubmit()&&ad),ad}),null,null)),directiveDef(12,16384,null,0,ɵNgNoValidate,[],null,null),directiveDef(13,4210688,[["loginForm",4]],0,forms_NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),providerDef(2048,null,ControlContainer,null,[forms_NgForm]),directiveDef(15,16384,null,0,NgControlStatusGroup,[[4,ControlContainer]],null,null),(_l()(),elementDef(16,0,null,null,15,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(18,0,null,null,3,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(20,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),pureArrayDef(21,2),(_l()(),elementDef(22,0,null,null,9,"input",[["class","form-control input_user"],["minlength","3"],["name","user"],["pattern","[a-zA-Z0-9.@]{3,}"],["placeholder","username"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,23)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,23).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,23)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,23)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.form.email=$event)&&ad),ad}),null,null)),directiveDef(23,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(24,16384,null,0,RequiredValidator,[],{required:[0,"required"]},null),directiveDef(25,540672,null,0,MinLengthValidator,[],{minlength:[0,"minlength"]},null),directiveDef(26,540672,null,0,PatternValidator,[],{pattern:[0,"pattern"]},null),providerDef(1024,null,NG_VALIDATORS,(function(p0_0,p1_0,p2_0){return[p0_0,p1_0,p2_0]}),[RequiredValidator,MinLengthValidator,PatternValidator]),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(29,671744,null,0,forms_NgModel,[[2,ControlContainer],[6,NG_VALIDATORS],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(31,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(32,0,null,null,13,"div",[["class","input-group mb-2"]],null,null,null,null,null)),(_l()(),elementDef(33,0,null,null,4,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(34,0,null,null,3,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),elementDef(35,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(36,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),pureArrayDef(37,2),(_l()(),elementDef(38,0,null,null,7,"input",[["class","form-control input_pass"],["name","password"],["placeholder","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,39)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,39).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,39)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,39)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.form.password=$event)&&ad),ad}),null,null)),directiveDef(39,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(40,16384,null,0,RequiredValidator,[],{required:[0,"required"]},null),providerDef(1024,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[RequiredValidator]),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(43,671744,null,0,forms_NgModel,[[2,ControlContainer],[6,NG_VALIDATORS],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(45,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(46,0,null,null,2,"div",[["class","d-flex justify-content-center login_container"]],null,null,null,null,null)),(_l()(),elementDef(47,0,null,null,1,"button",[["class","btn login_btn"],["name","button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onLoginSubmit()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Login"])),(_l()(),anchorDef(16777216,null,null,1,null,View_AuthComponent_1)),directiveDef(50,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(51,0,null,null,2,"div",[["style","display: none"]],null,null,null,null,null)),(_l()(),elementDef(52,0,null,null,1,"p",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["login works!"]))],(function(_ck,_v){var _co=_v.component,currVal_8=_ck(_v,21,0,"fa","user");_ck(_v,20,0,currVal_8),_ck(_v,24,0,""),_ck(_v,25,0,"3"),_ck(_v,26,0,"[a-zA-Z0-9.@]{3,}"),_ck(_v,29,0,"user",_co.form.email);var currVal_25=_ck(_v,37,0,"fa","key");_ck(_v,36,0,currVal_25),_ck(_v,40,0,""),_ck(_v,43,0,"password",_co.form.password),_ck(_v,50,0,_co.error)}),(function(_ck,_v){_ck(_v,11,0,nodeValue(_v,15).ngClassUntouched,nodeValue(_v,15).ngClassTouched,nodeValue(_v,15).ngClassPristine,nodeValue(_v,15).ngClassDirty,nodeValue(_v,15).ngClassValid,nodeValue(_v,15).ngClassInvalid,nodeValue(_v,15).ngClassPending),_ck(_v,19,0,nodeValue(_v,20).renderedIconHTML),_ck(_v,22,0,nodeValue(_v,24).required?"":null,nodeValue(_v,25).minlength?nodeValue(_v,25).minlength:null,nodeValue(_v,26).pattern?nodeValue(_v,26).pattern:null,nodeValue(_v,31).ngClassUntouched,nodeValue(_v,31).ngClassTouched,nodeValue(_v,31).ngClassPristine,nodeValue(_v,31).ngClassDirty,nodeValue(_v,31).ngClassValid,nodeValue(_v,31).ngClassInvalid,nodeValue(_v,31).ngClassPending),_ck(_v,35,0,nodeValue(_v,36).renderedIconHTML),_ck(_v,38,0,nodeValue(_v,40).required?"":null,nodeValue(_v,45).ngClassUntouched,nodeValue(_v,45).ngClassTouched,nodeValue(_v,45).ngClassPristine,nodeValue(_v,45).ngClassDirty,nodeValue(_v,45).ngClassValid,nodeValue(_v,45).ngClassInvalid,nodeValue(_v,45).ngClassPending),_ck(_v,47,0,nodeValue(_v,13).invalid)}))}function View_AuthComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-auth",[],null,null,null,View_AuthComponent_0,RenderType_AuthComponent)),directiveDef(1,245760,null,0,AuthComponent,[auth_service_AuthService,router_Router,connection_service_service_ConnectionService,basedata_service_BasedataService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var AuthComponentNgFactory=createComponentFactory("app-auth",AuthComponent,View_AuthComponent_Host_0,{username:"username",password:"password",onlineStatusMessage:"onlineStatusMessage",onlineStatus:"onlineStatus"},{},[]);class progressbar_component_ProgressbarComponent{constructor(){this.title="Fortschrittsanzeige",this.shortTitle="",this.type="success",this.restType="danger",this.value=0,this.total=0,this.sendDoneClick=!1,this.sendRestClick=!1,this.clickedDone=new core_EventEmitter,this.clickedRest=new core_EventEmitter}get short(){return this.shortTitle?this.shortTitle:this.title}get progressAmount(){return this.value?this.total?Math.round(1e3*this.value/this.total)/10:50:0}get progressRest(){return 100-this.progressAmount}get rest(){return Math.min(0,this.total-this.value)}get doneText(){return this.doneAmountText+this.donePercentText}get doneAmountText(){return this.value+" Stk"}get donePercentText(){return this.total&&100!==this.total?this.progressAmount+" %":""}get totalText(){return(this.total?this.total.toString():"??")+" Stk"}get restText(){return this.total?this.total-this.value+" Stk"+(this.total&&100!==this.total?" ("+this.progressRest+" %)":""):"??"}get restAmountText(){return this.total?Math.max(0,this.total-this.value)+" Stk":""}get restPercentText(){return this.total?this.progressRest+" %":""}ngOnInit(){}onClickDone(e){console.log("onClickDone",{e:e}),this.clickedDone.emit(e)}onClickBarDone(e){e.stopPropagation(),this.onClickDone(e)}onClickRest(e){console.log("onClickRest",{e:e}),this.clickedRest.emit(e)}}var RenderType_ProgressbarComponent=createRendererType2({encapsulation:0,styles:[[".progress.progress-elemente[_ngcontent-%COMP%]{height:calc(1.5em + .75rem + 2px);position:relative}.progress-text[_ngcontent-%COMP%]{position:absolute;top:0;left:calc(50% - 1rem);color:#fff;line-height:calc(1.5em + .75rem + 2px)}"]],data:{}});function View_ProgressbarComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,"label",[["class","mb-0"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[["class","d-none d-md-inline"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",": "])),(_l()(),elementDef(3,0,null,null,1,"span",[["class","d-inline d-md-none"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",": "])),(_l()(),textDef(5,null,[" ","\n"])),(_l()(),elementDef(6,0,null,null,20,"div",[],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,8,"div",[["class","progress progress-elemente"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onClickRest($event)&&ad),ad}),null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(9,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(10,{"bg-danger":0}),(_l()(),elementDef(11,0,null,null,2,"div",[["class","progress-bar bg-success"],["role","progressbar"]],[[4,"width",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onClickBarDone($event)&&ad),ad}),null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(13,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(_l()(),elementDef(14,0,null,null,1,"span",[["class","progress-text"]],null,null,null,null,null)),(_l()(),textDef(15,null,["",""])),(_l()(),elementDef(16,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,4,"div",[["class","col-6 text-success"]],null,null,null,null,null)),(_l()(),elementDef(18,0,null,null,3,"button",[["class","btn btn-sm btn-light text-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onClickDone($event)&&ad),ad}),null,null)),(_l()(),elementDef(19,0,null,null,1,"span",[["class","d-none d-md-inline"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[" Erledigt "])),(_l()(),textDef(21,null,[""," "])),(_l()(),elementDef(22,0,null,null,4,"div",[["class","col-6 text-danger text-right"]],null,null,null,null,null)),(_l()(),elementDef(23,0,null,null,3,"button",[["class","btn btn-sm btn-light text-danger"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onClickRest($event)&&ad),ad}),null,null)),(_l()(),elementDef(24,0,null,null,1,"span",[["class","d-none d-md-inline"]],null,null,null,null,null)),(_l()(),textDef(-1,null,[" Rest "])),(_l()(),textDef(26,null,[""," "]))],(function(_ck,_v){var _co=_v.component,currVal_4=_ck(_v,10,0,_co.total>0);_ck(_v,9,0,"progress progress-elemente",currVal_4),_ck(_v,13,0,"progress-bar bg-success",_co.type)}),(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.title),_ck(_v,4,0,_co.short),_ck(_v,5,0,_co.totalText),_ck(_v,11,0,_co.progressAmount+"%"),_ck(_v,15,0,_co.donePercentText),_ck(_v,21,0,_co.doneAmountText),_ck(_v,26,0,_co.restAmountText)}))}let barcode_service_BarcodeService=(()=>{class BarcodeService{constructor(db){this.db=db,this.lastErrors=[],this.rebuildProcesses=[],this.lkup=this.db.barcodeLookup}simpleLookup(barcode,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(barcode.startsWith("R")||barcode.startsWith("A")){const structLookupResult=yield this.bcAnalyzeLookup(barcode,jobid);if(structLookupResult&&structLookupResult.success)return structLookupResult}return(yield this.indexLookup(barcode,jobid))||(yield this.allTablesLookup(barcode,jobid))}))}indexLookup(barcode,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){barcode=this.bcTrimZero(barcode);const found=yield this.lkup.get({code:barcode,for_jobid:jobid});console.log("BarcodeService #47 indexLookup(",{barcode:barcode,jobid:jobid},")",{found:found});const result={barcode:barcode,foundRef:found,success:!1,lookupResultTable:LookupResultTable.None,data:null};if(found&&found.uuid){const searchKey={uuid:found.uuid},item=yield this.db.table(found.table).get(searchKey);if(console.log("BarcodeService #68 indexLookup item = this.db.table(",found.table,").get(",searchKey,")",{item:item}),item)switch(result.success=!0,result.data=item,found.table){case"inventar":result.lookupResultTable=LookupResultTable.Inventar,result.inventar=item;break;case"raeume":result.lookupResultTable=LookupResultTable.Raeume,result.raum=item;break;case"objektKatalogMandant":result.lookupResultTable=LookupResultTable.ObjektKatalogMandant,result.artikelRef=item;break;case"objektKatalogGlobal":result.lookupResultTable=LookupResultTable.ObjektKatalogGlobal,result.artikelData=item;break;default:result.lookupResultTable=LookupResultTable.Any}}return console.log("BarcodeService #99 indexLookup(",{result:result,barcode:barcode,jobid:jobid},")",{found:found}),result}))}allTablesLookup(barcode,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const result={barcode:barcode,foundRef:null,success:!1,lookupResultTable:LookupResultTable.None,data:null};return result.data=yield this.db.inventar.where({code:barcode,for_jobid:jobid}).first(),result.data?(result.lookupResultTable=LookupResultTable.Inventar,result.success=!0,result.foundRef={code:barcode,key:"uuid",id:result.data.uuid,for_jobid:jobid,table:"inventar",updateHelper:0,uuid:result.inventar.uuid},result):(result.data=yield this.db.raeume.where({code:barcode,for_jobid:jobid}).first(),result.data?(result.lookupResultTable=LookupResultTable.Raeume,result.success=!0,result.foundRef={code:barcode,key:"uuid",id:result.data.uuid,for_jobid:jobid,table:"raeume",updateHelper:0,uuid:result.data.uuid},result):(result.data=yield this.db.objektKatalogMandant.where({code:barcode,for_jobid:jobid}).first(),result.data?(result.lookupResultTable=LookupResultTable.ObjektKatalogMandant,result.success=!0,result.foundRef={code:barcode,key:"uuid",id:result.data.uuid,for_jobid:jobid,table:"objektKatalogMandant",updateHelper:0,uuid:result.data.uuid},result):result))}))}bcAnalyzeLookup(barcode,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const matchesObjektbuchArtikel=barcode.match(/^(A)-(\d+)-/),matchesObjektbuchRaum=!matchesObjektbuchArtikel&&barcode.match(/^(R)-(\d+)-/);let foundTable,foundTableKey;const result={barcode:barcode,foundRef:null,success:!1,lookupResultTable:LookupResultTable.None,data:null};if(matchesObjektbuchArtikel){const[,,sMcid]=matchesObjektbuchArtikel;foundTable="objektKatalogMandant",foundTableKey="uuid"}else if(matchesObjektbuchRaum){const[,,sRid]=matchesObjektbuchRaum;foundTable="raeume",foundTableKey="uuid"}const objBookLkUp=yield this.db.objektbuchBarcodesLookup.where({code:barcode,for_jobid:jobid,table:foundTable}).first();if(foundTable&&objBookLkUp&&(result.data=yield this.db.table(foundTable).where({uuid:objBookLkUp.uuid}).first(),result.data))switch(result.foundRef={code:barcode,table:foundTable,key:foundTableKey,id:result.data.uuid,uuid:result.data.uuid||null},result.success=!0,foundTable){case"raeume":result.raum=result.data,result.lookupResultTable=LookupResultTable.Raeume;break;case"objektKatalogMandant":result.artikelRef=result.data,result.lookupResultTable=LookupResultTable.ObjektKatalogMandant}return result}))}bcTrimZero(barcode){for(barcode=barcode.trim();"0"===barcode.charAt(0);)barcode=barcode.substr(1).trim();return barcode}fullLookup(barcode,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){barcode=this.bcTrimZero(barcode);const simpleResult=yield this.simpleLookup(barcode,jobid),lookupResultTableText=LookupResultTable[simpleResult.lookupResultTable];if(console.log(`#146 fullLookup for ${barcode} found ${lookupResultTableText}`,{simpleResult:simpleResult}),!simpleResult.success||simpleResult.lookupResultTable===LookupResultTable.ObjektKatalogGlobal)return console.log(`#150 fullLookup for ${barcode} return ${lookupResultTableText}`),simpleResult;switch(simpleResult.lookupResultTable){case LookupResultTable.ObjektKatalogMandant:console.log(`#156 fullLookup for ${barcode} fetch global Data for ${lookupResultTableText}`),simpleResult.artikelData=yield this.db.objektKatalogGlobal.get({uuid:simpleResult.artikelRef.gcuuid}),simpleResult.image=yield this.db.images.get({gcuuid:simpleResult.artikelRef.gcuuid}),simpleResult.image&&(simpleResult.image.data_url=null,simpleResult.image.data_binary=null);break;case LookupResultTable.Raeume:console.log(`#166 fullLookup for ${barcode} fetch gebaeude Data for ${lookupResultTableText}`),simpleResult.gebaeude=yield this.db.gebaeude.get(simpleResult.raum.gid);break;case LookupResultTable.Inventar:console.log(`#245 fullLookup for ${barcode} fetch artikelRef/global/image/raum Data for ${lookupResultTableText}`,{mcuuid:simpleResult.inventar.mcuuid}),simpleResult.artikelRef=yield this.db.objektKatalogMandant.get({uuid:simpleResult.inventar.mcuuid}),simpleResult.artikelRef&&(console.log("#252 ",{gcuuid:simpleResult.artikelRef.gcuuid}),simpleResult.artikelData=yield this.db.objektKatalogGlobal.get({uuid:simpleResult.artikelRef.gcuuid}),console.log("#254 "),simpleResult.image=yield this.db.images.filter(img=>"mcuuid"in img&&img.mcuuid===simpleResult.artikelRef.uuid).first(),simpleResult.image||(simpleResult.image=yield this.db.images.where({gcuuid:simpleResult.artikelRef.gcuuid}).first()),simpleResult.image&&(simpleResult.image.data_url=null,simpleResult.image.data_binary=null)),console.log("#261 "),simpleResult.raum=yield this.db.raeume.get({uuid:simpleResult.inventar.ruuid})}return console.log(`#166 fullLookup for ${barcode} return data for ${lookupResultTableText}`,{simpleResult:simpleResult}),simpleResult}))}rebuild(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return Promise.all([this.rebuildTable(this.db.inventar),this.rebuildTable(this.db.raeume),this.rebuildTable(this.db.objektKatalogMandant)]).then(results=>{const numErrors=results.filter(re=>!re).length;return this.addError("Beim Rebuild des Lookup-Indexes sind "+numErrors+" aufgetreten!"),0===numErrors})}))}rebuildTable(table){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(this.rebuildProcesses.find(p=>p.table===table.name))return!1;this.rebuildProcesses.push({jobid:0,table:table.name});const keyName=table.schema.primKey.keyPath.toString(),tblName=table.name;return console.log("#212 barcode.service rebuildTable delete barcodeLookup for table ",tblName),yield this.db.barcodeLookup.where("table").equals(tblName).delete(),this.db.transaction("rw",[table,this.db.barcodeLookup],()=>{table.each(item=>{this.db.barcodeLookup.put(Object.assign({code:item.code,table:tblName,for_jobid:item.for_jobid,key:keyName,uuid:item.uuid,updateHelper:1},{log:!1}))})}).then(()=>!0).finally(()=>{this.rebuildProcesses=this.rebuildProcesses.filter(p=>p.table!==tblName)})}))}rebuildByJobid(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("#235 barcode.service.ts rebuildByJobid",{jobid:jobid}),Promise.all([this.rebuildTableByJobid(this.db.inventar,jobid),this.rebuildTableByJobid(this.db.raeume,jobid),this.rebuildTableByJobid(this.db.objektKatalogMandant,jobid)]).then(results=>{const numErrors=results.filter(re=>!re).length;return this.addError("#242 Beim Rebuild des Lookup-Indexes sind "+numErrors+" aufgetreten!"),0===numErrors})}))}rebuildTableByJobid(table,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(this.rebuildProcesses.find(p=>(0===p.jobid||p.jobid===jobid)&&p.table===table.name))return console.error("Abort barcode rebuild, it is already running"),!1;this.rebuildProcesses.push({jobid:jobid,table:table.name});const keyName=table.schema.primKey.keyPath.toString(),tblName=table.name;console.log("#253.. barcode.service rebuildTableByJobid delete barcodeLookup for table ",tblName,jobid),yield this.db.barcodeLookup.where({table:tblName,for_jobid:jobid}).delete(),console.log("#255 barcode.service rebuildTableByJobid processing for table ",tblName,jobid);let count=0;return this.db.transaction("rw",[table,this.db.barcodeLookup],()=>{table.where({for_jobid:jobid}).each(item=>{count+=1,this.db.barcodeLookup.put(Object.assign({code:item.code,table:tblName,for_jobid:item.for_jobid,key:keyName,uuid:item.uuid,updateHelper:1},{log:!1}))})}).then(()=>(console.log("#270 barcode.serve rebuildTableByJobid finished successful",{tblName:tblName,jobid:jobid,count:count}),!0)).catch(()=>(console.log("#274 barcode.serve rebuildTableByJobid finished with Errors",tblName,jobid),!1)).finally(()=>{this.rebuildProcesses=this.rebuildProcesses.filter(p=>p.jobid!==jobid&&p.table!==tblName)})}))}importObjektbuchBarcodesLookup(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("called importObjektbuchBarcodesLookup"),this.lkup.where({updateHelper:11}).modify({updateHelper:12});const list=yield this.db.objektbuchBarcodesLookup.toArray();return yield list.forEach(item=>{item.updateHelper=11,console.log("called importObjektbuchBarcodesLookup import ",{item:item}),this.lkup.put(Object.assign({},item,{log:!1})).then(r=>{}).catch(err=>{console.error("#231",err)})}),yield this.lkup.where({updateHelper:12}).delete(),!0}))}rebuildOnRunningSystemByJobid(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return Promise.all([this.rebuildTableOnRunningSystemByJobid(this.db.inventar,jobid).finally(()=>console.log("#261 barcode.service Finished BC-Rebuild Inventar")),this.rebuildTableOnRunningSystemByJobid(this.db.raeume,jobid).finally(()=>console.log("#263 barcode.service Finished BC-Rebuild Raeume!")),this.rebuildTableOnRunningSystemByJobid(this.db.objektKatalogMandant,jobid).finally(()=>console.log("#267 barcode.service Finished BC-Rebuild objektKatalogMandant!"))]).then(results=>{const numErrors=results.filter(re=>!re).length;return this.addError("Beim Rebuild des Lookup-Indexes sind "+numErrors+" aufgetreten!"),0===numErrors}).catch(err=>{console.error("Fehler beim Barcode-Lookup-Aufbau: ",{err:err})})}))}rebuildTableOnRunningSystemByJobid(table,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(this.rebuildProcesses.find(p=>(0===p.jobid||p.jobid===jobid)&&p.table===table.name))return!1;this.rebuildProcesses.push({jobid:jobid,table:table.name});const keyName=table.schema.primKey.keyPath.toString(),tblName=table.name,tblBarcodeLookup=this.db.barcodeLookup;let count=0;yield this.db.transaction("rw",[tblBarcodeLookup,table],()=>{tblBarcodeLookup.where({table:tblName,for_jobid:jobid,updateHelper:1}).modify({updateHelper:2}).then(()=>{table.where({for_jobid:jobid}).filter(item=>!!item.code).each(item=>{count+=1,tblBarcodeLookup.put(Object.assign({code:item.code,table:tblName,key:keyName,for_jobid:"for_jobid"in item?item.for_jobid:0,uuid:item.uuid,updateHelper:1},{log:!1}))})})});const numDeletes=yield tblBarcodeLookup.where({table:tblName,for_jobid:jobid,updateHelper:2}).delete();console.log("#356 barcode.service.ts rebuildTableOnRunningSystemByJobid finished",{jobid:jobid,table:table.name,count:count,numDeletes:numDeletes}),this.rebuildProcesses=this.rebuildProcesses.filter(p=>p.jobid!==jobid&&p.table!==tblName)}))}rebuildOnRunningSystem(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return Promise.all([this.rebuildTableOnRunningSystem(this.db.inventar).finally(()=>console.log("#261 barcode.service Finished BC-Rebuild Inventar")),this.rebuildTableOnRunningSystem(this.db.raeume).finally(()=>console.log("#263 barcode.service Finished BC-Rebuild Raeume!")),this.rebuildTableOnRunningSystem(this.db.objektKatalogMandant).finally(()=>console.log("#267 barcode.service Finished BC-Rebuild objektKatalogMandant!"))]).then(results=>{const numErrors=results.filter(re=>!re).length;return this.addError("Beim Rebuild des Lookup-Indexes sind "+numErrors+" aufgetreten!"),0===numErrors}).catch(err=>{console.error("Fehler beim Barcode-Lookup-Aufbau: ",{err:err})})}))}rebuildTableOnRunningSystem(table){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(this.rebuildProcesses.find(p=>p.table===table.name))return!1;this.rebuildProcesses.push({jobid:0,table:table.name});const keyName=table.schema.primKey.keyPath.toString(),tblName=table.name,tblBarcodeLookup=this.db.barcodeLookup;return console.log("rebuildTableOnRunningSystem Start Transaction Barcode-Indexing for table "+table.name),yield this.db.transaction("rw",[tblBarcodeLookup,table],()=>{console.log("rebuildTableOnRunningSystem Set Flag updateHelper=2 for table "+table.name),tblBarcodeLookup.where({table:tblName,updateHelper:1}).modify({updateHelper:2}).then(()=>{console.log("rebuildTableOnRunningSystem rebuild Barcode for table "+table.name),table.filter(item=>!!item.code).each(item=>{tblBarcodeLookup.put(Object.assign({code:item.code,table:tblName,key:keyName,for_jobid:"for_jobid"in item?item.for_jobid:0,uuid:item.uuid,updateHelper:1},{log:!1}))})})}),console.log("rebuildTableOnRunningSystem delete Barcodes for no more existing entries in "+table.name),yield tblBarcodeLookup.where({table:tblName,updateHelper:2}).delete(),this.rebuildProcesses=this.rebuildProcesses.filter(p=>p.table!==tblName),!0}))}addBarcode(item,log=!1){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.db.barcodeLookup.add(Object.assign({},item,{log:log})).then(key=>key[0])}))}addError(err){this.lastErrors.push(err),this.lastErrors.length>20&&(this.lastErrors=this.lastErrors.slice(-20))}getLastErrors(){return this.lastErrors}}return BarcodeService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new BarcodeService(ɵɵinject(dexie_service_DexieService))},token:BarcodeService,providedIn:"root"}),BarcodeService})();var InventarDataResultError=function(InventarDataResultError){return InventarDataResultError[InventarDataResultError.InventarNotFound=1]="InventarNotFound",InventarDataResultError[InventarDataResultError.ArtikelRefNotFound=2]="ArtikelRefNotFound",InventarDataResultError[InventarDataResultError.ArtikelDataNotFound=3]="ArtikelDataNotFound",InventarDataResultError}({}),JoinResultType=function(JoinResultType){return JoinResultType[JoinResultType.List=0]="List",JoinResultType[JoinResultType.First=1]="First",JoinResultType[JoinResultType.Count=2]="Count",JoinResultType}({});const data_service_log_info=(line,...vars)=>{console.log.bind(console,"[INFO] data.service.ts #"+line).apply(console,vars)},data_service_log_dbg=(line,...vars)=>{console.log.bind(console,"[Debug] data.service.ts #"+line).apply(console,vars)};let data_service_DataService=(()=>{class DataService{constructor(api,dexie,barcodeLookup,connectionService,settingsService,DbSyncService,dbSyncLogService){this.api=api,this.dexie=dexie,this.barcodeLookup=barcodeLookup,this.connectionService=connectionService,this.settingsService=settingsService,this.DbSyncService=DbSyncService,this.dbSyncLogService=dbSyncLogService,this.lastLoadFailed=!1,this.loadingDataChanged=new core_EventEmitter,this.clientSyncAmountChanged=new core_EventEmitter,this.currentState=connectionService.getCurrentState(),this.connectionService.monitor().subscribe(currentState=>{data_service_log_info(43,"network status has changed",{currentState:currentState}),this.currentState=currentState,this.subscriptionClientLogsChanged=this.dexie.clientSyncAmountChanged.subscribe(amount=>{console.log("DataService #245 clientSyncAmountChanged: ",{amount:amount}),this.clientSyncAmountChanged.emit(amount)})})}ngOnDestroy(){this.subscriptionClientLogsChanged.unsubscribe()}getSelectedRoom(){}getUserAssignedInventories(uid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){data_service_log_info(173,"getUserAssignedInventories");let userInventuren=[];return this.currentState.hasServerAccess?(data_service_log_dbg(177,"getUserAssignedInventories, call loadUserAssignedInventories"),yield this.loadUserAssignedInventories()):((line,...vars)=>{console.error.bind(console,"[ERROR] data.service.ts #"+180).apply(console,vars)})(0,"getUserAssignedInventories no InternetAccess. Cannot call loadUserAssignedInventories",{"this.currentState":this.currentState,"this.currentState.hasInternetAccess":this.currentState.hasServerAccess}),yield Promise.all([this.dexie.inventuren.toArray(),this.dexie.inventurenUser.where("uid").equals(uid).toArray()]).then(results=>{const inv=results[0],jobids=results[1].map(itm=>itm.jobid);userInventuren=inv.filter(itm=>-1!==jobids.indexOf(itm.jobid)),console.log("#72 getUserAssignedInventories",{inv:inv,jobids:jobids,userInventuren:userInventuren})}),userInventuren}))}loadInventurSelection(){}loadUserAssignedInventories(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){data_service_log_dbg(205,"loadUserAssignedInventories");const db=this.dexie,api=this.api;return this.dbSyncLogService.metaMessage({message:"Lade Inventuren Meta-Daten ..."}),yield Promise.all([api.get("auth/me").toPromise(),api.get("api/inventur/jobidsByAuthUser").toPromise(),api.get("api/inventur/clientsByAuthUser").toPromise().then(list=>(this.dbSyncLogService.metaMessage({message:"Lade Mandanten ... "+list.length}),Promise.all(list.map(item=>db.mandanten.put(item))))),api.get("api/inventur/gebaeudeByAuthUser").toPromise().then(list=>(this.dbSyncLogService.metaMessage({message:"Lade Mandanten ... "+list.length}),Promise.all(list.map(item=>db.gebaeude.put(item))))),api.get("api/inventur/listByAuthUser").toPromise().then(list=>(this.dbSyncLogService.metaMessage({message:"Lade Gebäude ... "+list.length}),Promise.all(list.map(item=>db.inventuren.put(item))))),api.get("api/inventur/inventurenGebaeudeByAuthUser").toPromise()]).then(results=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.dbSyncLogService.metaMessage({message:"Inventuren Meta-Daten wurden heruntergeladen"});const authUser=results[0],invUser=results[1],invGebaeude=results[5];return this.dbSyncLogService.metaMessage({message:"Bereinige Inventur-Auswahl"}),yield db.inventurenUser.where("uid").equals(authUser.id).delete(),yield invUser.map(item=>db.inventurenUser.add(item)),this.dbSyncLogService.metaMessage({message:"Bereinige Gebäude-Auswahl"}),yield db.inventurenGebaeude.where("uid").equals(authUser.id).delete().catch(reason=>console.error("Cannot delete GRef",reason)),yield invGebaeude.map(item=>db.inventurenGebaeude.add(item).catch(reason=>{console.error("Cannot add GRef",{item:item,reason:reason})})),this.dbSyncLogService.metaMessage({message:"Inventuren Meta-Daten wurden importiert"}),console.log("Finished loading user-inventories"),!0}))).finally(()=>{})}))}loadClientList(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("#244  data.service loadClientList"),this.api.get("api/mandant").subscribe(list=>{console.log("SelectInventoryComponent","loadClientList",{list:list});const asyncJobs=[];asyncJobs.push(this.dexie.mandanten.clear()),list.forEach(item=>{console.log({called:"loadClientList",item:item}),asyncJobs.push(this.dexie.mandanten.put(item))}),Promise.all(asyncJobs).finally(()=>{})})}))}loadGebaeudeListByClientId(mid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("#261  data.service loadGebaeudeListByClientd"),yield this.api.get("api/mandant/"+mid+"/gebaeude").subscribe(list=>{console.log("SelectInventoryComponent","loadClientList",{list:list}),this.dexie.gebaeude.where("mid").equals(mid).delete().then(()=>list.map(item=>(console.log({called:"loadGebaeudeList",item:item}),this.dexie.gebaeude.put(item)))).finally(()=>{})}),!0}))}loadRaeumeListByGebaeudeId(gid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#283  data.service"),this.api.get("api/gebaeude/"+gid+"/raeume").subscribe(list=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("SelectInventoryComponent","loadClientList",{list:list}),this.dexie.stopChangeLogForImport(!0),yield this.dexie.raeume.where("gid").equals(gid).delete().then(nr=>list.map(item=>(console.log({called:"loadClientList",item:item}),this.dexie.raeume.put(Object.assign({},item,{log:!1}))))).finally(()=>{this.dexie.stopChangeLogForImport(!1)})})))}))}loadInventar(gid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#303  data.service"),this.api.get("api/gebaeude/"+gid+"/raeume").subscribe(list=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){return console.log("SelectInventoryComponent","loadClientList",{list:list}),this.dexie.stopChangeLogForImport(!0),console.log("#303 data-service delete raeume"),this.dexie.raeume.where("gid").equals(gid).delete().then(nr=>list.map(item=>(console.log({called:"loadClientList",item:item}),this.dexie.raeume.put(Object.assign({},item,{log:!1}))))).finally(()=>{this.dexie.stopChangeLogForImport(!1)})})))}))}hasAllInventurData(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const for_jobid=jobid;return!!((yield this.dexie.inventar.where({for_jobid:for_jobid}).first())&&(yield this.dexie.raeume.where({for_jobid:for_jobid}).first())&&(yield this.dexie.objektKatalogMandant.where({for_jobid:for_jobid}).first())&&(yield this.dexie.objektbuchBarcodesLookup.where({for_jobid:for_jobid}).first())&&(yield this.dexie.barcodeLookup.where({for_jobid:for_jobid}).first()))}))}hasValidInventurRevId(jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const varName="jobid-"+jobid+"-revision-id",lastRevId=+(yield this.settingsService.get(varName,0));return!isNaN(lastRevId)&&lastRevId>0}))}loadInventurDataByInventurId(jobid,reset=!1){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#324 called loadInventurDataByInventurId(",jobid,reset,")"),this.setLoadingStarted(jobid);const syncLogMsg=this.dbSyncLogService.message.bind(this.dbSyncLogService,[jobid]),tables=(this.dbSyncLogService.error.bind(this.dbSyncLogService,[jobid]),{gebaeude:"pending",raeume:"pending",hersteller:"pending",images:"pending",inventar:"pending",objektKatalogGlobal:"pending",objektKatalogMandant:"pending",objektKatalogImages:"pending",objektbuchBarcodesLookup:"pending"}),tablesLoadingStatus={};for(const t in tables)tables.hasOwnProperty(t)&&(tablesLoadingStatus[t]={table:t,status:"pending",total:-1,current:-1,progress:0,startDate:null,finished:null});const tblStatus=(table,statKey,value)=>{if(console.log("#441 tblStatus",{table:table,statKey:statKey,value:value,tables:tables,tablesLoadingStatus:tablesLoadingStatus}),"string"==typeof statKey&&void 0!==value)tablesLoadingStatus[table][statKey]=value,tables[table]=statKey+" "+value;else if("string"==typeof statKey)tablesLoadingStatus[table].status=statKey,tables[table]=statKey;else if("object"==typeof statKey)for(const k in statKey)statKey.hasOwnProperty(k)&&(tablesLoadingStatus[table][k]=statKey[k],tables[table]=k+" "+statKey[k]);this.loadingDataChanged.emit(tablesLoadingStatus),console.log(tables)},inventurAlreadyStartedRevId=+(yield this.settingsService.get("jobid-"+jobid+"-revision-id",0));console.log("#388 loadInventurDataByInventurId, inventurAlreadyStartedRevId: ",inventurAlreadyStartedRevId);const hasAllInventurData=yield this.hasAllInventurData(jobid);if(!reset&&!isNaN(inventurAlreadyStartedRevId)&&inventurAlreadyStartedRevId>0&&hasAllInventurData){console.log("#338 loadInventurDataByInventurId");const numUnsyncedClientChanges=yield this.DbSyncService.numUnsyncedChangeLogsByJobId(jobid);return console.log("#340 loadInventurDataByInventurId",{numUnsyncedClientChanges:numUnsyncedClientChanges}),numUnsyncedClientChanges?(console.log("#342 loadInventurDataByInventurId START SYNC",{numUnsyncedClientChanges:numUnsyncedClientChanges}),this.setLoadingFinished(),[{success:!0,switchedToSync:!0,syncJobResult:yield this.DbSyncService.syncJob(jobid)}]):(console.log("#346 loadInventurDataByInventurId NOTHING TO SYNC"),this.setLoadingFinished(),[{success:!0,errorMsg:"",total:0,inserts:0,revisionId:yield this.settingsService.get("jobid-"+jobid+"-revision-id"),debug:null}])}if(this.dbSyncLogService.start(jobid,inventurAlreadyStartedRevId),this.dexie.stopChangeLogForImport(!0),reset){syncLogMsg("Reset: Daten werden für kompletten Neu-Import zurückgesetzt!"),console.log("#352 loadInventurDataByInventurId"),yield this.dexie.raeume.where({for_jobid:jobid}).count().catch(reason=>{console.error("#354 ",{reason:reason})}),console.log("#357 Before cleanup"),yield Promise.all([this.dexie.raeume.where({for_jobid:jobid}).delete().finally(()=>{syncLogMsg("Finished Reset Räume"),console.log("#359finished cleanup raeume")}),this.dexie.inventar.where({for_jobid:jobid}).delete().finally(()=>{syncLogMsg("Finished Reset Inventar"),console.log("#361 finished cleanup inventar")}),this.dexie.hersteller.where({for_jobid:jobid}).delete().finally(()=>{syncLogMsg("Finished Reset Hersteller"),console.log("#363 finished cleanup hersteller")}),this.dexie.images.filter(img=>img.for_jobid===jobid).delete().finally(()=>{syncLogMsg("Finished Reset Images"),console.log("#365 finished cleanup images")}),this.dexie.objektKatalogMandant.where({for_jobid:jobid}).delete().finally(()=>{syncLogMsg("Finished Reset Katalogdaten (Mandant)"),console.log("#367 finished cleanup okg"),this.dexie.objektKatalogGlobal.where({created_jobid:jobid}).each(itm=>{this.dexie.objektKatalogMandant.where({gcuuid:itm.uuid}).count().then(num=>{0===num&&this.dexie.objektKatalogGlobal.delete(itm.uuid)})}).finally(()=>{syncLogMsg("Finished Reset Mandanten-Spezifische Katalogdaten (Global)"),console.log("#463 finished cleanup okm")})}),this.dexie.objektKatalogImages.where({created_jobid:jobid}).delete().finally(()=>{syncLogMsg("Finished Reset Katalog/Raum-Images"),console.log("#459 finished cleanup okm")}),this.dexie.clientChangeLog.where({jobid:jobid}).delete().finally(()=>{syncLogMsg("Finished Reset Client-Change-Log"),console.log("#464 finished cleanup clientchangelog")})]),syncLogMsg("Reset: Daten wurden zurückgesetzt!"),console.log("#373 After cleanup");const resetCmt="data.service.tx loadInventurDataByInventurId() reset";yield Promise.all([this.settingsService.set("jobid-"+jobid+"-revision-id",0,resetCmt),this.settingsService.set("inventar-"+jobid+"-revision-id",0,resetCmt),this.settingsService.set("raeume-"+jobid+"-revision-id",0,resetCmt),this.settingsService.set("images-"+jobid+"-revision-id",0,resetCmt),this.settingsService.set("hersteller-"+jobid+"-revision-id",0,resetCmt),this.settingsService.set("objektKatalogGlobal-"+jobid+"-revision-id",0,resetCmt),this.settingsService.set("objektKatalogMandant-"+jobid+"-revision-id",0,resetCmt),this.settingsService.set("objektKatalogImages-"+jobid+"-revision-id",0,resetCmt)]),syncLogMsg("Reset: Revision-Ids wurden zurückgesetzt!"),console.log("#362 loadInventurDataByInventurId")}syncLogMsg("Import: Starte Server-Download!"),console.log("#477 loadInventurDataByInventurId, start parallel data-imports.");const loadingResult=yield Promise.all([this.loadTableDataByUrl("gebaeude",`api/inventur/${jobid}/gebaeude`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("raeume",`api/inventur/${jobid}/raeume`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("hersteller",`api/inventur/${jobid}/hersteller`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("images",`api/inventur/${jobid}/images`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("inventar",`api/inventur/${jobid}/inventar`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("objektKatalogGlobal",`api/inventur/${jobid}/katalog`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("objektKatalogMandant",`api/inventur/${jobid}/artikelids`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("objektbuchBarcodesLookup",`api/inventur/${jobid}/objektbuchLookup`,tblStatus,{jobid:jobid,reset:reset}),this.loadTableDataByUrl("objektKatalogImages",`api/inventur/${jobid}/katalogImages`,tblStatus,{jobid:jobid,reset:reset})]).then(results=>tslib_es6.__awaiter(this,arguments,void 0,(function*(){const maxRevId=results.reduce((carry,item)=>{if(isNaN(item.revisionId))return console.log("#501 data.service item.revisionId not found",{carry:carry,item:item}),carry;const max=Math.max(carry,item.revisionId||0);return console.log("#414 data.service reduce to maxRevId",{carry:carry,item:item,max:max}),Math.max(carry,item.revisionId)},0);return this.settingsService.setRevId("jobid-"+jobid+"-revision-id",maxRevId,"data.service.ts loadInventurDataByInventurId()"),console.log("#511 data.service.ts loadInventurDataByInventurId() Start rebuild of barcodeLookup Table"),yield this.barcodeLookup.rebuildByJobid(jobid),console.log("#513 data.service.ts loadInventurDataByInventurId() finished","arguments",arguments),results}))).finally(()=>{this.dexie.stopChangeLogForImport(!1)});return this.setLoadingFinished(),loadingResult}))}setLoadingStarted(jobid){this.DbSyncService.setFullImportJobiId(jobid)}setLoadingFinished(){this.DbSyncService.setFullImportJobiId(0)}getLoadingJobId(){return this.DbSyncService.getFullImportJobId()}loadTableDataByUrl(table,dataUrl,cbTblStatus,options){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const syncLogMsg=this.dbSyncLogService.message.bind(this.dbSyncLogService,[options.jobid]),syncLogData=(this.dbSyncLogService.error.bind(this.dbSyncLogService,[options.jobid]),this.dbSyncLogService.log.bind(this.dbSyncLogService));console.log("#425  data.service loadTableDataByUrl ",table);const jobid=options.jobid,reset=options.reset||!1,varLastRevisionId=`${table}-${jobid}-revision-id`,varLastLoadAttempt=`${table}-${jobid}-download-attempt`,varLastLoadSuccess=`${table}-${jobid}-download-success`,varLastLoadEntries=`${table}-${jobid}-download-entries`,lastRevisionId=yield this.settingsService.get(varLastRevisionId),lastLoadSuccessDate=yield this.settingsService.get(varLastLoadSuccess),lastLoadAttemptDate=new Date;let nextUrl=dataUrl;this.settingsService.set(varLastLoadAttempt,lastLoadAttemptDate),!reset&&lastLoadSuccessDate&&(nextUrl+="?lastLoad="+Date.parse(lastLoadSuccessDate)+"&lastRevId="+lastRevisionId);let inserts=0,total=0,revisionId=0,numChunks=0;syncLogMsg("Starte Download und Import: "+table+" from "+nextUrl),nextUrl||console.error("#551  this.loadTableDataByUrl nextUrl is Empty",{table:table,dataUrl:dataUrl,nextUrl:nextUrl,reset:reset});const logData=puts=>({jobid:jobid,table:table,revisionId:revisionId,total:total,puts:puts,modified:0,deleted:0});for(;nextUrl;){const url=nextUrl;cbTblStatus&&cbTblStatus(table,{status:"downloading Part "+(numChunks+1),startDate:new Date}),console.log({function:"loadTableDataByUrl",table:table,url:url,cbTblStatus:cbTblStatus,options:options}),yield this.api.get(url).toPromise().then(data=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){nextUrl="nextUrl"in data?data.nextUrl:"",console.log("#452 data.service: Retrieved Data ",table," for processing!"),numChunks++;const numRows=data.rows.length;total="total"in data?data.total:numRows,cbTblStatus&&cbTblStatus(table,{status:"process import",total:total}),revisionId=data.revisionId||0,this.settingsService.set(varLastLoadSuccess,lastLoadAttemptDate),this.settingsService.set(varLastLoadEntries,inserts+numRows);const stepSize=parseInt((data.rows.length/10).toString(),10);return data.rows||console.error("#468 data.service loadTableDataByUrl Invalid Data-Structure from ",{url:url,data:data}),yield Promise.all(data.rows.map((item,i)=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.table(table).put(Object.assign({},item,{log:!1})).then(()=>((i+1)%stepSize!=0&&i+1!==total||!cbTblStatus||cbTblStatus(table,{current:inserts+1,progress:(100*(inserts+1)/total).toFixed(1)}),inserts+=1,inserts%100==0&&syncLogData(logData(inserts)),!0))}))))})))}return revisionId&&this.settingsService.set(varLastRevisionId,revisionId),syncLogData(logData(inserts)),syncLogMsg("Finished Table "+table),cbTblStatus&&cbTblStatus(table,{status:"finished",finished:new Date}),console.log("#543 data.service loadTableDataByUrl Finished Importprocess Data ",table," inserts",inserts),{success:!0,errorMsg:"",total:total,inserts:inserts,numChunks:numChunks,revisionId:revisionId}}))}getClient(clientID){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const clients=yield this.getClientList(),fclients=clients.filter(client=>client.mid===clientID);return console.log({clientID:clientID,clients:clients,fclients:fclients}),fclients.length?fclients[0]:null}))}getBuilding(bldgID,clientID){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const bldgs=yield this.getBuildingList(clientID),fbldgs=bldgs.filter(bldg=>bldg.gid===bldgID);return console.log({bldgID:bldgID,clientID:clientID,bldgs:bldgs,fbldgs:fbldgs}),fbldgs.length?fbldgs[0]:null}))}getClientList(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexie.mandanten.toArray()}))}getFullArtikelData(link,globalData){return Object.assign({},globalData,link,{mcuuid:link.uuid})}getFullRaumData(raum,gebaeude){return Object.assign({},raum,gebaeude)}getArtikelRefByGcuuidMid(gcuuid,mid){return this.dexie.objektKatalogMandant.where({gcuuid:gcuuid,mid:mid}).first()}getArtikelRef(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.objektKatalogMandant.get(uuid)}))}getArtikelData(gcuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.objektKatalogGlobal.get(gcuuid)}))}getArtikel(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const artikelLink=yield this.dexie.objektKatalogMandant.get({uuid:uuid}),artikelData=yield this.dexie.objektKatalogGlobal.get({uuid:artikelLink.gcuuid});return this.getFullArtikelData(artikelLink,artikelData)}))}getArtikelRefAndData(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const artikelRef=yield this.dexie.objektKatalogMandant.get({uuid:uuid});return{artikelRef:artikelRef,artikelData:yield this.dexie.objektKatalogGlobal.get({uuid:artikelRef.gcuuid})}}))}getInventarRef(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.inventar.get(uuid)}))}getInventarData(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const inventarRef=yield this.dexie.inventar.get(uuid);if(!inventarRef)return{success:!1,errorCode:InventarDataResultError.InventarNotFound};const artikelRef=yield this.dexie.objektKatalogMandant.get(inventarRef.mcuuid);if(!artikelRef)return{success:!1,errorCode:InventarDataResultError.ArtikelRefNotFound};const artikelData=yield this.dexie.objektKatalogGlobal.get(artikelRef.gcuuid);return artikelData?{success:!0,inventarData:{inventar:inventarRef,artikelRef:artikelRef,artikelData:artikelData}}:{success:!1,errorCode:InventarDataResultError.ArtikelDataNotFound}}))}getRaumAndGebaeude(ruuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const raum=yield this.dexie.raeume.get(ruuid);return raum?{raum:raum,gebaeude:yield this.dexie.gebaeude.get(raum.gid)}:null}))}getRaum(uuid){let raum;return this.dexie.raeume.get({uuid:uuid}).then(data=>(raum=data,this.dexie.gebaeude.get({gid:raum.gid}))).then(gebaeude=>this.getFullRaumData(raum,gebaeude))}getRaeumeByGebaeudeId(gid,jobid){return this.dexie.raeume.where({gid:gid,for_jobid:jobid}).toArray()}getArtikelListByClientId(mid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const artikelRefs=yield this.dexie.objektKatalogMandant.where({mid:mid}).toArray(),artikelData=yield Promise.all(artikelRefs.map(ref=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexie.objektKatalogGlobal.get(ref.gcuuid)})))),artikelHst=yield Promise.all(artikelData.map(ref=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(void 0===ref||!ref||!ref.huuid)return"";const hst=yield this.dexie.hersteller.get(ref.huuid);return hst?hst.Hersteller:""}))));return artikelRefs.map((ref,i)=>Object.assign({},artikelData[i],ref,{mcuuid:ref.uuid},{Hersteller:artikelHst[i]}))}))}getInventarByBarcode(barcode,useMid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const db=this.dexie,inventarMatches=yield db.inventar.where({code:barcode}).toArray();for(const inventar of inventarMatches){const artikelRef=yield db.objektKatalogMandant.get(inventar.mcuuid);if(!useMid||artikelRef.mid===useMid){const artikelData=yield db.objektKatalogGlobal.get(artikelRef.gcuuid);return{type:LookupResultType.Inventar,inventar:inventar,artikelRef:artikelRef,artikelData:artikelData}}}return{type:LookupResultType.NoMatch}}))}getRaumByBarcode(barcode,useMid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const db=this.dexie,raumMatch=yield db.raeume.where({code:barcode}).first();if(raumMatch){const gebaeude=yield db.gebaeude.get(raumMatch.gid);return{type:LookupResultType.Raum,raum:raumMatch,gebaeude:gebaeude}}return{type:LookupResultType.NoMatch}}))}getArtikelByBarcode(barcode,useMid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const db=this.dexie,listArtikelData=yield db.objektKatalogGlobal.where({code:barcode}).toArray();return 0===listArtikelData.length?{type:LookupResultType.NoMatch}:db.objektKatalogMandant.where("gcid").anyOf(listArtikelData.map(d=>d.gcid)).filter(d=>!useMid||d.mid===useMid).toArray().then(refs=>0===refs.length?(console.log("#531 barcodeLookup im Mandanten-Objektbuch NOT FOUND",{barcode:barcode,useMid:useMid}),{type:LookupResultType.NoMatch}):1===refs.length?{type:LookupResultType.ObjektBuchArtikel,artikelRef:refs[0],artikelData:listArtikelData.find(itm=>itm.gcid===refs[0].gcid)}:refs.map(artikelRef=>({type:LookupResultType.ObjektBuchArtikel,artikelRef:artikelRef,artikelData:listArtikelData.find(itm=>itm.gcid===artikelRef.gcid)})))}))}getBuildingList(clientID){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexie.gebaeude.where({mid:clientID}).toArray()}))}getBuildingListByJobid(jobid,clientID){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const listGid=(yield this.dexie.inventurenGebaeude.where({jobid:jobid}).toArray()).map(jg=>jg.gid);return yield this.dexie.gebaeude.where("gid").anyOf(listGid).filter(g=>g.mid===clientID).toArray()}))}joinsToStrictFormat(joins,parent){const db=this.dexie,f=Object.assign({},joins);if("string"==typeof f.table&&(f.table=db.table(f.table)),f.alias||(f.alias=f.table.name),parent){const pTable=parent.table,fKey=f.table.schema.primKey.keyPath,pKey=pTable.schema.primKey.keyPath,fIndexes=f.table.schema.indexes,pIndexes=pTable.schema.indexes;f.key||f.parentKey?f.key?f.parentKey||pIndexes.find(idx=>JSON.stringify(idx.keyPath)===JSON.stringify(f.key))&&(f.parentKey=f.key):fIndexes.find(idx=>JSON.stringify(idx.keyPath)===JSON.stringify(f.parentKey))&&(f.key=f.parentKey):pIndexes.find(idx=>JSON.stringify(idx.keyPath)===JSON.stringify(fKey))?(f.key=fKey,f.parentKey=fKey):fIndexes.find(idx=>JSON.stringify(idx.keyPath)===JSON.stringify(pKey))&&(f.key=pKey,f.parentKey=pKey)}return f.joins&&Array.isArray(f.joins)&&(f.joins=f.joins.map(jn=>this.joinsToStrictFormat(jn,f))),f}joinieTables(join){let tables=[join.table];return join.joins&&join.joins.forEach(jn=>tables=tables.concat(this.joinieTables(jn))),tables}joinie(flexJoins){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const joins=this.joinsToStrictFormat(flexJoins),db=this.dexie,tables=this.joinieTables(joins),debugConsole=console,debugJoinie=!1,logDebug=(...args)=>{debugJoinie&&("debug"in debugConsole?debugConsole.debug.apply(debugConsole,arguments):"log"in debugConsole&&debugConsole.log.apply(debugConsole,arguments))};logDebug("found Tables in recursive join",tables);const fullRslt=[];return db.transaction("r",tables,()=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){let coll;if(joins.where?(logDebug("Create collection with where Query:",joins.where),coll=joins.table.where(joins.where)):(logDebug("Create collection from table:",joins.table.name),coll=joins.table.toCollection()),logDebug("#706"),!joins.joins||!joins.joins.length)return logDebug("#709"),coll;const recursiveRelationshipMapper=(parent,subJoins,deep)=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){if(!subJoins||0===subJoins.length)return logDebug("#714"),!0;for(const join of subJoins){const references={},resultType="resultType"in join?join.resultType:JoinResultType.List,filterKeysBeforeJoin=join.where?Object.keys(join.where):[],filter=filterKeysBeforeJoin.length?obj=>{for(const k of filterKeysBeforeJoin)if(obj[k]!==join.where[k])return!1;return!0}:null;Array.isArray(join.key)||Array.isArray(join.parentKey)?Array.isArray(join.key)&&Array.isArray(join.key)&&join.key.length===join.parentKey.length&&join.key.forEach((k,i)=>{references[k]=parent[join.parentKey[i]]}):references[join.key]=parent[join.parentKey],logDebug("#738");const hasNullKeys=Object.values(references).length!==Object.values(references).filter(k=>{const isValid=!(0===k||""===k||null==k||void 0===k);return logDebug("#741",{k:k,isValid:isValid}),isValid}).length;if(hasNullKeys)return logDebug("#745 Abort Join-Query with Null-Keys on Leading Table: ",{where:references,obj:parent,joinTable:join.table}),!1;if(logDebug("#738 query join with references",{hasNullKeys:hasNullKeys,references:references}),resultType===JoinResultType.Count)return parent[join.alias]=yield join.table.where(references).count(),!0;if(resultType===JoinResultType.First)return parent[join.alias]=yield join.table.where(references).first(),!0;yield join.table.where(references).each(subItm=>{logDebug("#750"),!filter||filter(subItm)?recursiveRelationshipMapper(subItm,join.joins||[],deep+1).then(b=>{logDebug("#758"),join.alias in parent&&parent[join.alias]&&(!1===join.multi||!isNaN(join.limit)&&(isNaN(join.offset)||0===join.offset)&&!join.sort&&Array.isArray(parent[join.alias])&&join.limit<=parent[join.alias].length)?logDebug("#768"):!join.filter||join.filter(subItm)?(join.map&&(logDebug("#777"),join.map(subItm)),parent[join.alias]?Array.isArray(parent[join.alias])?(logDebug("#788"),parent[join.alias].push(subItm)):(logDebug("#785"),parent[join.alias]=[parent[join.alias],subItm]):(logDebug("#782"),parent[join.alias]="multi"in join&&!0===join.multi?[subItm]:subItm)):logDebug("#772")}):logDebug("#753 removed item")}).then(()=>{if(logDebug("#794"),join.alias in parent&&Array.isArray(parent[join.alias])){logDebug("#796"),"sort"in join&&join.sort&&(console.log("#798"),parent[join.alias]=parent[join.alias].sort(join.sort)),logDebug("#801");const offset="offset"in join&&isNaN(join.offset)?join.offset:0;logDebug("#803");const useLimit="limit"in join&&!!isNaN(join.limit);logDebug("#805");const maxLimit=parent[join.alias].length;(offset>0||useLimit)&&(console.log("#808"),parent[join.alias]=parent[join.alias].slice(offset,useLimit?join.limit:maxLimit))}})}}));yield coll.each(itm=>{recursiveRelationshipMapper(itm,joins.joins||[],0).then(b=>{logDebug("#809 recursiveRelationMapper.then",{b:b}),!joins.filter||joins.filter(itm)?(logDebug("#814 add item",{itm:itm}),fullRslt.push(itm)):logDebug("#811 filter returns false for",{itm:itm})})})}))).then(()=>(logDebug("#827"),"map"in joins&&joins.map&&"sort"in joins&&joins.sort?(logDebug("#829 return fullRslt map and sort"),fullRslt.map(joins.map).sort(joins.sort)):(logDebug("#832"),"map"in joins&&joins.map?(logDebug("#834 return fullRslt.map"),fullRslt.map(joins.map)):"sort"in joins&&joins.sort?(logDebug("#838 return fullRlst.sort"),fullRslt.sort(joins.sort)):(logDebug("#841 return fullRslt"),fullRslt))))}))}}return DataService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new DataService(ɵɵinject(api_service_ApiService),ɵɵinject(dexie_service_DexieService),ɵɵinject(barcode_service_BarcodeService),ɵɵinject(connection_service_service_ConnectionService),ɵɵinject(variables_service_VariablesService),ɵɵinject(dbsync_client_service_DBSyncClientService),ɵɵinject(dbsync_log_service_DbsyncLogService))},token:DataService,providedIn:"root"}),DataService})(),event_service_EventService=(()=>{class EventService{constructor(){this.TestEvent=new core_EventEmitter}}return EventService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new EventService},token:EventService,providedIn:"root"}),EventService})(),inventory_progress_service_InventoryProgressService=(()=>{class InventoryProgressService{constructor(dexieService,baseData){this.dexieService=dexieService,this.baseData=baseData,this.inventurLockStatusChanged=new core_EventEmitter}getCurrentInventurLockStatus(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),deviceId=this.baseData.getCurrentDeviceId();return this.dexieService.inventurenUserStatus.get([jobid,uid,deviceId]).then(item=>{if(item)return item.status}).catch(()=>DBDIJobLockStatus.Init)}))}setCurrentInventurLockStatusClosed(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),deviceId=this.baseData.getCurrentDeviceId(),status=DBDIJobLockStatus.Locked;console.log("InventoryProgressService #40 setCurrentInventurLockStatusClosed",{jobid:jobid,uid:uid,deviceId:deviceId,status:status});const exists=yield this.dexieService.inventurenUserStatus.where({jobid:jobid,uid:uid,device_id:deviceId}).count();if(console.log("InventoryProgressService #46 setCurrentInventurLockStatusClosed",{exists:exists}),exists)return this.dexieService.inventurenUserStatus.update([jobid,uid,deviceId],{status:status,geschlossen_am:new Date,modified_at:new Date}).then(()=>(console.log("InventoryProgressService #55 setCurrentInventurLockStatusClosed update emit Status Locked"),this.inventurLockStatusChanged.emit(status),!0)).catch(()=>!1);{console.log("InventoryProgressService #63 setCurrentInventurLockStatusClosed insert Status Locked");const insertDaten={jobid:jobid,uid:uid,device_id:deviceId,token:"",status:DBDIJobLockStatus.Locked,geladen_am:new Date,geschlossen_am:new Date,created_at:new Date,modified_at:new Date};return this.dexieService.inventurenUserStatus.add(insertDaten).then(()=>(console.log("InventoryProgressService #77 setCurrentInventurLockStatusClosed inserted emit Status Locked"),this.inventurLockStatusChanged.emit(status),!0)).catch(reason=>(console.error("InventoryProgressService #83 Status Locked konnte nicht gesetzt werden",{reason:reason,insertDaten:insertDaten}),!1))}}))}setCurrentInventurLockStatusOpened(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),deviceId=this.baseData.getCurrentDeviceId(),status=DBDIJobLockStatus.Unlocked;if(console.log("InventoryProgressService #88 setCurrentInventurLockStatusOpened",{jobid:jobid,uid:uid,deviceId:deviceId,status:status}),yield this.dexieService.inventurenUserStatus.where({jobid:jobid,uid:uid,device_id:deviceId}).count())return this.dexieService.inventurenUserStatus.update([jobid,uid,deviceId],{status:status,geschlossen_am:new Date,modified_at:new Date}).then(()=>(this.inventurLockStatusChanged.emit(status),!0)).catch(()=>!1);{const insertKey=[jobid,uid,deviceId],insertDaten={jobid:jobid,uid:uid,device_id:deviceId,token:"",status:status,geladen_am:new Date,geschlossen_am:null,created_at:new Date,modified_at:new Date};return this.dexieService.inventurenUserStatus.put(insertDaten,insertKey).then(()=>(this.inventurLockStatusChanged.emit(status),!0)).catch(reason=>(console.error("InventoryProgressService #137 Status Opened konnte nicht gesetzt werden",{reason:reason,insertKey:insertKey,insertDaten:insertDaten}),!1))}}))}getCurrentGebaeudeProgress(useGid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const gid=useGid||this.baseData.getCurrentGid(),jobid=this.baseData.getCurrentJobid();return this.getGebaeudeProgressByGidAndJobid(gid,jobid)}))}getGebaeudeProgressByGidAndJobid(gid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const db=this.dexieService,raeume=db.raeume,inventar=db.inventar,progress={total:0,done:0},ruuidList=(yield raeume.where({gid:gid}).toArray()).filter(rg=>rg.gid===gid&&rg.for_jobid===jobid).map(rg=>rg.uuid),chunkSize=Math.ceil(ruuidList.length/8),chunks=[];for(let i=0;i<ruuidList.length;i+=chunkSize)chunks.push(ruuidList.slice(i,i+chunkSize));return yield Promise.all([inventar.where({jobid:jobid}).count(),Promise.all(chunks.map(ruuidChunkList=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){return inventar.where("ruuid").anyOf(ruuidChunkList).and(inv=>inv.for_jobid===jobid).count()}))))]).then(chunksTotalAndProgress=>(console.log({chunksTotalAndProgress:chunksTotalAndProgress}),progress.done=chunksTotalAndProgress[0],progress.total=chunksTotalAndProgress[1].reduce((sum,chnk)=>sum+chnk,0),progress))}))}getCurrentRaumProgress(useRuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const uuid=useRuuid||this.baseData.getCurrentRuuid(),jobid=this.baseData.getCurrentJobid();return console.log("getCurrentRaumProgress calls getRaumProgressByRidAndJobid",{uuid:uuid,jobid:jobid}),this.getRaumProgressByUuidAndJobid(uuid,jobid)}))}getRaumProgressByUuidAndJobid(uuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const progress={total:0,done:0};return yield Promise.all([this.dexieService.inventar.where({ruuid:uuid}).count(),this.dexieService.inventar.where({ruuid:uuid}).and(itm=>itm.jobid===jobid).count()]).then(totalAndProgress=>{progress.total=totalAndProgress[0],progress.done=totalAndProgress[1]}),console.log("called getRaumProgressByUuidAndJobid",{uuid:uuid,jobid:jobid,progress:progress}),progress}))}getCurrentRaumInventarFound(useRuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const ruuid=useRuuid||this.baseData.getCurrentRuuid(),jobid=this.baseData.getCurrentJobid();return this.getRaumInventarFoundByRuuidAndJobid(ruuid,jobid)}))}getRaumInventarFoundByRuuidAndJobid(ruuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexieService.inventar.where({ruuid:ruuid,jobid:jobid}).toArray()}))}getCurrentRaumInventarNotFound(useRuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const ruuid=useRuuid||this.baseData.getCurrentRuuid(),jobid=this.baseData.getCurrentJobid();return this.getRaumInventarNotFoundByRuuidAndJobid(ruuid,jobid)}))}getRaumInventarNotFoundByRuuidAndJobid(ruuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexieService.inventar.where({ruuid:ruuid}).and(item=>item.jobid!==jobid).toArray()}))}getCurrentGebaeudeRaeumeFinished(useGid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const gid=useGid||this.baseData.getCurrentGid(),jobid=this.baseData.getCurrentJobid();return this.getGebaeudeRaeumeFinishedByGidAndJobid(gid,jobid)}))}getGebaeudeRaeumeFinishedByGidAndJobid(gid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexieService.raeume.where({gid:gid}).and(itm=>itm.current_jobid===jobid&&2===itm.current_jobstatus).toArray()}))}getCurrentGebaeudeRaeumeNotFinished(useGid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const gid=useGid||this.baseData.getCurrentGid(),jobid=this.baseData.getCurrentJobid();return this.getGebaeudeRaeumeNotFinishedByGidAndJobid(gid,jobid)}))}getGebaeudeRaeumeNotFinishedByGidAndJobid(gid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexieService.raeume.where({gid:gid}).and(itm=>itm.current_jobid!==jobid||2!==itm.current_jobstatus).toArray()}))}}return InventoryProgressService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new InventoryProgressService(ɵɵinject(dexie_service_DexieService),ɵɵinject(basedata_service_BasedataService))},token:InventoryProgressService,providedIn:"root"}),InventoryProgressService})();var RenderType_SelectInventoryComponent=createRendererType2({encapsulation:0,styles:[[".progress.progress-elemente[_ngcontent-%COMP%]{height:calc(1.5em + .75rem + 2px)}.select-inventory[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{min-width:5.5em}.dropdown.myDropdown[_ngcontent-%COMP%]{width:100%}.dropdown.myDropdown[_ngcontent-%COMP%]   [aria-haspopup=true][_ngcontent-%COMP%]{text-align:left;position:relative;text-indent:1em;border-top-left-radius:0;border-bottom-left-radius:0}.dropdown.myDropdown[_ngcontent-%COMP%]   [aria-haspopup=true][aria-expanded=true][_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}.dropdown.myDropdown[_ngcontent-%COMP%]   [aria-haspopup=true][_ngcontent-%COMP%]::after{position:absolute;right:0;top:0;margin-top:1em;margin-right:1em}.dropdown.myDropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;border-top-right-radius:0;border-top-left-radius:0;margin-top:1px}"]],data:{}});function View_SelectInventoryComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"span",[],null,null,null,null,null))],null,null)}function View_SelectInventoryComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,["[","] Warte auf Internet-Verbindung"]))],(function(_ck,_v){_ck(_v,1,0,!1,"danger")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.statusLoadingUserInventories)}))}function View_SelectInventoryComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,["[","] Warte auf Server-Verbindung"]))],(function(_ck,_v){_ck(_v,1,0,!1,"danger")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.statusLoadingUserInventories)}))}function View_SelectInventoryComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,["[","] Verbindung wird aufgebaut"]))],(function(_ck,_v){_ck(_v,1,0,!1,"warning")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.statusLoadingUserInventories)}))}function View_SelectInventoryComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,["[","] Daten werden abgerufen"]))],(function(_ck,_v){_ck(_v,1,0,!1,"info")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.statusLoadingUserInventories)}))}function View_SelectInventoryComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,["[","] Auswahldaten wurden geladen"]))],(function(_ck,_v){_ck(_v,1,0,!1,"success")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.statusLoadingUserInventories)}))}function View_SelectInventoryComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,["[","] Leider ist etwas schiefgelaufen"]))],(function(_ck,_v){_ck(_v,1,0,!1,"danger")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.statusLoadingUserInventories)}))}function View_SelectInventoryComponent_9(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Titel"])),(_l()(),elementDef(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""]))],null,(function(_ck,_v){_ck(_v,4,0,_v.parent.context.ngIf.Titel)}))}function View_SelectInventoryComponent_10(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Mandant"])),(_l()(),elementDef(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""]))],null,(function(_ck,_v){_ck(_v,4,0,_v.parent.context.ngIf.Mandant)}))}function View_SelectInventoryComponent_11(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Gebaeude"])),(_l()(),elementDef(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""]))],null,(function(_ck,_v){_ck(_v,4,0,_v.parent.context.ngIf.Gebaeude)}))}function View_SelectInventoryComponent_12(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum"])),(_l()(),elementDef(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""]))],null,(function(_ck,_v){_ck(_v,4,0,_v.parent.context.ngIf.Raum)}))}function View_SelectInventoryComponent_13(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["R-Bezeichnung"])),(_l()(),elementDef(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""]))],null,(function(_ck,_v){_ck(_v,4,0,_v.parent.context.ngIf.Raumbezeichnung)}))}function View_SelectInventoryComponent_14(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Etage"])),(_l()(),elementDef(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""]))],null,(function(_ck,_v){_ck(_v,4,0,_v.parent.context.ngIf.Etage)}))}function View_SelectInventoryComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,16,"div",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[" Möchten Sie die vorherige Inventur fortsetzen?"])),(_l()(),elementDef(2,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_9)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_10)),directiveDef(6,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_11)),directiveDef(8,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_12)),directiveDef(10,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_13)),directiveDef(12,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_14)),directiveDef(14,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(15,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.gotoLastInventory()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Fortsetzen"]))],(function(_ck,_v){_ck(_v,4,0,1),_ck(_v,6,0,1),_ck(_v,8,0,1),_ck(_v,10,0,_v.context.ngIf.Raum),_ck(_v,12,0,_v.context.ngIf.Raumbezeichnung),_ck(_v,14,0,_v.context.ngIf.Etage)}),null)}function View_SelectInventoryComponent_15(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(2,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.component.client.Mandant)}))}function View_SelectInventoryComponent_16(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Kunden werden geladen"]))],null,null)}function View_SelectInventoryComponent_17(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bitte Kunde auswählen"]))],null,null)}function View_SelectInventoryComponent_18(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Keine Auswahl vorhanden"]))],null,null)}function View_SelectInventoryComponent_19(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"button",[["class","dropdown-item"],["ngbDropdownItem",""]],[[1,"data-index",0],[8,"value",0],[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&($event.preventDefault(),$event.stopPropagation(),ad=!1!==_co.clientChanged(_v.context.index)&&ad),ad}),null,null)),directiveDef(1,16384,[[5,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),textDef(2,null,["",""]))],null,(function(_ck,_v){_ck(_v,0,0,_v.context.index,_v.context.index,nodeValue(_v,1).disabled),_ck(_v,2,0,_v.context.$implicit.Mandant)}))}function View_SelectInventoryComponent_20(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(2,null,[""," (Zuletzt in Arbeit)"]))],null,(function(_ck,_v){_ck(_v,2,0,_v.component.inventory.Titel)}))}function View_SelectInventoryComponent_21(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(2,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.component.inventory.Titel)}))}function View_SelectInventoryComponent_22(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Inventarisierungen werden geladen"]))],null,null)}function View_SelectInventoryComponent_23(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bitte Inventur auswählen"]))],null,null)}function View_SelectInventoryComponent_24(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Keine Auswahl vorhanden"]))],null,null)}function View_SelectInventoryComponent_26(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,null,null,null,null,null,null,null)),(_l()(),textDef(-1,null,[" (Zuletzt in Arbeit) "]))],null,null)}function View_SelectInventoryComponent_25(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"button",[["class","dropdown-item"],["ngbDropdownItem",""]],[[1,"data-index",0],[8,"value",0],[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&($event.preventDefault(),$event.stopPropagation(),ad=!1!==_co.inventorySelectionChanged(_v.context.$implicit.jobid)&&ad),ad}),null,null)),directiveDef(1,16384,[[9,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),textDef(2,null,[""," "])),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_26)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.lastInventory&&_v.context.$implicit.jobid===_co.lastInventory.jobid)}),(function(_ck,_v){_ck(_v,0,0,_v.context.$implicit.jobid,_v.context.$implicit.jobid,nodeValue(_v,1).disabled),_ck(_v,2,0,_v.context.$implicit.Titel)}))}function View_SelectInventoryComponent_29(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["(Zuletzt in Arbeit)"]))],null,null)}function View_SelectInventoryComponent_28(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_29)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(0,null,null,0))],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.lastBuilding&&_co.building.gid===_co.lastBuilding.gid)}),(function(_ck,_v){_ck(_v,2,0,_v.component.building.Gebaeude)}))}function View_SelectInventoryComponent_30(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Standorte werden geladen"]))],null,null)}function View_SelectInventoryComponent_31(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bitte Standort auswählen"]))],null,null)}function View_SelectInventoryComponent_32(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Keine Auswahl vorhanden"]))],null,null)}function View_SelectInventoryComponent_34(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,null,null,null,null,null,null,null)),(_l()(),textDef(-1,null,[" (Zuletzt in Arbeit) "]))],null,null)}function View_SelectInventoryComponent_33(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"button",[["class","dropdown-item"],["ngbDropdownItem",""]],[[1,"data-index",0],[8,"value",0],[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&($event.preventDefault(),$event.stopPropagation(),ad=!1!==_co.buildingChanged(_v.context.index)&&ad),ad}),null,null)),directiveDef(1,16384,[[13,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),textDef(2,null,[""," "])),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_34)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.lastBuilding&&_v.context.$implicit.gid===_co.lastBuilding.gid)}),(function(_ck,_v){_ck(_v,0,0,_v.context.index,_v.context.index,nodeValue(_v,1).disabled),_ck(_v,2,0,_v.context.$implicit.Gebaeude)}))}function View_SelectInventoryComponent_27(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,24,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,23,"div",[["class","row no-gutters input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,2,"div",[["class","col-auto input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,"span",[["class","input-group-text border-secondary"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Standort"])),(_l()(),elementDef(5,0,null,null,19,"div",[["class","col myDropdown"],["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),directiveDef(6,1720320,[["myGebaeudeDrop2",4]],3,ng_bootstrap_NgbDropdown,[ChangeDetectorRef,ng_bootstrap_NgbDropdownConfig,common_DOCUMENT,NgZone,ElementRef,Renderer2,[2,NgbNavbar]],null,null),queryDef(603979776,10,{_menu:0}),queryDef(603979776,11,{_menuElement:0}),queryDef(603979776,12,{_anchor:0}),(_l()(),elementDef(10,0,null,null,9,"button",[["aria-haspopup","true"],["class","col btn btn-outline-secondary dropdown-toggle"],["id","dropGebaeude2"],["ngbDropdownAnchor",""]],[[8,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&($event.preventDefault(),$event.stopPropagation(),ad=!1!==(nodeValue(_v,6).isOpen()?nodeValue(_v,6).close():nodeValue(_v,6).open())&&ad),ad}),null,null)),directiveDef(11,16384,[[12,4]],0,NgbDropdownAnchor,[ng_bootstrap_NgbDropdown,ElementRef],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_28)),directiveDef(13,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_30)),directiveDef(15,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_31)),directiveDef(17,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_32)),directiveDef(19,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(20,0,[[11,0]],null,4,"div",[["aria-labelledby","dropGebaeude2"],["class","border-secondary rounded-bottom"],["ngbDropdownMenu",""],["style","max-height:50vh;overflow-y:scroll"]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(_v,en,$event){var ad=!0;return"keydown.ArrowUp"===en&&(ad=!1!==nodeValue(_v,21).dropdown.onKeyDown($event)&&ad),"keydown.ArrowDown"===en&&(ad=!1!==nodeValue(_v,21).dropdown.onKeyDown($event)&&ad),"keydown.Home"===en&&(ad=!1!==nodeValue(_v,21).dropdown.onKeyDown($event)&&ad),"keydown.End"===en&&(ad=!1!==nodeValue(_v,21).dropdown.onKeyDown($event)&&ad),"keydown.Enter"===en&&(ad=!1!==nodeValue(_v,21).dropdown.onKeyDown($event)&&ad),"keydown.Space"===en&&(ad=!1!==nodeValue(_v,21).dropdown.onKeyDown($event)&&ad),ad}),null,null)),directiveDef(21,16384,[[10,4]],1,NgbDropdownMenu,[ng_bootstrap_NgbDropdown],null,null),queryDef(603979776,13,{menuItems:1}),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_33)),directiveDef(24,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,13,0,_co.building),_ck(_v,15,0,!_co.building&&_co.statusLoadingUserInventories<5),_ck(_v,17,0,!_co.building&&_co.statusLoadingUserInventories>=5&&_co.buildings&&_co.buildings.length>0),_ck(_v,19,0,!_co.building&&_co.statusLoadingUserInventories>=5&&(!_co.buildings||0===_co.buildings.length)),_ck(_v,24,0,_co.buildings)}),(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,nodeValue(_v,6).isOpen()),_ck(_v,10,0,!_co.inventory,nodeValue(_v,11).dropdown.isOpen()),_ck(_v,20,0,!0,nodeValue(_v,21).dropdown.isOpen(),nodeValue(_v,21).placement)}))}function View_SelectInventoryComponent_35(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert-info alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{type:[0,"type"]},null),(_l()(),textDef(2,0,["",""]))],(function(_ck,_v){_ck(_v,1,0,"info")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.status)}))}function View_SelectInventoryComponent_38(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,"div",[],null,null,null,null,null)),(_l()(),textDef(1,null,[" "," "," "])),(_l()(),elementDef(2,0,null,null,3,"p",[],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,2,"ngb-progressbar",[["type","success"]],null,null,null,View_NgbProgressbar_0,RenderType_NgbProgressbar)),directiveDef(4,49152,null,0,NgbProgressbar,[ng_bootstrap_NgbProgressbarConfig],{animated:[0,"animated"],striped:[1,"striped"],type:[2,"type"],value:[3,"value"]},null),(_l()(),textDef(5,0,[""," von ",""]))],(function(_ck,_v){_ck(_v,4,0,!_v.context.$implicit.finished,!_v.context.$implicit.finished,"success",_v.context.$implicit.progress)}),(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit.table,_v.context.$implicit.status),_ck(_v,5,0,_v.context.$implicit.current,_v.context.$implicit.total)}))}function View_SelectInventoryComponent_37(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"div",[["class","card"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_38)),directiveDef(3,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){_ck(_v,3,0,_v.component.tablesLoadingStatus)}),null)}function View_SelectInventoryComponent_36(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"button",[["aria-controls","collapseExample"],["class","btn btn-outline-primary"],["type","button"]],[[1,"aria-expanded",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&(ad=0!=(_co.tablesLoadingDetailsIsExpanded=!_co.tablesLoadingDetailsIsExpanded)&&ad),ad}),null,null)),(_l()(),textDef(2,null,[" Details "," "])),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_37)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){_ck(_v,4,0,_v.component.tablesLoadingDetailsIsExpanded)}),(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,!_co.tablesLoadingDetailsIsExpanded),_ck(_v,2,0,_co.tablesLoadingDetailsIsExpanded?"ausblenden":"einblenden")}))}function View_SelectInventoryComponent_39(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(_v,en,$event){var ad=!0;return"close"===en&&(ad=!1!==(_v.component.lastMetaMsg="")&&ad),ad}),View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(2,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{type:[0,"type"]},{close:"close"}),(_l()(),textDef(3,0,["",""]))],(function(_ck,_v){_ck(_v,2,0,"success")}),(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,nodeValue(_v,2).dismissible),_ck(_v,3,0,_co.lastMetaMsg)}))}function View_SelectInventoryComponent_40(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(_v,en,$event){var ad=!0;return"close"===en&&(ad=!1!==(_v.component.lastMetaErr="")&&ad),ad}),View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(2,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{type:[0,"type"]},{close:"close"}),(_l()(),textDef(3,0,["",""]))],(function(_ck,_v){_ck(_v,2,0,"danger")}),(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,nodeValue(_v,2).dismissible),_ck(_v,3,0,_co.lastMetaErr)}))}function View_SelectInventoryComponent_42(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"p",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(_v,en,$event){var ad=!0;return"close"===en&&(ad=!1!==_v.component.closeMsg(_v.context.$implicit)&&ad),ad}),View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(2,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{type:[0,"type"]},{close:"close"}),(_l()(),textDef(3,0,["",""]))],(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit.type)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,2).dismissible),_ck(_v,3,0,_v.context.$implicit.message)}))}function View_SelectInventoryComponent_41(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_42)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){_ck(_v,2,0,_v.component.listMetaMsg)}),null)}function View_SelectInventoryComponent_0(_l){return viewDef(0,[queryDef(671088640,1,{selectForm:0}),(_l()(),elementDef(1,0,null,null,15,null,null,null,null,null,null,null)),directiveDef(2,16384,null,0,NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_1)),directiveDef(4,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_2)),directiveDef(6,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_3)),directiveDef(8,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_4)),directiveDef(10,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_5)),directiveDef(12,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_6)),directiveDef(14,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_7)),directiveDef(16,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_8)),directiveDef(18,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(19,0,null,null,1,"h5",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Inventarisierung auswählen"])),(_l()(),elementDef(21,0,null,null,76,"form",[["class","select-inventory"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"submit"===en&&(ad=!1!==nodeValue(_v,23).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==nodeValue(_v,23).onReset()&&ad),"ngSubmit"===en&&(ad=!1!==_co.onSubmit()&&ad),ad}),null,null)),directiveDef(22,16384,null,0,ɵNgNoValidate,[],null,null),directiveDef(23,4210688,[[1,4],["f",4]],0,forms_NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),providerDef(2048,null,ControlContainer,null,[forms_NgForm]),directiveDef(25,16384,null,0,NgControlStatusGroup,[[4,ControlContainer]],null,null),(_l()(),elementDef(26,0,null,null,24,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(27,0,null,null,23,"div",[["class","row no-gutters input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(28,0,null,null,2,"div",[["class","col-auto input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(29,0,null,null,1,"span",[["class","input-group-text border-secondary"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Kunde"])),(_l()(),elementDef(31,0,null,null,19,"div",[["class","col myDropdown"],["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),directiveDef(32,1720320,[["myDropKunde",4]],3,ng_bootstrap_NgbDropdown,[ChangeDetectorRef,ng_bootstrap_NgbDropdownConfig,common_DOCUMENT,NgZone,ElementRef,Renderer2,[2,NgbNavbar]],null,null),queryDef(603979776,2,{_menu:0}),queryDef(603979776,3,{_menuElement:0}),queryDef(603979776,4,{_anchor:0}),(_l()(),elementDef(36,0,null,null,9,"button",[["aria-haspopup","true"],["class","col btn btn-outline-secondary dropdown-toggle"],["id","dropKunde"],["ngbDropdownAnchor",""]],[[1,"aria-expanded",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&($event.preventDefault(),$event.stopPropagation(),ad=!1!==(nodeValue(_v,32).isOpen()?nodeValue(_v,32).close():nodeValue(_v,32).open())&&ad),ad}),null,null)),directiveDef(37,16384,[[4,4]],0,NgbDropdownAnchor,[ng_bootstrap_NgbDropdown,ElementRef],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_15)),directiveDef(39,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_16)),directiveDef(41,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_17)),directiveDef(43,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_18)),directiveDef(45,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(46,0,[[3,0]],null,4,"div",[["aria-labelledby","dropKunde"],["class","border-secondary rounded-bottom"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(_v,en,$event){var ad=!0;return"keydown.ArrowUp"===en&&(ad=!1!==nodeValue(_v,47).dropdown.onKeyDown($event)&&ad),"keydown.ArrowDown"===en&&(ad=!1!==nodeValue(_v,47).dropdown.onKeyDown($event)&&ad),"keydown.Home"===en&&(ad=!1!==nodeValue(_v,47).dropdown.onKeyDown($event)&&ad),"keydown.End"===en&&(ad=!1!==nodeValue(_v,47).dropdown.onKeyDown($event)&&ad),"keydown.Enter"===en&&(ad=!1!==nodeValue(_v,47).dropdown.onKeyDown($event)&&ad),"keydown.Space"===en&&(ad=!1!==nodeValue(_v,47).dropdown.onKeyDown($event)&&ad),ad}),null,null)),directiveDef(47,16384,[[2,4]],1,NgbDropdownMenu,[ng_bootstrap_NgbDropdown],null,null),queryDef(603979776,5,{menuItems:1}),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_19)),directiveDef(50,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),elementDef(51,0,null,null,26,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(52,0,null,null,25,"div",[["class","row no-gutters input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(53,0,null,null,2,"div",[["class","col-auto input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(54,0,null,null,1,"span",[["class","input-group-text border-secondary"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Inventur"])),(_l()(),elementDef(56,0,null,null,21,"div",[["class","col myDropdown"],["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),directiveDef(57,1720320,[["myInventoryDrop",4]],3,ng_bootstrap_NgbDropdown,[ChangeDetectorRef,ng_bootstrap_NgbDropdownConfig,common_DOCUMENT,NgZone,ElementRef,Renderer2,[2,NgbNavbar]],null,null),queryDef(603979776,6,{_menu:0}),queryDef(603979776,7,{_menuElement:0}),queryDef(603979776,8,{_anchor:0}),(_l()(),elementDef(61,0,null,null,11,"button",[["aria-haspopup","true"],["class","col btn btn-outline-secondary dropdown-toggle"],["id","dropInventory"],["ngbDropdownAnchor",""]],[[1,"aria-expanded",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&($event.preventDefault(),$event.stopPropagation(),ad=!1!==(nodeValue(_v,57).isOpen()?nodeValue(_v,57).close():nodeValue(_v,57).open())&&ad),ad}),null,null)),directiveDef(62,16384,[[8,4]],0,NgbDropdownAnchor,[ng_bootstrap_NgbDropdown,ElementRef],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_20)),directiveDef(64,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_21)),directiveDef(66,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_22)),directiveDef(68,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_23)),directiveDef(70,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_24)),directiveDef(72,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(73,0,[[7,0]],null,4,"div",[["aria-labelledby","dropInventory"],["class","border-secondary rounded-bottom"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(_v,en,$event){var ad=!0;return"keydown.ArrowUp"===en&&(ad=!1!==nodeValue(_v,74).dropdown.onKeyDown($event)&&ad),"keydown.ArrowDown"===en&&(ad=!1!==nodeValue(_v,74).dropdown.onKeyDown($event)&&ad),"keydown.Home"===en&&(ad=!1!==nodeValue(_v,74).dropdown.onKeyDown($event)&&ad),"keydown.End"===en&&(ad=!1!==nodeValue(_v,74).dropdown.onKeyDown($event)&&ad),"keydown.Enter"===en&&(ad=!1!==nodeValue(_v,74).dropdown.onKeyDown($event)&&ad),"keydown.Space"===en&&(ad=!1!==nodeValue(_v,74).dropdown.onKeyDown($event)&&ad),ad}),null,null)),directiveDef(74,16384,[[6,4]],1,NgbDropdownMenu,[ng_bootstrap_NgbDropdown],null,null),queryDef(603979776,9,{menuItems:1}),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_25)),directiveDef(77,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_27)),directiveDef(79,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(80,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(81,0,null,null,1,"app-progressbar",[],null,null,null,View_ProgressbarComponent_0,RenderType_ProgressbarComponent)),directiveDef(82,114688,null,0,progressbar_component_ProgressbarComponent,[],{title:[0,"title"],value:[1,"value"],total:[2,"total"]},null),(_l()(),elementDef(83,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(84,0,null,null,2,"div",[["class","col col-sm-6 offset-sm-6"]],null,null,null,null,null)),(_l()(),elementDef(85,0,null,null,1,"button",[["class","btn btn-primary w-100"]],[[8,"disabled",0]],null,null,null,null)),(_l()(),textDef(-1,null,["Starten"])),(_l()(),elementDef(87,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_35)),directiveDef(89,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_36)),directiveDef(91,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_39)),directiveDef(93,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_40)),directiveDef(95,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectInventoryComponent_41)),directiveDef(97,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.statusLoadingUserInventories),_ck(_v,4,0,0),_ck(_v,6,0,1),_ck(_v,8,0,2),_ck(_v,10,0,3),_ck(_v,12,0,4),_ck(_v,14,0,5),_ck(_v,16,0,6),_ck(_v,18,0,!1),_ck(_v,39,0,_co.client),_ck(_v,41,0,!_co.client&&_co.statusLoadingUserInventories<5),_ck(_v,43,0,!_co.client&&_co.statusLoadingUserInventories>=5&&_co.clients&&_co.clients.length>0),_ck(_v,45,0,!_co.client&&_co.statusLoadingUserInventories>=5&&(!_co.clients||0===_co.clients.length)),_ck(_v,50,0,_co.clients),_ck(_v,64,0,_co.inventory&&_co.lastInventory&&_co.inventory.jobid===_co.lastInventory.jobid),_ck(_v,66,0,_co.inventory&&(!_co.lastInventory||_co.inventory.jobid!==_co.lastInventory.jobid)),_ck(_v,68,0,!_co.inventory&&_co.statusLoadingUserInventories<5),_ck(_v,70,0,!_co.inventory&&_co.statusLoadingUserInventories>=5&&_co.inventories&&_co.inventories.length>0),_ck(_v,72,0,!_co.inventory&&_co.statusLoadingUserInventories>=5&&(!_co.inventories||0===_co.inventories.length)),_ck(_v,77,0,_co.inventories),_ck(_v,79,0,!0),_ck(_v,82,0,"Anzahl Elemente",_co.doneElements,_co.totalElements),_ck(_v,89,0,_co.status),_ck(_v,91,0,_co.tablesLoadingStarted),_ck(_v,93,0,""!==_co.lastMetaMsg&&!_co.tablesLoadingStarted),_ck(_v,95,0,""!==_co.lastMetaErr&&!_co.tablesLoadingStarted),_ck(_v,97,0,_co.showListmetaMsg)}),(function(_ck,_v){var _co=_v.component;_ck(_v,21,0,nodeValue(_v,25).ngClassUntouched,nodeValue(_v,25).ngClassTouched,nodeValue(_v,25).ngClassPristine,nodeValue(_v,25).ngClassDirty,nodeValue(_v,25).ngClassValid,nodeValue(_v,25).ngClassInvalid,nodeValue(_v,25).ngClassPending),_ck(_v,31,0,nodeValue(_v,32).isOpen()),_ck(_v,36,0,nodeValue(_v,37).dropdown.isOpen()),_ck(_v,46,0,!0,nodeValue(_v,47).dropdown.isOpen(),nodeValue(_v,47).placement),_ck(_v,56,0,nodeValue(_v,57).isOpen()),_ck(_v,61,0,nodeValue(_v,62).dropdown.isOpen()),_ck(_v,73,0,!0,nodeValue(_v,74).dropdown.isOpen(),nodeValue(_v,74).placement),_ck(_v,85,0,!_co.building||_co.loading)}))}function View_SelectInventoryComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-select-inventory",[],null,null,null,View_SelectInventoryComponent_0,RenderType_SelectInventoryComponent)),directiveDef(1,245760,null,0,select_inventory_component_SelectInventoryComponent,[data_service_DataService,event_service_EventService,router_ActivatedRoute,router_Router,auth_service_AuthService,basedata_service_BasedataService,inventory_progress_service_InventoryProgressService,connection_service_service_ConnectionService,dbsync_log_service_DbsyncLogService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SelectInventoryComponentNgFactory=createComponentFactory("app-select-inventory",select_inventory_component_SelectInventoryComponent,View_SelectInventoryComponent_Host_0,{},{},[]);class scannerdetection_component_ScannerdetectionComponent{constructor(){this.input="",this.lastKeyEventTime=0,this.lastTimer=null,this.lastTimerTime=null,this.detectorConfig={minLength:5,maxLength:32,scannerStartsWith:"",scannerEndsWith:"",scanTimeout:100,ignoreChars:"",ignoreEndsWith:!0,ignoreOverElements:[],barcodeType:"code128"},this.scanned=new core_EventEmitter}set config(input){this.detectorConfig=Object.assign(this.detectorConfig,input)}onKeyDown(event,useTarget){console.log("#55 scannerDetection Key-Down-Event",{event:event,useTarget:useTarget});const target=useTarget,targetTagName=target.tagName,targetElementId=target.id,targetClassName=target.className,ignoreElements=this.detectorConfig.ignoreOverElements;let emitScanData=!0;const ignoreTagNames=ignoreElements.filter(name=>!name.startsWith(".")&&!name.startsWith("#")).map(name=>name.toUpperCase()),ignoreElementIds=ignoreElements.filter(name=>name.startsWith("#")).map(name=>name.substr(1)),ignoreClassNames=ignoreElements.filter(name=>name.startsWith(".")).map(name=>name.substr(1)),isEditableTextInput=target instanceof HTMLInputElement&&"input"===target.tagName&&target.type.match(/text|number|/)&&!target.readOnly&&!target.disabled;if(-1!==ignoreElementIds.indexOf(targetElementId)&&(emitScanData=!1),-1!==ignoreClassNames.indexOf(targetClassName)&&(emitScanData=!1),-1!==ignoreTagNames.indexOf(targetTagName)&&(emitScanData=!1),isEditableTextInput&&(emitScanData=!1),!emitScanData)return void console.log("#89 scannerDetection target is not our target: ",{useTarget:useTarget,isEditableTextInput:isEditableTextInput,ignoreTagNames:ignoreTagNames,ignoreElementIds:ignoreElementIds,ignoreClassNames:ignoreClassNames});const now=Date.now(),key="key"in event?event.key:"",isShiftKey=event.shiftKey;now-this.lastKeyEventTime>this.detectorConfig.scanTimeout?(console.log("#109 scannerDetection isScanInput",{target:target,key:key,"this.input":this.input,"event.type":event.type,event:event}),1===key.length?(this.input+=isShiftKey?key.toUpperCase():key,console.log("#106 scannerDetection add Char to Barcode",{key:key,barcode:this.input})):"Tab"!==key&&"Enter"!==key||event.preventDefault()):(this.input=key,console.log("#101 scannerDetection Start, input",this.input)),this.lastTimerTime=now,this.lastTimer&&clearTimeout(this.lastTimer),this.lastTimer=setTimeout(()=>{let input=this.input;-1!==input.indexOf("ß")&&(input=input.split("ß").join("-"));const barcode=input;console.log("#138 scannerDetection Emit After Timeout",{key:key,barcode:barcode}),this.input="",barcode.length>=5&&this.scanned.emit({barcode:barcode,length:barcode.length,valid:!0})},this.detectorConfig.scanTimeout),console.log("#147 scannerDetection LAST-LINE")}ngOnInit(){}}var RenderType_ScannerdetectionComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_ScannerdetectionComponent_0(_l){return viewDef(0,[ngContentDef(null,0)],null,null)}var InventoryEditorErrorCode=function(InventoryEditorErrorCode){return InventoryEditorErrorCode[InventoryEditorErrorCode.NoError=0]="NoError",InventoryEditorErrorCode[InventoryEditorErrorCode.RaumNotFound=1]="RaumNotFound",InventoryEditorErrorCode[InventoryEditorErrorCode.InventarNotFound=2]="InventarNotFound",InventoryEditorErrorCode[InventoryEditorErrorCode.ArtikelNotFound=3]="ArtikelNotFound",InventoryEditorErrorCode[InventoryEditorErrorCode.ArtikelMandantNotFound=4]="ArtikelMandantNotFound",InventoryEditorErrorCode[InventoryEditorErrorCode.ArtikelGlobalNotFound=5]="ArtikelGlobalNotFound",InventoryEditorErrorCode}({});let inventory_editor_service_InventoryEditorService=(()=>{class InventoryEditorService{constructor(dexieService,baseData){this.dexieService=dexieService,this.baseData=baseData}returnResultSuccess(data){return{success:!0,message:(data=data||{}).message||"",errorMsg:data.errorMsg||"",errorCode:data.errorCode||null}}returnResultError(data){return{success:!1,message:(data=data||{}).message||"",errorMsg:data.errorMsg||"",errorCode:data.errorCode||null}}updateInventar(invid,data){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){}))}updateArtikelImage(invid,data){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){}))}assignInventarToRaum(invUuid,ruuid,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobid||this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),devid=this.baseData.getCurrentDeviceId();return console.log("InventoryEditorService.assignInventarToRaum",{invUuid:invUuid,ruuid:ruuid,jobid:jobid,uid:uid,devid:devid}),Promise.all([this.dexieService.inventar.get(invUuid),this.dexieService.raeume.get(ruuid)]).then(result=>{const inv=result[0],raum=result[1];return console.log("InventoryEditorService.assignInventarToRaum",{inv:inv,raum:raum}),inv?raum?this.dexieService.inventar.update(inv.uuid,{ruuid:raum.uuid,jobid:jobid,modified_uid:uid,modified_jobid:jobid,modified_device_id:devid}).then(()=>this.returnResultSuccess()):this.returnResultError({errorCode:InventoryEditorErrorCode.RaumNotFound}):this.returnResultError({errorCode:InventoryEditorErrorCode.InventarNotFound})})}))}undoAssignedInventarToRaum(invUuid,ruuid,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobid||this.baseData.getCurrentJobid();return this.dexieService.clientChangeLog.where({table:"raeume",uuid:invUuid,jobid:jobid}).filter(item=>item.obj&&"uuid"in item.obj&&item.obj.uuid===ruuid).last().then(item=>1===item.type?this.dexieService.inventar.delete(item.uuid).then(()=>this.dexieService.clientChangeLog.delete(item.id)).then(()=>this.returnResultSuccess()):2===item.type?this.dexieService.inventar.update(invUuid,item.oldObj).then(num=>{if(num>0)return this.dexieService.clientChangeLog.delete(item.id);throw new Error("Cannot undo Raum-Inventar-Zuweisung!")}).then(()=>this.returnResultSuccess()).catch(err=>this.returnResultError({errorMsg:err})):this.returnResultError())}))}}return InventoryEditorService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new InventoryEditorService(ɵɵinject(dexie_service_DexieService),ɵɵinject(basedata_service_BasedataService))},token:InventoryEditorService,providedIn:"root"}),InventoryEditorService})();var guid=__webpack_require__("kLqA");let hersteller_service_HerstellerService=(()=>{class HerstellerService{constructor(dexie,baseData){this.dexie=dexie,this.baseData=baseData}getAll(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexie.hersteller.orderBy("Hersteller").toArray()}))}getAllHerstellerWithUuids(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const result=[];return this.dexie.hersteller.orderBy("Hersteller").each(hst=>{result.push({Hersteller:hst.Hersteller,uuid:hst.uuid})}).then(()=>result)}))}getByNameOrCreate(name){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return(yield this.getByName(name))||this.createAndGetData(name)}))}getByName(name){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("called HerstellerService.getByName(name)");const exakt=yield this.dexie.hersteller.where({Hersteller:name}).first();if(void 0!==exakt)return console.log("Found Hersteller with strict compare-search"),exakt;const fuzzy=yield this.dexie.hersteller.filter(item=>item.Hersteller.trim().toLowerCase()===name.trim().toLowerCase()).first();return void 0===fuzzy?console.log("Not Found Hersteller with strict compare-search, found with caseinsensitive"):console.error("Hersteller not found!"),fuzzy}))}create(name){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),uuid=guid.Guid.create().toString();return yield this.dexie.hersteller.add({Hersteller:name,uuid:uuid,for_jobid:jobid,created_at:new Date,created_uid:uid,created_jobid:jobid}),uuid}))}createAndGetData(name){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const uuid=yield this.create(name);return this.dexie.hersteller.get({uuid:uuid})}))}}return HerstellerService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new HerstellerService(ɵɵinject(dexie_service_DexieService),ɵɵinject(basedata_service_BasedataService))},token:HerstellerService,providedIn:"root"}),HerstellerService})(),artikel_service_ArtikelService=(()=>{class ArtikelService{constructor(dexie,authService,dataService,baseData,herstellerService){this.dexie=dexie,this.authService=authService,this.dataService=dataService,this.baseData=baseData,this.herstellerService=herstellerService}artikelBezeichnungExistsGlobal(bezeichnung){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexie.objektKatalogGlobal.where("Bezeichnung").equalsIgnoreCase(bezeichnung).count()}))}___DEL__artikelExistsMandant(mid,gcid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return 0<(yield this.dexie.objektKatalogMandant.where({mid:mid,gcid:gcid}).count())}))}artikelGlobalByBezeichnung(bezeichnung){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexie.objektKatalogGlobal.where("Bezeichnung").equalsIgnoreCase(bezeichnung).toArray()}))}artikelMcuuidByGcuuids(mid,gcuuids){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return"string"==typeof gcuuids&&(gcuuids=[gcuuids]),yield this.dexie.objektKatalogMandant.where("gcuuid").anyOf(gcuuids).filter(itm=>itm.mid===mid).toArray()}))}___DEL__getGcuuidByGcuuid(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.objektKatalogGlobal.get(uuid).then(itm=>itm.uuid)}))}insertArtikelData(daten){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const katalog=this.dexie.objektKatalogGlobal,uid=this.authService.getUser().id,jobid=this.baseData.getCurrentJobid(),deviceid=this.baseData.getCurrentDeviceId(),uuid=guid.Guid.create().toString(),log={log:!0};daten.Hersteller&&(console.log("ArtikelService insertArtikelDate() #153"),yield this.herstellerService.getByNameOrCreate(daten.Hersteller).then(hstData=>{daten.hid=hstData.hid,daten.huuid=hstData.uuid}));const exists=yield katalog.where({Bezeichnung:daten.Bezeichnung,huuid:daten.huuid}).toArray();if(exists){const sameData=exists.filter(itm=>{for(const k of["huuid","Gruppe","Kategorie","Typ","Farbe","Groesse"])if(itm[k]!==daten[k])return!1;return!0});if(sameData.length>0)return console.log("ArtikelService insertArtikelData() #175"),sameData[0];throwError_throwError({name:"DuplicateEntry",message:"Es existiert bereits ein Katalogeintrag mit gleicher Bezeichnung, der aufgrund abweichender Details nicht übernommen werden kann.\n Da Bezeichnungen unique sein müssen, ändern sie diese bitte ab oder übernehmen den anderen Eintrag!",data:sameData})}const insertData={uuid:uuid,hash:null,code:uuid,hid:daten.hid,huuid:daten.huuid,Bezeichnung:daten.Bezeichnung,Typ:daten.Typ,Gruppe:daten.Gruppe,Kategorie:daten.Kategorie,Farbe:daten.Farbe,Groesse:daten.Groesse,created_at:new Date,modified_at:null,created_uid:uid,created_device_id:deviceid,created_jobid:jobid,lid:"lid"in daten?daten.lid:null,Produktnr:"Produktnr"in daten?daten.Produktnr:null,Bild:"Bild"in daten?daten.Bild:null,AnlagenNr:"AnlagenNr"in daten?daten.AnlagenNr:null,GeraetNr:"GeraetNr"in daten?daten.GeraetNr:null,FibuNr:"FibuNr"in daten?daten.FibuNr:null,Flaeche:"Flaeche"in daten?daten.Flaeche:null,Gewicht:"Gewicht"in daten?daten.Gewicht:null,Baujahr:"Baujahr"in daten?daten.Baujahr:null,Kst:"Kst"in daten?daten.Kst:null,log:!0},insertNewData=Object.assign({},insertData,log),insertKey=yield katalog.add(Object.assign({},insertData,log));return insertKey||(console.error("ArtikelService # 220 insertArtikelData(daten) empty result insertKey",{insertKey:insertKey,insertNewData:insertNewData}),alert("#219 ArtikelService.insertArtikelData(daten) empty Result. See console.log")),console.log("ArtikelService insertArtikelData() #223"),katalog.get(insertKey)}))}insertArtikelRefByGcidGcuuid(gcuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const artikelRef=this.dexie.objektKatalogMandant,jobid=this.baseData.getCurrentJobid(),mid=this.baseData.getCurrentMid(),uid=this.authService.getUser().id,uuid=guid.Guid.create().toString(),devID=this.baseData.getCurrentDeviceId(),insertData=(new Date,Object.assign({gcuuid:gcuuid},{mid:mid,code:uuid,for_jobid:jobid,created_at:new Date,created_uid:uid,created_device_id:devID,uuid:uuid},{log:!0})),mcuuid=yield artikelRef.add(insertData);return artikelRef.get(mcuuid)}))}insertArtikelRef(daten){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const artikelRef=this.dexie.objektKatalogMandant,jobid=this.baseData.getCurrentJobid(),uid=this.authService.getUser().id,uuid=guid.Guid.create().toString(),defaultMid=this.baseData.getCurrentMid(),devID=this.baseData.getCurrentDeviceId(),log={log:!0};if(!daten.gcuuid){console.log("ArtikelService insertArtikelRef() #265",{daten:Object.assign({},daten)});const artikelData=yield this.insertArtikelData(Object.assign({},daten,log));if(console.log("ArtikelService insertArtikelRef() #270 artikelData",{artikelData:Object.assign({},artikelData)}),!artikelData)return console.error("ArtikelService #267 unexpected empty Result: artikelData = this.insertArikelData()",{artikelData:artikelData,daten:daten}),alert("ArikelService #269 unexpected Result for insertArtikelData. See console.log"),null;daten.gcid=artikelData.gcid,daten.gcuuid=artikelData.uuid}const insertData={mid:daten.mid||defaultMid,gcid:daten.gcid,gcuuid:daten.gcuuid,uuid:uuid,code:uuid,created_at:new Date,created_uid:uid,created_jobid:jobid,created_device_id:devID,modified_at:null,modified_uid:null},insertUuid=yield artikelRef.add(Object.assign({},insertData,log));return console.log("ArtikelService insertArtikelRef() #295",{uuid:uuid,insertUuid:insertUuid}),artikelRef.get({uuid:insertUuid})}))}insert(daten){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){try{console.log("ArtikelService #295 insert(daten) call this.getFirstArtikelGcuuidByBasisDaten(daten)",{daten:daten});try{const existingGcuuid=yield this.getFirstArtikelGcuuidByBasisDaten(daten);daten.gcuuid=existingGcuuid}catch(e){throw console.error("ArtikelService #299",{e:e}),e}console.log("ArtikelService #303 insert(daten) call this.insertArtikelRef(daten)");const artikelRefData=yield this.insertArtikelRef(daten);if(console.log("ArtikelService #305 artikelRefData = insert(daten)",{daten:daten,artikelRefData:artikelRefData}),!artikelRefData||!("gcuuid"in artikelRefData))return alert("ERROR: #307 ArtikelService.insert() after calling ArtikelService.insertArtikelRef(daten)"+JSON.stringify({daten:daten})),{success:!1,newId:null,data:null,newItem:null,artikelRef:null,artikelData:null};const gItem=yield this.dexie.objektKatalogGlobal.get({uuid:artikelRefData.gcuuid}),item=Object.assign({},artikelRefData,gItem,{mcuuid:artikelRefData.uuid});return{success:!0,newId:artikelRefData.uuid,data:artikelRefData,newItem:item,artikelRef:artikelRefData,artikelData:gItem}}catch(err){return{success:!1,errorMsg:("name"in err?err.name+": ":"")+("message"in err?err.message:JSON.stringify(err)),debug:err,data:daten}}}))}getFirstArtikelGcuuidByBasisDaten(properties){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){if("Hersteller"in properties&&properties.Hersteller.length>0){const hst=yield this.herstellerService.getByName(properties.Hersteller);if(!hst||!hst.uuid)return"";properties.huuid=hst.uuid}const filledProps={},emptyProps={};for(const pName of Object.keys(properties))pName in properties&&(""!==properties[pName]&&null!==properties[pName]?filledProps[pName]=properties[pName]:emptyProps[pName]=properties[pName]);if(0===Object.keys(filledProps).length)return"";if(!("huuid"in filledProps)&&!("Bezeichnung"in filledProps))return"";let query;properties.huuid&&"huuid"in filledProps?(query=this.dexie.objektKatalogGlobal.where({huuid:properties.huuid}),delete filledProps.huuid):properties.Bezeichnung&&"Bezeichnung"in filledProps&&(query=this.dexie.objektKatalogGlobal.where("Bezeichnung").equalsIgnoreCase(properties.Bezeichnung),delete filledProps.Bezeichnung),query.filter(okg=>{for(const k of Object.keys(filledProps))if(k in okg&&okg[k]!==filledProps[k])return!1;for(const k of Object.keys(emptyProps))if(k in okg&&okg[k]!==emptyProps[k]&&null!==okg[k]&&""!==okg[k])return!1;return!0}).first().then(okg=>okg&&"uuid"in okg?okg.uuid:"")}))}__DEL__update(artikel){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return{success:!1}}))}countArticleByHerstellerUuid(huuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const artikelTbl=this.dexie.objektKatalogGlobal;return yield artikelTbl.where({huuid:huuid}).count()}))}countArticleByProperties(props){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const artikelTbl=this.dexie.objektKatalogGlobal;let query=artikelTbl;return Object.keys(props).forEach(k=>{props[k]||delete props[k]}),props.huuid&&(query=artikelTbl.where({huuid:props.huuid}),delete props.huuid),"filter"in query||throwError_throwError("query has an Unexpected Type. Expected Collection|Table with method filter! Given: "+typeof query),yield query.filter(props).count()}))}listArticleByProperties(mid,hstId,props){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const huuid="string"==typeof hstId?hstId:null;let propKeys=Object.keys(props);return propKeys.forEach(k=>{props[k]?"string"==typeof props[k]&&(props[k]=props[k].toLowerCase()):delete props[k]}),propKeys=Object.keys(props),this.dataService.joinie({table:"objektKatalogGlobal",where:huuid?{huuid:huuid}:null,joins:[{parentKey:"huuid",key:"uuid",table:"hersteller",alias:"hersteller",resultType:JoinResultType.First},{parentKey:"uuid",table:"images",key:"gcuuid",alias:"image",resultType:JoinResultType.First},{parentKey:"uuid",table:"objektKatalogMandant",key:"gcuuid",alias:"artikelRef",multi:!0,where:{mid:mid},joins:[{parentKey:"uuid",table:"inventar",key:"mcuuid",alias:"inventar_count",multi:!0,resultType:JoinResultType.Count,map:obj=>({uuid:obj.uuid,ruuid:obj.ruuid})}],filter:obj=>obj.mid===mid}],filter:item=>{for(const k of propKeys){if(!(k in item))return!1;if("string"==typeof props[k]&&"string"==typeof item[k]){if(-1===item[k].toLowerCase().indexOf(props[k]))return!1}else if(props[k]!==item[k])return!1}return!0},map:obj=>(obj.gcuuid=obj.uuid,obj.inventar_count=0,obj.Hersteller="",obj.img_id=null,obj.img_uuid=null,obj.mcid=null,obj.mcuuid=null,null!=obj.hersteller&&(obj.Hersteller=obj.hersteller.Hersteller),null!=obj.image&&(obj.img_id=obj.image.id,obj.img_uuid=obj.image.uuid),Array.isArray(obj.artikelRef)?(obj.artikelRef.forEach(a=>obj.inventar_count+=a.inventar_count),obj.mcid=obj.artikelRef.length?obj.artikelRef[0].mcid:null,obj.mcuuid=obj.artikelRef.length?obj.artikelRef[0].mcuuid:null):obj.artikelRef&&(obj.inventar_count=obj.artikelRef.inventar_count,obj.mcid=obj.artikelRef.mcid,obj.mcuuid=obj.artikelRef.mcuuid),obj),sort:(a,b)=>"inventar_count"in a&&"inventar_count"in b?a.inventar_count>b.inventar_count?-1:1:0,limit:10}).then(list=>(console.log({"joinie.result":list}),list))}))}getGroupedArtikelGruppen(where){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.getGroupedArtikelProperties("Gruppe",where)}))}getGroupedArtikelKategorien(where){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.getGroupedArtikelProperties("Kategorie",where)}))}getGroupedArtikelTypen(where){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.getGroupedArtikelProperties("Typ",where)}))}getGroupedArtikelGroessen(where){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.getGroupedArtikelProperties("Groesse",where)}))}getGroupedArtikelFarben(where){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.getGroupedArtikelProperties("Farbe",where)}))}getGroupedArtikelProperties(property,where){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const table=this.dexie.objektKatalogGlobal,names=[],hasWhere=where&&Object.keys(where).length>0,keysWhere=hasWhere?Object.keys(where):[];return hasWhere?table.where(where):table.toCollection(),(yield table.orderBy(property).filter(itm=>{if(!(property in itm)||"string"!=typeof itm[property]||""===itm[property].trim())return!1;if(!hasWhere)return!0;for(const k of keysWhere){if(!(k in itm))return!1;if("string"==typeof itm[k]&&"string"==typeof where[k]){if(itm[k].toString().toLowerCase().trim()!==where[k].toString().toLowerCase().trim())return!1}else if(itm[k]!==where[k])return!1}return!0}).uniqueKeys()).forEach(n=>{"string"==typeof n&&names.push(n)}),names}))}getGroupedArtikelGruppenKategorien(where){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#364 getGroupedArtikelGruppenKategorien",{where:where});const Promise=dexie_es.Promise,table=this.dexie.objektKatalogGlobal,uniqGrps=yield table.orderBy("Gruppe").uniqueKeys();return Promise.all(uniqGrps.map(grp=>tslib_es6.__awaiter(this,void 0,void 0,(function*(){return table.orderBy("Kategorie").filter(itm=>itm.Gruppe===grp&&"string"==typeof itm.Kategorie&&""!==itm.Kategorie.trim()).uniqueKeys()})))).then(ktgs=>uniqGrps.map((grp,i)=>({gruppe:grp.toString(),kategorien:ktgs[i]})))}))}}return ArtikelService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new ArtikelService(ɵɵinject(dexie_service_DexieService),ɵɵinject(auth_service_AuthService),ɵɵinject(data_service_DataService),ɵɵinject(basedata_service_BasedataService),ɵɵinject(hersteller_service_HerstellerService))},token:ArtikelService,providedIn:"root"}),ArtikelService})();var InventarEditErrorCode=function(InventarEditErrorCode){return InventarEditErrorCode[InventarEditErrorCode.NoError=0]="NoError",InventarEditErrorCode[InventarEditErrorCode.RaumNotFound=1]="RaumNotFound",InventarEditErrorCode[InventarEditErrorCode.InventarNotFound=2]="InventarNotFound",InventarEditErrorCode[InventarEditErrorCode.ArtikelNotFound=3]="ArtikelNotFound",InventarEditErrorCode[InventarEditErrorCode.ArtikelMandantNotFound=4]="ArtikelMandantNotFound",InventarEditErrorCode[InventarEditErrorCode.ArtikelGlobalNotFound=5]="ArtikelGlobalNotFound",InventarEditErrorCode}({});let inventar_service_InventarService=(()=>{class InventarService{constructor(dexie,authService,baseData,herstellerService,artikelService){this.dexie=dexie,this.authService=authService,this.baseData=baseData,this.herstellerService=herstellerService,this.artikelService=artikelService,this.changed=new core_EventEmitter}returnResultSuccess(data){const result={type:data.type,success:!0,message:data.message||""};return 1===data.type&&(result.insertID=data.insertID,result.insertUUID=data.insertUUID),result}getJobiId(){return this.baseData.getCurrentJobid()}getMid(){return this.baseData.getCurrentMid()}getUserId(){return this.authService.getUser().id}getFreshUuid(){return guid.Guid.create().toString()}returnResultError(data){return{type:data.type,success:!1,message:data.message||"",errorMsg:data.errorMsg||"",errorCode:data.errorCode||null}}getHello(){return"hello"}getInventar(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const result={success:!1,inventar:null,artikelRef:null,artikelData:null,hersteller:null};return console.log("InventarService #155 getInventar(uuid: ",uuid,")"),result.inventar=yield this.dexie.inventar.get(uuid),console.log("InventarService #157 inventar.get(uuid: ",uuid,")",{result:result}),result.inventar&&(console.log("InventarService #160 objektKatalogMandant.get(uuid: ",result.inventar.mcuuid,")"),result.artikelRef=yield this.dexie.objektKatalogMandant.get(result.inventar.mcuuid),console.log("InventarService #162 objektKatalogMandant.get(uuid: ",result.inventar.mcuuid,")",{resultArtikelRef:result.artikelRef}),result.artikelRef&&(result.success=!0,console.log("InventarService #155 objektKatalogGlobal.get(uuid: ",result.artikelRef.gcuuid,")"),result.artikelData=yield this.dexie.objektKatalogGlobal.get(result.artikelRef.gcuuid),console.log("InventarService #155 objektKatalogGlobal.get(uuid: ",result.artikelRef.gcuuid,")",{resultArtikelData:result.artikelData}),result.artikelData.huuid&&(console.log("InventarService #172 herteller.get(huuid: ",result.artikelData.huuid,")"),result.hersteller=yield this.dexie.hersteller.get(result.artikelData.huuid),console.log("InventarService #174 hersteller.get(huuid: ",result.artikelData.huuid,")",{resultHersteller:result.hersteller})))),result}))}insertInventar(inventar,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobid||this.getJobiId(),uid=this.getUserId(),uuid=this.getFreshUuid();console.log("InventarService #189 insertInventar: ",{inventar:inventar});const item={mcid:inventar.mcid,uuid:uuid,mcuuid:inventar.mcuuid,hash:"",code:inventar.code,ruuid:inventar.ruuid,ruuid_neu:inventar.ruuid,for_jobid:inventar.jobid||jobid,jobid:inventar.jobid||jobid,created_at:inventar.created_at||new Date,created_uid:inventar.created_uid||uid,created_jobid:inventar.created_jobid||jobid},log={log:!0},insertUuid=yield this.dexie.inventar.add(Object.assign({},item,log));console.log("InventarService #207 insertInventar: ",{insertUuid:insertUuid,data:Object.assign({},item,log)});const saved=yield this.dexie.inventar.get(insertUuid);if(console.log("InventarService #207 insertInventar: ",{insertUuid:insertUuid,saved:saved,data:Object.assign({},item,log)}),insertUuid&&saved){this.dexie.barcodeLookup.add({code:saved.code,for_jobid:jobid,table:"inventar",key:"uuid",uuid:insertUuid,updateHelper:11});const lkupItem=yield this.dexie.barcodeLookup.get({code:saved.code,for_jobid:jobid});console.log("InventarService #220 insertInventar: ",{insertUuid:insertUuid,saved:saved,lkupItem:lkupItem,data:Object.assign({},item,log)})}return this.changed.emit({type:1,table:this.dexie.inventar.name,key:insertUuid,uuid:uuid,obj:item}),this.returnResultSuccess({type:1,insertUUID:uuid})}))}updateArtikelRef(uuid,inventar,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobid||this.getJobiId(),uid=this.getUserId(),inventarEditResult={type:2,success:!1,message:"",errorMsg:"",errorCode:InventarEditErrorCode.NoError,insertUUID:uuid},item={mcid:inventar.mcid,uuid:uuid,mcuuid:inventar.mcuuid,code:inventar.code,jobid:inventar.jobid||jobid,modified_at:inventar.modified_at||new Date,modified_uid:inventar.modified_uid||uid,modified_jobid:inventar.modified_jobid||jobid};return this.dexie.inventar.update(uuid,item).then(n=>(inventarEditResult.success=!0,inventarEditResult.message="Inventar wurde aktualisiert!",inventarEditResult),reason=>(console.error("InventarService updateArtikelRef #277",{uuid:uuid,inventar:inventar,updateData:item,reason:reason}),inventarEditResult.errorCode=InventarEditErrorCode.InventarNotFound,inventarEditResult.message="Fehler bei Aktualisierung der Inventardaten! (siehe console.error)",inventarEditResult.errorMsg=JSON.stringify(reason),inventarEditResult))}))}updateByUuid(uuid,daten){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#205 updateById",{uuid:uuid,daten:daten});const jobid=this.getJobiId(),uid=this.getUserId(),mid=this.getMid(),devID=this.baseData.getCurrentDeviceId(),oldData=yield this.getInventar(uuid);let bUpdateBarceLookup=!1;const globalKatalogDaten={Bezeichnung:daten.Bezeichnung,Gruppe:daten.Gruppe,Kategorie:daten.Kategorie,Typ:daten.Typ,Farbe:daten.Farbe,Groesse:daten.Groesse,hid:daten.hid||0,huuid:daten.huuid||null};if(daten.Hersteller){console.log("#226 checkAndGet Hersteller: ",daten.Hersteller);const hstQuery=this.dexie.hersteller.where("Hersteller").equals(daten.Hersteller);(yield hstQuery.count())>0?(console.log("#228 checkAndGet Hersteller existiert bereits"),yield this.dexie.hersteller.where("Hersteller").equals(daten.Hersteller).first().then(hstData=>{globalKatalogDaten.hid=hstData.hid,globalKatalogDaten.huuid=hstData.uuid})):(console.log("#238 checkAndGet Hersteller wird angelegt"),yield this.herstellerService.createAndGetData(daten.Hersteller).then(hst=>{globalKatalogDaten.hid=hst.hid,globalKatalogDaten.huuid=hst.uuid}))}const okgFilledFields=this.getFilledFields(globalKatalogDaten),okgEmptyFieldnames=Object.keys(this.getEmptyFields(globalKatalogDaten)),okgArtikelMatches=yield this.dexie.objektKatalogGlobal.filter(rslt=>{for(const ff of Object.keys(okgFilledFields))if(okgFilledFields[ff]!==("string"==typeof rslt[ff]?rslt[ff].trim():rslt[ff]))return!1;for(const ef of okgEmptyFieldnames){const valRslt="string"==typeof rslt[ef]?rslt[ef].trim():rslt[ef];if(null!==valRslt&&""!==valRslt)return!1}return!0}).toArray();console.log("#267 okgArtikelMatches",{okgFilledFields:okgFilledFields,okgEmptyFieldnames:okgEmptyFieldnames,okgArtikelMatches:okgArtikelMatches});let okgArtikel=null,okmArtikelRef=null;switch(okgArtikelMatches.length){case 0:console.log("#273 checkAndGet Artikel wird angelegt"),okgArtikel=yield this.artikelService.insertArtikelData(globalKatalogDaten);break;case 1:okgArtikel=okgArtikelMatches[0];break;default:okgArtikel=okgArtikelMatches.sort((a,b)=>{const rankA=a.created_jobid===jobid?1:a.modified_jobid===jobid?2:3,rankB=b.created_jobid===jobid?1:b.modified_jobid===jobid?2:3;return rankA<rankB?-1:rankA>rankB?1:0})[0]}if(okgArtikel){console.log("#290 checkAndGet Artikel existiert/angelegt"),okmArtikelRef=yield this.dexie.objektKatalogMandant.where({mid:mid,for_jobid:jobid,gcid:okgArtikel.gcid}).first(),okmArtikelRef||(console.log("#296 checkAndGet ArtikelRef nuss angeleget werden"),okmArtikelRef=yield this.artikelService.insertArtikelRefByGcidGcuuid(okgArtikel.uuid));const updateInv={};okmArtikelRef.uuid!==daten.mcuuid&&(updateInv.mcuuid=okmArtikelRef.uuid),oldData.inventar.Zustand!==daten.Zustand&&(updateInv.Zustand=daten.Zustand),oldData.inventar.code!==daten.code&&(updateInv.code=daten.code,bUpdateBarceLookup=!0),Object.keys(updateInv).length>0&&(console.log("#310 checkAndGet ArtikelRef-ID muss im Inventar aktualisiert werden"),updateInv.modified_at=new Date,updateInv.modified_uid=uid,updateInv.modified_jobid=jobid,updateInv.modified_device_id=devID,updateInv.log=!0,yield this.dexie.inventar.update(uuid,updateInv).then(()=>{bUpdateBarceLookup?(console.log("InventarService #353 call updateBarcodelookup(",{ivid:uuid,datenCode:daten.code}),this.updateBarcodeLookup(uuid,daten.code,oldData.inventar.code)):console.log("InventarService #356 Barcode has not changed")}))}const result=yield this.getInventar(uuid);return console.log("#322 return Inventar-Data",result),result}))}updateRefs(uuid,mcuuid,daten){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=this.getJobiId(),uid=this.getUserId(),devID=(this.getMid(),this.baseData.getCurrentDeviceId()),updateInv={},oldData=yield this.getInventar(uuid);let bUpdateBarceLookup=!1;updateInv.mcuuid=mcuuid,daten.Zustand&&daten.Zustand!==oldData.inventar.Zustand&&(updateInv.Zustand=daten.Zustand),daten.code&&daten.code!==oldData.inventar.code&&(updateInv.code=daten.code,bUpdateBarceLookup=!0),console.log("#310 checkAndGet ArtikelRef-ID muss im Inventar aktualisiert werden"),updateInv.modified_at=new Date,updateInv.modified_uid=uid,updateInv.modified_jobid=jobid,updateInv.modified_device_id=devID,updateInv.log=!0,this.dexie.inventar.update(uuid,updateInv).then(()=>{bUpdateBarceLookup&&this.updateBarcodeLookup(uuid,daten.code,oldData.inventar.code)})}))}updateBarcodeLookup(uuid,code,oldCode){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("InventarService #410 called updateBarcodelookup(",{uuid:uuid,code:code},")");let savedRaumDataCode=oldCode;const savedRaumData=yield this.dexie.inventar.get(uuid);oldCode||(savedRaumDataCode=savedRaumData.code);const jobid=this.getJobiId();if(console.log("InventarService #413 check if code has changed(",{ivid:uuid,code:code,savedRaumDataCode:savedRaumDataCode},")"),savedRaumDataCode!==code){const lkupKey={code:savedRaumDataCode,for_jobid:jobid};(yield this.dexie.barcodeLookup.get(lkupKey))?(console.log("InventarService #420 make update on existing bcItem: ",{lkupKey:lkupKey}),yield this.dexie.barcodeLookup.update([savedRaumDataCode,jobid],{code:code})):(console.log("InventarService #425 create new bcItem"),this.dexie.barcodeLookup.put({code:code,for_jobid:jobid,key:"uuid",table:"inventar",updateHelper:1,uuid:savedRaumData.uuid}))}}))}getFilledFields(obj){const allFields=Object.keys(obj),filledFields={};for(const f of allFields){const val="string"==typeof obj[f]?obj[f].trim():obj[f];null!==val&&""!==val&&(filledFields[f]=val)}return filledFields}getEmptyFields(obj){const allFields=Object.keys(obj),emptyFields={};for(const f of allFields){const val="string"==typeof obj[f]?obj[f].trim():obj[f];null!==val&&""!==val||(emptyFields[f]=val)}return emptyFields}assignRaum(uuid,ruuid,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const db=this.dexie,inventar=db.inventar,raeume=db.raeume,jobid=useJobid||this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),devid=this.baseData.getCurrentDeviceId(),log={log:!0};return console.log("InventoryEditorService.assignInventarToRaum",{uuid:uuid,ruuid:ruuid,jobid:jobid,uid:uid,devid:devid}),Promise.all([inventar.get(uuid),raeume.get(ruuid)]).then(result=>{const inv=result[0],raum=result[1];if(console.log("InventoryEditorService.assignInventarToRaum",{inv:inv,raum:raum}),!inv)return this.returnResultError({type:2,errorCode:InventarEditErrorCode.InventarNotFound});if(!raum)return this.returnResultError({type:2,errorCode:InventarEditErrorCode.RaumNotFound});const changes={ruuid:raum.uuid,jobid:jobid,modified_at:new Date,modified_uid:uid,modified_jobid:jobid,modified_device_id:devid};return inventar.update(inv.uuid,Object.assign({},changes,log)).then(()=>(this.changed.emit({type:2,table:inventar.name,key:inv.uuid,uuid:inv.uuid,obj:Object.assign({},inv,changes),mods:changes}),this.returnResultSuccess({type:2})))})}))}getInventarListRestByRaumUuid(ruuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const inventarDataList=[],inventarList=yield this.dexie.inventar.where({ruuid:ruuid}).and(item=>item.jobid!==jobid).sortBy("created_at"),artikelRefs=yield this.dexie.objektKatalogMandant.where("uuid").anyOf(inventarList.map(itm=>itm.mcuuid)).toArray(),artikelData=yield this.dexie.objektKatalogGlobal.where("uuid").anyOf(artikelRefs.map(itm=>itm.gcuuid)).toArray();for(const inventar of inventarList){const d={inventar:inventar,artikelRef:null,artikelData:null};d.artikelRef=artikelRefs.find(itm=>itm.uuid===inventar.mcuuid),d.artikelRef&&(d.artikelData=artikelData.find(itm=>itm.uuid===d.artikelRef.gcuuid)),inventarDataList.push(d)}return inventarDataList}))}getInventarListDoneByRaumUuid(ruuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const inventarDataList=[],inventarList=yield this.dexie.inventar.where({ruuid:ruuid}).and(item=>item.jobid===jobid).sortBy("modified_at"),artikelRefs=yield this.dexie.objektKatalogMandant.where("uuid").anyOf(inventarList.map(itm=>itm.mcuuid)).toArray(),artikelData=yield this.dexie.objektKatalogGlobal.where("uuid").anyOf(artikelRefs.map(itm=>itm.gcuuid)).toArray();for(const inventar of inventarList){const d={inventar:inventar,artikelRef:null,artikelData:null};d.artikelRef=artikelRefs.find(itm=>itm.uuid===inventar.mcuuid),d.artikelRef&&(d.artikelData=artikelData.find(itm=>itm.uuid===d.artikelRef.gcuuid)),inventarDataList.push(d)}return inventarDataList}))}}return InventarService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new InventarService(ɵɵinject(dexie_service_DexieService),ɵɵinject(auth_service_AuthService),ɵɵinject(basedata_service_BasedataService),ɵɵinject(hersteller_service_HerstellerService),ɵɵinject(artikel_service_ArtikelService))},token:InventarService,providedIn:"root"}),InventarService})(),raum_service_RaumService=(()=>{class RaumService{constructor(dexie,authService,baseDataService){this.dexie=dexie,this.authService=authService,this.baseDataService=baseDataService,this.raumStatusChanged=new core_EventEmitter}raumExists(gid,raum){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return 0<(yield this.dexie.raeume.where("Raum").equalsIgnoreCase(raum).filter(itm=>itm.gid===gid).count())}))}raumBezeichnungExists(gid,bezeichnung){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return 0<(yield this.dexie.raeume.where("Raumbezeichnung").equalsIgnoreCase(bezeichnung).filter(itm=>itm.gid===gid).count())}))}codeExistsInInventur(jobid,ruuid,code){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const raeume=this.dexie.raeume.where("code").equalsIgnoreCase(code.trim()).filter(itm=>itm.uuid!==ruuid&&itm.for_jobid!==jobid),numRaeume=yield this.dexie.raeume.where("code").equalsIgnoreCase(code.trim()).filter(itm=>itm.uuid!==ruuid&&itm.for_jobid!==jobid).count(),exists=0<numRaeume;return console.log("#85 raum.service.ts codeExistsInInventur",{params:{jobid:jobid,ruuid:ruuid,code:code},result:{exists:exists,raeume:raeume,numRaeume:numRaeume}}),exists}))}raumExistsInInventur(jobid,ruuid,Raum){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return 0<(yield this.dexie.raeume.where("Raum").equalsIgnoreCase(Raum.trim()).filter(itm=>itm.uuid!==ruuid&&itm.for_jobid!==jobid).count())}))}get(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.raeume.get(uuid)}))}insert(daten,useJobId){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobId||this.baseDataService.getCurrentJobid(),insertData={gid:daten.gid,uuid:guid.Guid.create().toString(),hash:"",for_jobid:jobid,code:daten.code,raumid:"",Raum:daten.Raum,Raumbezeichnung:daten.Raumbezeichnung,Etage:daten.Etage,created_at:new Date,created_jobid:jobid,created_uid:this.authService.getUser().id,modified_at:null,modified_uid:null},log={log:!0};let newId="",newItem=null;try{newId=yield this.dexie.raeume.add(Object.assign({},insertData,log)),newItem=yield this.dexie.raeume.get(newId)}catch(err){return{success:!1,errorMsg:("name"in err?err.name+": ":"")+("message"in err?err.message:JSON.stringify(err)),debug:err,data:insertData}}return console.log("insert Raum ",{newItem:newItem}),{success:!0,newId:newId,newItem:newItem}}))}updateByUuid(uuid,raum){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){console.log("#162 raum.service.ts updateById:",{uuid:uuid,raum:raum});const jobid=this.baseDataService.getCurrentJobid(),savedRaumData=yield this.dexie.raeume.get(uuid),updUuid="uuid"in raum&&"string"==typeof raum.uuid&&""!==raum.uuid&&"uuid"in raum?raum.uuid:uuid;if(savedRaumData.code&&savedRaumData.code!==raum.code){const lkupKey={code:savedRaumData.code,for_jobid:jobid};console.log("#172 raum.service.ts Raum-Code has changed",{lkupKey:lkupKey});const bcItem=yield this.dexie.barcodeLookup.get(lkupKey);console.log("#174 raum.service.ts check if bcItem exists",{bcItem:bcItem}),bcItem&&(yield this.dexie.barcodeLookup.delete([savedRaumData.code,jobid]).catch(reason=>{console.error("#177 Alter BC-Lookup fuer Raum konnte nicht geloescht werden!",{reason:reason})})),console.log("#184 raum.service.ts create new bcItem",{code:raum.code,for_jobid:jobid,id:uuid,key:"uuid",table:"raeume",updateHelper:1,uuid:updUuid}),raum.code&&this.dexie.barcodeLookup.put({code:raum.code,for_jobid:jobid,key:"uuid",table:"raeume",updateHelper:1,uuid:updUuid})}else raum.code&&((yield this.dexie.barcodeLookup.get({code:raum.code,for_jobid:jobid}))||this.dexie.barcodeLookup.put({code:raum.code,for_jobid:jobid,key:"uuid",table:"raeume",updateHelper:1,uuid:updUuid}));console.log("#205 raum.service.ts update raum",{uuid:uuid,raum:raum});const numChanges=yield this.dexie.raeume.update(uuid,raum),savedData=yield this.dexie.raeume.get(uuid);return console.log("#208 raum.service.ts get updated raumItem",{uuid:uuid,savedData:savedData,return:{success:numChanges>0,id:uuid,item:savedData,data:raum}}),{success:numChanges>0,id:uuid,item:savedData,data:raum}}))}__DEL__updateByUuid(uuid,raum){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const numChanges=yield this.dexie.raeume.where({uuid:uuid}).modify(raum),savedData=yield this.dexie.raeume.where({uuid:uuid}).first();return{success:numChanges>0,id:savedData.uuid,item:savedData,data:raum}}))}getEtagenByGidInInventur(jobid,gid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const etagen=[];return this.dexie.raeume.where({for_jobid:jobid,gid:gid}).each(raum=>{-1===etagen.indexOf(raum.Etage)&&etagen.push(raum.Etage)}).then(()=>etagen)}))}getRaumStatus(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const raum=yield this.dexie.raeume.get(uuid);if(raum)return raum.current_jobstatus;throwError_throwError(`ERROR - GetRaumStatus: Raum mit ID ${uuid} wurde nicht gefunden`)}))}triggerRaumStatus(uuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const raum=yield this.dexie.raeume.get(uuid);this.raumStatusChanged.emit({uuid:uuid,status:raum.current_jobstatus})}))}setRaumStatus(stat,uuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const numChanges=yield this.dexie.raeume.where({uuid:uuid}).modify({current_jobstatus:stat,current_jobid:jobid,log:!0});return numChanges&&this.triggerRaumStatus(uuid),numChanges}))}setRaumStatusInit(uuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.setRaumStatus(DBDIRaumEditStatus.Init,uuid,jobid)}))}setRaumStatusStarted(uuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.setRaumStatus(DBDIRaumEditStatus.Started,uuid,jobid)}))}setRaumStatusClosed(uuid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.setRaumStatus(DBDIRaumEditStatus.Closed,uuid,jobid)}))}getRaeumeStartedByGebaeudeId(gid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const raeume=yield this.dexie.raeume.where({gid:gid}).toArray();return(yield Promise.all(raeume.map(raum=>Promise.all([this.dexie.inventar.where({ruuid:raum.uuid}).count(),this.dexie.inventar.where({ruuid:raum.uuid,jobid:jobid}).count()]).then(results=>{const total=results[0],done=results[1];return{uuid:raum.uuid,Raum:raum.Raum,Etage:raum.Etage,editStatus:raum.current_jobstatus,progress:total>0?100*done/total:-1,total:total,done:done}})))).filter(stat=>stat.editStatus===DBDIRaumEditStatus.Closed||stat.done>0)}))}getRaeumeToDoByGebaeudeId(gid,jobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const raeume=yield this.dexie.raeume.where({gid:gid}).and(r=>r.current_jobstatus!==DBDIRaumEditStatus.Closed).toArray();return(yield Promise.all(raeume.map(raum=>Promise.all([this.dexie.inventar.where({ruuid:raum.uuid}).count(),this.dexie.inventar.where({ruuid:raum.uuid,jobid:jobid}).count()]).then(results=>({uuid:raum.uuid,Raum:raum.Raum,Etage:raum.Etage,progress:0,editStatus:raum.current_jobstatus,total:results[0],done:results[1]}))))).filter(stat=>0===stat.done)}))}}return RaumService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new RaumService(ɵɵinject(dexie_service_DexieService),ɵɵinject(auth_service_AuthService),ɵɵinject(basedata_service_BasedataService))},token:RaumService,providedIn:"root"}),RaumService})(),images_service_ImagesService=(()=>{class ImagesService{constructor(dexie,baseData){this.dexie=dexie,this.baseData=baseData}insertArtikelImage(image,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const jobid=useJobid||this.baseData.getCurrentJobid(),uid=this.baseData.getCurrentUid(),item={uuid:guid.Guid.create().toString(),name:image.name,desc:image.desc,size:image.size,width:image.width,height:image.height,type:image.type,for_jobid:image.for_jobid,mcuuid:image.mcuuid,gcuuid:image.gcuuid,url:image.url||"",data_binary:image.data_binary||null,data_url:image.data_url||null,revnr:1,created_at:image.created_at||new Date,created_uid:image.created_uid||uid,created_jobid:image.created_jobid||jobid};return yield this.dexie.images.add(item).then(imgUuid=>(this.addImageKatalogRef({for_jobid:image.for_jobid,RefTable:"ObjektKatalogMandant",RefUuid:image.mcuuid,ImgUuid:imgUuid,RefText:image.desc||image.name,Pos:1,Kategorie:""}),imgUuid))}))}addImageKatalogRef(data){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){const uid=this.baseData.getCurrentUid(),devID=this.baseData.getCurrentDeviceId(),jobid=this.baseData.getCurrentJobid();return yield this.dexie.objektKatalogImages.add({for_jobid:data.for_jobid||jobid,RefTable:data.RefTable,RefUuid:data.RefUuid,ImgUuid:data.ImgUuid,RefText:data.RefText,Pos:data.Pos,Kategorie:data.Kategorie,created_at:new Date,created_uid:uid,created_jobid:jobid,created_device_id:devID})}))}putArtikelImage(image,useJobid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return yield this.dexie.images.where({gcuuid:image.gcuuid}).delete(),this.insertArtikelImage(image,useJobid)}))}getImageByMcuuid(mcuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.images.where({mcuuid:mcuuid}).first()}))}imageExistsOfGcuuid(gcuuid){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){return this.dexie.images.where({gcuuid:gcuuid}).count().then(nr=>nr>0).catch(err=>(console.error(err),!1))}))}}return ImagesService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new ImagesService(ɵɵinject(dexie_service_DexieService),ɵɵinject(basedata_service_BasedataService))},token:ImagesService,providedIn:"root"}),ImagesService})(),sounds_service_SoundsService=(()=>{class SoundsService{constructor(){this.success=new Audio,this.success.src="../assets/googlesounds/notification_simple-01.mp3",this.success.load(),this.error=new Audio,this.error.src="../assets/googlesounds/alert_error-01.mp3",this.error.load()}playSuccess(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.success.play()}))}playError(){return tslib_es6.__awaiter(this,void 0,void 0,(function*(){this.error.play()}))}}return SoundsService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new SoundsService},token:SoundsService,providedIn:"root"}),SoundsService})();var RenderType_InventFormComponent=createRendererType2({encapsulation:0,styles:[["#inventurTitel[_ngcontent-%COMP%]{font-size:.7rem;color:silver;text-align:right}#formBottomDivider[_ngcontent-%COMP%]{margin-bottom:1rem}textarea.NewFreshScan[_ngcontent-%COMP%]{background-color:#8bffbb;color:#b6121c}textarea.NewFreshScan.CountDown-4[_ngcontent-%COMP%]{background-color:#9effc4;color:#98121c}textarea.NewFreshScan.CountDown-3[_ngcontent-%COMP%]{background-color:#aaffc9;color:#7a111a}textarea.NewFreshScan.CountDown-2[_ngcontent-%COMP%]{background-color:#ccffda;color:#3e1119}textarea.NewFreshScan.CountDown-1[_ngcontent-%COMP%]{background-color:#d6ffe1;color:#200f0f}input.bg-danger[_ngcontent-%COMP%]{color:#fff;font-weight:700}input.bg-danger[_ngcontent-%COMP%]::-moz-placeholder{color:#fff;font-weight:700}input.bg-danger[_ngcontent-%COMP%]::placeholder{color:#fff;font-weight:700}.input-group-text[_ngcontent-%COMP%]{min-width:3.5rem}"]],data:{}});function View_InventFormComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","blob red animate"]],null,null,null,null,null))],null,null)}function View_InventFormComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","blob green animate"]],null,null,null,null,null))],null,null)}function View_InventFormComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,7,"div",[["class","blobs-overlay"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,6,"div",[["class","blobs-container"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,5,null,null,null,null,null,null,null)),directiveDef(3,16384,null,0,NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_2)),directiveDef(5,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_3)),directiveDef(7,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(_ck,_v){_ck(_v,3,0,_v.component.blobAlert),_ck(_v,5,0,"danger"),_ck(_v,7,0,"success")}),null)}function View_InventFormComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","blob red animate"]],null,null,null,null,null))],null,null)}function View_InventFormComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["class","blob green animate"]],null,null,null,null,null))],null,null)}function View_InventFormComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,7,"div",[["class","blobs-overlay"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,6,"div",[["class","blobs-container"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,5,null,null,null,null,null,null,null)),directiveDef(3,16384,null,0,NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_5)),directiveDef(5,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_6)),directiveDef(7,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(_ck,_v){_ck(_v,3,0,_v.component.blobAlert),_ck(_v,5,0,"danger"),_ck(_v,7,0,"success")}),null)}function View_InventFormComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faLock)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).renderedIconHTML)}))}function View_InventFormComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faUnlockAlt)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).renderedIconHTML)}))}function View_InventFormComponent_9(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faLock)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).renderedIconHTML)}))}function View_InventFormComponent_10(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faCheck)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).renderedIconHTML)}))}function View_InventFormComponent_11(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faDoorOpen)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).renderedIconHTML)}))}function View_InventFormComponent_12(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faDoorClosed)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).renderedIconHTML)}))}function View_InventFormComponent_13(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"button",[["class","dropdown-item dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setRaumEditStatusUntouched()&&ad),ad}),null,null)),directiveDef(1,16384,[[10,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),elementDef(2,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(3,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Noch nicht begonnen "]))],(function(_ck,_v){_ck(_v,3,0,_v.component.faDoorClosed)}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).disabled),_ck(_v,2,0,"text-secondary",nodeValue(_v,3).renderedIconHTML)}))}function View_InventFormComponent_15(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"],["type","danger"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(_v,en,$event){var ad=!0;return"close"===en&&(ad=!1!==_v.component.clearFormInventar()&&ad),ad}),View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{type:[0,"type"]},{close:"close"}),(_l()(),textDef(2,0,[" Warte auf Artikelzuweisung für neuen Inventar-Barcode: "," "]))],(function(_ck,_v){_ck(_v,1,0,"danger")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.formInventar.Barcode)}))}function View_InventFormComponent_16(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"],["type","danger"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{type:[0,"type"]},null),(_l()(),textDef(2,0,[" Warte auf neuen Inventar-Barcode für "," "]))],(function(_ck,_v){_ck(_v,1,0,"danger")}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_co.formInventar.Bezeichnung)}))}function View_InventFormComponent_17(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openShowArtikelImage()&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(2,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" anzeigen"]))],(function(_ck,_v){_ck(_v,2,0,_v.component.faImage)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,2).renderedIconHTML)}))}function View_InventFormComponent_18(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openEditArtikelImage()&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(2,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" bearbeiten "]))],(function(_ck,_v){_ck(_v,2,0,_v.component.faCamera)}),(function(_ck,_v){_ck(_v,0,0,!_v.component.formInventar.gcuuid),_ck(_v,1,0,nodeValue(_v,2).renderedIconHTML)}))}function View_InventFormComponent_19(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openCreateArtikelImage()&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(2,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" anlegen "]))],(function(_ck,_v){_ck(_v,2,0,_v.component.faCamera)}),(function(_ck,_v){_ck(_v,0,0,!_v.component.formInventar.gcuuid),_ck(_v,1,0,nodeValue(_v,2).renderedIconHTML)}))}function View_InventFormComponent_14(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,49,null,null,null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,12,"div",[["class","form-group row"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,11,"div",[["class","col input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["BCode"])),(_l()(),elementDef(6,0,[["invBarcode",1]],null,3,"input",[["aria-label","Barcode"],["class","form-control"],["id","elmBarcode"],["readonly",""],["required",""],["type","text"]],[[1,"value",0],[8,"placeholder",0]],null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(8,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(9,{"bg-danger":0}),(_l()(),elementDef(10,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(11,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openScanner(nodeValue(_v,6))&&ad),ad}),null,null)),(_l()(),elementDef(12,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(13,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_15)),directiveDef(15,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_16)),directiveDef(17,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(18,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,8,"div",[["class","col input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(20,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bez."])),(_l()(),elementDef(23,0,null,null,0,"input",[["aria-label","Artikelbezeichnung"],["class","form-control"],["id","elmArtBez"],["placeholder","Artikelbezeichnung"],["readonly",""],["type","text"]],[[1,"value",0]],null,null,null,null)),(_l()(),elementDef(24,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(25,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openSelectCreateArtikel()&&ad),ad}),null,null)),(_l()(),elementDef(26,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(27,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(28,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(_l()(),elementDef(29,0,null,null,8,"div",[["class","col input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(30,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(31,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Typ"])),(_l()(),elementDef(33,0,null,null,0,"input",[["class","form-control"],["id","elmArtTyp"],["type","text"]],[[1,"value",0]],null,null,null,null)),(_l()(),elementDef(34,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(35,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openEditInventar()&&ad),ad}),null,null)),(_l()(),elementDef(36,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(37,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(38,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(_l()(),elementDef(39,0,null,null,10,"div",[["class","col input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(40,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(41,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bild"])),(_l()(),elementDef(43,0,null,null,6,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_17)),directiveDef(45,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_18)),directiveDef(47,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_19)),directiveDef(49,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component,currVal_3=_ck(_v,9,0,_co.waitingForNewInventarBarcode||_co.waitingForInventarData);_ck(_v,8,0,"form-control",currVal_3),_ck(_v,13,0,_co.faCamera),_ck(_v,15,0,_co.waitingForInventarData),_ck(_v,17,0,_co.waitingForNewInventarBarcode),_ck(_v,27,0,_co.faBookReader),_ck(_v,37,0,_co.faEdit),_ck(_v,45,0,_co.artikelImageExists),_ck(_v,47,0,_co.artikelImageExists),_ck(_v,49,0,!_co.artikelImageExists)}),(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,_co.formInventar.Barcode,_co.waitingForNewInventarBarcode?"Warte auf Inventar-Barcode ...":"Inventar-Barcode ..."),_ck(_v,12,0,nodeValue(_v,13).renderedIconHTML),_ck(_v,23,0,_co.formInventar.Bezeichnung),_ck(_v,26,0,nodeValue(_v,27).renderedIconHTML),_ck(_v,33,0,_co.formInventar.Typ),_ck(_v,35,0,!_co.formInventar.uuid),_ck(_v,36,0,nodeValue(_v,37).renderedIconHTML)}))}function View_InventFormComponent_20(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(-1,0,[" Bitte wählen Sie einen Raum aus! "]))],(function(_ck,_v){_ck(_v,1,0,!1,"danger")}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).dismissible)}))}function View_InventFormComponent_0(_l){return viewDef(0,[pipeDef(0,DatePipe,[LOCALE_ID$1]),queryDef(402653184,1,{input2:0}),queryDef(402653184,2,{inputSimulateBarcode:0}),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_1)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_4)),directiveDef(6,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(7,0,null,null,15,"div",[["class","row no-gutters mb-1"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,3,"div",[["class","form-group col-4"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,1,"label",[["class","mb-0"],["for","kunde"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Mandant"])),(_l()(),elementDef(11,0,null,null,0,"input",[["class","form-control"],["id","kunde"]],[[8,"readOnly",0],[1,"value",0]],null,null,null,null)),(_l()(),elementDef(12,0,null,null,3,"div",[["class","form-group col-4 px-1"]],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,1,"label",[["class","mb-0"],["for","adresse"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Adresse"])),(_l()(),elementDef(15,0,null,null,0,"input",[["class","form-control"],["id","adresse"]],[[8,"readOnly",0],[1,"value",0]],null,null,null,null)),(_l()(),elementDef(16,0,null,null,6,"div",[["class","form-group col-4"]],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,1,"label",[["class","mb-0"],["for","raum"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum"])),(_l()(),elementDef(19,0,null,null,3,"input",[["class","form-control"],["id","raum"]],[[8,"readOnly",0],[1,"value",0]],null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(21,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(22,{"bg-danger":0}),(_l()(),elementDef(23,0,null,null,6,"div",[["class","row mb-4"]],null,null,null,null,null)),(_l()(),elementDef(24,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(_l()(),elementDef(25,0,null,null,1,"app-progressbar",[],null,[[null,"clickedDone"],[null,"clickedRest"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"clickedDone"===en&&(ad=!1!==_co.showGesamtDone()&&ad),"clickedRest"===en&&(ad=!1!==_co.showGesamtRest()&&ad),ad}),View_ProgressbarComponent_0,RenderType_ProgressbarComponent)),directiveDef(26,114688,null,0,progressbar_component_ProgressbarComponent,[],{title:[0,"title"],shortTitle:[1,"shortTitle"],value:[2,"value"],total:[3,"total"],sendDoneClick:[4,"sendDoneClick"],sendRestClick:[5,"sendRestClick"]},{clickedDone:"clickedDone",clickedRest:"clickedRest"}),(_l()(),elementDef(27,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(_l()(),elementDef(28,0,null,null,1,"app-progressbar",[],null,[[null,"clickedDone"],[null,"clickedRest"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"clickedDone"===en&&(ad=!1!==_co.showRaumDone()&&ad),"clickedRest"===en&&(ad=!1!==_co.showRaumRest()&&ad),ad}),View_ProgressbarComponent_0,RenderType_ProgressbarComponent)),directiveDef(29,114688,null,0,progressbar_component_ProgressbarComponent,[],{title:[0,"title"],shortTitle:[1,"shortTitle"],value:[2,"value"],total:[3,"total"],sendDoneClick:[4,"sendDoneClick"],sendRestClick:[5,"sendRestClick"]},{clickedDone:"clickedDone",clickedRest:"clickedRest"}),(_l()(),elementDef(30,0,null,null,72,"div",[["class","row mt-4"]],null,null,null,null,null)),(_l()(),elementDef(31,0,null,null,2,"label",[["class","col-6"],["for","raumCode"]],null,null,null,null,null)),(_l()(),elementDef(32,0,null,null,1,"strong",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raumdaten"])),(_l()(),elementDef(34,0,null,null,68,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(_l()(),elementDef(35,0,null,null,32,"div",[["ngbDropdown",""],["style","display: inline-block"]],[[2,"show",null]],null,null,null,null)),directiveDef(36,1720320,[["invDrop",4]],3,ng_bootstrap_NgbDropdown,[ChangeDetectorRef,ng_bootstrap_NgbDropdownConfig,common_DOCUMENT,NgZone,ElementRef,Renderer2,[2,NgbNavbar]],null,null),queryDef(603979776,3,{_menu:0}),queryDef(603979776,4,{_menuElement:0}),queryDef(603979776,5,{_anchor:0}),(_l()(),elementDef(40,0,null,null,14,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","btn btn-sm dropdown-toggle dropdown-toggle"],["data-toggle","dropdown"],["id","dropdownLockStatus"],["ngbDropdownToggle",""],["type","button"]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,44).dropdown.toggle()&&ad),"keydown.ArrowUp"===en&&(ad=!1!==nodeValue(_v,44).dropdown.onKeyDown($event)&&ad),"keydown.ArrowDown"===en&&(ad=!1!==nodeValue(_v,44).dropdown.onKeyDown($event)&&ad),"keydown.Home"===en&&(ad=!1!==nodeValue(_v,44).dropdown.onKeyDown($event)&&ad),"keydown.End"===en&&(ad=!1!==nodeValue(_v,44).dropdown.onKeyDown($event)&&ad),ad}),null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(42,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(43,{"btn-outline-success":0,"btn-outline-info":1,"btn-outline-secondary":2}),directiveDef(44,16384,null,0,NgbDropdownToggle,[ng_bootstrap_NgbDropdown,ElementRef],null,null),providerDef(2048,[[5,4]],NgbDropdownAnchor,null,[NgbDropdownToggle]),(_l()(),textDef(46,null,[" Inventur (",") "])),(_l()(),elementDef(47,0,null,null,7,null,null,null,null,null,null,null)),directiveDef(48,16384,null,0,NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_7)),directiveDef(50,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_8)),directiveDef(52,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_9)),directiveDef(54,16384,null,0,NgSwitchDefault,[ViewContainerRef,TemplateRef,NgSwitch],null,null),(_l()(),elementDef(55,0,[[4,0]],null,12,"div",[["aria-labelledby","dropdownLockStatus"],["class","dropdown-menu dropdown-menu-right"],["ngbDropdownMenu",""]],[[4,"right",null],[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(_v,en,$event){var ad=!0;return"keydown.ArrowUp"===en&&(ad=!1!==nodeValue(_v,56).dropdown.onKeyDown($event)&&ad),"keydown.ArrowDown"===en&&(ad=!1!==nodeValue(_v,56).dropdown.onKeyDown($event)&&ad),"keydown.Home"===en&&(ad=!1!==nodeValue(_v,56).dropdown.onKeyDown($event)&&ad),"keydown.End"===en&&(ad=!1!==nodeValue(_v,56).dropdown.onKeyDown($event)&&ad),"keydown.Enter"===en&&(ad=!1!==nodeValue(_v,56).dropdown.onKeyDown($event)&&ad),"keydown.Space"===en&&(ad=!1!==nodeValue(_v,56).dropdown.onKeyDown($event)&&ad),ad}),null,null)),directiveDef(56,16384,[[3,4]],1,NgbDropdownMenu,[ng_bootstrap_NgbDropdown],null,null),queryDef(603979776,6,{menuItems:1}),(_l()(),elementDef(58,0,null,null,4,"button",[["class","dropdown-item dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setJobLockStatusClosed()&&ad),ad}),null,null)),directiveDef(59,16384,[[6,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),elementDef(60,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(61,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Inventur schließen "])),(_l()(),elementDef(63,0,null,null,4,"button",[["class","dropdown-item dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setJobLockStatusOpened()&&ad),ad}),null,null)),directiveDef(64,16384,[[6,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),elementDef(65,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(66,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Inventur in Arbeit "])),(_l()(),elementDef(68,0,null,null,34,"div",[["ngbDropdown",""],["style","display: inline-block"]],[[2,"show",null]],null,null,null,null)),directiveDef(69,1720320,[["myDrop",4]],3,ng_bootstrap_NgbDropdown,[ChangeDetectorRef,ng_bootstrap_NgbDropdownConfig,common_DOCUMENT,NgZone,ElementRef,Renderer2,[2,NgbNavbar]],null,null),queryDef(603979776,7,{_menu:0}),queryDef(603979776,8,{_menuElement:0}),queryDef(603979776,9,{_anchor:0}),(_l()(),elementDef(73,0,null,null,14,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","btn btn-sm dropdown-toggle dropdown-toggle"],["data-toggle","dropdown"],["id","dropdownRaumStatus"],["ngbDropdownToggle",""],["type","button"]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,77).dropdown.toggle()&&ad),"keydown.ArrowUp"===en&&(ad=!1!==nodeValue(_v,77).dropdown.onKeyDown($event)&&ad),"keydown.ArrowDown"===en&&(ad=!1!==nodeValue(_v,77).dropdown.onKeyDown($event)&&ad),"keydown.Home"===en&&(ad=!1!==nodeValue(_v,77).dropdown.onKeyDown($event)&&ad),"keydown.End"===en&&(ad=!1!==nodeValue(_v,77).dropdown.onKeyDown($event)&&ad),ad}),null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(75,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(76,{"btn-outline-success":0,"btn-outline-info":1,"btn-outline-secondary":2}),directiveDef(77,16384,null,0,NgbDropdownToggle,[ng_bootstrap_NgbDropdown,ElementRef],null,null),providerDef(2048,[[9,4]],NgbDropdownAnchor,null,[NgbDropdownToggle]),(_l()(),textDef(-1,null,[" Raum "])),(_l()(),elementDef(80,0,null,null,7,null,null,null,null,null,null,null)),directiveDef(81,16384,null,0,NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_10)),directiveDef(83,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_11)),directiveDef(85,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_12)),directiveDef(87,16384,null,0,NgSwitchDefault,[ViewContainerRef,TemplateRef,NgSwitch],null,null),(_l()(),elementDef(88,0,[[8,0]],null,14,"div",[["aria-labelledby","dropdownRaumStatus"],["class","dropdown-menu dropdown-menu-right"],["ngbDropdownMenu",""]],[[4,"width",null],[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(_v,en,$event){var ad=!0;return"keydown.ArrowUp"===en&&(ad=!1!==nodeValue(_v,89).dropdown.onKeyDown($event)&&ad),"keydown.ArrowDown"===en&&(ad=!1!==nodeValue(_v,89).dropdown.onKeyDown($event)&&ad),"keydown.Home"===en&&(ad=!1!==nodeValue(_v,89).dropdown.onKeyDown($event)&&ad),"keydown.End"===en&&(ad=!1!==nodeValue(_v,89).dropdown.onKeyDown($event)&&ad),"keydown.Enter"===en&&(ad=!1!==nodeValue(_v,89).dropdown.onKeyDown($event)&&ad),"keydown.Space"===en&&(ad=!1!==nodeValue(_v,89).dropdown.onKeyDown($event)&&ad),ad}),null,null)),directiveDef(89,16384,[[7,4]],1,NgbDropdownMenu,[ng_bootstrap_NgbDropdown],null,null),queryDef(603979776,10,{menuItems:1}),(_l()(),elementDef(91,0,null,null,4,"button",[["class","dropdown-item dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setRaumEditStatusClosed()&&ad),ad}),null,null)),directiveDef(92,16384,[[10,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),elementDef(93,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(94,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Fertig "])),(_l()(),elementDef(96,0,null,null,4,"button",[["class","dropdown-item dropdown-item"],["ngbDropdownItem",""]],[[2,"disabled",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setRaumEditStatusStarted()&&ad),ad}),null,null)),directiveDef(97,16384,[[10,4]],0,NgbDropdownItem,[ElementRef],null,null),(_l()(),elementDef(98,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(99,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" In Arbeit "])),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_13)),directiveDef(102,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(103,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(_l()(),elementDef(104,0,null,null,8,"div",[["class","col input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(105,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(106,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["BCode"])),(_l()(),elementDef(108,0,[["raumBarcode",1]],null,0,"input",[["aria-label","Raumcode"],["class","form-control"],["id","raumCode"],["placeholder","Raum-Barcode"],["readonly",""],["type","text"]],[[8,"value",0]],[[null,"input"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==_v.component.onRaumBarcodeInput($event)&&ad),ad}),null,null)),(_l()(),elementDef(109,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(110,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openScanner(nodeValue(_v,108))&&ad),ad}),null,null)),(_l()(),elementDef(111,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(112,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(113,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(_l()(),elementDef(114,0,null,null,8,"div",[["class","col input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(115,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(116,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Nr"])),(_l()(),elementDef(118,0,null,null,0,"input",[["aria-label","Raumnummer"],["class","form-control"],["id","raumNr"],["placeholder","Raumnr"],["readonly",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(_l()(),elementDef(119,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(120,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openSelectSearchRaum()&&ad),ad}),null,null)),(_l()(),elementDef(121,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(122,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(123,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(_l()(),elementDef(124,0,null,null,8,"div",[["class","col input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(125,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(126,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bez."])),(_l()(),elementDef(128,0,null,null,0,"input",[["class","form-control"],["id","raumBez"],["placeholder","Raumbezeichnung"],["readonly",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(_l()(),elementDef(129,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(130,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openEditRaum()&&ad),ad}),null,null)),(_l()(),elementDef(131,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(132,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(133,0,null,null,3,"div",[["class","row mt-4"]],null,null,null,null,null)),(_l()(),elementDef(134,0,null,null,2,"label",[["class","col"],["for","raumCode"]],null,null,null,null,null)),(_l()(),elementDef(135,0,null,null,1,"strong",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Inventar-Daten"])),(_l()(),anchorDef(16777216,null,null,1,null,View_InventFormComponent_14)),directiveDef(138,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(_l()(),anchorDef(0,[["MissingRaum",2]],null,0,null,View_InventFormComponent_20)),(_l()(),elementDef(140,0,null,null,2,"div",[["class","row no-gutters mb-0 border-bottom"],["id","formBottomDivider"]],null,null,null,null,null)),(_l()(),elementDef(141,0,null,null,1,"div",[["class","col"],["id","inventurTitel"]],null,null,null,null,null)),(_l()(),textDef(142,null,[" "," "])),(_l()(),elementDef(143,0,null,null,25,"div",[],[[8,"hidden",0]],null,null,null,null)),(_l()(),elementDef(144,0,null,null,1,"h5",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Barcode-Scanning Test"])),(_l()(),elementDef(146,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(147,0,null,null,7,"div",[["class","col"]],null,null,null,null,null)),(_l()(),elementDef(148,0,null,null,1,"h6",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Scanner Simulator"])),(_l()(),elementDef(150,0,[[2,0],["inputSimulateBarcode",1]],null,0,"textarea",[],null,null,null,null,null)),(_l()(),elementDef(151,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),elementDef(152,0,null,null,1,"button",[],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.simulateScanner()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Barcode senden"])),(_l()(),elementDef(154,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),elementDef(155,0,null,null,10,"div",[["class","col"]],null,null,null,null,null)),(_l()(),elementDef(156,0,null,null,9,"app-scannerdetection",[],null,[[null,"scanned"],["window","keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"window:keydown"===en&&(ad=!1!==nodeValue(_v,157).onKeyDown($event,$event.target)&&ad),"scanned"===en&&(ad=!1!==_co.handleScanData($event)&&ad),ad}),View_ScannerdetectionComponent_0,RenderType_ScannerdetectionComponent)),directiveDef(157,114688,null,0,scannerdetection_component_ScannerdetectionComponent,[],{config:[0,"config"]},{scanned:"scanned"}),(_l()(),elementDef(158,0,null,0,1,"h6",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Scan-Detector Barcode"])),(_l()(),elementDef(160,0,[[1,0],["input2",1]],0,2,"textarea",[],null,null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(162,278528,null,0,NgClass,[NgClassImpl],{ngClass:[0,"ngClass"]},null),(_l()(),elementDef(163,0,null,0,0,"br",[],null,null,null,null,null)),(_l()(),textDef(164,0,[" (Zeit: ",") "])),purePipeDef(165,2),(_l()(),elementDef(166,0,null,null,2,"div",[["class","d-none"]],null,null,null,null,null)),(_l()(),textDef(167,null,["",""])),pipeDef(0,JsonPipe,[])],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.blobAlert&&1===_co.useOverlay),_ck(_v,6,0,_co.blobAlert&&2===_co.useOverlay);var currVal_9=_ck(_v,22,0,!_co.raum);_ck(_v,21,0,"form-control",currVal_9),_ck(_v,26,0,"Fortschrittsanzeige gesamt","Gesamt",_co.jobProgress.done,_co.jobProgress.total,!0,!0),_ck(_v,29,0,"Fortschrittsanzeige Raum","Raum",_co.raumProgress.done,_co.raumProgress.total,!0,!0);var currVal_25=_ck(_v,43,0,2===_co.jobLockStatus,1===_co.jobLockStatus,0===_co.jobLockStatus);_ck(_v,42,0,"btn btn-sm dropdown-toggle",currVal_25),_ck(_v,48,0,_co.jobLockStatus),_ck(_v,50,0,2),_ck(_v,52,0,1),_ck(_v,61,0,_co.faLock),_ck(_v,66,0,_co.faUnlockAlt);var currVal_45=_ck(_v,76,0,2===_co.raumEditStatus,1===_co.raumEditStatus,0===_co.raumEditStatus);_ck(_v,75,0,"btn btn-sm dropdown-toggle",currVal_45),_ck(_v,81,0,_co.raumEditStatus),_ck(_v,83,0,2),_ck(_v,85,0,1),_ck(_v,94,0,_co.faCheck),_ck(_v,99,0,_co.faDoorOpen),_ck(_v,102,0,0===_co.raumProgress.done),_ck(_v,112,0,_co.faCamera),_ck(_v,122,0,_co.faBookReader),_ck(_v,132,0,_co.faEdit),_ck(_v,138,0,_co.raum,nodeValue(_v,139)),_ck(_v,157,0,_co.scanDetectorConfig),_ck(_v,162,0,_co.lastScanDetectClass)}),(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,!0,_co.kundeName),_ck(_v,15,0,!0,_co.adresse),_ck(_v,19,0,!0,_co.raumNr),_ck(_v,35,0,nodeValue(_v,36).isOpen()),_ck(_v,40,0,nodeValue(_v,44).dropdown.isOpen()),_ck(_v,46,0,_co.jobLockStatus),_ck(_v,55,0,0,!0,nodeValue(_v,56).dropdown.isOpen(),nodeValue(_v,56).placement),_ck(_v,58,0,nodeValue(_v,59).disabled),_ck(_v,60,0,"text-danger",nodeValue(_v,61).renderedIconHTML),_ck(_v,63,0,nodeValue(_v,64).disabled),_ck(_v,65,0,"text-success",nodeValue(_v,66).renderedIconHTML),_ck(_v,68,0,nodeValue(_v,69).isOpen()),_ck(_v,73,0,nodeValue(_v,77).dropdown.isOpen()),_ck(_v,88,0,"200px",!0,nodeValue(_v,89).dropdown.isOpen(),nodeValue(_v,89).placement),_ck(_v,91,0,nodeValue(_v,92).disabled),_ck(_v,93,0,"text-success",nodeValue(_v,94).renderedIconHTML),_ck(_v,96,0,nodeValue(_v,97).disabled),_ck(_v,98,0,"text-info",nodeValue(_v,99).renderedIconHTML),_ck(_v,108,0,_co.formInventar.RaumBarcode),_ck(_v,111,0,nodeValue(_v,112).renderedIconHTML),_ck(_v,118,0,_co.formInventar.Raum),_ck(_v,121,0,nodeValue(_v,122).renderedIconHTML),_ck(_v,128,0,_co.formInventar.Raumbezeichnung),_ck(_v,130,0,!_co.formInventar.ruuid),_ck(_v,131,0,nodeValue(_v,132).renderedIconHTML),_ck(_v,142,0,_co.inventur.Titel),_ck(_v,143,0,!_co.manualBCInputEnabled);var currVal_78=unwrapValue(_v,164,0,_ck(_v,165,0,nodeValue(_v,0),_co.lastScanDetectTime,"hh:mm:ss"));_ck(_v,164,0,currVal_78),_ck(_v,167,0,unwrapValue(_v,167,0,nodeValue(_v,168).transform(_co.formInventar)))}))}function View_InventFormComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-invent-form",[],null,null,null,View_InventFormComponent_0,RenderType_InventFormComponent)),directiveDef(1,245760,null,0,invent_form_component_InventFormComponent,[router_ActivatedRoute,common_Location,data_service_DataService,ng_bootstrap_NgbModal,basedata_service_BasedataService,inventory_progress_service_InventoryProgressService,inventory_editor_service_InventoryEditorService,inventar_service_InventarService,raum_service_RaumService,images_service_ImagesService,barcode_service_BarcodeService,sounds_service_SoundsService,variables_service_VariablesService,ngx_toastr_ToastrService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var InventFormComponentNgFactory=createComponentFactory("app-invent-form",invent_form_component_InventFormComponent,View_InventFormComponent_Host_0,{},{},[]),RenderType_DbsyncComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_DbsyncComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,44,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"h4",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Aktuelle Inventur (Job-ID: ",")"])),(_l()(),elementDef(3,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Titel"])),(_l()(),elementDef(6,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(7,null,["",""])),(_l()(),elementDef(8,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Start"])),(_l()(),elementDef(11,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(12,null,["",""])),(_l()(),elementDef(13,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Mandant-ID"])),(_l()(),elementDef(16,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(17,null,["",""])),(_l()(),elementDef(18,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Created"])),(_l()(),elementDef(21,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(22,null,["",""])),(_l()(),elementDef(23,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(24,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Client-Revision-ID"])),(_l()(),elementDef(26,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(27,null,["",""])),(_l()(),elementDef(28,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(29,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Unsynced Changes"])),(_l()(),elementDef(31,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(32,null,["",""])),(_l()(),elementDef(33,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(34,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Server-Revision-ID"])),(_l()(),elementDef(36,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(37,null,["",""])),(_l()(),elementDef(38,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(39,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Server-Changes"])),(_l()(),elementDef(41,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(42,null,["",""])),(_l()(),elementDef(43,0,null,null,1,"button",[["class","btn btn-danger"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.resetCurrJob()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Inventurdaten komplett neu laden"]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.currInventur.jobid),_ck(_v,7,0,_co.currInventur.Titel),_ck(_v,12,0,_co.currInventur.Start),_ck(_v,17,0,_co.currInventur.mid),_ck(_v,22,0,_co.currInventur.created_at),_ck(_v,27,0,_co.clientRevisionId),_ck(_v,32,0,_co.numUnsyncedChanges),_ck(_v,37,0,_co.serverRevisionId),_ck(_v,42,0,_co.numServerChanges),_ck(_v,43,0,_co.syncInProcess)}))}function View_DbsyncComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.syncAutoStop()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[" Autmatische Synchronisierung stoppen"]))],null,null)}function View_DbsyncComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.syncAutoStart()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,[" Autmatische Synchronisierung starten"]))],null,null)}function View_DbsyncComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["User"])),(_l()(),elementDef(4,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(5,null,["",""]))],null,(function(_ck,_v){_ck(_v,5,0,_v.component.currUser.email)}))}function View_DbsyncComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,11,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Status"])),(_l()(),elementDef(4,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(5,null,["",""])),(_l()(),elementDef(6,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Start"])),(_l()(),elementDef(9,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(10,null,["",""])),purePipeDef(11,1)],null,(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.syncStatusName);var currVal_1=unwrapValue(_v,10,0,_ck(_v,11,0,nodeValue(_v.parent,0),_co.currProcess.starttime));_ck(_v,10,0,currVal_1)}))}function View_DbsyncComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,14,"tr",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),elementDef(3,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),(_l()(),elementDef(5,0,null,null,2,"td",[],null,null,null,null,null)),(_l()(),textDef(6,null,["",""])),purePipeDef(7,1),(_l()(),elementDef(8,0,null,null,2,"td",[],null,null,null,null,null)),(_l()(),textDef(9,null,["",""])),purePipeDef(10,1),(_l()(),elementDef(11,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(12,null,["",""])),(_l()(),elementDef(13,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(14,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.context.index+1),_ck(_v,4,0,_v.context.$implicit.table);var currVal_2=unwrapValue(_v,6,0,_ck(_v,7,0,nodeValue(_v.parent.parent,1),_v.context.$implicit.clientChangeLogId));_ck(_v,6,0,currVal_2);var currVal_3=unwrapValue(_v,9,0,_ck(_v,10,0,nodeValue(_v.parent.parent,1),_v.context.$implicit.type));_ck(_v,9,0,currVal_3),_ck(_v,12,0,_v.context.$implicit.error_code),_ck(_v,14,0,_v.context.$implicit.error_msg)}))}function View_DbsyncComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,26,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"h4",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Synchronisations-Fehler"])),(_l()(),textDef(3,null,[" Fehler bei letzter Synchroniserung (InventurId: ",") um ",""])),purePipeDef(4,1),(_l()(),elementDef(5,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),textDef(6,null,[" Anzahl: ",""])),(_l()(),elementDef(7,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,17,"table",[["class","table table-striped"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,13,"thead",[],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,12,"tr",[],null,null,null,null,null)),(_l()(),elementDef(11,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["#"])),(_l()(),elementDef(13,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Table"])),(_l()(),elementDef(15,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Log-Id"])),(_l()(),elementDef(17,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Aktion"])),(_l()(),elementDef(19,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Fehlercode"])),(_l()(),elementDef(21,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Fehlermeldung"])),(_l()(),elementDef(23,0,null,null,2,"tbody",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_7)),directiveDef(25,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),textDef(-1,null,[" * type: 1=Insert, 2=Update, 3=Delete\n"]))],(function(_ck,_v){_ck(_v,25,0,_v.component.lastServerSyncErrors)}),(function(_ck,_v){var _co=_v.component,currVal_0=_co.lastServerSyncJobid,currVal_1=unwrapValue(_v,3,1,_ck(_v,4,0,nodeValue(_v.parent,0),_co.lastServerSyncDate));_ck(_v,3,0,currVal_0,currVal_1),_ck(_v,6,0,_co.lastServerSyncErrors.length)}))}function View_DbsyncComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,10,"div",[["id","totalProgress"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"p",[],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,"ngb-progressbar",[],null,null,null,View_NgbProgressbar_0,RenderType_NgbProgressbar)),directiveDef(3,49152,null,0,NgbProgressbar,[ng_bootstrap_NgbProgressbarConfig],{animated:[0,"animated"],striped:[1,"striped"],value:[2,"value"]},null),(_l()(),elementDef(4,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(6,null,["",""])),(_l()(),elementDef(7,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(8,null,["von ",""])),(_l()(),elementDef(9,0,null,null,1,"div",[["class","col pull-right"]],null,null,null,null,null)),(_l()(),textDef(10,null,[""," %"]))],(function(_ck,_v){_ck(_v,3,0,!0,!0,_v.component.syncTotal.percent)}),(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,_co.syncTotal.executed),_ck(_v,8,0,_co.syncTotal.total),_ck(_v,10,0,_co.syncTotal.percent)}))}function View_DbsyncComponent_10(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),elementDef(3,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),(_l()(),elementDef(5,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(6,null,["",""])),(_l()(),elementDef(7,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(8,null,["",""])),(_l()(),elementDef(9,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(10,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit.total),_ck(_v,4,0,_v.context.$implicit.puts),_ck(_v,6,0,_v.context.$implicit.modified),_ck(_v,8,0,_v.context.$implicit.deleted),_ck(_v,10,0,_v.context.$implicit.executed)}))}function View_DbsyncComponent_9(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[["id","tableProgress"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_10)),directiveDef(2,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){_ck(_v,2,0,_v.component.syncTables)}),null)}function View_DbsyncComponent_0(_l){return viewDef(0,[pipeDef(0,DatePipe,[LOCALE_ID$1]),pipeDef(0,DecimalPipe,[LOCALE_ID$1]),(_l()(),elementDef(2,0,null,null,1,"p",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["dbsync works!"])),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_1)),directiveDef(5,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(6,0,null,null,3,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.syncCurrJob()&&ad),ad}),null,null)),(_l()(),elementDef(7,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(8,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Synchronisierung starten"])),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_2)),directiveDef(11,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_3)),directiveDef(13,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(14,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),textDef(15,null,["\nsyncStatus: ",""])),pipeDef(0,JsonPipe,[]),(_l()(),elementDef(17,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),textDef(18,null,["\nsyncFinished: ",""])),pipeDef(0,JsonPipe,[]),(_l()(),elementDef(20,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),textDef(21,null,["\nsyncAutoRun: ",""])),pipeDef(0,JsonPipe,[]),(_l()(),elementDef(23,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_4)),directiveDef(25,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_5)),directiveDef(27,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_6)),directiveDef(29,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_8)),directiveDef(31,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_DbsyncComponent_9)),directiveDef(33,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.currInventur),_ck(_v,8,0,_co.faSyncAlt),_ck(_v,11,0,_co.syncAutoRun),_ck(_v,13,0,!_co.syncAutoRun),_ck(_v,25,0,_co.currUser),_ck(_v,27,0,_co.currProcess),_ck(_v,29,0,_co.lastServerSyncErrors.length>0),_ck(_v,31,0,_co.syncTotal&&_co.syncTotal.total),_ck(_v,33,0,_co.syncTables&&_co.syncTables.length>0)}),(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,_co.syncInProcess),_ck(_v,7,0,nodeValue(_v,8).renderedIconHTML),_ck(_v,15,0,unwrapValue(_v,15,0,nodeValue(_v,16).transform(_co.syncStatus))),_ck(_v,18,0,unwrapValue(_v,18,0,nodeValue(_v,19).transform(_co.syncFinished))),_ck(_v,21,0,unwrapValue(_v,21,0,nodeValue(_v,22).transform(_co.syncAutoRun)))}))}function View_DbsyncComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-dbsync",[],null,null,null,View_DbsyncComponent_0,RenderType_DbsyncComponent)),directiveDef(1,245760,null,0,dbsync_component_DbsyncComponent,[dbsync_client_service_DBSyncClientService,basedata_service_BasedataService,connection_service_service_ConnectionService,data_service_DataService,dbsync_log_service_DbsyncLogService,dexie_service_DexieService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var DbsyncComponentNgFactory=createComponentFactory("app-dbsync",dbsync_component_DbsyncComponent,View_DbsyncComponent_Host_0,{},{},[]),RenderType_SettingsComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_SettingsComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),elementDef(3,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),pipeDef(0,JsonPipe,[])],null,(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit.name),_ck(_v,4,0,unwrapValue(_v,4,0,nodeValue(_v,5).transform(_v.context.$implicit.value)))}))}function View_SettingsComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"p",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["settings works!"])),(_l()(),elementDef(2,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.dbClear()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Datenbank leeren"])),(_l()(),elementDef(4,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.reIndexBarcodeLookup()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["reIndexBarcodeLookup"])),(_l()(),elementDef(6,0,null,null,6,"div",[],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,1,"div",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Sound-Test"])),(_l()(),elementDef(9,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.playSuccess()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Sound Success"])),(_l()(),elementDef(11,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.playError()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Sound Error"])),(_l()(),elementDef(13,0,null,null,16,"div",[["class","btn-group btn-group-toggle"],["name","radioBasic"],["ngbRadioGroup",""],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"change"===en&&(ad=!1!==_co.changeManualBCInput($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.enableManualBCInput=$event)&&ad),ad}),null,null)),directiveDef(14,16384,null,0,NgbRadioGroup,[],{name:[0,"name"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[NgbRadioGroup]),directiveDef(16,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(18,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),textDef(-1,null,[" Manuelle Barcode-Eingabe "])),(_l()(),elementDef(20,0,null,null,4,"label",[["class","btn-primary"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),directiveDef(21,16384,null,0,NgbButtonLabel,[],null,null),(_l()(),elementDef(22,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==nodeValue(_v,23).onChange()&&ad),"focus"===en&&(ad=0!=(nodeValue(_v,23).focused=!0)&&ad),"blur"===en&&(ad=0!=(nodeValue(_v,23).focused=!1)&&ad),ad}),null,null)),directiveDef(23,147456,null,0,NgbRadio,[NgbRadioGroup,NgbButtonLabel,Renderer2,ElementRef,ChangeDetectorRef],{value:[0,"value"]},null),(_l()(),textDef(-1,null,[" On "])),(_l()(),elementDef(25,0,null,null,4,"label",[["class","btn-primary"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),directiveDef(26,16384,null,0,NgbButtonLabel,[],null,null),(_l()(),elementDef(27,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==nodeValue(_v,28).onChange()&&ad),"focus"===en&&(ad=0!=(nodeValue(_v,28).focused=!0)&&ad),"blur"===en&&(ad=0!=(nodeValue(_v,28).focused=!1)&&ad),ad}),null,null)),directiveDef(28,147456,null,0,NgbRadio,[NgbRadioGroup,NgbButtonLabel,Renderer2,ElementRef,ChangeDetectorRef],{value:[0,"value"]},null),(_l()(),textDef(-1,null,[" Off "])),(_l()(),anchorDef(16777216,null,null,1,null,View_SettingsComponent_1)),directiveDef(31,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,14,0,"radioBasic"),_ck(_v,16,0,"radioBasic",_co.enableManualBCInput),_ck(_v,23,0,!0),_ck(_v,28,0,!1),_ck(_v,31,0,_co.variableList)}),(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_co.buildBcLookup),_ck(_v,4,0,_co.buildBcLookup),_ck(_v,13,0,nodeValue(_v,18).ngClassUntouched,nodeValue(_v,18).ngClassTouched,nodeValue(_v,18).ngClassPristine,nodeValue(_v,18).ngClassDirty,nodeValue(_v,18).ngClassValid,nodeValue(_v,18).ngClassInvalid,nodeValue(_v,18).ngClassPending),_ck(_v,20,0,!0,nodeValue(_v,21).active,nodeValue(_v,21).disabled,nodeValue(_v,21).focused),_ck(_v,22,0,nodeValue(_v,23).checked,nodeValue(_v,23).disabled,nodeValue(_v,23).nameAttr),_ck(_v,25,0,!0,nodeValue(_v,26).active,nodeValue(_v,26).disabled,nodeValue(_v,26).focused),_ck(_v,27,0,nodeValue(_v,28).checked,nodeValue(_v,28).disabled,nodeValue(_v,28).nameAttr)}))}function View_SettingsComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-settings",[],null,null,null,View_SettingsComponent_0,RenderType_SettingsComponent)),directiveDef(1,114688,null,0,settings_component_SettingsComponent,[dexie_service_DexieService,variables_service_VariablesService,basedata_service_BasedataService,barcode_service_BarcodeService,sounds_service_SoundsService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SettingsComponentNgFactory=createComponentFactory("app-settings",settings_component_SettingsComponent,View_SettingsComponent_Host_0,{},{changedManualBCInput:"changedManualBCInput"},[]),cropper=__webpack_require__("urRO"),cropper_default=__webpack_require__.n(cropper);class angular_cropperjs_CropperComponent{constructor(){this.cropperOptions={},this.export=new core_EventEmitter,this.ready=new core_EventEmitter,this.isLoading=!0}ngOnInit(){}imageLoaded(ev){this.loadError=!1;const image=ev.target;this.imageElement=image,this.cropperOptions.checkCrossOrigin&&(image.crossOrigin="anonymous"),image.addEventListener("ready",()=>{this.ready.emit(!0),this.isLoading=!1,this.cropbox&&this.cropper.setCropBoxData(this.cropbox)});let aspectRatio=NaN;if(this.settings){const{width:width,height:height}=this.settings;aspectRatio=width/height}this.cropperOptions=Object.assign({aspectRatio:aspectRatio,movable:!1,scalable:!1,zoomable:!1,viewMode:1,checkCrossOrigin:!0},this.cropperOptions),this.cropper&&(this.cropper.destroy(),this.cropper=void 0),this.cropper=new cropper_default.a(image,this.cropperOptions)}imageLoadError(event){this.loadError=!0,this.isLoading=!1}exportCanvas(base64){const imageData=this.cropper.getImageData(),cropData=this.cropper.getCropBoxData(),canvas=this.cropper.getCroppedCanvas(),data={imageData:imageData,cropData:cropData};new Promise(resolve=>{if(base64)return resolve({dataUrl:canvas.toDataURL("image/png")});canvas.toBlob(blob=>resolve({blob:blob}))}).then(res=>{this.export.emit(Object.assign(data,res))})}}class AngularCropperjsModule{}var RenderType_CropperComponent=createRendererType2({encapsulation:2,styles:[":host{display:block}.cropper img{max-width:100%;max-height:100%;height:auto}.cropper-wrapper{position:relative;min-height:80px}.cropper-wrapper .loading-block{position:absolute;top:0;left:0;width:100%;height:100%}.cropper-wrapper .loading-block .spinner{width:31px;height:31px;margin:0 auto;border:2px solid rgba(97,100,193,.98);border-radius:50%;border-left-color:transparent;border-right-color:transparent;-webkit-animation:425ms linear infinite cssload-spin;position:absolute;top:calc(50% - 15px);left:calc(50% - 15px);animation:425ms linear infinite cssload-spin}@-webkit-keyframes cssload-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cssload-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:#39f solid 1px;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:calc(100% / 3);left:0;top:calc(100% / 3);width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:calc(100% / 3);top:0;width:calc(100% / 3)}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:' ';display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:' ';display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}"],data:{}});function View_CropperComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","loading-block"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,0,"div",[["class","spinner"]],null,null,null,null,null))],null,null)}function View_CropperComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","alert alert-warning"]],null,null,null,null,null)),(_l()(),textDef(1,null,["",""]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.loadImageErrorText)}))}function View_CropperComponent_0(_l){return viewDef(0,[queryDef(402653184,1,{image:0}),(_l()(),elementDef(1,0,null,null,6,"div",[["class","cropper-wrapper"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_CropperComponent_1)),directiveDef(3,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_CropperComponent_2)),directiveDef(5,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(6,0,null,null,1,"div",[["class","cropper"]],null,null,null,null,null)),(_l()(),elementDef(7,0,[[1,0],["image",1]],null,0,"img",[["alt","image"]],[[8,"src",4]],[[null,"load"],[null,"error"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"load"===en&&(ad=!1!==_co.imageLoaded($event)&&ad),"error"===en&&(ad=!1!==_co.imageLoadError($event)&&ad),ad}),null,null))],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.isLoading),_ck(_v,5,0,_co.loadError)}),(function(_ck,_v){_ck(_v,7,0,_v.component.imageUrl)}))}var RenderType_CreateArtikelImageComponent=createRendererType2({encapsulation:0,styles:[[".editor[_ngcontent-%COMP%]{height:60%;position:relative}.canvas[_ngcontent-%COMP%]{height:100%;align-items:center;display:flex;justify-content:center}.toolbar[_ngcontent-%COMP%], .toolbar-cropend[_ngcontent-%COMP%]{bottom:1rem;color:#fff;height:2rem;left:50%;margin-left:-8rem;position:absolute;width:16rem;z-index:2015}.toolbar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4)}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:0 0;color:#fff;border:0}.toolbar-cropend[_ngcontent-%COMP%]{top:1rem;width:5rem;margin-left:-2.5rem;z-index:2016;background-color:transparent}.btn-icon-cirular[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:1rem}.btn-icon-cirular[_ngcontent-%COMP%] + .btn-icon-cirular[_ngcontent-%COMP%]{margin-left:1rem}"]],data:{}});function View_CreateArtikelImageComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"angular-cropper",[],null,null,null,View_CropperComponent_0,RenderType_CropperComponent)),directiveDef(1,114688,[[1,4],["angularCropper",4]],0,angular_cropperjs_CropperComponent,[],{imageUrl:[0,"imageUrl"],cropperOptions:[1,"cropperOptions"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.imageUrl,_co.config)}),null)}function View_CreateArtikelImageComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,6,"div",[["class","toolbar-cropend"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"button",[["class","btn btn-sm btn-success btn-icon-cirular"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.crop()&&ad),ad}),null,null)),(_l()(),elementDef(2,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(3,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(4,0,null,null,2,"button",[["class","btn btn-sm btn-danger btn-icon-cirular"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.cropReset()&&ad),ad}),null,null)),(_l()(),elementDef(5,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(6,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.faCheck),_ck(_v,6,0,_co.faBan)}),(function(_ck,_v){_ck(_v,2,0,nodeValue(_v,3).renderedIconHTML),_ck(_v,5,0,nodeValue(_v,6).renderedIconHTML)}))}function View_CreateArtikelImageComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,24,"div",[["class","editor"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"div",[["class","canvas"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_CreateArtikelImageComponent_2)),directiveDef(3,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_CreateArtikelImageComponent_3)),directiveDef(5,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(6,0,null,null,18,"div",[["class","toolbar btn-group btn-group-sm rounded"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setDragModeToMove()&&ad),ad}),null,null)),(_l()(),elementDef(8,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(9,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(10,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setDragModeToCrop()&&ad),ad}),null,null)),(_l()(),elementDef(11,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(12,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(13,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.zoomIn()&&ad),ad}),null,null)),(_l()(),elementDef(14,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(15,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(16,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.zoomOut()&&ad),ad}),null,null)),(_l()(),elementDef(17,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(18,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(19,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.rotateLeft()&&ad),ad}),null,null)),(_l()(),elementDef(20,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(21,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(22,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.rotateRight()&&ad),ad}),null,null)),(_l()(),elementDef(23,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(24,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.imageUrl),_ck(_v,5,0,5===_co.cropStatus),_ck(_v,9,0,_co.faMove),_ck(_v,12,0,_co.faCrop),_ck(_v,15,0,_co.faSearchPlus),_ck(_v,18,0,_co.faSearchMinus),_ck(_v,21,0,_co.faRotateLeft),_ck(_v,24,0,_co.faRotateRight)}),(function(_ck,_v){_ck(_v,8,0,nodeValue(_v,9).renderedIconHTML),_ck(_v,11,0,nodeValue(_v,12).renderedIconHTML),_ck(_v,14,0,nodeValue(_v,15).renderedIconHTML),_ck(_v,17,0,nodeValue(_v,18).renderedIconHTML),_ck(_v,20,0,nodeValue(_v,21).renderedIconHTML),_ck(_v,23,0,nodeValue(_v,24).renderedIconHTML)}))}function View_CreateArtikelImageComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"img",[["class","mt-1"],["style","max-width:100%; max-height:150px;"]],[[8,"src",4]],null,null,null,null))],null,(function(_ck,_v){_ck(_v,0,0,_v.component.previewImgUrl)}))}function View_CreateArtikelImageComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.save()&&ad),ad}),null,null)),(_l()(),elementDef(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(2,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Fertig"]))],(function(_ck,_v){_ck(_v,2,0,_v.component.faSave)}),(function(_ck,_v){_ck(_v,1,0,nodeValue(_v,2).renderedIconHTML)}))}function View_CreateArtikelImageComponent_0(_l){return viewDef(0,[queryDef(671088640,1,{angularCropper:0}),queryDef(402653184,2,{prepareImgCanvas:0}),queryDef(402653184,3,{inputUploadFile:0}),queryDef(402653184,4,{inputUploadImage:0}),(_l()(),elementDef(4,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Neues aktuelles Artikelfoto erstellen"])),(_l()(),elementDef(7,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(8,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(10,0,null,null,9,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(11,0,[[3,0],["inputUploadFile",1]],null,0,"input",[["accept","image/*"],["style","display:none"],["type","file"]],null,[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.onInputImageFile($event,nodeValue(_v,11))&&ad),ad}),null,null)),(_l()(),elementDef(12,0,[[4,0],["inputUploadImage",1]],null,0,"input",[["accept","image/*"],["capture","camera"],["style","display:none"],["type","file"]],null,[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.onInputImageFile($event,nodeValue(_v,12))&&ad),ad}),null,null)),(_l()(),elementDef(13,0,[[2,0],["prepareImgCanvas",1]],null,0,"canvas",[["id","prepareImgCanvas"],["style","display:none;"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_CreateArtikelImageComponent_1)),directiveDef(15,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_CreateArtikelImageComponent_4)),directiveDef(17,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(18,0,null,null,1,"p",[["class","d-none"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["create-artikel-image works!"])),(_l()(),elementDef(20,0,null,null,15,"div",[["class","modal-footer"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,14,"div",[["class","btn-toolbar"]],null,null,null,null,null)),(_l()(),elementDef(22,0,null,null,8,"div",[["class","btn-group mr-5"]],null,null,null,null,null)),(_l()(),elementDef(23,0,null,null,3,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openInputUploadFile()&&ad),ad}),null,null)),(_l()(),elementDef(24,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(25,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Upload "])),(_l()(),elementDef(27,0,null,null,3,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openInputUploadImage()&&ad),ad}),null,null)),(_l()(),elementDef(28,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(29,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Photo "])),(_l()(),elementDef(31,0,null,null,4,"div",[["class","btn-group"]],null,null,null,null,null)),(_l()(),elementDef(32,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.close()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Abbrechen"])),(_l()(),anchorDef(16777216,null,null,1,null,View_CreateArtikelImageComponent_5)),directiveDef(35,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,15,0,_co.imageUrl),_ck(_v,17,0,_co.previewImgUrl),_ck(_v,25,0,_co.faUpload),_ck(_v,29,0,_co.faCamera),_ck(_v,35,0,_co.imageUrl)}),(function(_ck,_v){_ck(_v,24,0,nodeValue(_v,25).renderedIconHTML),_ck(_v,28,0,nodeValue(_v,29).renderedIconHTML)}))}function View_CreateArtikelImageComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-create-artikel-image",[],null,null,null,View_CreateArtikelImageComponent_0,RenderType_CreateArtikelImageComponent)),directiveDef(1,114688,null,0,create_artikel_image_component_CreateArtikelImageComponent,[NgbActiveModal,images_service_ImagesService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var CreateArtikelImageComponentNgFactory=createComponentFactory("app-create-artikel-image",create_artikel_image_component_CreateArtikelImageComponent,View_CreateArtikelImageComponent_Host_0,{},{},[]),RenderType_ShowArtikelImageComponent=createRendererType2({encapsulation:0,styles:[["#inputPreview[_ngcontent-%COMP%]{max-width:100%;max-height:calc(100vh - 200px)}.editor[_ngcontent-%COMP%]{height:60%;position:relative}.canvas[_ngcontent-%COMP%]{height:100%;align-items:center;display:flex;justify-content:center}.toolbar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4);bottom:1rem;color:#fff;height:2rem;left:50%;margin-left:-7rem;position:absolute;width:16rem;z-index:2015}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:0 0;color:#fff;border:0}.toolbar-close[_ngcontent-%COMP%]{position:absolute;top:.2rem;right:.2rem;z-index:2016;background-color:transparent}.btn-icon-cirular[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:1rem}"]],data:{}});function View_ShowArtikelImageComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(_v,en,$event){var ad=!0;return"close"===en&&(ad=!1!==(_v.component.error="")&&ad),ad}),View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{type:[0,"type"]},{close:"close"})],(function(_ck,_v){_ck(_v,1,0,"danger")}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).dismissible)}))}function View_ShowArtikelImageComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"angular-cropper",[],null,null,null,View_CropperComponent_0,RenderType_CropperComponent)),directiveDef(1,114688,[[1,4],["angularCropper",4]],0,angular_cropperjs_CropperComponent,[],{imageUrl:[0,"imageUrl"],cropperOptions:[1,"cropperOptions"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co.imageUrl,_co.config)}),null)}function View_ShowArtikelImageComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,20,"div",[["class","editor"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,2,"div",[["class","canvas"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ShowArtikelImageComponent_3)),directiveDef(3,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(4,0,null,null,3,"div",[["class","toolbar-close"]],null,null,null,null,null)),(_l()(),elementDef(5,0,null,null,2,"button",[["class","btn btn-sm btn-danger btn-icon-cirular"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.close()&&ad),ad}),null,null)),(_l()(),elementDef(6,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(7,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(8,0,null,null,12,"div",[["class","toolbar btn-group btn-group-sm rounded"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.zoomIn()&&ad),ad}),null,null)),(_l()(),elementDef(10,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(11,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(12,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.zoomOut()&&ad),ad}),null,null)),(_l()(),elementDef(13,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(14,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(15,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.rotateLeft()&&ad),ad}),null,null)),(_l()(),elementDef(16,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(17,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(18,0,null,null,2,"button",[["class","btn btn-sm btn-light"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.rotateRight()&&ad),ad}),null,null)),(_l()(),elementDef(19,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(20,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.imageUrl),_ck(_v,7,0,_co.faClose),_ck(_v,11,0,_co.faSearchPlus),_ck(_v,14,0,_co.faSearchMinus),_ck(_v,17,0,_co.faRotateLeft),_ck(_v,20,0,_co.faRotateRight)}),(function(_ck,_v){_ck(_v,6,0,nodeValue(_v,7).renderedIconHTML),_ck(_v,10,0,nodeValue(_v,11).renderedIconHTML),_ck(_v,13,0,nodeValue(_v,14).renderedIconHTML),_ck(_v,16,0,nodeValue(_v,17).renderedIconHTML),_ck(_v,19,0,nodeValue(_v,20).renderedIconHTML)}))}function View_ShowArtikelImageComponent_0(_l){return viewDef(0,[queryDef(671088640,1,{angularCropper:0}),(_l()(),elementDef(1,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_ShowArtikelImageComponent_1)),directiveDef(3,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_ShowArtikelImageComponent_2)),directiveDef(5,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.error),_ck(_v,5,0,_co.imageUrl)}),null)}function View_ShowArtikelImageComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-show-artikel-image",[],null,null,null,View_ShowArtikelImageComponent_0,RenderType_ShowArtikelImageComponent)),directiveDef(1,114688,null,0,show_artikel_image_component_ShowArtikelImageComponent,[NgbActiveModal,images_service_ImagesService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ShowArtikelImageComponentNgFactory=createComponentFactory("app-show-artikel-image",show_artikel_image_component_ShowArtikelImageComponent,View_ShowArtikelImageComponent_Host_0,{},{},[]),esm5=__webpack_require__("5YjC");class zxing_ngx_scanner_BrowserMultiFormatContinuousReader extends esm5.BrowserMultiFormatReader{constructor(){super(...arguments),this._isTorchAvailable=new BehaviorSubject_BehaviorSubject(void 0)}get isTorchAvailable(){return this._isTorchAvailable.asObservable()}continuousDecodeFromInputVideoDevice(deviceId,videoSource){if(this.reset(),void 0!==deviceId&&(this.deviceId=deviceId),"undefined"==typeof navigator)return;const scan$=new BehaviorSubject_BehaviorSubject({});try{this.getStreamForDevice({deviceId:deviceId}).then(stream=>this.attachStreamToVideoAndCheckTorch(stream,videoSource)).then(videoElement=>this.decodeOnSubject(scan$,videoElement,this.timeBetweenScansMillis))}catch(e){scan$.error(e)}return this._setScanStream(scan$),scan$.asObservable()}getStreamForDevice({deviceId:deviceId}){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){const constraints=this.getUserMediaConstraints(deviceId);return yield navigator.mediaDevices.getUserMedia(constraints)}))}getUserMediaConstraints(deviceId){return{video:void 0===deviceId?{facingMode:{exact:"environment"}}:{deviceId:{exact:deviceId}}}}setTorch(on){if(!this._isTorchAvailable.value)return;const tracks=this.getVideoTracks(this.stream);on?this.applyTorchOnTracks(tracks,!0):(this.applyTorchOnTracks(tracks,!1),this.restart())}attachStreamToVideoAndCheckTorch(stream,videoSource){return this.updateTorchCompatibility(stream),this.attachStreamToVideo(stream,videoSource)}updateTorchCompatibility(stream){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){const tracks=this.getVideoTracks(stream);for(const track of tracks)if(yield this.isTorchCompatible(track)){this._isTorchAvailable.next(!0);break}}))}getVideoTracks(stream){let tracks=[];try{tracks=stream.getVideoTracks()}finally{return tracks||[]}}isTorchCompatible(track){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){let compatible=!1;try{const imageCapture=new ImageCapture(track),capabilities=yield imageCapture.getPhotoCapabilities();compatible=!!capabilities.torch||"fillLightMode"in capabilities&&0!==capabilities.fillLightMode.length}finally{return compatible}}))}applyTorchOnTracks(tracks,state){tracks.forEach(track=>track.applyConstraints({advanced:[{torch:state,fillLightMode:state?"torch":"none"}]}))}_setScanStream(scan$){this._cleanScanStream(),this.scanStream=scan$}_cleanScanStream(){this.scanStream&&!this.scanStream.isStopped&&this.scanStream.complete(),this.scanStream=null}decodeOnSubject(scan$,videoElement,delay){if(scan$.isStopped)return;let result;try{result=this.decode(videoElement),scan$.next({result:result})}catch(error){!error||error instanceof esm5.NotFoundException||error instanceof esm5.ChecksumException||error instanceof esm5.FormatException?scan$.next({error:error}):scan$.error(error)}finally{setTimeout(()=>this.decodeOnSubject(scan$,videoElement,delay),result?delay:0)}}restart(){return this.continuousDecodeFromInputVideoDevice(this.deviceId,this.videoElement)}}let zxing_ngx_scanner_ZXingScannerComponent=class{constructor(){this.previewFitMode="cover",this.autostarted=new core_EventEmitter,this.autostarting=new core_EventEmitter,this.torchCompatible=new core_EventEmitter,this.scanSuccess=new core_EventEmitter,this.scanFailure=new core_EventEmitter,this.scanError=new core_EventEmitter,this.scanComplete=new core_EventEmitter,this.camerasFound=new core_EventEmitter,this.camerasNotFound=new core_EventEmitter,this.permissionResponse=new core_EventEmitter(!0),this.hasDevices=new core_EventEmitter,this.deviceChange=new core_EventEmitter,this._device=null,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[esm5.BarcodeFormat.QR_CODE],this.hasNavigator="undefined"!=typeof navigator,this.isMediaDevicesSuported=this.hasNavigator&&!!navigator.mediaDevices}get codeReader(){return this._codeReader}set device(device){if(!device&&null!==device)throw new esm5.ArgumentException("The `device` must be a valid MediaDeviceInfo or null.");this.isCurrentDevice(device)?console.warn("Setting the same device is not allowed."):this.isAutostarting?console.warn("Avoid setting a device during auto-start."):(this.hasPermission||console.warn("Permissions not set yet, waiting for them to be set to apply device change."),this._reset(),this._device=device,this._enabled&&null!==device&&this.scanFromDevice(device.deviceId))}get device(){return this._device}get formats(){return this.hints.get(esm5.DecodeHintType.POSSIBLE_FORMATS)}set formats(input){if("string"==typeof input)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const formats=input.map(f=>this.getBarcodeFormatOrFail(f)),hints=this.hints;hints.set(esm5.DecodeHintType.POSSIBLE_FORMATS,formats),this.hints=hints}get hints(){return this._hints}set hints(hints){this._hints=hints,this.restart()}set isAutostarting(state){this._isAutostarting=state,this.autostarting.next(state)}get isAutstarting(){return this._isAutostarting}set torch(on){this.getCodeReader().setTorch(on)}set enable(enabled){this._enabled=Boolean(enabled),this._enabled?this.device&&this.scanFromDevice(this.device.deviceId):this.reset()}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(esm5.DecodeHintType.TRY_HARDER)}set tryHarder(enable){const hints=this.hints;enable?hints.set(esm5.DecodeHintType.TRY_HARDER,!0):hints.delete(esm5.DecodeHintType.TRY_HARDER),this.hints=hints}askForPermission(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){if(!this.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),this.setPermission(null),this.hasPermission;if(!this.isMediaDevicesSuported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),this.setPermission(null),this.hasPermission;let stream,permission;try{stream=yield this.getAnyVideoDevice(),permission=!!stream}catch(err){return this.handlePermissionException(err)}finally{this.terminateStream(stream)}return this.setPermission(permission),permission}))}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(stream){stream&&stream.getTracks().forEach(t=>t.stop()),stream=void 0}initAutostartOff(){this.isAutostarting=null,this.updateVideoInputDevices()}initAutostartOn(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){let hasPermission;this.isAutostarting=!0;try{hasPermission=yield this.askForPermission()}catch(e){return void console.error("Exception occurred while asking for permission:",e)}if(hasPermission){const devices=yield this.updateVideoInputDevices();this.autostartScanner([...devices])}}))}isCurrentDevice(device){return this.device&&device&&device.deviceId===this.device.deviceId}ngAfterViewInit(){if(this.getCodeReader().isTorchAvailable.subscribe(x=>this.torchCompatible.emit(x)),!this.autostart)return console.warn("New feature 'autostart' disabled, be careful. Permissions and devices recovery has to be run manually."),void this.initAutostartOff();this.initAutostartOn()}ngOnDestroy(){this.reset()}restart(){const prevDevice=this._reset();prevDevice&&(this._codeReader=void 0,this.device=prevDevice)}updateVideoInputDevices(){return Object(tslib_es6.__awaiter)(this,void 0,void 0,(function*(){const devices=(yield this.getCodeReader().listVideoInputDevices())||[],hasDevices=devices&&devices.length>0;return this.hasDevices.next(hasDevices),this.camerasFound.next([...devices]),hasDevices||this.camerasNotFound.next(),devices}))}autostartScanner(devices){const device=devices.find(({label:label})=>/back|trás|rear|traseira|environment|ambiente/gi.test(label))||devices.pop();if(!device)throw new Error("Impossible to autostart, no input devices available.");this.device=device,this.deviceChange.emit(device),this.isAutostarting=!1,this.autostarted.next()}dispatchScanSuccess(result){this.scanSuccess.next(result.getText())}dispatchScanFailure(reason){this.scanFailure.next(reason)}dispatchScanError(error){this.scanError.next(error)}dispatchScanComplete(result){this.scanComplete.next(result)}handlePermissionException(err){let permission;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",err),err.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",err.message),permission=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",err.message),permission=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",err.message),permission=null,this.hasDevices.next(!1),this.camerasNotFound.next(err);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),permission=null,this.hasDevices.next(!1),this.camerasNotFound.next(err);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",err),permission=null}return this.setPermission(permission),this.permissionResponse.error(err),permission}getBarcodeFormatOrFail(format){return"string"==typeof format?esm5.BarcodeFormat[format.trim().toUpperCase()]:format}getCodeReader(){return this._codeReader||(this._codeReader=new zxing_ngx_scanner_BrowserMultiFormatContinuousReader(this.hints)),this._codeReader}scanFromDevice(deviceId){const videoElement=this.previewElemRef.nativeElement,decodingStream=this.getCodeReader().continuousDecodeFromInputVideoDevice(deviceId,videoElement);if(!decodingStream)throw new Error("Undefined decoding stream, aborting.");decodingStream.subscribe(x=>this._onDecodeResult(x.result,x.error),err=>this._onDecodeError(err),()=>{this.reset(),console.log("completed")})}_onDecodeError(err){this.dispatchScanError(err),this.reset()}_onDecodeResult(result,error){result?this.dispatchScanSuccess(result):this.dispatchScanFailure(error),this.dispatchScanComplete(result)}_reset(){if(!this._codeReader)return;const device=this.device;return this._device=null,this._codeReader.reset(),device}reset(){this._reset(),this.deviceChange.emit(null)}setPermission(hasPermission){this.hasPermission=hasPermission,this.permissionResponse.next(hasPermission)}},ZXingScannerModule=class{};var RenderType_ZXingScannerComponent=createRendererType2({encapsulation:0,styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{width:100%;height:auto;-o-object-fit:contain;object-fit:contain}"],data:{}});function View_ZXingScannerComponent_0(_l){return viewDef(2,[queryDef(402653184,1,{previewElemRef:0}),(_l()(),elementDef(1,0,[[1,0],["preview",1]],null,4,"video",[],[[4,"object-fit",null]],null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,"p",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[" Your browser does not support this feature, please try to upgrade it. "])),(_l()(),elementDef(4,0,null,null,1,"p",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[" Seu navegador não suporta este recurso, por favor tente atualizá-lo. "]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.previewFitMode)}))}var RenderType_ScannerComponent=createRendererType2({encapsulation:0,styles:[["input.bg-danger[_ngcontent-%COMP%]::-moz-placeholder{color:#fff}input.bg-danger[_ngcontent-%COMP%]::placeholder{color:#fff}.scanner-view-port[_ngcontent-%COMP%]{position:relative;height:auto;overflow-y:hidden;width:100%}zxing-scanner[_ngcontent-%COMP%]  video{height:5rem;width:100%}#ScannerFocusRedLine[_ngcontent-%COMP%]{position:absolute;left:5%;width:90%;top:50%;border:0;border-top:1rem solid rgba(255,0,0,.5);margin-top:-.5rem}#barcodeChangedPart[_ngcontent-%COMP%]{color:#00f}.with-pulse-effect[_ngcontent-%COMP%]{-webkit-animation:2s enter-animation;animation:2s enter-animation}@-webkit-keyframes enter-animation{0%{box-shadow:0 0 0 0 #2382dc;color:#000}100%{box-shadow:0 0 5px 25px rgba(35,130,220,0);color:#00f}}@keyframes enter-animation{0%{box-shadow:0 0 0 0 #2382dc;color:#000}100%{box-shadow:0 0 5px 25px rgba(35,130,220,0);color:#00f}}"]],data:{}});function View_ScannerComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),directiveDef(1,147456,null,0,NgSelectOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),directiveDef(2,147456,null,0,ɵNgSelectMultipleOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),(_l()(),textDef(3,null,["",""]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit.deviceId),_ck(_v,2,0,_v.context.$implicit.deviceId)}),(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.currentDevice&&_v.context.$implicit.deviceId===_co.currentDevice.deviceId),_ck(_v,3,0,_v.context.$implicit.label)}))}function View_ScannerComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"div",[["id","ScannerFocusRedLine"]],null,null,null,null,null))],null,null)}function View_ScannerComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,5,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(1,0,[["bcInputTest",1]],null,0,"input",[["aria-describedby","button-addon2"],["aria-label","Barcode"],["class","form-control"],["placeholder","Barcode"],["type","text"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,2,"button",[["class","btn btn-outline-primary"],["id","button-addon2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.bctest(nodeValue(_v,1).value)&&ad),ad}),null,null)),(_l()(),elementDef(4,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(5,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,5,0,_v.component.faCheck)}),(function(_ck,_v){_ck(_v,4,0,nodeValue(_v,5).renderedIconHTML)}))}function View_ScannerComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,"section",[["class","results"]],[[8,"hidden",0]],null,null,null,null)),(_l()(),elementDef(1,0,null,null,7,"div",[],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(-1,null,["Result"])),(_l()(),elementDef(4,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(5,null,["",""])),(_l()(),elementDef(6,0,[[2,0],["barcodeChangedPart",1]],null,1,"span",[["id","barcodeChangedPart"]],null,null,null,null,null)),(_l()(),textDef(7,null,["",""])),(_l()(),elementDef(8,0,null,null,0,"br",[],null,null,null,null,null))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,!_co.scannedBarcode),_ck(_v,5,0,_co.scannedUnchangedPart),_ck(_v,7,0,_co.scannedChangedPart)}))}function View_ScannerComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","float-right"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,0,"img",[["style","max-width:200%;max-height:150px"]],[[8,"src",4]],null,null,null,null))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.scanResultCurrent.image.data_url)}))}function View_ScannerComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(_l()(),textDef(3,null,["",""])),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_6)),directiveDef(5,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(6,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(_l()(),textDef(8,null,["",":"])),(_l()(),textDef(9,null,[" "," "])),(_l()(),elementDef(10,0,null,null,6,"div",[["class","btn-group w-100"]],null,null,null,null,null)),(_l()(),elementDef(11,0,null,null,2,"button",[["class","btn btn-success btn-sm col-6"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.applyResult()&&ad),ad}),null,null)),(_l()(),elementDef(12,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(13,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(14,0,null,null,2,"button",[["class","col-6 btn btn-danger"],["ngbButton",""]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.clearResult()&&ad),ad}),null,null)),(_l()(),elementDef(15,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(16,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.scanResultCurrent.image&&_co.scanResultCurrent.image.data_url),_ck(_v,13,0,_co.faCheck),_ck(_v,16,0,_co.faRemove)}),(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,_co.scanResultCurrent.barcode),_ck(_v,8,0,_co.scanResultCurrent.typToString),_ck(_v,9,0,_co.scanResultCurrent.infos),_ck(_v,12,0,nodeValue(_v,13).renderedIconHTML),_ck(_v,15,0,nodeValue(_v,16).renderedIconHTML)}))}function View_ScannerComponent_9(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","float-right"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,0,"img",[["style","max-width:100%;max-height:50px"]],[[8,"src",4]],null,null,null,null))],null,(function(_ck,_v){_ck(_v,1,0,_v.parent.context.$implicit.image.data_url)}))}function View_ScannerComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,17,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,16,"div",[["class","card mt-2"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,8,"div",[["class","card-body"],["style","padding:.5rem"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_9)),directiveDef(6,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(7,0,null,null,3,"p",[["class","card-text"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(_l()(),textDef(9,null,["",":"])),(_l()(),textDef(10,null,[" "," "])),(_l()(),elementDef(11,0,null,null,6,"div",[["class","btn-group w-100"]],null,null,null,null,null)),(_l()(),elementDef(12,0,null,null,2,"button",[["class","btn btn-success btn-sm col-6"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.applyHistoryResult(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),elementDef(13,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(14,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(15,0,null,null,2,"button",[["class","btn btn-danger btn-sm col-6"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.removeResult(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),elementDef(16,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(17,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,_v.context.$implicit.image&&_v.context.$implicit.image.data_url),_ck(_v,14,0,_co.faCheck),_ck(_v,17,0,_co.faRemove)}),(function(_ck,_v){_ck(_v,4,0,_v.context.$implicit.barcode),_ck(_v,9,0,_v.context.$implicit.typToString),_ck(_v,10,0,_v.context.$implicit.infos),_ck(_v,13,0,nodeValue(_v,14).renderedIconHTML),_ck(_v,16,0,nodeValue(_v,17).renderedIconHTML)}))}function View_ScannerComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,6,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,0,"hr",[["class","mt-3"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,2,"div",[["class","w-100 text-right"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,"button",[["class","btn btn-secondary btn-sm"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.clearHistory()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["clear history"])),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_8)),directiveDef(6,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){_ck(_v,6,0,_v.component.scanResultHistory)}),null)}function View_ScannerComponent_0(_l){return viewDef(0,[queryDef(402653184,1,{scanner:0}),queryDef(402653184,2,{barcodeChangedPart:0}),(_l()(),elementDef(2,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,1,"h6",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Barcode scannen!"])),(_l()(),elementDef(5,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(6,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(8,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,6,"select",[],null,[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.onDeviceSelectChange($event.target.value)&&ad),ad}),null,null)),(_l()(),elementDef(10,0,null,null,3,"option",[["value",""]],[[8,"selected",0]],null,null,null,null)),directiveDef(11,147456,null,0,NgSelectOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),directiveDef(12,147456,null,0,ɵNgSelectMultipleOption,[ElementRef,Renderer2,[8,null]],{value:[0,"value"]},null),(_l()(),textDef(-1,null,["No Device Selected"])),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_1)),directiveDef(15,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),elementDef(16,0,null,null,4,"div",[["class","scanner-view-port"]],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,1,"zxing-scanner",[],[[4,"height",null]],[[null,"deviceChange"],[null,"scanSuccess"],[null,"permissionResponse"],[null,"camerasFound"],[null,"torchCompatible"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"deviceChange"===en&&(ad=!1!==(_co.currentDevice=$event)&&ad),"scanSuccess"===en&&(ad=!1!==_co.onCodeResult($event)&&ad),"permissionResponse"===en&&(ad=!1!==_co.onHasPermission($event)&&ad),"camerasFound"===en&&(ad=!1!==_co.onCamerasFound($event)&&ad),"torchCompatible"===en&&(ad=!1!==_co.onTorchCompatible($event)&&ad),ad}),View_ZXingScannerComponent_0,RenderType_ZXingScannerComponent)),directiveDef(18,4374528,[[1,4],["scanner",4]],0,zxing_ngx_scanner_ZXingScannerComponent,[],{device:[0,"device"],formats:[1,"formats"],torch:[2,"torch"],tryHarder:[3,"tryHarder"]},{torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",camerasFound:"camerasFound",permissionResponse:"permissionResponse",deviceChange:"deviceChange"}),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_2)),directiveDef(20,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_3)),directiveDef(22,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_4)),directiveDef(24,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_5)),directiveDef(26,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_ScannerComponent_7)),directiveDef(28,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(29,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(_l()(),elementDef(30,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.close("Close click")&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Close"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,""),_ck(_v,12,0,""),_ck(_v,15,0,_co.availableDevices),_ck(_v,18,0,_co.currentDevice,_co.formatsEnabled,_co.torchEnabled,_co.tryHarder),_ck(_v,20,0,_co.currentDevice),_ck(_v,22,0,_co.allowBarcodeInput),_ck(_v,24,0,!1),_ck(_v,26,0,_co.scanResultCurrent),_ck(_v,28,0,_co.scanResultHistory.length>0)}),(function(_ck,_v){_ck(_v,10,0,!_v.component.currentDevice),_ck(_v,17,0,"5rem")}))}function View_ScannerComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-scanner",[],null,null,null,View_ScannerComponent_0,RenderType_ScannerComponent)),directiveDef(1,114688,null,0,scanner_component_ScannerComponent,[NgbActiveModal,data_service_DataService,barcode_service_BarcodeService,images_service_ImagesService,basedata_service_BasedataService,variables_service_VariablesService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ScannerComponentNgFactory=createComponentFactory("app-scanner",scanner_component_ScannerComponent,View_ScannerComponent_Host_0,{},{},[]),RenderType_SelectCreateArtikelComponent=createRendererType2({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%], .card-footer[_ngcontent-%COMP%]{padding:.5rem}.artikel-form[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{min-width:4rem}"]],data:{}});function View_SelectCreateArtikelComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Artikelangabe wird geprüft"]))],null,null)}function View_SelectCreateArtikelComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Artikel existiert bereits"]))],null,null)}function View_SelectCreateArtikelComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_2)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_3)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,-1===_co.numBezeichnungExists),_ck(_v,4,0,1===_co.numBezeichnungExists)}),null)}function View_SelectCreateArtikelComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","alert-danger"]],null,null,null,null,null)),(_l()(),textDef(1,null,[" "," "]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.formError)}))}function View_SelectCreateArtikelComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"img",[["alt",""],["class","card-img-top"],["src","..."]],null,null,null,null,null))],null,null)}function View_SelectCreateArtikelComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Hst: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Hersteller)}))}function View_SelectCreateArtikelComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Grp: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Gruppe)}))}function View_SelectCreateArtikelComponent_9(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Typ: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Typ)}))}function View_SelectCreateArtikelComponent_10(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Ktg: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Kategorie)}))}function View_SelectCreateArtikelComponent_11(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,[""," ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Farbe,_v.parent.context.$implicit.Groesse)}))}function View_SelectCreateArtikelComponent_12(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.inventar_count)}))}function View_SelectCreateArtikelComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,22,"div",[["class","card col-sm-6"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_6)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(3,0,null,null,14,"div",[["class","card-body "]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,"h6",[["class","card-title"]],null,null,null,null,null)),(_l()(),textDef(5,null,["",""])),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_7)),directiveDef(7,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_8)),directiveDef(9,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_9)),directiveDef(11,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_10)),directiveDef(13,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_11)),directiveDef(15,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_12)),directiveDef(17,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(18,0,null,null,4,"div",[["class","card-footer text-center"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,1,"button",[["class","btn btn-sm btn-info"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.applyItemAsInput(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Als Vorlage übernehmen"])),(_l()(),elementDef(21,0,null,null,1,"button",[["class","btn btn-sm btn-primary"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.applyItemAsArtikel(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Artikel Übernehmen"]))],(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit.img_id),_ck(_v,7,0,_v.context.$implicit.Hersteller),_ck(_v,9,0,_v.context.$implicit.Gruppe),_ck(_v,11,0,_v.context.$implicit.Typ),_ck(_v,13,0,_v.context.$implicit.Kategorie),_ck(_v,15,0,_v.context.$implicit.Farbe||_v.context.$implicit.Groesse),_ck(_v,17,0,_v.context.$implicit.inventar_count)}),(function(_ck,_v){_ck(_v,5,0,_v.context.$implicit.Bezeichnung)}))}function View_SelectCreateArtikelComponent_0(_l){return viewDef(0,[queryDef(402653184,1,{instance:0}),queryDef(402653184,2,{instanceGrp:0}),queryDef(402653184,3,{instanceKtg:0}),queryDef(402653184,4,{instanceTyp:0}),queryDef(402653184,5,{instanceGrs:0}),queryDef(402653184,6,{instanceFa:0}),(_l()(),elementDef(6,0,null,null,10,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,9,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,5,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showSearchForm($event)&&ad),ad}),null,null)),(_l()(),elementDef(9,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(10,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(11,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(12,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Artikel suchen "])),(_l()(),elementDef(14,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(15,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(17,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(18,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Neuen Artikel anlegen"])),(_l()(),elementDef(20,0,null,null,113,"div",[["class","modal-body artikel-form"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,108,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0;return"submit"===en&&(ad=!1!==nodeValue(_v,23).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==nodeValue(_v,23).onReset()&&ad),ad}),null,null)),directiveDef(22,16384,null,0,ɵNgNoValidate,[],null,null),directiveDef(23,4210688,[["myForm",4]],0,forms_NgForm,[[8,null],[8,null]],null,null),providerDef(2048,null,ControlContainer,null,[forms_NgForm]),directiveDef(25,16384,null,0,NgControlStatusGroup,[[4,ControlContainer]],null,null),(_l()(),elementDef(26,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(27,0,null,null,1,"label",[["class","d-none"],["for","Hersteller"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Hersteller:"])),(_l()(),elementDef(29,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(30,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(31,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["HST"])),(_l()(),elementDef(33,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Hersteller"],["name","Hersteller"],["placeholder","Hersteller"],["role","combobox"],["type","text"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"selectItem"],[null,"change"],[null,"focus"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,34)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,34).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,34)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,34)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,35).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,35).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.artikelDaten.Hersteller=$event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectHersteller($event)&&ad),"change"===en&&(ad=!1!==_co.onChangeHersteller($event)&&ad),"focus"===en&&(ad=!1!==_co.focus$.next($event.target.value)&&ad),"click"===en&&(ad=!1!==_co.click$.next($event.target.value)&&ad),ad}),null,null)),directiveDef(34,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(35,212992,[[1,4],["instance",4]],0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultFormatter:[2,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(37,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(39,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(40,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(41,0,null,null,1,"label",[["class","d-none"],["for","typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Gruppe: "])),(_l()(),elementDef(43,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(44,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(45,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["GRP"])),(_l()(),elementDef(47,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Gruppe"],["name","Gruppe"],["placeholder","Gruppe"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"selectItem"],[null,"focus"],[null,"click"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,48)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,48).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,48)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,48)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,49).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,49).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.artikelDaten.Gruppe=$event)&&ad),"change"===en&&(ad=!1!==_co.onChangeGruppe($event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectGruppe($event)&&ad),"focus"===en&&(ad=!1!==_co.focusGrp$.next($event.target.value)&&ad),"click"===en&&(ad=!1!==_co.clickGrp$.next($event.target.value)&&ad),ad}),null,null)),directiveDef(48,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(49,212992,[[2,4],["instanceGrp",4]],0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultFormatter:[2,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(51,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(53,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(54,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(55,0,null,null,1,"label",[["class","d-none"],["for","typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Kategorie: "])),(_l()(),elementDef(57,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(58,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(59,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["KTG"])),(_l()(),elementDef(61,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Kategorie"],["name","Kategorie"],["placeholder","Kategorie"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"selectItem"],[null,"focus"],[null,"click"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,62)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,62).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,62)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,62)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,63).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,63).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.artikelDaten.Kategorie=$event)&&ad),"change"===en&&(ad=!1!==_co.onChange($event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectKategorie($event)&&ad),"focus"===en&&(ad=!1!==_co.focusKtg$.next($event.target.value)&&ad),"click"===en&&(ad=!1!==_co.clickKtg$.next($event.target.value)&&ad),ad}),null,null)),directiveDef(62,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(63,212992,[[3,4],["instanceKtg",4]],0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultFormatter:[2,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(65,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(67,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(68,0,null,null,19,"div",[["class","form-group"]],null,null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(70,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(71,{"has-error":0,"has-info":1}),(_l()(),elementDef(72,0,null,null,1,"label",[["class","d-none"],["for","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Artikel-Bez: "])),(_l()(),elementDef(74,0,null,null,11,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(75,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(76,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["BEZ"])),(_l()(),elementDef(78,0,null,null,7,"input",[["class","form-control"],["id","Bezeichnung"],["name","Bezeichnung"],["placeholder","Bezeichnung"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,79)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,79).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,79)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,79)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.artikelDaten.Bezeichnung=$event)&&ad),"change"===en&&(ad=!1!==_co.checkIfABezeichnungExistsGlobal()&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),ad}),null,null)),directiveDef(79,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(80,16384,null,0,RequiredValidator,[],{required:[0,"required"]},null),providerDef(1024,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[RequiredValidator]),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(83,671744,[["bezeichnung",4]],0,forms_NgModel,[[2,ControlContainer],[6,NG_VALIDATORS],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(85,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_1)),directiveDef(87,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(88,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(89,0,null,null,1,"label",[["class","d-none"],["for","typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Artikel-Typ: "])),(_l()(),elementDef(91,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(92,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(93,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["TYP"])),(_l()(),elementDef(95,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","typ"],["name","typ"],["placeholder","Artikel-Typ"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"selectItem"],[null,"focus"],[null,"click"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,96)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,96).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,96)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,96)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,97).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,97).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.artikelDaten.Typ=$event)&&ad),"change"===en&&(ad=!1!==_co.onChange($event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectTypen($event)&&ad),"focus"===en&&(ad=!1!==_co.focusTyp$.next($event.target.value)&&ad),"click"===en&&(ad=!1!==_co.clickTyp$.next($event.target.value)&&ad),ad}),null,null)),directiveDef(96,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(97,212992,[[4,4],["instanceTyp",4]],0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultFormatter:[2,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(99,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(101,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(102,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(103,0,null,null,1,"label",[["class","d-none"],["for","Groesse"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Abmessungen: "])),(_l()(),elementDef(105,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(106,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(107,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Größe"])),(_l()(),elementDef(109,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Groesse"],["name","Groesse"],["placeholder","Groesse"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"selectItem"],[null,"focus"],[null,"click"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,110)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,110).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,110)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,110)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,111).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,111).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.artikelDaten.Groesse=$event)&&ad),"change"===en&&(ad=!1!==_co.onChange($event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectGroessen($event)&&ad),"focus"===en&&(ad=!1!==_co.focusGrs$.next($event.target.value)&&ad),"click"===en&&(ad=!1!==_co.clickGrs$.next($event.target.value)&&ad),ad}),null,null)),directiveDef(110,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(111,212992,[[5,4],["instanceGrs",4]],0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultFormatter:[2,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(113,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(115,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(116,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(117,0,null,null,1,"label",[["class","d-none"],["for","Farbe"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Farbe: "])),(_l()(),elementDef(119,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(120,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(121,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Farbe"])),(_l()(),elementDef(123,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Farbe"],["name","Farbe"],["placeholder","Farbe"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"selectItem"],[null,"focus"],[null,"click"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,124)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,124).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,124)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,124)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,125).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,125).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.artikelDaten.Farbe=$event)&&ad),"change"===en&&(ad=!1!==_co.onChange($event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectFarben($event)&&ad),"focus"===en&&(ad=!1!==_co.focusFa$.next($event.target.value)&&ad),"click"===en&&(ad=!1!==_co.clickFa$.next($event.target.value)&&ad),ad}),null,null)),directiveDef(124,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(125,212992,[[6,4],["instanceFa",4]],0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultFormatter:[2,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(127,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(129,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(130,0,null,null,1,"pre",[],null,null,null,null,null)),(_l()(),textDef(131,null,["",""])),(_l()(),elementDef(132,0,null,null,1,"p",[["class","d-none"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["select-create-artikel works!"])),(_l()(),elementDef(134,0,null,null,18,"div",[["class","modal-footer"]],null,null,null,null,null)),(_l()(),elementDef(135,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.close("Close click")&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Close"])),(_l()(),elementDef(137,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onSubmit($event)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Artikel anlegen"])),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_4)),directiveDef(140,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(141,0,null,null,8,"div",[],null,null,null,null,null)),(_l()(),elementDef(142,0,null,null,7,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"pageChange"===en&&(ad=!1!==(_co.page=$event)&&ad),"pageChange"===en&&(ad=!1!==_co.onPageChange(_co.page)&&ad),ad}),View_NgbPagination_0,RenderType_NgbPagination)),directiveDef(143,573440,null,6,ng_bootstrap_NgbPagination,[ng_bootstrap_NgbPaginationConfig],{collectionSize:[0,"collectionSize"],maxSize:[1,"maxSize"],page:[2,"page"],pageSize:[3,"pageSize"]},{pageChange:"pageChange"}),queryDef(603979776,7,{tplEllipsis:0}),queryDef(603979776,8,{tplFirst:0}),queryDef(603979776,9,{tplLast:0}),queryDef(603979776,10,{tplNext:0}),queryDef(603979776,11,{tplNumber:0}),queryDef(603979776,12,{tplPrevious:0}),(_l()(),elementDef(150,0,null,null,2,"div",[["class","row no-gutters"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateArtikelComponent_5)),directiveDef(152,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,10,0,_co.faSignOutAlt),_ck(_v,12,0,_co.faSearch),_ck(_v,35,0,_co.formatter,_co.search,_co.formatter),_ck(_v,37,0,"Hersteller",_co.artikelDaten.Hersteller),_ck(_v,49,0,_co.formatter,_co.searchGruppen,_co.formatter),_ck(_v,51,0,"Gruppe",_co.artikelDaten.Gruppe),_ck(_v,63,0,_co.formatter,_co.searchKategorien,_co.formatter),_ck(_v,65,0,"Kategorie",_co.artikelDaten.Kategorie);var currVal_66=_ck(_v,71,0,nodeValue(_v,83).dirty&&(nodeValue(_v,83).invalid||1===_co.numBezeichnungExists),nodeValue(_v,83).dirty&&-1===_co.numBezeichnungExists);_ck(_v,70,0,"form-group",currVal_66),_ck(_v,80,0,""),_ck(_v,83,0,"Bezeichnung",_co.artikelDaten.Bezeichnung),_ck(_v,87,0,nodeValue(_v,83).valid),_ck(_v,97,0,_co.formatter,_co.searchTypen,_co.formatter),_ck(_v,99,0,"typ",_co.artikelDaten.Typ),_ck(_v,111,0,_co.formatter,_co.searchGroessen,_co.formatter),_ck(_v,113,0,"Groesse",_co.artikelDaten.Groesse),_ck(_v,125,0,_co.formatter,_co.searchFarben,_co.formatter),_ck(_v,127,0,"Farbe",_co.artikelDaten.Farbe),_ck(_v,140,0,_co.formError),_ck(_v,143,0,_co.collectionSize,_co.maxSize,_co.page,_co.pageSize),_ck(_v,152,0,_co.listExistingArticlePage)}),(function(_ck,_v){var _co=_v.component;_ck(_v,9,0,nodeValue(_v,10).renderedIconHTML),_ck(_v,11,0,nodeValue(_v,12).renderedIconHTML),_ck(_v,21,0,nodeValue(_v,25).ngClassUntouched,nodeValue(_v,25).ngClassTouched,nodeValue(_v,25).ngClassPristine,nodeValue(_v,25).ngClassDirty,nodeValue(_v,25).ngClassValid,nodeValue(_v,25).ngClassInvalid,nodeValue(_v,25).ngClassPending),_ck(_v,33,1,[nodeValue(_v,35).isPopupOpen(),nodeValue(_v,35).autocomplete,nodeValue(_v,35).showHint?"both":"list",nodeValue(_v,35).activeDescendant,nodeValue(_v,35).isPopupOpen()?nodeValue(_v,35).popupId:null,nodeValue(_v,35).isPopupOpen(),nodeValue(_v,39).ngClassUntouched,nodeValue(_v,39).ngClassTouched,nodeValue(_v,39).ngClassPristine,nodeValue(_v,39).ngClassDirty,nodeValue(_v,39).ngClassValid,nodeValue(_v,39).ngClassInvalid,nodeValue(_v,39).ngClassPending]),_ck(_v,47,1,[nodeValue(_v,49).isPopupOpen(),nodeValue(_v,49).autocomplete,nodeValue(_v,49).showHint?"both":"list",nodeValue(_v,49).activeDescendant,nodeValue(_v,49).isPopupOpen()?nodeValue(_v,49).popupId:null,nodeValue(_v,49).isPopupOpen(),nodeValue(_v,53).ngClassUntouched,nodeValue(_v,53).ngClassTouched,nodeValue(_v,53).ngClassPristine,nodeValue(_v,53).ngClassDirty,nodeValue(_v,53).ngClassValid,nodeValue(_v,53).ngClassInvalid,nodeValue(_v,53).ngClassPending]),_ck(_v,61,1,[nodeValue(_v,63).isPopupOpen(),nodeValue(_v,63).autocomplete,nodeValue(_v,63).showHint?"both":"list",nodeValue(_v,63).activeDescendant,nodeValue(_v,63).isPopupOpen()?nodeValue(_v,63).popupId:null,nodeValue(_v,63).isPopupOpen(),nodeValue(_v,67).ngClassUntouched,nodeValue(_v,67).ngClassTouched,nodeValue(_v,67).ngClassPristine,nodeValue(_v,67).ngClassDirty,nodeValue(_v,67).ngClassValid,nodeValue(_v,67).ngClassInvalid,nodeValue(_v,67).ngClassPending]),_ck(_v,78,0,nodeValue(_v,80).required?"":null,nodeValue(_v,85).ngClassUntouched,nodeValue(_v,85).ngClassTouched,nodeValue(_v,85).ngClassPristine,nodeValue(_v,85).ngClassDirty,nodeValue(_v,85).ngClassValid,nodeValue(_v,85).ngClassInvalid,nodeValue(_v,85).ngClassPending),_ck(_v,95,1,[nodeValue(_v,97).isPopupOpen(),nodeValue(_v,97).autocomplete,nodeValue(_v,97).showHint?"both":"list",nodeValue(_v,97).activeDescendant,nodeValue(_v,97).isPopupOpen()?nodeValue(_v,97).popupId:null,nodeValue(_v,97).isPopupOpen(),nodeValue(_v,101).ngClassUntouched,nodeValue(_v,101).ngClassTouched,nodeValue(_v,101).ngClassPristine,nodeValue(_v,101).ngClassDirty,nodeValue(_v,101).ngClassValid,nodeValue(_v,101).ngClassInvalid,nodeValue(_v,101).ngClassPending]),_ck(_v,109,1,[nodeValue(_v,111).isPopupOpen(),nodeValue(_v,111).autocomplete,nodeValue(_v,111).showHint?"both":"list",nodeValue(_v,111).activeDescendant,nodeValue(_v,111).isPopupOpen()?nodeValue(_v,111).popupId:null,nodeValue(_v,111).isPopupOpen(),nodeValue(_v,115).ngClassUntouched,nodeValue(_v,115).ngClassTouched,nodeValue(_v,115).ngClassPristine,nodeValue(_v,115).ngClassDirty,nodeValue(_v,115).ngClassValid,nodeValue(_v,115).ngClassInvalid,nodeValue(_v,115).ngClassPending]),_ck(_v,123,1,[nodeValue(_v,125).isPopupOpen(),nodeValue(_v,125).autocomplete,nodeValue(_v,125).showHint?"both":"list",nodeValue(_v,125).activeDescendant,nodeValue(_v,125).isPopupOpen()?nodeValue(_v,125).popupId:null,nodeValue(_v,125).isPopupOpen(),nodeValue(_v,129).ngClassUntouched,nodeValue(_v,129).ngClassTouched,nodeValue(_v,129).ngClassPristine,nodeValue(_v,129).ngClassDirty,nodeValue(_v,129).ngClassValid,nodeValue(_v,129).ngClassInvalid,nodeValue(_v,129).ngClassPending]),_ck(_v,131,0,_co.closeResult),_ck(_v,137,0,!_co.formIsValid||!nodeValue(_v,23).form.valid)}))}function View_SelectCreateArtikelComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-select-create-artikel",[],null,null,null,View_SelectCreateArtikelComponent_0,RenderType_SelectCreateArtikelComponent)),directiveDef(1,114688,null,0,select_create_artikel_component_SelectCreateArtikelComponent,[NgbActiveModal,artikel_service_ArtikelService,hersteller_service_HerstellerService,basedata_service_BasedataService,data_service_DataService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SelectCreateArtikelComponentNgFactory=createComponentFactory("app-select-create-artikel",select_create_artikel_component_SelectCreateArtikelComponent,View_SelectCreateArtikelComponent_Host_0,{},{artikelSelected:"artikelSelected",artikelSearching:"artikelSearching",artikelCreated:"artikelCreated",herstellerChanged:"herstellerChanged",gruppeChanged:"gruppeChanged",inputChanging:"inputChanging",inputChanged:"inputChanged"},[]),RenderType_SelectCreateRaumComponent=createRendererType2({encapsulation:0,styles:[[".input-group-text[_ngcontent-%COMP%]{min-width:4rem}"]],data:{}});function View_SelectCreateRaumComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raumangabe wird geprüft"]))],null,null)}function View_SelectCreateRaumComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum existiert bereits"]))],null,null)}function View_SelectCreateRaumComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_2)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_3)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,-1===_co.raumExistsStatus),_ck(_v,4,0,1===_co.raumExistsStatus)}),null)}function View_SelectCreateRaumComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bezeichnung wird geprüft"]))],null,null)}function View_SelectCreateRaumComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Es existiert bereits ein Raum mit dieser Bezeichnung"]))],null,null)}function View_SelectCreateRaumComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_5)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_6)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,-1===_co.bezeichnungExistsStatus),_ck(_v,4,0,1===_co.bezeichnungExistsStatus)}),null)}function View_SelectCreateRaumComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"label",[["for","dateOfBirth"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Datum (Dummy)"])),(_l()(),elementDef(3,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),(_l()(),elementDef(4,16777216,null,null,4,"input",[["class","form-control"],["id","dateOfBirth"],["name","dp"],["ngbDatepicker",""],["placeholder","yyyy-mm-dd"]],[[8,"disabled",0]],[[null,"input"],[null,"change"],[null,"focus"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==nodeValue(_v,8).manualDateChange($event.target.value)&&ad),"change"===en&&(ad=!1!==nodeValue(_v,8).manualDateChange($event.target.value,!0)&&ad),"focus"===en&&(ad=!1!==nodeValue(_v,8).onFocus()&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,8).onBlur()&&ad),ad}),null,null)),providerDef(5120,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[ng_bootstrap_NgbInputDatepicker]),providerDef(5120,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[ng_bootstrap_NgbInputDatepicker]),providerDef(6144,null,ng_bootstrap_NgbDatepickerConfig,null,[ng_bootstrap_NgbInputDatepickerConfig]),directiveDef(8,671744,[["dp",4]],0,ng_bootstrap_NgbInputDatepicker,[ng_bootstrap_NgbDateParserFormatter,ElementRef,ViewContainerRef,Renderer2,ComponentFactoryResolver,NgZone,ng_bootstrap_NgbCalendar,ng_bootstrap_NgbDateAdapter,common_DOCUMENT,ChangeDetectorRef,ng_bootstrap_NgbInputDatepickerConfig],null,null),(_l()(),elementDef(9,0,null,null,1,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,0,"button",[["class","btn btn-outline-secondary calendar"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,8).toggle()&&ad),ad}),null,null))],null,(function(_ck,_v){_ck(_v,4,0,nodeValue(_v,8).disabled)}))}function View_SelectCreateRaumComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","alert-danger"]],null,null,null,null,null)),(_l()(),textDef(1,null,[" "," "]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.formError)}))}function View_SelectCreateRaumComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,10,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,9,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,5,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showSearchForm($event)&&ad),ad}),null,null)),(_l()(),elementDef(3,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(4,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(5,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(6,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Raum suchen "])),(_l()(),elementDef(8,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(9,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(11,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(12,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum anlegen"])),(_l()(),elementDef(14,0,null,null,77,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(15,0,null,null,76,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0;return"submit"===en&&(ad=!1!==nodeValue(_v,17).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==nodeValue(_v,17).onReset()&&ad),ad}),null,null)),directiveDef(16,16384,null,0,ɵNgNoValidate,[],null,null),directiveDef(17,4210688,[["raumForm",4]],0,forms_NgForm,[[8,null],[8,null]],null,null),providerDef(2048,null,ControlContainer,null,[forms_NgForm]),directiveDef(19,16384,null,0,NgControlStatusGroup,[[4,ControlContainer]],null,null),(_l()(),elementDef(20,0,null,null,19,"div",[["class","form-group"]],null,null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(22,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(23,{"has-error":0,"has-info":1}),(_l()(),elementDef(24,0,null,null,1,"label",[["class","d-none"],["for","dateOfBirth"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum-Nr.: "])),(_l()(),elementDef(26,0,null,null,11,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(27,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(28,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["RNr"])),(_l()(),elementDef(30,0,null,null,7,"input",[["class","form-control"],["id","Raum"],["name","Raum"],["placeholder","Raumnr"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,31)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,31).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,31)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,31)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumDaten.Raum=$event)&&ad),"change"===en&&(ad=!1!==_co.checkIfRaumExists()&&ad),ad}),null,null)),directiveDef(31,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(32,16384,null,0,RequiredValidator,[],{required:[0,"required"]},null),providerDef(1024,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[RequiredValidator]),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(35,671744,[["raum",4]],0,forms_NgModel,[[2,ControlContainer],[6,NG_VALIDATORS],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(37,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_1)),directiveDef(39,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(40,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(42,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(43,{"has-warning":0,"has-info":1}),(_l()(),elementDef(44,0,null,null,1,"label",[["class","d-none"],["for","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum-Bez.: "])),(_l()(),elementDef(46,0,null,null,9,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(47,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(48,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bezg"])),(_l()(),elementDef(50,0,null,null,5,"input",[["class","form-control"],["id","Bezeichnung"],["name","Bezeichnung"],["placeholder","Raumbezeichnung"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,51)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,51).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,51)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,51)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumDaten.Raumbezeichnung=$event)&&ad),"change"===en&&(ad=!1!==_co.checkIfRaumbezeichnungExists()&&ad),ad}),null,null)),directiveDef(51,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(53,671744,[["bezeichnung",4]],0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(55,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_4)),directiveDef(57,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(58,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(59,0,null,null,1,"label",[["class","d-none"],["for","Etage"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Etage: "])),(_l()(),elementDef(61,0,null,null,11,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(62,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(63,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Etage"])),(_l()(),elementDef(65,0,null,null,7,"input",[["class","form-control"],["id","Etage"],["name","Etage"],["placeholder","Etage"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,66)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,66).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,66)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,66)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumDaten.Etage=$event)&&ad),ad}),null,null)),directiveDef(66,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(67,16384,null,0,RequiredValidator,[],{required:[0,"required"]},null),providerDef(1024,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[RequiredValidator]),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(70,671744,[["etage",4]],0,forms_NgModel,[[2,ControlContainer],[6,NG_VALIDATORS],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(72,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(73,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(74,0,null,null,1,"label",[["class","d-none"],["for","newRaumBarcode"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Barcode: "])),(_l()(),elementDef(76,0,null,null,13,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(77,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(78,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["BCode"])),(_l()(),elementDef(80,0,[["newRaumBarcode",1]],null,5,"input",[["class","form-control formcontrol-edit-barcode"],["id","newRaumBarcode"],["name","code"],["placeholder","Barcode"],["readonly",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"paste"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,81)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,81).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,81)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,81)._compositionEnd($event.target.value)&&ad),"paste"===en&&(ad=!1!==$event.preventDefault()&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumDaten.code=$event)&&ad),ad}),null,null)),directiveDef(81,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(83,671744,[["code",4]],0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(85,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(86,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(87,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openScanner(nodeValue(_v,80))&&ad),ad}),null,null)),(_l()(),elementDef(88,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(89,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_7)),directiveDef(91,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(92,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(_l()(),elementDef(93,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onSubmit($event)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Raum anlegen"])),(_l()(),anchorDef(16777216,null,null,1,null,View_SelectCreateRaumComponent_8)),directiveDef(96,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(97,0,null,null,0,"hr",[],null,null,null,null,null)),(_l()(),elementDef(98,0,null,null,1,"pre",[],null,null,null,null,null)),(_l()(),textDef(99,null,["",""]))],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.faSignOutAlt),_ck(_v,6,0,_co.faSearch);var currVal_12=_ck(_v,23,0,nodeValue(_v,35).dirty&&(nodeValue(_v,35).invalid||1===_co.raumExistsStatus),nodeValue(_v,35).dirty&&-1===_co.raumExistsStatus);_ck(_v,22,0,"form-group",currVal_12),_ck(_v,32,0,""),_ck(_v,35,0,"Raum",_co.raumDaten.Raum),_ck(_v,39,0,nodeValue(_v,35).valid);var currVal_26=_ck(_v,43,0,nodeValue(_v,53).dirty&&(nodeValue(_v,53).invalid||1===_co.bezeichnungExistsStatus),nodeValue(_v,53).dirty&&-1===_co.bezeichnungExistsStatus);_ck(_v,42,0,"form-group",currVal_26),_ck(_v,53,0,"Bezeichnung",_co.raumDaten.Raumbezeichnung),_ck(_v,57,0,nodeValue(_v,53).valid),_ck(_v,67,0,""),_ck(_v,70,0,"Etage",_co.raumDaten.Etage),_ck(_v,83,0,"code",_co.raumDaten.code),_ck(_v,89,0,_co.faCamera),_ck(_v,91,0,!1),_ck(_v,96,0,_co.formError)}),(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,nodeValue(_v,4).renderedIconHTML),_ck(_v,5,0,nodeValue(_v,6).renderedIconHTML),_ck(_v,15,0,nodeValue(_v,19).ngClassUntouched,nodeValue(_v,19).ngClassTouched,nodeValue(_v,19).ngClassPristine,nodeValue(_v,19).ngClassDirty,nodeValue(_v,19).ngClassValid,nodeValue(_v,19).ngClassInvalid,nodeValue(_v,19).ngClassPending),_ck(_v,30,0,nodeValue(_v,32).required?"":null,nodeValue(_v,37).ngClassUntouched,nodeValue(_v,37).ngClassTouched,nodeValue(_v,37).ngClassPristine,nodeValue(_v,37).ngClassDirty,nodeValue(_v,37).ngClassValid,nodeValue(_v,37).ngClassInvalid,nodeValue(_v,37).ngClassPending),_ck(_v,50,0,nodeValue(_v,55).ngClassUntouched,nodeValue(_v,55).ngClassTouched,nodeValue(_v,55).ngClassPristine,nodeValue(_v,55).ngClassDirty,nodeValue(_v,55).ngClassValid,nodeValue(_v,55).ngClassInvalid,nodeValue(_v,55).ngClassPending),_ck(_v,65,0,nodeValue(_v,67).required?"":null,nodeValue(_v,72).ngClassUntouched,nodeValue(_v,72).ngClassTouched,nodeValue(_v,72).ngClassPristine,nodeValue(_v,72).ngClassDirty,nodeValue(_v,72).ngClassValid,nodeValue(_v,72).ngClassInvalid,nodeValue(_v,72).ngClassPending),_ck(_v,80,0,nodeValue(_v,85).ngClassUntouched,nodeValue(_v,85).ngClassTouched,nodeValue(_v,85).ngClassPristine,nodeValue(_v,85).ngClassDirty,nodeValue(_v,85).ngClassValid,nodeValue(_v,85).ngClassInvalid,nodeValue(_v,85).ngClassPending),_ck(_v,88,0,nodeValue(_v,89).renderedIconHTML),_ck(_v,93,0,!_co.formIsValid||!nodeValue(_v,17).form.valid),_ck(_v,99,0,_co.closeResult)}))}function View_SelectCreateRaumComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-select-create-raum",[],null,null,null,View_SelectCreateRaumComponent_0,RenderType_SelectCreateRaumComponent)),directiveDef(1,114688,null,0,select_create_raum_component_SelectCreateRaumComponent,[NgbActiveModal,raum_service_RaumService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SelectCreateRaumComponentNgFactory=createComponentFactory("app-select-create-raum",select_create_raum_component_SelectCreateRaumComponent,View_SelectCreateRaumComponent_Host_0,{},{raumSearching:"raumSearching",raumCreated:"raumCreated",scannerRequest:"scannerRequest"},[]),RenderType_SelectSearchRaumComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_SelectSearchRaumComponent_0(_l){return viewDef(0,[queryDef(402653184,1,{searchInput:0}),(_l()(),elementDef(1,0,null,null,10,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,9,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,5,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showCreateForm($event)&&ad),ad}),null,null)),(_l()(),elementDef(4,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(5,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(6,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(7,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Neuen Raum anlegen "])),(_l()(),elementDef(9,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(10,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(12,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raumauswahl"])),(_l()(),elementDef(15,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,1,"label",[["class","mb-0"],["for","typeahead-prevent-manual-entry"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum suchen:"])),(_l()(),elementDef(18,0,null,null,11,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(20,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(22,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(23,16777216,[[1,0],["searchInput",1]],null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","typeahead-prevent-manual-entry"],["role","combobox"],["type","text"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selectItem"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,24)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,24).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,24)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,24)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,25).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,25).handleKeyDown($event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectItem($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.model=$event)&&ad),ad}),null,null)),directiveDef(24,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(25,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{editable:[0,"editable"],inputFormatter:[1,"inputFormatter"],ngbTypeahead:[2,"ngbTypeahead"],resultFormatter:[3,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(27,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(29,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(30,0,null,null,0,"hr",[],null,null,null,null,null)),(_l()(),elementDef(31,0,null,null,2,"pre",[],null,null,null,null,null)),(_l()(),textDef(32,null,["Model: ",""])),pipeDef(0,JsonPipe,[]),(_l()(),elementDef(34,0,null,null,1,"p",[],null,null,null,null,null)),(_l()(),textDef(35,null,["select-search-raum works! ",""]))],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.faSignOutAlt),_ck(_v,7,0,_co.faPlus),_ck(_v,22,0,_co.faSearch),_ck(_v,25,0,!1,_co.formatter,_co.search,_co.formatter),_ck(_v,27,0,_co.model)}),(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,nodeValue(_v,5).renderedIconHTML),_ck(_v,6,0,nodeValue(_v,7).renderedIconHTML),_ck(_v,21,0,nodeValue(_v,22).renderedIconHTML),_ck(_v,23,1,[nodeValue(_v,25).isPopupOpen(),nodeValue(_v,25).autocomplete,nodeValue(_v,25).showHint?"both":"list",nodeValue(_v,25).activeDescendant,nodeValue(_v,25).isPopupOpen()?nodeValue(_v,25).popupId:null,nodeValue(_v,25).isPopupOpen(),nodeValue(_v,29).ngClassUntouched,nodeValue(_v,29).ngClassTouched,nodeValue(_v,29).ngClassPristine,nodeValue(_v,29).ngClassDirty,nodeValue(_v,29).ngClassValid,nodeValue(_v,29).ngClassInvalid,nodeValue(_v,29).ngClassPending]),_ck(_v,32,0,unwrapValue(_v,32,0,nodeValue(_v,33).transform(_co.model))),_ck(_v,35,0,_co.gebaeudeId)}))}function View_SelectSearchRaumComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-select-search-raum",[],null,null,null,View_SelectSearchRaumComponent_0,RenderType_SelectSearchRaumComponent)),directiveDef(1,4308992,null,0,select_search_raum_component_SelectSearchRaumComponent,[data_service_DataService,NgbActiveModal,basedata_service_BasedataService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SelectSearchRaumComponentNgFactory=createComponentFactory("app-select-search-raum",select_search_raum_component_SelectSearchRaumComponent,View_SelectSearchRaumComponent_Host_0,{},{raumSelected:"raumSelected",raumCreating:"raumCreating"},[]),RenderType_SelectSearchArtikelComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_SelectSearchArtikelComponent_0(_l){return viewDef(0,[queryDef(671088640,1,{searchArtikelInput:0}),(_l()(),elementDef(1,0,null,null,10,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,9,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,5,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showCreateForm($event)&&ad),ad}),null,null)),(_l()(),elementDef(4,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(5,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(6,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(7,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Neuen Artikel anlegen "])),(_l()(),elementDef(9,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(10,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(12,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Artikelauswahl"])),(_l()(),elementDef(15,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,1,"label",[["for","typeahead-prevent-manual-entry"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Artikel suchen:"])),(_l()(),elementDef(18,0,null,null,11,"div",[["class","input-group"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(20,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(22,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(23,16777216,[[1,0],["searchArtikelInput",1]],null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","typeahead-prevent-manual-entry"],["role","combobox"],["type","text"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selectItem"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,24)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,24).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,24)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,24)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,25).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,25).handleKeyDown($event)&&ad),"selectItem"===en&&(ad=!1!==_co.onSelectItem($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.model=$event)&&ad),ad}),null,null)),directiveDef(24,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(25,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{editable:[0,"editable"],inputFormatter:[1,"inputFormatter"],ngbTypeahead:[2,"ngbTypeahead"],resultFormatter:[3,"resultFormatter"]},{selectItem:"selectItem"}),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(27,671744,null,0,forms_NgModel,[[8,null],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(29,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(30,0,null,null,0,"hr",[],null,null,null,null,null)),(_l()(),elementDef(31,0,null,null,2,"pre",[],null,null,null,null,null)),(_l()(),textDef(32,null,["Model: ",""])),pipeDef(0,JsonPipe,[]),(_l()(),elementDef(34,0,null,null,1,"p",[],null,null,null,null,null)),(_l()(),textDef(35,null,["select-search-artikel works! ",""]))],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.faSignOutAlt),_ck(_v,7,0,_co.faPlus),_ck(_v,22,0,_co.faSearch),_ck(_v,25,0,!1,_co.formatter,_co.search,_co.formatter),_ck(_v,27,0,_co.model)}),(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,nodeValue(_v,5).renderedIconHTML),_ck(_v,6,0,nodeValue(_v,7).renderedIconHTML),_ck(_v,21,0,nodeValue(_v,22).renderedIconHTML),_ck(_v,23,1,[nodeValue(_v,25).isPopupOpen(),nodeValue(_v,25).autocomplete,nodeValue(_v,25).showHint?"both":"list",nodeValue(_v,25).activeDescendant,nodeValue(_v,25).isPopupOpen()?nodeValue(_v,25).popupId:null,nodeValue(_v,25).isPopupOpen(),nodeValue(_v,29).ngClassUntouched,nodeValue(_v,29).ngClassTouched,nodeValue(_v,29).ngClassPristine,nodeValue(_v,29).ngClassDirty,nodeValue(_v,29).ngClassValid,nodeValue(_v,29).ngClassInvalid,nodeValue(_v,29).ngClassPending]),_ck(_v,32,0,unwrapValue(_v,32,0,nodeValue(_v,33).transform(_co.model))),_ck(_v,35,0,_co.clientId)}))}function View_SelectSearchArtikelComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-select-search-artikel",[],null,null,null,View_SelectSearchArtikelComponent_0,RenderType_SelectSearchArtikelComponent)),directiveDef(1,4308992,null,0,select_search_artikel_component_SelectSearchArtikelComponent,[data_service_DataService,NgbActiveModal],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var SelectSearchArtikelComponentNgFactory=createComponentFactory("app-select-search-artikel",select_search_artikel_component_SelectSearchArtikelComponent,View_SelectSearchArtikelComponent_Host_0,{},{artikelSelected:"artikelSelected",artikelCreating:"artikelCreating"},[]),RenderType_RaumListDoneComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_RaumListDoneComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,"tr",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),elementDef(3,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),(_l()(),elementDef(5,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(6,null,["",""])),(_l()(),elementDef(7,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(8,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.context.index+1),_ck(_v,4,0,_v.context.$implicit.Bezeichnung),_ck(_v,6,0,_v.context.$implicit.Typ),_ck(_v,8,0,_v.context.$implicit.Menge)}))}function View_RaumListDoneComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,7,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,3,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showRaumRestForm($event)&&ad),ad}),null,null)),(_l()(),elementDef(3,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(4,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Zeige fehlendes Inventar "])),(_l()(),elementDef(6,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(9,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bereits inventarisiert"])),(_l()(),elementDef(12,0,null,null,14,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,13,"table",[["class","table table-striped"]],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,9,"thead",[],null,null,null,null,null)),(_l()(),elementDef(15,0,null,null,8,"tr",[],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["#"])),(_l()(),elementDef(18,0,null,null,1,"th",[["scope","col"],["sortable","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bezeichnung"])),(_l()(),elementDef(20,0,null,null,1,"th",[["scope","col"],["sortable","Typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Typ"])),(_l()(),elementDef(22,0,null,null,1,"th",[["scope","col"],["sortable","Menge"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Menge"])),(_l()(),elementDef(24,0,null,null,2,"tbody",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_RaumListDoneComponent_1)),directiveDef(26,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.faSignOutAlt),_ck(_v,26,0,_co.inventarListDone)}),(function(_ck,_v){_ck(_v,3,0,nodeValue(_v,4).renderedIconHTML)}))}function View_RaumListDoneComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-raum-list-done",[],null,null,null,View_RaumListDoneComponent_0,RenderType_RaumListDoneComponent)),directiveDef(1,114688,null,0,raum_list_done_component_RaumListDoneComponent,[NgbActiveModal,inventar_service_InventarService,basedata_service_BasedataService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var RaumListDoneComponentNgFactory=createComponentFactory("app-raum-list-done",raum_list_done_component_RaumListDoneComponent,View_RaumListDoneComponent_Host_0,{},{requestRestList:"requestRestList"},[]),RenderType_RaumListRestComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_RaumListRestComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,"tr",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),elementDef(3,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),(_l()(),elementDef(5,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(6,null,["",""])),(_l()(),elementDef(7,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(8,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.context.index+1),_ck(_v,4,0,_v.context.$implicit.Bezeichnung),_ck(_v,6,0,_v.context.$implicit.Typ),_ck(_v,8,0,_v.context.$implicit.Menge)}))}function View_RaumListRestComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,7,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,3,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showRaumDoneForm($event)&&ad),ad}),null,null)),(_l()(),elementDef(3,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(4,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Zeige zugewiesenes Inventar "])),(_l()(),elementDef(6,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(9,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Dieses Inventar fehlt noch"])),(_l()(),elementDef(12,0,null,null,14,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,13,"table",[["class","table table-striped"]],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,9,"thead",[],null,null,null,null,null)),(_l()(),elementDef(15,0,null,null,8,"tr",[],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["#"])),(_l()(),elementDef(18,0,null,null,1,"th",[["scope","col"],["sortable","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bezeichnung"])),(_l()(),elementDef(20,0,null,null,1,"th",[["scope","col"],["sortable","Typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Typ"])),(_l()(),elementDef(22,0,null,null,1,"th",[["scope","col"],["sortable","Menge"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Menge"])),(_l()(),elementDef(24,0,null,null,2,"tbody",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_RaumListRestComponent_1)),directiveDef(26,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.faSignOutAlt),_ck(_v,26,0,_co.inventarListRest)}),(function(_ck,_v){_ck(_v,3,0,nodeValue(_v,4).renderedIconHTML)}))}function View_RaumListRestComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-raum-list-rest",[],null,null,null,View_RaumListRestComponent_0,RenderType_RaumListRestComponent)),directiveDef(1,114688,null,0,raum_list_rest_component_RaumListRestComponent,[NgbActiveModal,inventar_service_InventarService,basedata_service_BasedataService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var RaumListRestComponentNgFactory=createComponentFactory("app-raum-list-rest",raum_list_rest_component_RaumListRestComponent,View_RaumListRestComponent_Host_0,{},{requestDoneList:"requestDoneList"},[]),RenderType_GesamtListRestComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_GesamtListRestComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,13,"tr",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),elementDef(3,0,null,null,1,"th",[],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),(_l()(),elementDef(5,0,null,null,2,"td",[],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,1,"span",[["class","btn btn-link"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onSelectRaum(_v.context.$implicit.uuid)&&ad),ad}),null,null)),(_l()(),textDef(7,null,["",""])),(_l()(),elementDef(8,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(9,null,["",""])),(_l()(),elementDef(10,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(11,null,["",""])),(_l()(),elementDef(12,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(13,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.context.index+1),_ck(_v,4,0,_v.context.$implicit.Etage),_ck(_v,7,0,_v.context.$implicit.Raum),_ck(_v,9,0,0===_v.context.$implicit.editStatus?"Nein":"Ja"),_ck(_v,11,0,_v.context.$implicit.total),_ck(_v,13,0,_v.context.$implicit.done)}))}function View_GesamtListRestComponent_0(_l){return viewDef(0,[(_l()(),textDef(-1,null,["onSelectRaum"])),(_l()(),elementDef(1,0,null,null,8,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,7,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,3,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showGesamtDoneForm()&&ad),ad}),null,null)),(_l()(),elementDef(4,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(5,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Zeige bereits aufgenommene Räume "])),(_l()(),elementDef(7,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(8,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(10,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(11,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Noch nicht inventarisiert ..."])),(_l()(),elementDef(13,0,null,null,18,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,17,"table",[["class","table table-striped"]],null,null,null,null,null)),(_l()(),elementDef(15,0,null,null,13,"thead",[],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,12,"tr",[],null,null,null,null,null)),(_l()(),elementDef(17,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["#"])),(_l()(),elementDef(19,0,null,null,1,"th",[["scope","col"],["sortable","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Etage"])),(_l()(),elementDef(21,0,null,null,1,"th",[["scope","col"],["sortable","Typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum"])),(_l()(),elementDef(23,0,null,null,1,"th",[["scope","col"],["sortable","Typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Gestarted"])),(_l()(),elementDef(25,0,null,null,1,"th",[["scope","col"],["sortable","Menge"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Vorher"])),(_l()(),elementDef(27,0,null,null,1,"th",[["scope","col"],["sortable","Menge"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Nacher"])),(_l()(),elementDef(29,0,null,null,2,"tbody",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListRestComponent_1)),directiveDef(31,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.faSignOutAlt),_ck(_v,31,0,_co.raeumeListDone)}),(function(_ck,_v){_ck(_v,4,0,nodeValue(_v,5).renderedIconHTML)}))}function View_GesamtListRestComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-gesamt-list-rest",[],null,null,null,View_GesamtListRestComponent_0,RenderType_GesamtListRestComponent)),directiveDef(1,114688,null,0,gesamt_list_rest_component_GesamtListRestComponent,[NgbActiveModal,basedata_service_BasedataService,raum_service_RaumService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var GesamtListRestComponentNgFactory=createComponentFactory("app-gesamt-list-rest",gesamt_list_rest_component_GesamtListRestComponent,View_GesamtListRestComponent_Host_0,{},{raumSelected:"raumSelected"},[]),RenderType_GesamtListDoneComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_GesamtListDoneComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faCheck)}),(function(_ck,_v){_ck(_v,0,0,"text-success",nodeValue(_v,1).renderedIconHTML)}))}function View_GesamtListDoneComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faInWork)}),(function(_ck,_v){_ck(_v,0,0,"text-info",nodeValue(_v,1).renderedIconHTML)}))}function View_GesamtListDoneComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faEmpty)}),(function(_ck,_v){_ck(_v,0,0,"text-danger",nodeValue(_v,1).renderedIconHTML)}))}function View_GesamtListDoneComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faQuarter)}),(function(_ck,_v){_ck(_v,0,0,"text-warning",nodeValue(_v,1).renderedIconHTML)}))}function View_GesamtListDoneComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faHalf)}),(function(_ck,_v){_ck(_v,0,0,"text-info",nodeValue(_v,1).renderedIconHTML)}))}function View_GesamtListDoneComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faThreeQuarter)}),(function(_ck,_v){_ck(_v,0,0,"text-success",nodeValue(_v,1).renderedIconHTML)}))}function View_GesamtListDoneComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[1,"class",0],[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(1,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.component.faFull)}),(function(_ck,_v){_ck(_v,0,0,"text-success",nodeValue(_v,1).renderedIconHTML)}))}function View_GesamtListDoneComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,29,"tr",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(_l()(),textDef(2,null,["",""])),(_l()(),elementDef(3,0,null,null,1,"th",[],null,null,null,null,null)),(_l()(),textDef(4,null,["",""])),(_l()(),elementDef(5,0,null,null,2,"td",[],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,1,"span",[["class","btn btn-link"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onSelectRaum(_v.context.$implicit.uuid)&&ad),ad}),null,null)),(_l()(),textDef(7,null,["",""])),(_l()(),elementDef(8,0,null,null,3,"td",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListDoneComponent_2)),directiveDef(10,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(_l()(),anchorDef(0,[["elseInProgress",2]],null,0,null,View_GesamtListDoneComponent_3)),(_l()(),elementDef(12,0,null,null,13,"td",[],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,11,null,null,null,null,null,null,null)),directiveDef(14,16384,null,0,NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListDoneComponent_4)),directiveDef(16,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListDoneComponent_5)),directiveDef(18,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListDoneComponent_6)),directiveDef(20,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListDoneComponent_7)),directiveDef(22,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListDoneComponent_8)),directiveDef(24,278528,null,0,NgSwitchCase,[ViewContainerRef,TemplateRef,NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(_l()(),textDef(25,null,[" ","% "])),(_l()(),elementDef(26,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(27,null,["",""])),(_l()(),elementDef(28,0,null,null,1,"td",[],null,null,null,null,null)),(_l()(),textDef(29,null,["",""]))],(function(_ck,_v){_ck(_v,10,0,2===_v.context.$implicit.editStatus,nodeValue(_v,11)),_ck(_v,14,0,_v.context.$implicit.statusIconName),_ck(_v,16,0,"empty"),_ck(_v,18,0,"quarter"),_ck(_v,20,0,"half"),_ck(_v,22,0,"three-quarter"),_ck(_v,24,0,"full")}),(function(_ck,_v){_ck(_v,2,0,_v.context.index),_ck(_v,4,0,_v.context.$implicit.Etage),_ck(_v,7,0,_v.context.$implicit.Raum),_ck(_v,25,0,_v.context.$implicit.progress),_ck(_v,27,0,_v.context.$implicit.total),_ck(_v,29,0,_v.context.$implicit.done)}))}function View_GesamtListDoneComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,7,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,3,"button",[["class","btn btn-primary col-10 text-left pl-3"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.showGesamtRestForm()&&ad),ad}),null,null)),(_l()(),elementDef(3,0,null,null,1,"fa-icon",[["class","mr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(4,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),textDef(-1,null,[" Zeige fehlende Räume "])),(_l()(),elementDef(6,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(9,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bereits inventarisiert"])),(_l()(),elementDef(12,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(13,0,null,null,19,"table",[["class","table table-striped"]],null,null,null,null,null)),(_l()(),elementDef(14,0,null,null,15,"thead",[],null,null,null,null,null)),(_l()(),elementDef(15,0,null,null,14,"tr",[],null,null,null,null,null)),(_l()(),elementDef(16,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["#"])),(_l()(),elementDef(18,0,null,null,1,"th",[["scope","col"],["sortable","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Etage"])),(_l()(),elementDef(20,0,null,null,1,"th",[["scope","col"],["sortable","Typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum"])),(_l()(),elementDef(22,0,null,null,1,"th",[["scope","col"],["sortable","Typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Fertig"])),(_l()(),elementDef(24,0,null,null,1,"th",[["scope","col"],["sortable","Typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Prgoress"])),(_l()(),elementDef(26,0,null,null,1,"th",[["scope","col"],["sortable","Menge"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Vorher"])),(_l()(),elementDef(28,0,null,null,1,"th",[["scope","col"],["sortable","Menge"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Nacher"])),(_l()(),elementDef(30,0,null,null,2,"tbody",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_GesamtListDoneComponent_1)),directiveDef(32,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.faSignOutAlt),_ck(_v,32,0,_co.raeumeListDone)}),(function(_ck,_v){_ck(_v,3,0,nodeValue(_v,4).renderedIconHTML)}))}function View_GesamtListDoneComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-gesamt-list-done",[],null,null,null,View_GesamtListDoneComponent_0,RenderType_GesamtListDoneComponent)),directiveDef(1,114688,null,0,gesamt_list_done_component_GesamtListDoneComponent,[NgbActiveModal,basedata_service_BasedataService,raum_service_RaumService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var GesamtListDoneComponentNgFactory=createComponentFactory("app-gesamt-list-done",gesamt_list_done_component_GesamtListDoneComponent,View_GesamtListDoneComponent_Host_0,{},{raumSelected:"raumSelected"},[]),RenderType_EditRaumComponent=createRendererType2({encapsulation:0,styles:[[".input-group-text[_ngcontent-%COMP%]{min-width:4rem}"]],data:{}});function View_EditRaumComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raumangabe wird geprüft"]))],null,null)}function View_EditRaumComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum existiert bereits"]))],null,null)}function View_EditRaumComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_2)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_3)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,-1===_co.raumExistsStatus),_ck(_v,4,0,1===_co.raumExistsStatus)}),null)}function View_EditRaumComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bezeichnung wird geprüft"]))],null,null)}function View_EditRaumComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","help-block"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Es existiert bereits ein Raum mit dieser Bezeichnung"]))],null,null)}function View_EditRaumComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_5)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_6)),directiveDef(4,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,-1===_co.bezeichnungExistsStatus),_ck(_v,4,0,1===_co.bezeichnungExistsStatus)}),null)}function View_EditRaumComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"label",[["for","dateOfBirth"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Datum (Dummy)"])),(_l()(),elementDef(3,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),(_l()(),elementDef(4,16777216,null,null,4,"input",[["class","form-control"],["id","dateOfBirth"],["name","dp"],["ngbDatepicker",""],["placeholder","yyyy-mm-dd"]],[[8,"disabled",0]],[[null,"input"],[null,"change"],[null,"focus"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==nodeValue(_v,8).manualDateChange($event.target.value)&&ad),"change"===en&&(ad=!1!==nodeValue(_v,8).manualDateChange($event.target.value,!0)&&ad),"focus"===en&&(ad=!1!==nodeValue(_v,8).onFocus()&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,8).onBlur()&&ad),ad}),null,null)),providerDef(5120,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[ng_bootstrap_NgbInputDatepicker]),providerDef(5120,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[ng_bootstrap_NgbInputDatepicker]),providerDef(6144,null,ng_bootstrap_NgbDatepickerConfig,null,[ng_bootstrap_NgbInputDatepickerConfig]),directiveDef(8,671744,[["dp",4]],0,ng_bootstrap_NgbInputDatepicker,[ng_bootstrap_NgbDateParserFormatter,ElementRef,ViewContainerRef,Renderer2,ComponentFactoryResolver,NgZone,ng_bootstrap_NgbCalendar,ng_bootstrap_NgbDateAdapter,common_DOCUMENT,ChangeDetectorRef,ng_bootstrap_NgbInputDatepickerConfig],null,null),(_l()(),elementDef(9,0,null,null,1,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(10,0,null,null,0,"button",[["class","btn btn-outline-secondary calendar"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,8).toggle()&&ad),ad}),null,null))],null,(function(_ck,_v){_ck(_v,4,0,nodeValue(_v,8).disabled)}))}function View_EditRaumComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,[" ","\n"]))],(function(_ck,_v){_ck(_v,1,0,!1,"danger")}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_v.context.$implicit)}))}function View_EditRaumComponent_9(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","alert-danger"]],null,null,null,null,null)),(_l()(),textDef(1,null,[" "," "]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.formError)}))}function View_EditRaumComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,4,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,3,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(2,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(3,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(5,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum bearbeiten"])),(_l()(),elementDef(8,0,null,null,79,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(9,0,null,null,78,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0;return"submit"===en&&(ad=!1!==nodeValue(_v,11).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==nodeValue(_v,11).onReset()&&ad),ad}),null,null)),directiveDef(10,16384,null,0,ɵNgNoValidate,[],null,null),directiveDef(11,4210688,[["raumForm",4]],0,forms_NgForm,[[8,null],[8,null]],null,null),providerDef(2048,null,ControlContainer,null,[forms_NgForm]),directiveDef(13,16384,null,0,NgControlStatusGroup,[[4,ControlContainer]],null,null),(_l()(),elementDef(14,0,null,null,19,"div",[["class","form-group"]],null,null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(16,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(17,{"has-error":0,"has-info":1}),(_l()(),elementDef(18,0,null,null,1,"label",[["class","d-none"],["for","dateOfBirth"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum-Nr.: "])),(_l()(),elementDef(20,0,null,null,11,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(22,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["RNr"])),(_l()(),elementDef(24,0,null,null,7,"input",[["class","form-control"],["id","Raum"],["name","Raum"],["placeholder","Raumnr"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,25)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,25).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,25)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,25)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumInput.Raum=$event)&&ad),"change"===en&&(ad=!1!==_co.checkIfRaumExists()&&ad),ad}),null,null)),directiveDef(25,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(26,16384,null,0,RequiredValidator,[],{required:[0,"required"]},null),providerDef(1024,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[RequiredValidator]),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(29,671744,[["raum",4]],0,forms_NgModel,[[2,ControlContainer],[6,NG_VALIDATORS],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(31,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_1)),directiveDef(33,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(34,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(36,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(37,{"has-warning":0,"has-info":1}),(_l()(),elementDef(38,0,null,null,1,"label",[["class","d-none"],["for","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Raum-Bez.: "])),(_l()(),elementDef(40,0,null,null,9,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(41,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(42,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bezg"])),(_l()(),elementDef(44,0,null,null,5,"input",[["class","form-control"],["id","Bezeichnung"],["name","Bezeichnung"],["placeholder","Raumbezeichnung"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,45)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,45).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,45)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,45)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumInput.Raumbezeichnung=$event)&&ad),"change"===en&&(ad=!1!==_co.checkIfRaumbezeichnungExists()&&ad),ad}),null,null)),directiveDef(45,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(47,671744,[["bezeichnung",4]],0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(49,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_4)),directiveDef(51,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(52,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(53,0,null,null,1,"label",[["class","d-none"],["for","Etage"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Etage: "])),(_l()(),elementDef(55,0,null,null,12,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(56,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(57,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Etage"])),(_l()(),elementDef(59,16777216,null,null,8,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Etage"],["name","Etage"],["placeholder","Etage"],["required",""],["role","combobox"]],[[1,"required",0],[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,60)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,60).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,60)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,60)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,63).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,63).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumInput.Etage=$event)&&ad),ad}),null,null)),directiveDef(60,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(61,16384,null,0,RequiredValidator,[],{required:[0,"required"]},null),providerDef(1024,null,NG_VALIDATORS,(function(p0_0){return[p0_0]}),[RequiredValidator]),directiveDef(63,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{ngbTypeahead:[0,"ngbTypeahead"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(65,671744,[["etage",4]],0,forms_NgModel,[[2,ControlContainer],[6,NG_VALIDATORS],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(67,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),textDef(-1,null,["\ni "])),(_l()(),elementDef(69,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(70,0,null,null,1,"label",[["class","d-none"],["for","editRaumBarcode"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Barcode: "])),(_l()(),elementDef(72,0,null,null,13,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(73,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(74,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["BCode"])),(_l()(),elementDef(76,0,[["editRaumBarcode",1]],null,5,"input",[["class","form-control formcontrol-xedit-barcode"],["id","editRaumBarcode"],["name","code"],["placeholder","Barcode"],["readonly",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"paste"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,77)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,77).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,77)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,77)._compositionEnd($event.target.value)&&ad),"change"===en&&(ad=!1!==_co.formValidate()&&ad),"paste"===en&&(ad=!1!==$event.preventDefault()&&ad),"ngModelChange"===en&&(ad=!1!==(_co.raumInput.code=$event)&&ad),ad}),null,null)),directiveDef(77,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(79,671744,[["code",4]],0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(81,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(82,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(83,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openScanner(nodeValue(_v,76))&&ad),ad}),null,null)),(_l()(),elementDef(84,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(85,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_7)),directiveDef(87,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_8)),directiveDef(89,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),elementDef(90,0,null,null,9,"div",[["class","modal-footer"]],null,null,null,null,null)),(_l()(),elementDef(91,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onSubmit($event)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Raum aktualisieren"])),(_l()(),anchorDef(16777216,null,null,1,null,View_EditRaumComponent_9)),directiveDef(94,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),textDef(95,null,[" formIsValid: "," "])),pipeDef(0,JsonPipe,[]),(_l()(),elementDef(97,0,null,null,0,"br",[],null,null,null,null,null)),(_l()(),textDef(98,null,[" raumForm.form.valid: ","\n"])),pipeDef(0,JsonPipe,[]),(_l()(),elementDef(100,0,null,null,0,"hr",[],null,null,null,null,null)),(_l()(),elementDef(101,0,null,null,1,"pre",[],null,null,null,null,null)),(_l()(),textDef(102,null,["",""]))],(function(_ck,_v){var _co=_v.component,currVal_8=_ck(_v,17,0,nodeValue(_v,29).dirty&&(nodeValue(_v,29).invalid||1===_co.raumExistsStatus),nodeValue(_v,29).dirty&&-1===_co.raumExistsStatus);_ck(_v,16,0,"form-group",currVal_8),_ck(_v,26,0,""),_ck(_v,29,0,"Raum",_co.raumInput.Raum),_ck(_v,33,0,nodeValue(_v,29).valid);var currVal_22=_ck(_v,37,0,nodeValue(_v,47).dirty&&(nodeValue(_v,47).invalid||1===_co.bezeichnungExistsStatus),nodeValue(_v,47).dirty&&-1===_co.bezeichnungExistsStatus);_ck(_v,36,0,"form-group",currVal_22),_ck(_v,47,0,"Bezeichnung",_co.raumInput.Raumbezeichnung),_ck(_v,51,0,nodeValue(_v,47).valid),_ck(_v,61,0,""),_ck(_v,63,0,_co.searchEtage),_ck(_v,65,0,"Etage",_co.raumInput.Etage),_ck(_v,79,0,"code",_co.raumInput.code),_ck(_v,85,0,_co.faCamera),_ck(_v,87,0,!1),_ck(_v,89,0,_co.validationErrors),_ck(_v,94,0,_co.formError)}),(function(_ck,_v){var _co=_v.component;_ck(_v,9,0,nodeValue(_v,13).ngClassUntouched,nodeValue(_v,13).ngClassTouched,nodeValue(_v,13).ngClassPristine,nodeValue(_v,13).ngClassDirty,nodeValue(_v,13).ngClassValid,nodeValue(_v,13).ngClassInvalid,nodeValue(_v,13).ngClassPending),_ck(_v,24,0,nodeValue(_v,26).required?"":null,nodeValue(_v,31).ngClassUntouched,nodeValue(_v,31).ngClassTouched,nodeValue(_v,31).ngClassPristine,nodeValue(_v,31).ngClassDirty,nodeValue(_v,31).ngClassValid,nodeValue(_v,31).ngClassInvalid,nodeValue(_v,31).ngClassPending),_ck(_v,44,0,nodeValue(_v,49).ngClassUntouched,nodeValue(_v,49).ngClassTouched,nodeValue(_v,49).ngClassPristine,nodeValue(_v,49).ngClassDirty,nodeValue(_v,49).ngClassValid,nodeValue(_v,49).ngClassInvalid,nodeValue(_v,49).ngClassPending),_ck(_v,59,1,[nodeValue(_v,61).required?"":null,nodeValue(_v,63).isPopupOpen(),nodeValue(_v,63).autocomplete,nodeValue(_v,63).showHint?"both":"list",nodeValue(_v,63).activeDescendant,nodeValue(_v,63).isPopupOpen()?nodeValue(_v,63).popupId:null,nodeValue(_v,63).isPopupOpen(),nodeValue(_v,67).ngClassUntouched,nodeValue(_v,67).ngClassTouched,nodeValue(_v,67).ngClassPristine,nodeValue(_v,67).ngClassDirty,nodeValue(_v,67).ngClassValid,nodeValue(_v,67).ngClassInvalid,nodeValue(_v,67).ngClassPending]),_ck(_v,76,0,nodeValue(_v,81).ngClassUntouched,nodeValue(_v,81).ngClassTouched,nodeValue(_v,81).ngClassPristine,nodeValue(_v,81).ngClassDirty,nodeValue(_v,81).ngClassValid,nodeValue(_v,81).ngClassInvalid,nodeValue(_v,81).ngClassPending),_ck(_v,84,0,nodeValue(_v,85).renderedIconHTML),_ck(_v,95,0,unwrapValue(_v,95,0,nodeValue(_v,96).transform(_co.formIsValid))),_ck(_v,98,0,unwrapValue(_v,98,0,nodeValue(_v,99).transform(nodeValue(_v,11).form.valid))),_ck(_v,102,0,_co.closeResult)}))}function View_EditRaumComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-edit-raum",[],null,null,null,View_EditRaumComponent_0,RenderType_EditRaumComponent)),directiveDef(1,114688,null,0,edit_raum_component_EditRaumComponent,[NgbActiveModal,raum_service_RaumService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var EditRaumComponentNgFactory=createComponentFactory("app-edit-raum",edit_raum_component_EditRaumComponent,View_EditRaumComponent_Host_0,{},{raumSearching:"raumSearching",raumChanged:"raumChanged",scannerRequest:"scannerRequest"},[]),RenderType_EditInventarComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_EditInventarComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,View_NgbAlert_0,RenderType_NgbAlert)),directiveDef(1,638976,null,0,ng_bootstrap_NgbAlert,[ng_bootstrap_NgbAlertConfig,Renderer2,ElementRef],{dismissible:[0,"dismissible"],type:[1,"type"]},null),(_l()(),textDef(2,0,[" ","\n"]))],(function(_ck,_v){_ck(_v,1,0,!1,"danger")}),(function(_ck,_v){_ck(_v,0,0,nodeValue(_v,1).dismissible),_ck(_v,2,0,_v.context.$implicit)}))}function View_EditInventarComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"div",[["class","alert-danger"]],null,null,null,null,null)),(_l()(),textDef(1,null,[" "," "]))],null,(function(_ck,_v){_ck(_v,1,0,_v.component.formError)}))}function View_EditInventarComponent_4(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,0,"img",[["alt",""],["class","card-img-top"],["src","..."]],null,null,null,null,null))],null,null)}function View_EditInventarComponent_5(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Hst: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Hersteller)}))}function View_EditInventarComponent_6(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Grp: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Gruppe)}))}function View_EditInventarComponent_7(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Typ: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Typ)}))}function View_EditInventarComponent_8(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["Ktg: ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Kategorie)}))}function View_EditInventarComponent_9(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,[""," ",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.Farbe,_v.parent.context.$implicit.Groesse)}))}function View_EditInventarComponent_10(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,2,"div",[],null,null,null,null,null)),(_l()(),elementDef(1,0,null,null,1,"small",[],null,null,null,null,null)),(_l()(),textDef(2,null,["",""]))],null,(function(_ck,_v){_ck(_v,2,0,_v.parent.context.$implicit.inventar_count)}))}function View_EditInventarComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,22,"div",[["class","card col-sm-6"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_4)),directiveDef(2,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(3,0,null,null,14,"div",[["class","card-body "]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,1,"h6",[["class","card-title"]],null,null,null,null,null)),(_l()(),textDef(5,null,["",""])),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_5)),directiveDef(7,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_6)),directiveDef(9,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_7)),directiveDef(11,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_8)),directiveDef(13,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_9)),directiveDef(15,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_10)),directiveDef(17,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(18,0,null,null,4,"div",[["class","card-footer text-center"]],null,null,null,null,null)),(_l()(),elementDef(19,0,null,null,1,"button",[["class","btn btn-sm btn-info"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.applyItemAsInput(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Als Vorlage übernehmen"])),(_l()(),elementDef(21,0,null,null,1,"button",[["class","btn btn-sm btn-primary"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.applyItemAsArtikel(_v.context.$implicit)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Artikel Übernehmen"]))],(function(_ck,_v){_ck(_v,2,0,_v.context.$implicit.img_id),_ck(_v,7,0,_v.context.$implicit.Hersteller),_ck(_v,9,0,_v.context.$implicit.Gruppe),_ck(_v,11,0,_v.context.$implicit.Typ),_ck(_v,13,0,_v.context.$implicit.Kategorie),_ck(_v,15,0,_v.context.$implicit.Farbe||_v.context.$implicit.Groesse),_ck(_v,17,0,_v.context.$implicit.inventar_count)}),(function(_ck,_v){_ck(_v,5,0,_v.context.$implicit.Bezeichnung)}))}function View_EditInventarComponent_0(_l){return viewDef(0,[queryDef(402653184,1,{instance:0}),queryDef(402653184,2,{instanceGrp:0}),queryDef(402653184,3,{instanceKtg:0}),queryDef(402653184,4,{instanceTyp:0}),queryDef(402653184,5,{instanceGrs:0}),queryDef(402653184,6,{instanceFa:0}),(_l()(),elementDef(6,0,null,null,4,"div",[["class","modal-header p-0"],["style","padding:0.1rem"]],null,null,null,null,null)),(_l()(),elementDef(7,0,null,null,3,"div",[["class","btn-group row no-gutters w-100"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,2,"button",[["class","btn btn-danger col-2"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.dismiss("Cross click")&&ad),ad}),null,null)),(_l()(),elementDef(9,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["×"])),(_l()(),elementDef(11,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(_l()(),elementDef(12,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Inventar bearbeiten"])),(_l()(),elementDef(14,0,null,null,134,"div",[["class","modal-body"]],null,null,null,null,null)),(_l()(),elementDef(15,0,null,null,133,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0;return"submit"===en&&(ad=!1!==nodeValue(_v,17).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==nodeValue(_v,17).onReset()&&ad),ad}),null,null)),directiveDef(16,16384,null,0,ɵNgNoValidate,[],null,null),directiveDef(17,4210688,[["inventarForm",4]],0,forms_NgForm,[[8,null],[8,null]],null,null),providerDef(2048,null,ControlContainer,null,[forms_NgForm]),directiveDef(19,16384,null,0,NgControlStatusGroup,[[4,ControlContainer]],null,null),(_l()(),elementDef(20,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(21,0,null,null,1,"label",[["class","d-none"],["for","editInventarBarcode"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Barcode: "])),(_l()(),elementDef(23,0,null,null,13,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(24,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(25,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["BCode"])),(_l()(),elementDef(27,0,[["editInventarBarcode",1]],null,5,"input",[["class","form-control formcontrol-edit-barcode"],["id","editInventarBarcode"],["name","code"],["placeholder","Barcode"],["readonly",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"paste"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,28)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,28).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,28)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,28)._compositionEnd($event.target.value)&&ad),"change"===en&&(ad=!1!==_co.formValidate()&&ad),"paste"===en&&(ad=!1!==$event.preventDefault()&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.code=$event)&&ad),ad}),null,null)),directiveDef(28,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(30,671744,[["code",4]],0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(32,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(33,0,null,null,3,"div",[["class","input-group-append"]],null,null,null,null,null)),(_l()(),elementDef(34,0,null,null,2,"button",[["class","btn btn-outline-success"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openScanner(nodeValue(_v,27))&&ad),ad}),null,null)),(_l()(),elementDef(35,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(36,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(37,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),providerDef(512,null,NgClassImpl,common_NgClassR2Impl,[IterableDiffers,KeyValueDiffers,ElementRef,Renderer2]),directiveDef(39,278528,null,0,NgClass,[NgClassImpl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),pureObjectDef(40,{"has-warning":0,"has-info":1}),(_l()(),elementDef(41,0,null,null,1,"label",[["class","d-none"],["for","Bezeichnung"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bez.: "])),(_l()(),elementDef(43,0,null,null,9,"div",[["class","input-group mb-1"]],null,null,null,null,null)),(_l()(),elementDef(44,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(45,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Bezg"])),(_l()(),elementDef(47,0,null,null,5,"input",[["class","form-control"],["id","Bezeichnung"],["name","Bezeichnung"],["placeholder","Bezeichnung"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,48)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,48).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,48)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,48)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Bezeichnung=$event)&&ad),ad}),null,null)),directiveDef(48,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(50,671744,[["bezeichnung",4]],0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(52,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(53,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(54,0,null,null,1,"label",[["class","d-none"],["for","Hersteller"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Hersteller:"])),(_l()(),elementDef(56,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(57,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(58,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["HST"])),(_l()(),elementDef(60,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Hersteller"],["name","Hersteller"],["placeholder","Hersteller"],["role","combobox"],["type","text"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,61)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,61).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,61)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,61)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,62).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,62).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Hersteller=$event)&&ad),ad}),null,null)),directiveDef(61,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(62,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{ngbTypeahead:[0,"ngbTypeahead"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(64,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(66,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(67,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(68,0,null,null,1,"label",[["class","d-none"],["for","Gruppe"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Gruppe: "])),(_l()(),elementDef(70,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(71,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(72,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["GRP"])),(_l()(),elementDef(74,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Gruppe"],["name","Gruppe"],["placeholder","Gruppe"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,75)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,75).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,75)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,75)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,76).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,76).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Gruppe=$event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),ad}),null,null)),directiveDef(75,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(76,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{ngbTypeahead:[0,"ngbTypeahead"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(78,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(80,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(81,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(82,0,null,null,1,"label",[["class","d-none"],["for","Kategorie"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Kategorie: "])),(_l()(),elementDef(84,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(85,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(86,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["KTG"])),(_l()(),elementDef(88,0,null,null,5,"input",[["class","form-control"],["id","Kategorie"],["name","Kategorie"],["placeholder","Kategorie"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,89)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,89).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,89)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,89)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Kategorie=$event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),ad}),null,null)),directiveDef(89,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(91,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(93,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(94,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(95,0,null,null,1,"label",[["class","d-none"],["for","typ"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Artikel-Typ: "])),(_l()(),elementDef(97,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(98,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(99,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["TYP"])),(_l()(),elementDef(101,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","typ"],["name","typ"],["placeholder","Artikel-Typ"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,102)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,102).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,102)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,102)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,103).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,103).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Typ=$event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),ad}),null,null)),directiveDef(102,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(103,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{ngbTypeahead:[0,"ngbTypeahead"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(105,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(107,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(108,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(109,0,null,null,1,"label",[["class","d-none"],["for","Groesse"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Abmessungen: "])),(_l()(),elementDef(111,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(112,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(113,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Größe"])),(_l()(),elementDef(115,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Groesse"],["name","Groesse"],["placeholder","Groesse"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,116)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,116).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,116)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,116)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,117).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,117).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Groesse=$event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),ad}),null,null)),directiveDef(116,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(117,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{ngbTypeahead:[0,"ngbTypeahead"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(119,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(121,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(122,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(123,0,null,null,1,"label",[["class","d-none"],["for","Farbe"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Farbe: "])),(_l()(),elementDef(125,0,null,null,10,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(126,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(127,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Farbe"])),(_l()(),elementDef(129,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["id","Farbe"],["name","Farbe"],["placeholder","Farbe"],["role","combobox"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keydown"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,130)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,130).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,130)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,130)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,131).handleBlur()&&ad),"keydown"===en&&(ad=!1!==nodeValue(_v,131).handleKeyDown($event)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Farbe=$event)&&ad),"input"===en&&(ad=!1!==_co.onInput($event)&&ad),ad}),null,null)),directiveDef(130,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),directiveDef(131,212992,null,0,ng_bootstrap_NgbTypeahead,[ElementRef,ViewContainerRef,Renderer2,Injector,ComponentFactoryResolver,ng_bootstrap_NgbTypeaheadConfig,NgZone,ng_bootstrap_Live,common_DOCUMENT,NgZone,ChangeDetectorRef,core_ApplicationRef],{ngbTypeahead:[0,"ngbTypeahead"]},null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0,p1_0){return[p0_0,p1_0]}),[DefaultValueAccessor,ng_bootstrap_NgbTypeahead]),directiveDef(133,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(135,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),elementDef(136,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),elementDef(137,0,null,null,1,"label",[["class","d-none"],["for","Farbe"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Zustand: "])),(_l()(),elementDef(139,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(_l()(),elementDef(140,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(_l()(),elementDef(141,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Zustand"])),(_l()(),elementDef(143,0,null,null,5,"input",[["class","form-control"],["id","Zustand"],["name","Zustand"],["placeholder","Zustand"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"input"===en&&(ad=!1!==nodeValue(_v,144)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==nodeValue(_v,144).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==nodeValue(_v,144)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==nodeValue(_v,144)._compositionEnd($event.target.value)&&ad),"ngModelChange"===en&&(ad=!1!==(_co.inventarInput.Zustand=$event)&&ad),ad}),null,null)),directiveDef(144,16384,null,0,DefaultValueAccessor,[Renderer2,ElementRef,[2,COMPOSITION_BUFFER_MODE]],null,null),providerDef(1024,null,NG_VALUE_ACCESSOR,(function(p0_0){return[p0_0]}),[DefaultValueAccessor]),directiveDef(146,671744,null,0,forms_NgModel,[[2,ControlContainer],[8,null],[8,null],[6,NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),providerDef(2048,null,NgControl,null,[forms_NgModel]),directiveDef(148,16384,null,0,NgControlStatus,[[4,NgControl]],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_1)),directiveDef(150,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),elementDef(151,0,null,null,18,"div",[["class","modal-footer"]],null,null,null,null,null)),(_l()(),elementDef(152,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.onSubmit($event)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Inventar aktualisieren"])),(_l()(),elementDef(154,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.activeModal.close("Close click")&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Close"])),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_2)),directiveDef(157,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(158,0,null,null,8,"div",[],null,null,null,null,null)),(_l()(),elementDef(159,0,null,null,7,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"pageChange"===en&&(ad=!1!==(_co.page=$event)&&ad),"pageChange"===en&&(ad=!1!==_co.onPageChange(_co.page)&&ad),ad}),View_NgbPagination_0,RenderType_NgbPagination)),directiveDef(160,573440,null,6,ng_bootstrap_NgbPagination,[ng_bootstrap_NgbPaginationConfig],{collectionSize:[0,"collectionSize"],maxSize:[1,"maxSize"],page:[2,"page"],pageSize:[3,"pageSize"]},{pageChange:"pageChange"}),queryDef(603979776,7,{tplEllipsis:0}),queryDef(603979776,8,{tplFirst:0}),queryDef(603979776,9,{tplLast:0}),queryDef(603979776,10,{tplNext:0}),queryDef(603979776,11,{tplNumber:0}),queryDef(603979776,12,{tplPrevious:0}),(_l()(),elementDef(167,0,null,null,2,"div",[["class","row no-gutters"]],null,null,null,null,null)),(_l()(),anchorDef(16777216,null,null,1,null,View_EditInventarComponent_3)),directiveDef(169,278528,null,0,common_NgForOf,[ViewContainerRef,TemplateRef,IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(_l()(),elementDef(170,0,null,null,0,"hr",[],null,null,null,null,null)),(_l()(),elementDef(171,0,null,null,1,"pre",[],null,null,null,null,null)),(_l()(),textDef(172,null,["",""]))],(function(_ck,_v){var _co=_v.component;_ck(_v,30,0,"code",_co.inventarInput.code),_ck(_v,36,0,_co.faCamera);var currVal_19=_ck(_v,40,0,!1,!1);_ck(_v,39,0,"form-group",currVal_19),_ck(_v,50,0,"Bezeichnung",_co.inventarInput.Bezeichnung),_ck(_v,62,0,_co.search),_ck(_v,64,0,"Hersteller",_co.inventarInput.Hersteller),_ck(_v,76,0,_co.searchGruppen),_ck(_v,78,0,"Gruppe",_co.inventarInput.Gruppe),_ck(_v,91,0,"Kategorie",_co.inventarInput.Kategorie),_ck(_v,103,0,_co.searchTypen),_ck(_v,105,0,"typ",_co.inventarInput.Typ),_ck(_v,117,0,_co.searchGroessen),_ck(_v,119,0,"Groesse",_co.inventarInput.Groesse),_ck(_v,131,0,_co.searchFarben),_ck(_v,133,0,"Farbe",_co.inventarInput.Farbe),_ck(_v,146,0,"Zustand",_co.inventarInput.Zustand),_ck(_v,150,0,_co.validationErrors),_ck(_v,157,0,_co.formError),_ck(_v,160,0,_co.collectionSize,_co.maxSize,_co.page,_co.pageSize),_ck(_v,169,0,_co.listExistingArticlePage)}),(function(_ck,_v){var _co=_v.component;_ck(_v,15,0,nodeValue(_v,19).ngClassUntouched,nodeValue(_v,19).ngClassTouched,nodeValue(_v,19).ngClassPristine,nodeValue(_v,19).ngClassDirty,nodeValue(_v,19).ngClassValid,nodeValue(_v,19).ngClassInvalid,nodeValue(_v,19).ngClassPending),_ck(_v,27,0,nodeValue(_v,32).ngClassUntouched,nodeValue(_v,32).ngClassTouched,nodeValue(_v,32).ngClassPristine,nodeValue(_v,32).ngClassDirty,nodeValue(_v,32).ngClassValid,nodeValue(_v,32).ngClassInvalid,nodeValue(_v,32).ngClassPending),_ck(_v,35,0,nodeValue(_v,36).renderedIconHTML),_ck(_v,47,0,nodeValue(_v,52).ngClassUntouched,nodeValue(_v,52).ngClassTouched,nodeValue(_v,52).ngClassPristine,nodeValue(_v,52).ngClassDirty,nodeValue(_v,52).ngClassValid,nodeValue(_v,52).ngClassInvalid,nodeValue(_v,52).ngClassPending),_ck(_v,60,1,[nodeValue(_v,62).isPopupOpen(),nodeValue(_v,62).autocomplete,nodeValue(_v,62).showHint?"both":"list",nodeValue(_v,62).activeDescendant,nodeValue(_v,62).isPopupOpen()?nodeValue(_v,62).popupId:null,nodeValue(_v,62).isPopupOpen(),nodeValue(_v,66).ngClassUntouched,nodeValue(_v,66).ngClassTouched,nodeValue(_v,66).ngClassPristine,nodeValue(_v,66).ngClassDirty,nodeValue(_v,66).ngClassValid,nodeValue(_v,66).ngClassInvalid,nodeValue(_v,66).ngClassPending]),_ck(_v,74,1,[nodeValue(_v,76).isPopupOpen(),nodeValue(_v,76).autocomplete,nodeValue(_v,76).showHint?"both":"list",nodeValue(_v,76).activeDescendant,nodeValue(_v,76).isPopupOpen()?nodeValue(_v,76).popupId:null,nodeValue(_v,76).isPopupOpen(),nodeValue(_v,80).ngClassUntouched,nodeValue(_v,80).ngClassTouched,nodeValue(_v,80).ngClassPristine,nodeValue(_v,80).ngClassDirty,nodeValue(_v,80).ngClassValid,nodeValue(_v,80).ngClassInvalid,nodeValue(_v,80).ngClassPending]),_ck(_v,88,0,nodeValue(_v,93).ngClassUntouched,nodeValue(_v,93).ngClassTouched,nodeValue(_v,93).ngClassPristine,nodeValue(_v,93).ngClassDirty,nodeValue(_v,93).ngClassValid,nodeValue(_v,93).ngClassInvalid,nodeValue(_v,93).ngClassPending),_ck(_v,101,1,[nodeValue(_v,103).isPopupOpen(),nodeValue(_v,103).autocomplete,nodeValue(_v,103).showHint?"both":"list",nodeValue(_v,103).activeDescendant,nodeValue(_v,103).isPopupOpen()?nodeValue(_v,103).popupId:null,nodeValue(_v,103).isPopupOpen(),nodeValue(_v,107).ngClassUntouched,nodeValue(_v,107).ngClassTouched,nodeValue(_v,107).ngClassPristine,nodeValue(_v,107).ngClassDirty,nodeValue(_v,107).ngClassValid,nodeValue(_v,107).ngClassInvalid,nodeValue(_v,107).ngClassPending]),_ck(_v,115,1,[nodeValue(_v,117).isPopupOpen(),nodeValue(_v,117).autocomplete,nodeValue(_v,117).showHint?"both":"list",nodeValue(_v,117).activeDescendant,nodeValue(_v,117).isPopupOpen()?nodeValue(_v,117).popupId:null,nodeValue(_v,117).isPopupOpen(),nodeValue(_v,121).ngClassUntouched,nodeValue(_v,121).ngClassTouched,nodeValue(_v,121).ngClassPristine,nodeValue(_v,121).ngClassDirty,nodeValue(_v,121).ngClassValid,nodeValue(_v,121).ngClassInvalid,nodeValue(_v,121).ngClassPending]),_ck(_v,129,1,[nodeValue(_v,131).isPopupOpen(),nodeValue(_v,131).autocomplete,nodeValue(_v,131).showHint?"both":"list",nodeValue(_v,131).activeDescendant,nodeValue(_v,131).isPopupOpen()?nodeValue(_v,131).popupId:null,nodeValue(_v,131).isPopupOpen(),nodeValue(_v,135).ngClassUntouched,nodeValue(_v,135).ngClassTouched,nodeValue(_v,135).ngClassPristine,nodeValue(_v,135).ngClassDirty,nodeValue(_v,135).ngClassValid,nodeValue(_v,135).ngClassInvalid,nodeValue(_v,135).ngClassPending]),_ck(_v,143,0,nodeValue(_v,148).ngClassUntouched,nodeValue(_v,148).ngClassTouched,nodeValue(_v,148).ngClassPristine,nodeValue(_v,148).ngClassDirty,nodeValue(_v,148).ngClassValid,nodeValue(_v,148).ngClassInvalid,nodeValue(_v,148).ngClassPending),_ck(_v,172,0,_co.closeResult)}))}function View_EditInventarComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-edit-inventar",[],null,null,null,View_EditInventarComponent_0,RenderType_EditInventarComponent)),directiveDef(1,114688,null,0,edit_inventar_component_EditInventarComponent,[NgbActiveModal,inventar_service_InventarService,artikel_service_ArtikelService,hersteller_service_HerstellerService,basedata_service_BasedataService,data_service_DataService],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var EditInventarComponentNgFactory=createComponentFactory("app-edit-inventar",edit_inventar_component_EditInventarComponent,View_EditInventarComponent_Host_0,{},{artikelSelected:"artikelSelected",artikelSearching:"artikelSearching",artikelCreated:"artikelCreated",herstellerChanged:"herstellerChanged",gruppeChanged:"gruppeChanged",inputChanging:"inputChanging",inputChanged:"inputChanged",inventarChanged:"inventarChanged",scannerRequest:"scannerRequest"},[]);class ngbheader_component_NgbheaderComponent{constructor(http,apiService){this.http=http,this.apiService=apiService,this.collapsed=!0,this.faCog=faCog}mkRequest(){const url=this.apiService.getUrlByPath("auth/me");this.http.get(url).subscribe(data=>console.log(data))}continueLastInventory(){}}var RenderType_NgbheaderComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_NgbheaderComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,55,"nav",[["class","navbar navbar-expand-md navbar-light bg-light"]],null,null,null,null,null)),directiveDef(1,16384,null,0,NgbNavbar,[],null,null),(_l()(),elementDef(2,0,null,null,1,"span",[["class","navbar-brand"]],null,null,null,null,null)),(_l()(),textDef(-1,null,["Inventory"])),(_l()(),elementDef(4,0,null,null,1,"button",[["aria-controls","navbarContent"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["type","button"]],[[1,"aria-expanded",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"click"===en&&(ad=0!=(_co.collapsed=!_co.collapsed)&&ad),ad}),null,null)),(_l()(),elementDef(5,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(_l()(),elementDef(6,0,null,null,49,"div",[["class","navbar-collapse"],["id","navbarContent"]],[[2,"collapse",null]],null,null,null,null)),(_l()(),elementDef(7,0,null,null,48,"ul",[["class","navbar-nav ml-auto"]],null,null,null,null,null)),(_l()(),elementDef(8,0,null,null,6,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),directiveDef(9,1720320,null,2,RouterLinkActive,[router_Router,ElementRef,Renderer2,[2,router_RouterLink],[2,router_RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),queryDef(603979776,1,{links:1}),queryDef(603979776,2,{linksWithHrefs:1}),(_l()(),elementDef(12,0,null,null,2,"a",[["class","nav-link"],["routerLink","/auth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,13).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(13,671744,[[2,4]],0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,"routerLink"]},null),(_l()(),textDef(-1,null,["Login"])),(_l()(),elementDef(15,0,null,null,6,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),directiveDef(16,1720320,null,2,RouterLinkActive,[router_Router,ElementRef,Renderer2,[2,router_RouterLink],[2,router_RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),queryDef(603979776,3,{links:1}),queryDef(603979776,4,{linksWithHrefs:1}),(_l()(),elementDef(19,0,null,null,2,"a",[["class","nav-link"],["routerLink","/select-inventory"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,20).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(20,671744,[[4,4]],0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,"routerLink"]},null),(_l()(),textDef(-1,null,["Select"])),(_l()(),elementDef(22,0,null,null,5,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),directiveDef(23,1720320,null,2,RouterLinkActive,[router_Router,ElementRef,Renderer2,[2,router_RouterLink],[2,router_RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),queryDef(603979776,5,{links:1}),queryDef(603979776,6,{linksWithHrefs:1}),(_l()(),elementDef(26,0,null,null,1,"a",[["class","nav-link"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.continueLastInventory()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Inventarisieren"])),(_l()(),elementDef(28,0,null,null,5,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),directiveDef(29,1720320,null,2,RouterLinkActive,[router_Router,ElementRef,Renderer2,[2,router_RouterLink],[2,router_RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),queryDef(603979776,7,{links:1}),queryDef(603979776,8,{linksWithHrefs:1}),(_l()(),elementDef(32,0,null,null,1,"a",[["class","nav-link"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.mkRequest()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["mkRequest"])),(_l()(),elementDef(34,0,null,null,6,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),directiveDef(35,1720320,null,2,RouterLinkActive,[router_Router,ElementRef,Renderer2,[2,router_RouterLink],[2,router_RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),queryDef(603979776,9,{links:1}),queryDef(603979776,10,{linksWithHrefs:1}),(_l()(),elementDef(38,0,null,null,2,"a",[["class","nav-link"],["routerLink","/sync"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,39).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(39,671744,[[10,4]],0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,"routerLink"]},null),(_l()(),textDef(-1,null,["Sync"])),(_l()(),elementDef(41,0,null,null,7,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),directiveDef(42,1720320,null,2,RouterLinkActive,[router_Router,ElementRef,Renderer2,[2,router_RouterLink],[2,router_RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),queryDef(603979776,11,{links:1}),queryDef(603979776,12,{linksWithHrefs:1}),(_l()(),elementDef(45,0,null,null,3,"a",[["class","nav-link"],["routerLink","/settings"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,46).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(46,671744,[[12,4]],0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,"routerLink"]},null),(_l()(),elementDef(47,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,View_FaIconComponent_0,RenderType_FaIconComponent)),directiveDef(48,573440,null,0,angular_fontawesome_FaIconComponent,[DomSanitizer,angular_fontawesome_FaIconService],{iconProp:[0,"iconProp"]},null),(_l()(),elementDef(49,0,null,null,6,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),directiveDef(50,1720320,null,2,RouterLinkActive,[router_Router,ElementRef,Renderer2,[2,router_RouterLink],[2,router_RouterLinkWithHref]],{routerLinkActive:[0,"routerLinkActive"]},null),queryDef(603979776,13,{links:1}),queryDef(603979776,14,{linksWithHrefs:1}),(_l()(),elementDef(53,0,null,null,2,"a",[["class","nav-link"],["routerLink","/auth"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==nodeValue(_v,54).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),directiveDef(54,671744,[[14,4]],0,router_RouterLinkWithHref,[router_Router,router_ActivatedRoute,LocationStrategy],{routerLink:[0,"routerLink"]},null),(_l()(),textDef(-1,null,["Logout"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,9,0,"active"),_ck(_v,13,0,"/auth"),_ck(_v,16,0,"active"),_ck(_v,20,0,"/select-inventory"),_ck(_v,23,0,"active"),_ck(_v,29,0,"active"),_ck(_v,35,0,"active"),_ck(_v,39,0,"/sync"),_ck(_v,42,0,"active"),_ck(_v,46,0,"/settings"),_ck(_v,48,0,_co.faCog),_ck(_v,50,0,"active"),_ck(_v,54,0,"/auth")}),(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,!_co.collapsed),_ck(_v,6,0,_co.collapsed),_ck(_v,12,0,nodeValue(_v,13).target,nodeValue(_v,13).href),_ck(_v,19,0,nodeValue(_v,20).target,nodeValue(_v,20).href),_ck(_v,38,0,nodeValue(_v,39).target,nodeValue(_v,39).href),_ck(_v,45,0,nodeValue(_v,46).target,nodeValue(_v,46).href),_ck(_v,47,0,nodeValue(_v,48).renderedIconHTML),_ck(_v,53,0,nodeValue(_v,54).target,nodeValue(_v,54).href)}))}class status_check_component_StatusCheckComponent{constructor(connectionService,dataService,syncService){this.connectionService=connectionService,this.dataService=dataService,this.syncService=syncService,this.currentApplicationVersion=environment.appVersion,this.numUnsynced=-1}ngOnInit(){this.syncService.numUnsyncedChangeLogs().then(amount=>{this.numUnsynced=amount}),this.connectionSubscription=this.connectionService.monitor().subscribe(currentState=>{console.log(currentState),this.currentState=currentState}),this.unsyncedAmountChangeSubscription=this.dataService.clientSyncAmountChanged.subscribe(amount=>{this.numUnsynced=amount})}ngOnDestroy(){this.connectionSubscription.unsubscribe(),this.unsyncedAmountChangeSubscription.unsubscribe()}}var RenderType_StatusCheckComponent=createRendererType2({encapsulation:0,styles:[[""]],data:{}});function View_StatusCheckComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,8,null,null,null,null,null,null,null)),(_l()(),textDef(-1,null,[" Unsynced: "])),(_l()(),elementDef(2,0,null,null,4,"span",[],null,null,null,null,null)),providerDef(512,null,NgStyleImpl,NgStyleR2Impl,[ElementRef,KeyValueDiffers,Renderer2]),directiveDef(4,278528,null,0,NgStyle,[NgStyleImpl],{ngStyle:[0,"ngStyle"]},null),pureObjectDef(5,{color:0}),(_l()(),textDef(6,null,[" "," "])),(_l()(),elementDef(7,0,null,null,1,"span",[],null,null,null,null,null)),(_l()(),textDef(8,null,[" v"," "]))],(function(_ck,_v){var currVal_0=_ck(_v,5,0,0===_v.component.numUnsynced?"green":"red");_ck(_v,4,0,currVal_0)}),(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,_co.numUnsynced),_ck(_v,8,0,_co.currentApplicationVersion)}))}function View_StatusCheckComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,20,"div",[],null,null,null,null,null)),(_l()(),textDef(-1,null,[" Netzwerk: "])),(_l()(),elementDef(2,0,null,null,4,"span",[],null,null,null,null,null)),providerDef(512,null,NgStyleImpl,NgStyleR2Impl,[ElementRef,KeyValueDiffers,Renderer2]),directiveDef(4,278528,null,0,NgStyle,[NgStyleImpl],{ngStyle:[0,"ngStyle"]},null),pureObjectDef(5,{color:0}),(_l()(),textDef(6,null,[" "," "])),(_l()(),textDef(-1,null,[" || Backend: "])),(_l()(),elementDef(8,0,null,null,4,"span",[],null,null,null,null,null)),providerDef(512,null,NgStyleImpl,NgStyleR2Impl,[ElementRef,KeyValueDiffers,Renderer2]),directiveDef(10,278528,null,0,NgStyle,[NgStyleImpl],{ngStyle:[0,"ngStyle"]},null),pureObjectDef(11,{color:0}),(_l()(),textDef(12,null,[" "," "])),(_l()(),textDef(-1,null,[" || Connected: "])),(_l()(),elementDef(14,0,null,null,4,"span",[],null,null,null,null,null)),providerDef(512,null,NgStyleImpl,NgStyleR2Impl,[ElementRef,KeyValueDiffers,Renderer2]),directiveDef(16,278528,null,0,NgStyle,[NgStyleImpl],{ngStyle:[0,"ngStyle"]},null),pureObjectDef(17,{color:0}),(_l()(),textDef(18,null,[" "," "])),(_l()(),anchorDef(16777216,null,null,1,null,View_StatusCheckComponent_1)),directiveDef(20,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component,currVal_0=_ck(_v,5,0,null!=_co.currentState&&_co.currentState.hasNetworkConnection?"green":"red");_ck(_v,4,0,currVal_0);var currVal_2=_ck(_v,11,0,null!=_co.currentState&&_co.currentState.hasServerAccess?"green":"red");_ck(_v,10,0,currVal_2);var currVal_4=_ck(_v,17,0,null!=_co.currentState&&_co.currentState.hasValidSession?"green":"red");_ck(_v,16,0,currVal_4),_ck(_v,20,0,_co.numUnsynced>-1)}),(function(_ck,_v){var _co=_v.component;_ck(_v,6,0,null!=_co.currentState&&_co.currentState.hasNetworkConnection?"ON":"OFF"),_ck(_v,12,0,null!=_co.currentState&&_co.currentState.hasServerAccess?"ON":"OFF"),_ck(_v,18,0,null!=_co.currentState&&_co.currentState.hasValidSession?"ON":"OFF")}))}const ERR_SW_NOT_SUPPORTED="Service workers are disabled or not supported by this browser";class service_worker_NgswCommChannel{constructor(serviceWorker){if(this.serviceWorker=serviceWorker,serviceWorker){const controllerChanges=fromEvent(serviceWorker,"controllerchange").pipe(map_map(()=>serviceWorker.controller)),controllerWithChanges=concat(defer(()=>of(serviceWorker.controller)),controllerChanges);this.worker=controllerWithChanges.pipe(filter(c=>!!c)),this.registration=this.worker.pipe(switchMap(()=>serviceWorker.getRegistration()));const events=fromEvent(serviceWorker,"message").pipe(map_map(event=>event.data)).pipe(filter(event=>event&&event.type)).pipe(multicast(new Subject_Subject));events.connect(),this.events=events}else this.worker=this.events=this.registration=defer(()=>throwError_throwError(new Error("Service workers are disabled or not supported by this browser")))}postMessage(action,payload){return this.worker.pipe(take(1),tap(sw=>{sw.postMessage(Object.assign({action:action},payload))})).toPromise().then(()=>{})}postMessageWithStatus(type,payload,nonce){const waitForStatus=this.waitForStatus(nonce),postMessage=this.postMessage(type,payload);return Promise.all([waitForStatus,postMessage]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(type){return this.events.pipe(filter(event=>event.type===type))}nextEventOfType(type){return this.eventsOfType(type).pipe(take(1))}waitForStatus(nonce){return this.eventsOfType("STATUS").pipe(filter(event=>event.nonce===nonce),take(1),map_map(event=>{if(!event.status)throw new Error(event.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}class service_worker_SwPush{constructor(sw){if(this.sw=sw,this.subscriptionChanges=new Subject_Subject,!sw.isEnabled)return this.messages=NEVER,this.notificationClicks=NEVER,void(this.subscription=NEVER);this.messages=this.sw.eventsOfType("PUSH").pipe(map_map(message=>message.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(map_map(message=>message.data)),this.pushManager=this.sw.registration.pipe(map_map(registration=>registration.pushManager));const workerDrivenSubscriptions=this.pushManager.pipe(switchMap(pm=>pm.getSubscription()));this.subscription=merge(workerDrivenSubscriptions,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(options){if(!this.sw.isEnabled)return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));const pushOptions={userVisibleOnly:!0};let key=this.decodeBase64(options.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),applicationServerKey=new Uint8Array(new ArrayBuffer(key.length));for(let i=0;i<key.length;i++)applicationServerKey[i]=key.charCodeAt(i);return pushOptions.applicationServerKey=applicationServerKey,this.pushManager.pipe(switchMap(pm=>pm.subscribe(pushOptions)),take(1)).toPromise().then(sub=>(this.subscriptionChanges.next(sub),sub))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(take(1),switchMap(sub=>{if(null===sub)throw new Error("Not subscribed to push notifications.");return sub.unsubscribe().then(success=>{if(!success)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ERR_SW_NOT_SUPPORTED))}decodeBase64(input){return atob(input)}}class service_worker_SwUpdate{constructor(sw){if(this.sw=sw,!sw.isEnabled)return this.available=NEVER,void(this.activated=NEVER);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));const statusNonce=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:statusNonce},statusNonce)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ERR_SW_NOT_SUPPORTED));const statusNonce=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:statusNonce},statusNonce)}}class SwRegistrationOptions{}const SCRIPT=new InjectionToken("NGSW_REGISTER_SCRIPT");function ngswAppInitializer(injector,script,options,platformId){return()=>{if(!isPlatformBrowser(platformId)||!("serviceWorker"in navigator)||!1===options.enabled)return;let readyToRegister$;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof options.registrationStrategy)readyToRegister$=options.registrationStrategy();else{const[strategy,...args]=(options.registrationStrategy||"registerWhenStable").split(":");switch(strategy){case"registerImmediately":readyToRegister$=of(null);break;case"registerWithDelay":readyToRegister$=of(null).pipe(delay_delay(+args[0]||0));break;case"registerWhenStable":readyToRegister$=injector.get(core_ApplicationRef).isStable.pipe(filter(stable=>stable));break;default:throw new Error("Unknown ServiceWorker registration strategy: "+options.registrationStrategy)}}readyToRegister$.pipe(take(1)).subscribe(()=>navigator.serviceWorker.register(script,{scope:options.scope}).catch(err=>console.error("Service worker registration failed with:",err)))}}function ngswCommChannelFactory(opts,platformId){return new service_worker_NgswCommChannel(isPlatformBrowser(platformId)&&!1!==opts.enabled?navigator.serviceWorker:void 0)}class service_worker_ServiceWorkerModule{static register(script,opts={}){return{ngModule:service_worker_ServiceWorkerModule,providers:[{provide:SCRIPT,useValue:script},{provide:SwRegistrationOptions,useValue:opts},{provide:service_worker_NgswCommChannel,useFactory:ngswCommChannelFactory,deps:[SwRegistrationOptions,PLATFORM_ID]},{provide:APP_INITIALIZER,useFactory:ngswAppInitializer,deps:[Injector,SCRIPT,SwRegistrationOptions,PLATFORM_ID],multi:!0}]}}}var RenderType_AppComponent=createRendererType2({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{color:#fff}div.c1[_ngcontent-%COMP%]   div.c1-1[_ngcontent-%COMP%]{color:green}div.c1-1[_ngcontent-%COMP%]{color:red}.body-bg-login[_ngcontent-%COMP%]{background:linear-gradient(to right bottom,#1cc7d0,#013ca6,#013ca6,#1cc7d0)}"]],data:{}});function View_AppComponent_1(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setHeartBeatState(!0)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Enable HeartBeat Check"]))],null,null)}function View_AppComponent_2(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.setHeartBeatState(!1)&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Disable HeartBeat Check"]))],null,null)}function View_AppComponent_3(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.installApp()&&ad),ad}),null,null)),(_l()(),textDef(-1,null,["Install app"]))],null,null)}function View_AppComponent_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-ngbheader",[],null,null,null,View_NgbheaderComponent_0,RenderType_NgbheaderComponent)),directiveDef(1,49152,null,0,ngbheader_component_NgbheaderComponent,[http_HttpClient,api_service_ApiService],null,null),(_l()(),elementDef(2,0,null,null,12,"div",[["class","container"]],null,null,null,null,null)),(_l()(),elementDef(3,0,null,null,3,"div",[["class","row mt-2"]],null,null,null,null,null)),(_l()(),elementDef(4,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(_l()(),elementDef(5,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),directiveDef(6,212992,null,0,router_RouterOutlet,[ChildrenOutletContexts,ViewContainerRef,ComponentFactoryResolver,[8,null],ChangeDetectorRef],null,null),(_l()(),elementDef(7,0,null,null,1,"app-status-check",[],null,null,null,View_StatusCheckComponent_0,RenderType_StatusCheckComponent)),directiveDef(8,245760,null,0,status_check_component_StatusCheckComponent,[connection_service_service_ConnectionService,data_service_DataService,dbsync_client_service_DBSyncClientService],null,null),(_l()(),anchorDef(16777216,null,null,1,null,View_AppComponent_1)),directiveDef(10,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_AppComponent_2)),directiveDef(12,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),anchorDef(16777216,null,null,1,null,View_AppComponent_3)),directiveDef(14,16384,null,0,NgIf,[ViewContainerRef,TemplateRef],{ngIf:[0,"ngIf"]},null),(_l()(),elementDef(15,0,[["addScripts",1]],null,0,"div",[],null,null,null,null,null))],(function(_ck,_v){var _co=_v.component;_ck(_v,6,0),_ck(_v,8,0),_ck(_v,10,0,!_co.heartBeatState),_ck(_v,12,0,_co.heartBeatState),_ck(_v,14,0,_co.deferredInstallPrompt)}),null)}function View_AppComponent_Host_0(_l){return viewDef(0,[(_l()(),elementDef(0,0,null,null,1,"app-root",[],null,[["window","beforeinstallprompt"]],(function(_v,en,$event){var ad=!0;return"window:beforeinstallprompt"===en&&(ad=!1!==nodeValue(_v,1).onPrompt($event)&&ad),ad}),View_AppComponent_0,RenderType_AppComponent)),directiveDef(1,49152,null,0,app_component_AppComponent,[connection_service_service_ConnectionService,ngx_toastr_ToastrService,service_worker_SwUpdate,service_worker_SwPush],null,null)],null,null)}var AppComponentNgFactory=createComponentFactory("app-root",app_component_AppComponent,View_AppComponent_Host_0,{},{},[]);class AnimationBuilder{}function sequence(steps,options=null){return{type:2,steps:steps,options:options}}function animations_style(tokens){return{type:6,styles:tokens,offset:null}}function animations_scheduleMicroTask(cb){Promise.resolve(null).then(cb)}class NoopAnimationPlayer{constructor(duration=0,delay=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=duration+delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){animations_scheduleMicroTask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){}setPosition(position){}getPosition(){return 0}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class AnimationGroupPlayer{constructor(_players){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_players;let doneCount=0,destroyCount=0,startCount=0;const total=this.players.length;0==total?animations_scheduleMicroTask(()=>this._onFinish()):this.players.forEach(player=>{player.onDone(()=>{++doneCount==total&&this._onFinish()}),player.onDestroy(()=>{++destroyCount==total&&this._onDestroy()}),player.onStart(()=>{++startCount==total&&this._onStart()})}),this.totalTime=this.players.reduce((time,player)=>Math.max(time,player.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this.players.forEach(player=>player.init())}onStart(fn){this._onStartFns.push(fn)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fn=>fn()),this._onStartFns=[])}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(player=>player.play())}pause(){this.players.forEach(player=>player.pause())}restart(){this.players.forEach(player=>player.restart())}finish(){this._onFinish(),this.players.forEach(player=>player.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(player=>player.destroy()),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){this.players.forEach(player=>player.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(p){const timeAtPosition=p*this.totalTime;this.players.forEach(player=>{const position=player.totalTime?Math.min(1,timeAtPosition/player.totalTime):1;player.setPosition(position)})}getPosition(){let min=0;return this.players.forEach(player=>{const p=player.getPosition();min=Math.min(p,min)}),min}beforeDestroy(){this.players.forEach(player=>{player.beforeDestroy&&player.beforeDestroy()})}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}function browser_isNode(){return"undefined"!=typeof process}function optimizeGroupPlayer(players){switch(players.length){case 0:return new NoopAnimationPlayer;case 1:return players[0];default:return new AnimationGroupPlayer(players)}}function normalizeKeyframes(driver,normalizer,element,keyframes,preStyles={},postStyles={}){const errors=[],normalizedKeyframes=[];let previousOffset=-1,previousKeyframe=null;if(keyframes.forEach(kf=>{const offset=kf.offset,isSameOffset=offset==previousOffset,normalizedKeyframe=isSameOffset&&previousKeyframe||{};Object.keys(kf).forEach(prop=>{let normalizedProp=prop,normalizedValue=kf[prop];if("offset"!==prop)switch(normalizedProp=normalizer.normalizePropertyName(normalizedProp,errors),normalizedValue){case"!":normalizedValue=preStyles[prop];break;case"*":normalizedValue=postStyles[prop];break;default:normalizedValue=normalizer.normalizeStyleValue(prop,normalizedProp,normalizedValue,errors)}normalizedKeyframe[normalizedProp]=normalizedValue}),isSameOffset||normalizedKeyframes.push(normalizedKeyframe),previousKeyframe=normalizedKeyframe,previousOffset=offset}),errors.length){const LINE_START="\n - ";throw new Error(`Unable to animate due to the following errors:${LINE_START}${errors.join(LINE_START)}`)}return normalizedKeyframes}function listenOnPlayer(player,eventName,event,callback){switch(eventName){case"start":player.onStart(()=>callback(event&&copyAnimationEvent(event,"start",player)));break;case"done":player.onDone(()=>callback(event&&copyAnimationEvent(event,"done",player)));break;case"destroy":player.onDestroy(()=>callback(event&&copyAnimationEvent(event,"destroy",player)))}}function copyAnimationEvent(e,phaseName,player){const totalTime=player.totalTime,event=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,phaseName||e.phaseName,null==totalTime?e.totalTime:totalTime,!!player.disabled),data=e._data;return null!=data&&(event._data=data),event}function makeAnimationEvent(element,triggerName,fromState,toState,phaseName="",totalTime=0,disabled){return{element:element,triggerName:triggerName,fromState:fromState,toState:toState,phaseName:phaseName,totalTime:totalTime,disabled:!!disabled}}function getOrSetAsInMap(map,key,defaultValue){let value;return map instanceof Map?(value=map.get(key),value||map.set(key,value=defaultValue)):(value=map[key],value||(value=map[key]=defaultValue)),value}function parseTimelineCommand(command){const separatorPos=command.indexOf(":");return[command.substring(1,separatorPos),command.substr(separatorPos+1)]}let _contains=(elm1,elm2)=>!1,_matches=(element,selector)=>!1,_query=(element,selector,multi)=>[];const _isNode=browser_isNode();(_isNode||"undefined"!=typeof Element)&&(_contains=(elm1,elm2)=>elm1.contains(elm2),_matches=(()=>{if(_isNode||Element.prototype.matches)return(element,selector)=>element.matches(selector);{const proto=Element.prototype,fn=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector;return fn?(element,selector)=>fn.apply(element,[selector]):_matches}})(),_query=(element,selector,multi)=>{let results=[];if(multi)results.push(...element.querySelectorAll(selector));else{const elm=element.querySelector(selector);elm&&results.push(elm)}return results});let _CACHED_BODY=null,_IS_WEBKIT=!1;function validateStyleProperty(prop){_CACHED_BODY||(_CACHED_BODY=("undefined"!=typeof document?document.body:null)||{},_IS_WEBKIT=!!_CACHED_BODY.style&&"WebkitAppearance"in _CACHED_BODY.style);let result=!0;return _CACHED_BODY.style&&!function(prop){return"ebkit"==prop.substring(1,6)}(prop)&&(result=prop in _CACHED_BODY.style,!result&&_IS_WEBKIT)&&(result="Webkit"+prop.charAt(0).toUpperCase()+prop.substr(1)in _CACHED_BODY.style),result}const matchesElement=_matches,containsElement=_contains,invokeQuery=_query;function hypenatePropsObject(object){const newObj={};return Object.keys(object).forEach(prop=>{const newProp=prop.replace(/([a-z])([A-Z])/g,"$1-$2");newObj[newProp]=object[prop]}),newObj}class browser_NoopAnimationDriver{validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return defaultValue||""}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){return new NoopAnimationPlayer(duration,delay)}}let AnimationDriver=(()=>{class AnimationDriver{}return AnimationDriver.NOOP=new browser_NoopAnimationDriver,AnimationDriver})();function resolveTimingValue(value){if("number"==typeof value)return value;const matches=value.match(/^(-?[\.\d]+)(m?s)/);return!matches||matches.length<2?0:_convertTimeValueToMS(parseFloat(matches[1]),matches[2])}function _convertTimeValueToMS(value,unit){switch(unit){case"s":return 1e3*value;default:return value}}function resolveTiming(timings,errors,allowNegativeValues){return timings.hasOwnProperty("duration")?timings:function(exp,errors,allowNegativeValues){let duration,delay=0,easing="";if("string"==typeof exp){const matches=exp.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===matches)return errors.push(`The provided timing value "${exp}" is invalid.`),{duration:0,delay:0,easing:""};duration=_convertTimeValueToMS(parseFloat(matches[1]),matches[2]);const delayMatch=matches[3];null!=delayMatch&&(delay=_convertTimeValueToMS(parseFloat(delayMatch),matches[4]));const easingVal=matches[5];easingVal&&(easing=easingVal)}else duration=exp;if(!allowNegativeValues){let containsErrors=!1,startIndex=errors.length;duration<0&&(errors.push("Duration values below 0 are not allowed for this animation step."),containsErrors=!0),delay<0&&(errors.push("Delay values below 0 are not allowed for this animation step."),containsErrors=!0),containsErrors&&errors.splice(startIndex,0,`The provided timing value "${exp}" is invalid.`)}return{duration:duration,delay:delay,easing:easing}}(timings,errors,allowNegativeValues)}function copyObj(obj,destination={}){return Object.keys(obj).forEach(prop=>{destination[prop]=obj[prop]}),destination}function copyStyles(styles,readPrototype,destination={}){if(readPrototype)for(let prop in styles)destination[prop]=styles[prop];else copyObj(styles,destination);return destination}function getStyleAttributeString(element,key,value){return value?key+":"+value+";":""}function writeStyleAttribute(element){let styleAttrValue="";for(let i=0;i<element.style.length;i++){const key=element.style.item(i);styleAttrValue+=getStyleAttributeString(0,key,element.style.getPropertyValue(key))}for(const key in element.style)element.style.hasOwnProperty(key)&&!key.startsWith("_")&&(styleAttrValue+=getStyleAttributeString(0,key.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),element.style[key]));element.setAttribute("style",styleAttrValue)}function setStyles(element,styles,formerStyles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=browser_dashCaseToCamelCase(prop);formerStyles&&!formerStyles.hasOwnProperty(prop)&&(formerStyles[prop]=element.style[camelProp]),element.style[camelProp]=styles[prop]}),browser_isNode()&&writeStyleAttribute(element))}function eraseStyles(element,styles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=browser_dashCaseToCamelCase(prop);element.style[camelProp]=""}),browser_isNode()&&writeStyleAttribute(element))}function normalizeAnimationEntry(steps){return Array.isArray(steps)?1==steps.length?steps[0]:sequence(steps):steps}const PARAM_REGEX=new RegExp("{{\\s*(.+?)\\s*}}","g");function extractStyleParams(value){let params=[];if("string"==typeof value){const val=value.toString();let match;for(;match=PARAM_REGEX.exec(val);)params.push(match[1]);PARAM_REGEX.lastIndex=0}return params}function interpolateParams(value,params,errors){const original=value.toString(),str=original.replace(PARAM_REGEX,(_,varName)=>{let localVal=params[varName];return params.hasOwnProperty(varName)||(errors.push("Please provide a value for the animation param "+varName),localVal=""),localVal.toString()});return str==original?value:str}function iteratorToArray(iterator){const arr=[];let item=iterator.next();for(;!item.done;)arr.push(item.value),item=iterator.next();return arr}const browser_DASH_CASE_REGEXP=/-+([a-z0-9])/g;function browser_dashCaseToCamelCase(input){return input.replace(browser_DASH_CASE_REGEXP,(...m)=>m[1].toUpperCase())}function allowPreviousPlayerStylesMerge(duration,delay){return 0===duration||0===delay}function balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles){const previousStyleProps=Object.keys(previousStyles);if(previousStyleProps.length&&keyframes.length){let startingKeyframe=keyframes[0],missingStyleProps=[];if(previousStyleProps.forEach(prop=>{startingKeyframe.hasOwnProperty(prop)||missingStyleProps.push(prop),startingKeyframe[prop]=previousStyles[prop]}),missingStyleProps.length)for(var i=1;i<keyframes.length;i++){let kf=keyframes[i];missingStyleProps.forEach((function(prop){kf[prop]=computeStyle(element,prop)}))}}return keyframes}function visitDslNode(visitor,node,context){switch(node.type){case 7:return visitor.visitTrigger(node,context);case 0:return visitor.visitState(node,context);case 1:return visitor.visitTransition(node,context);case 2:return visitor.visitSequence(node,context);case 3:return visitor.visitGroup(node,context);case 4:return visitor.visitAnimate(node,context);case 5:return visitor.visitKeyframes(node,context);case 6:return visitor.visitStyle(node,context);case 8:return visitor.visitReference(node,context);case 9:return visitor.visitAnimateChild(node,context);case 10:return visitor.visitAnimateRef(node,context);case 11:return visitor.visitQuery(node,context);case 12:return visitor.visitStagger(node,context);default:throw new Error("Unable to resolve animation metadata node #"+node.type)}}function computeStyle(element,prop){return window.getComputedStyle(element)[prop]}function parseTransitionExpr(transitionValue,errors){const expressions=[];return"string"==typeof transitionValue?transitionValue.split(/\s*,\s*/).forEach(str=>function(eventStr,expressions,errors){if(":"==eventStr[0]){const result=function(alias,errors){switch(alias){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(fromState,toState)=>parseFloat(toState)>parseFloat(fromState);case":decrement":return(fromState,toState)=>parseFloat(toState)<parseFloat(fromState);default:return errors.push(`The transition alias value "${alias}" is not supported`),"* => *"}}(eventStr,errors);if("function"==typeof result)return void expressions.push(result);eventStr=result}const match=eventStr.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==match||match.length<4)return errors.push(`The provided transition expression "${eventStr}" is not supported`),expressions;const fromState=match[1],separator=match[2],toState=match[3];expressions.push(makeLambdaFromStates(fromState,toState)),"<"!=separator[0]||"*"==fromState&&"*"==toState||expressions.push(makeLambdaFromStates(toState,fromState))}(str,expressions,errors)):expressions.push(transitionValue),expressions}const TRUE_BOOLEAN_VALUES=new Set(["true","1"]),FALSE_BOOLEAN_VALUES=new Set(["false","0"]);function makeLambdaFromStates(lhs,rhs){const LHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(lhs)||FALSE_BOOLEAN_VALUES.has(lhs),RHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(rhs)||FALSE_BOOLEAN_VALUES.has(rhs);return(fromState,toState)=>{let lhsMatch="*"==lhs||lhs==fromState,rhsMatch="*"==rhs||rhs==toState;return!lhsMatch&&LHS_MATCH_BOOLEAN&&"boolean"==typeof fromState&&(lhsMatch=fromState?TRUE_BOOLEAN_VALUES.has(lhs):FALSE_BOOLEAN_VALUES.has(lhs)),!rhsMatch&&RHS_MATCH_BOOLEAN&&"boolean"==typeof toState&&(rhsMatch=toState?TRUE_BOOLEAN_VALUES.has(rhs):FALSE_BOOLEAN_VALUES.has(rhs)),lhsMatch&&rhsMatch}}const SELF_TOKEN_REGEX=new RegExp("s*:selfs*,?","g");function buildAnimationAst(driver,metadata,errors){return new browser_AnimationAstBuilderVisitor(driver).build(metadata,errors)}class browser_AnimationAstBuilderVisitor{constructor(_driver){this._driver=_driver}build(metadata,errors){const context=new AnimationAstBuilderContext(errors);return this._resetContextStyleTimingState(context),visitDslNode(this,normalizeAnimationEntry(metadata),context)}_resetContextStyleTimingState(context){context.currentQuerySelector="",context.collectedStyles={},context.collectedStyles[""]={},context.currentTime=0}visitTrigger(metadata,context){let queryCount=context.queryCount=0,depCount=context.depCount=0;const states=[],transitions=[];return"@"==metadata.name.charAt(0)&&context.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),metadata.definitions.forEach(def=>{if(this._resetContextStyleTimingState(context),0==def.type){const stateDef=def,name=stateDef.name;name.toString().split(/\s*,\s*/).forEach(n=>{stateDef.name=n,states.push(this.visitState(stateDef,context))}),stateDef.name=name}else if(1==def.type){const transition=this.visitTransition(def,context);queryCount+=transition.queryCount,depCount+=transition.depCount,transitions.push(transition)}else context.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:metadata.name,states:states,transitions:transitions,queryCount:queryCount,depCount:depCount,options:null}}visitState(metadata,context){const styleAst=this.visitStyle(metadata.styles,context),astParams=metadata.options&&metadata.options.params||null;if(styleAst.containsDynamicStyles){const missingSubs=new Set,params=astParams||{};if(styleAst.styles.forEach(value=>{if(browser_isObject(value)){const stylesObj=value;Object.keys(stylesObj).forEach(prop=>{extractStyleParams(stylesObj[prop]).forEach(sub=>{params.hasOwnProperty(sub)||missingSubs.add(sub)})})}}),missingSubs.size){const missingSubsArr=iteratorToArray(missingSubs.values());context.errors.push(`state("${metadata.name}", ...) must define default values for all the following style substitutions: ${missingSubsArr.join(", ")}`)}}return{type:0,name:metadata.name,style:styleAst,options:astParams?{params:astParams}:null}}visitTransition(metadata,context){context.queryCount=0,context.depCount=0;const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return{type:1,matchers:parseTransitionExpr(metadata.expr,context.errors),animation:animation,queryCount:context.queryCount,depCount:context.depCount,options:normalizeAnimationOptions(metadata.options)}}visitSequence(metadata,context){return{type:2,steps:metadata.steps.map(s=>visitDslNode(this,s,context)),options:normalizeAnimationOptions(metadata.options)}}visitGroup(metadata,context){const currentTime=context.currentTime;let furthestTime=0;const steps=metadata.steps.map(step=>{context.currentTime=currentTime;const innerAst=visitDslNode(this,step,context);return furthestTime=Math.max(furthestTime,context.currentTime),innerAst});return context.currentTime=furthestTime,{type:3,steps:steps,options:normalizeAnimationOptions(metadata.options)}}visitAnimate(metadata,context){const timingAst=function(value,errors){let timings=null;if(value.hasOwnProperty("duration"))timings=value;else if("number"==typeof value)return makeTimingAst(resolveTiming(value,errors).duration,0,"");const strValue=value;if(strValue.split(/\s+/).some(v=>"{"==v.charAt(0)&&"{"==v.charAt(1))){const ast=makeTimingAst(0,0,"");return ast.dynamic=!0,ast.strValue=strValue,ast}return timings=timings||resolveTiming(strValue,errors),makeTimingAst(timings.duration,timings.delay,timings.easing)}(metadata.timings,context.errors);let styleAst;context.currentAnimateTimings=timingAst;let styleMetadata=metadata.styles?metadata.styles:animations_style({});if(5==styleMetadata.type)styleAst=this.visitKeyframes(styleMetadata,context);else{let styleMetadata=metadata.styles,isEmpty=!1;if(!styleMetadata){isEmpty=!0;const newStyleData={};timingAst.easing&&(newStyleData.easing=timingAst.easing),styleMetadata=animations_style(newStyleData)}context.currentTime+=timingAst.duration+timingAst.delay;const _styleAst=this.visitStyle(styleMetadata,context);_styleAst.isEmptyStep=isEmpty,styleAst=_styleAst}return context.currentAnimateTimings=null,{type:4,timings:timingAst,style:styleAst,options:null}}visitStyle(metadata,context){const ast=this._makeStyleAst(metadata,context);return this._validateStyleAst(ast,context),ast}_makeStyleAst(metadata,context){const styles=[];Array.isArray(metadata.styles)?metadata.styles.forEach(styleTuple=>{"string"==typeof styleTuple?"*"==styleTuple?styles.push(styleTuple):context.errors.push(`The provided style string value ${styleTuple} is not allowed.`):styles.push(styleTuple)}):styles.push(metadata.styles);let containsDynamicStyles=!1,collectedEasing=null;return styles.forEach(styleData=>{if(browser_isObject(styleData)){const styleMap=styleData,easing=styleMap.easing;if(easing&&(collectedEasing=easing,delete styleMap.easing),!containsDynamicStyles)for(let prop in styleMap)if(styleMap[prop].toString().indexOf("{{")>=0){containsDynamicStyles=!0;break}}}),{type:6,styles:styles,easing:collectedEasing,offset:metadata.offset,containsDynamicStyles:containsDynamicStyles,options:null}}_validateStyleAst(ast,context){const timings=context.currentAnimateTimings;let endTime=context.currentTime,startTime=context.currentTime;timings&&startTime>0&&(startTime-=timings.duration+timings.delay),ast.styles.forEach(tuple=>{"string"!=typeof tuple&&Object.keys(tuple).forEach(prop=>{if(!this._driver.validateStyleProperty(prop))return void context.errors.push(`The provided animation property "${prop}" is not a supported CSS property for animations`);const collectedStyles=context.collectedStyles[context.currentQuerySelector],collectedEntry=collectedStyles[prop];let updateCollectedStyle=!0;collectedEntry&&(startTime!=endTime&&startTime>=collectedEntry.startTime&&endTime<=collectedEntry.endTime&&(context.errors.push(`The CSS property "${prop}" that exists between the times of "${collectedEntry.startTime}ms" and "${collectedEntry.endTime}ms" is also being animated in a parallel animation between the times of "${startTime}ms" and "${endTime}ms"`),updateCollectedStyle=!1),startTime=collectedEntry.startTime),updateCollectedStyle&&(collectedStyles[prop]={startTime:startTime,endTime:endTime}),context.options&&function(value,options,errors){const params=options.params||{},matches=extractStyleParams(value);matches.length&&matches.forEach(varName=>{params.hasOwnProperty(varName)||errors.push(`Unable to resolve the local animation param ${varName} in the given list of values`)})}(tuple[prop],context.options,context.errors)})})}visitKeyframes(metadata,context){const ast={type:5,styles:[],options:null};if(!context.currentAnimateTimings)return context.errors.push("keyframes() must be placed inside of a call to animate()"),ast;let totalKeyframesWithOffsets=0;const offsets=[];let offsetsOutOfOrder=!1,keyframesOutOfRange=!1,previousOffset=0;const keyframes=metadata.steps.map(styles=>{const style=this._makeStyleAst(styles,context);let offsetVal=null!=style.offset?style.offset:function(styles){if("string"==typeof styles)return null;let offset=null;if(Array.isArray(styles))styles.forEach(styleTuple=>{if(browser_isObject(styleTuple)&&styleTuple.hasOwnProperty("offset")){const obj=styleTuple;offset=parseFloat(obj.offset),delete obj.offset}});else if(browser_isObject(styles)&&styles.hasOwnProperty("offset")){const obj=styles;offset=parseFloat(obj.offset),delete obj.offset}return offset}(style.styles),offset=0;return null!=offsetVal&&(totalKeyframesWithOffsets++,offset=style.offset=offsetVal),keyframesOutOfRange=keyframesOutOfRange||offset<0||offset>1,offsetsOutOfOrder=offsetsOutOfOrder||offset<previousOffset,previousOffset=offset,offsets.push(offset),style});keyframesOutOfRange&&context.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),offsetsOutOfOrder&&context.errors.push("Please ensure that all keyframe offsets are in order");const length=metadata.steps.length;let generatedOffset=0;totalKeyframesWithOffsets>0&&totalKeyframesWithOffsets<length?context.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==totalKeyframesWithOffsets&&(generatedOffset=1/(length-1));const limit=length-1,currentTime=context.currentTime,currentAnimateTimings=context.currentAnimateTimings,animateDuration=currentAnimateTimings.duration;return keyframes.forEach((kf,i)=>{const offset=generatedOffset>0?i==limit?1:generatedOffset*i:offsets[i],durationUpToThisFrame=offset*animateDuration;context.currentTime=currentTime+currentAnimateTimings.delay+durationUpToThisFrame,currentAnimateTimings.duration=durationUpToThisFrame,this._validateStyleAst(kf,context),kf.offset=offset,ast.styles.push(kf)}),ast}visitReference(metadata,context){return{type:8,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),options:normalizeAnimationOptions(metadata.options)}}visitAnimateChild(metadata,context){return context.depCount++,{type:9,options:normalizeAnimationOptions(metadata.options)}}visitAnimateRef(metadata,context){return{type:10,animation:this.visitReference(metadata.animation,context),options:normalizeAnimationOptions(metadata.options)}}visitQuery(metadata,context){const parentSelector=context.currentQuerySelector,options=metadata.options||{};context.queryCount++,context.currentQuery=metadata;const[selector,includeSelf]=function(selector){const hasAmpersand=!!selector.split(/\s*,\s*/).find(token=>":self"==token);return hasAmpersand&&(selector=selector.replace(SELF_TOKEN_REGEX,"")),[selector=selector.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,match=>".ng-trigger-"+match.substr(1)).replace(/:animating/g,".ng-animating"),hasAmpersand]}(metadata.selector);context.currentQuerySelector=parentSelector.length?parentSelector+" "+selector:selector,getOrSetAsInMap(context.collectedStyles,context.currentQuerySelector,{});const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return context.currentQuery=null,context.currentQuerySelector=parentSelector,{type:11,selector:selector,limit:options.limit||0,optional:!!options.optional,includeSelf:includeSelf,animation:animation,originalSelector:metadata.selector,options:normalizeAnimationOptions(metadata.options)}}visitStagger(metadata,context){context.currentQuery||context.errors.push("stagger() can only be used inside of query()");const timings="full"===metadata.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(metadata.timings,context.errors,!0);return{type:12,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),timings:timings,options:null}}}class AnimationAstBuilderContext{constructor(errors){this.errors=errors,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function browser_isObject(value){return!Array.isArray(value)&&"object"==typeof value}function normalizeAnimationOptions(options){var obj;return options?(options=copyObj(options)).params&&(options.params=(obj=options.params)?copyObj(obj):null):options={},options}function makeTimingAst(duration,delay,easing){return{duration:duration,delay:delay,easing:easing}}function createTimelineInstruction(element,keyframes,preStyleProps,postStyleProps,duration,delay,easing=null,subTimeline=!1){return{type:1,element:element,keyframes:keyframes,preStyleProps:preStyleProps,postStyleProps:postStyleProps,duration:duration,delay:delay,totalTime:duration+delay,easing:easing,subTimeline:subTimeline}}class ElementInstructionMap{constructor(){this._map=new Map}consume(element){let instructions=this._map.get(element);return instructions?this._map.delete(element):instructions=[],instructions}append(element,instructions){let existingInstructions=this._map.get(element);existingInstructions||this._map.set(element,existingInstructions=[]),existingInstructions.push(...instructions)}has(element){return this._map.has(element)}clear(){this._map.clear()}}const ENTER_TOKEN_REGEX=new RegExp(":enter","g"),LEAVE_TOKEN_REGEX=new RegExp(":leave","g");function buildAnimationTimelines(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles={},finalStyles={},options,subInstructions,errors=[]){return(new AnimationTimelineBuilderVisitor).buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors)}class AnimationTimelineBuilderVisitor{buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors=[]){subInstructions=subInstructions||new ElementInstructionMap;const context=new AnimationTimelineContext(driver,rootElement,subInstructions,enterClassName,leaveClassName,errors,[]);context.options=options,context.currentTimeline.setStyles([startingStyles],null,context.errors,options),visitDslNode(this,ast,context);const timelines=context.timelines.filter(timeline=>timeline.containsAnimation());if(timelines.length&&Object.keys(finalStyles).length){const tl=timelines[timelines.length-1];tl.allowOnlyTimelineStyles()||tl.setStyles([finalStyles],null,context.errors,options)}return timelines.length?timelines.map(timeline=>timeline.buildKeyframes()):[createTimelineInstruction(rootElement,[],[],[],0,0,"",!1)]}visitTrigger(ast,context){}visitState(ast,context){}visitTransition(ast,context){}visitAnimateChild(ast,context){const elementInstructions=context.subInstructions.consume(context.element);if(elementInstructions){const innerContext=context.createSubContext(ast.options),startTime=context.currentTimeline.currentTime,endTime=this._visitSubInstructions(elementInstructions,innerContext,innerContext.options);startTime!=endTime&&context.transformIntoNewTimeline(endTime)}context.previousNode=ast}visitAnimateRef(ast,context){const innerContext=context.createSubContext(ast.options);innerContext.transformIntoNewTimeline(),this.visitReference(ast.animation,innerContext),context.transformIntoNewTimeline(innerContext.currentTimeline.currentTime),context.previousNode=ast}_visitSubInstructions(instructions,context,options){let furthestTime=context.currentTimeline.currentTime;const duration=null!=options.duration?resolveTimingValue(options.duration):null,delay=null!=options.delay?resolveTimingValue(options.delay):null;return 0!==duration&&instructions.forEach(instruction=>{const instructionTimings=context.appendInstructionToTimeline(instruction,duration,delay);furthestTime=Math.max(furthestTime,instructionTimings.duration+instructionTimings.delay)}),furthestTime}visitReference(ast,context){context.updateOptions(ast.options,!0),visitDslNode(this,ast.animation,context),context.previousNode=ast}visitSequence(ast,context){const subContextCount=context.subContextCount;let ctx=context;const options=ast.options;if(options&&(options.params||options.delay)&&(ctx=context.createSubContext(options),ctx.transformIntoNewTimeline(),null!=options.delay)){6==ctx.previousNode.type&&(ctx.currentTimeline.snapshotCurrentStyles(),ctx.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);const delay=resolveTimingValue(options.delay);ctx.delayNextStep(delay)}ast.steps.length&&(ast.steps.forEach(s=>visitDslNode(this,s,ctx)),ctx.currentTimeline.applyStylesToKeyframe(),ctx.subContextCount>subContextCount&&ctx.transformIntoNewTimeline()),context.previousNode=ast}visitGroup(ast,context){const innerTimelines=[];let furthestTime=context.currentTimeline.currentTime;const delay=ast.options&&ast.options.delay?resolveTimingValue(ast.options.delay):0;ast.steps.forEach(s=>{const innerContext=context.createSubContext(ast.options);delay&&innerContext.delayNextStep(delay),visitDslNode(this,s,innerContext),furthestTime=Math.max(furthestTime,innerContext.currentTimeline.currentTime),innerTimelines.push(innerContext.currentTimeline)}),innerTimelines.forEach(timeline=>context.currentTimeline.mergeTimelineCollectedStyles(timeline)),context.transformIntoNewTimeline(furthestTime),context.previousNode=ast}_visitTiming(ast,context){if(ast.dynamic){const strValue=ast.strValue;return resolveTiming(context.params?interpolateParams(strValue,context.params,context.errors):strValue,context.errors)}return{duration:ast.duration,delay:ast.delay,easing:ast.easing}}visitAnimate(ast,context){const timings=context.currentAnimateTimings=this._visitTiming(ast.timings,context),timeline=context.currentTimeline;timings.delay&&(context.incrementTime(timings.delay),timeline.snapshotCurrentStyles());const style=ast.style;5==style.type?this.visitKeyframes(style,context):(context.incrementTime(timings.duration),this.visitStyle(style,context),timeline.applyStylesToKeyframe()),context.currentAnimateTimings=null,context.previousNode=ast}visitStyle(ast,context){const timeline=context.currentTimeline,timings=context.currentAnimateTimings;!timings&&timeline.getCurrentStyleProperties().length&&timeline.forwardFrame();const easing=timings&&timings.easing||ast.easing;ast.isEmptyStep?timeline.applyEmptyStep(easing):timeline.setStyles(ast.styles,easing,context.errors,context.options),context.previousNode=ast}visitKeyframes(ast,context){const currentAnimateTimings=context.currentAnimateTimings,startTime=context.currentTimeline.duration,duration=currentAnimateTimings.duration,innerTimeline=context.createSubContext().currentTimeline;innerTimeline.easing=currentAnimateTimings.easing,ast.styles.forEach(step=>{innerTimeline.forwardTime((step.offset||0)*duration),innerTimeline.setStyles(step.styles,step.easing,context.errors,context.options),innerTimeline.applyStylesToKeyframe()}),context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline),context.transformIntoNewTimeline(startTime+duration),context.previousNode=ast}visitQuery(ast,context){const startTime=context.currentTimeline.currentTime,options=ast.options||{},delay=options.delay?resolveTimingValue(options.delay):0;delay&&(6===context.previousNode.type||0==startTime&&context.currentTimeline.getCurrentStyleProperties().length)&&(context.currentTimeline.snapshotCurrentStyles(),context.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);let furthestTime=startTime;const elms=context.invokeQuery(ast.selector,ast.originalSelector,ast.limit,ast.includeSelf,!!options.optional,context.errors);context.currentQueryTotal=elms.length;let sameElementTimeline=null;elms.forEach((element,i)=>{context.currentQueryIndex=i;const innerContext=context.createSubContext(ast.options,element);delay&&innerContext.delayNextStep(delay),element===context.element&&(sameElementTimeline=innerContext.currentTimeline),visitDslNode(this,ast.animation,innerContext),innerContext.currentTimeline.applyStylesToKeyframe(),furthestTime=Math.max(furthestTime,innerContext.currentTimeline.currentTime)}),context.currentQueryIndex=0,context.currentQueryTotal=0,context.transformIntoNewTimeline(furthestTime),sameElementTimeline&&(context.currentTimeline.mergeTimelineCollectedStyles(sameElementTimeline),context.currentTimeline.snapshotCurrentStyles()),context.previousNode=ast}visitStagger(ast,context){const parentContext=context.parentContext,tl=context.currentTimeline,timings=ast.timings,duration=Math.abs(timings.duration),maxTime=duration*(context.currentQueryTotal-1);let delay=duration*context.currentQueryIndex;switch(timings.duration<0?"reverse":timings.easing){case"reverse":delay=maxTime-delay;break;case"full":delay=parentContext.currentStaggerTime}const timeline=context.currentTimeline;delay&&timeline.delayNextStep(delay);const startingTime=timeline.currentTime;visitDslNode(this,ast.animation,context),context.previousNode=ast,parentContext.currentStaggerTime=tl.currentTime-startingTime+(tl.startTime-parentContext.currentTimeline.startTime)}}const DEFAULT_NOOP_PREVIOUS_NODE={};class AnimationTimelineContext{constructor(_driver,element,subInstructions,_enterClassName,_leaveClassName,errors,timelines,initialTimeline){this._driver=_driver,this.element=element,this.subInstructions=subInstructions,this._enterClassName=_enterClassName,this._leaveClassName=_leaveClassName,this.errors=errors,this.timelines=timelines,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=initialTimeline||new browser_TimelineBuilder(this._driver,element,0),timelines.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(options,skipIfExists){if(!options)return;const newOptions=options;let optionsToUpdate=this.options;null!=newOptions.duration&&(optionsToUpdate.duration=resolveTimingValue(newOptions.duration)),null!=newOptions.delay&&(optionsToUpdate.delay=resolveTimingValue(newOptions.delay));const newParams=newOptions.params;if(newParams){let paramsToUpdate=optionsToUpdate.params;paramsToUpdate||(paramsToUpdate=this.options.params={}),Object.keys(newParams).forEach(name=>{skipIfExists&&paramsToUpdate.hasOwnProperty(name)||(paramsToUpdate[name]=interpolateParams(newParams[name],paramsToUpdate,this.errors))})}}_copyOptions(){const options={};if(this.options){const oldParams=this.options.params;if(oldParams){const params=options.params={};Object.keys(oldParams).forEach(name=>{params[name]=oldParams[name]})}}return options}createSubContext(options=null,element,newTime){const target=element||this.element,context=new AnimationTimelineContext(this._driver,target,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(target,newTime||0));return context.previousNode=this.previousNode,context.currentAnimateTimings=this.currentAnimateTimings,context.options=this._copyOptions(),context.updateOptions(options),context.currentQueryIndex=this.currentQueryIndex,context.currentQueryTotal=this.currentQueryTotal,context.parentContext=this,this.subContextCount++,context}transformIntoNewTimeline(newTime){return this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.currentTimeline=this.currentTimeline.fork(this.element,newTime),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(instruction,duration,delay){const updatedTimings={duration:null!=duration?duration:instruction.duration,delay:this.currentTimeline.currentTime+(null!=delay?delay:0)+instruction.delay,easing:""},builder=new SubTimelineBuilder(this._driver,instruction.element,instruction.keyframes,instruction.preStyleProps,instruction.postStyleProps,updatedTimings,instruction.stretchStartingKeyframe);return this.timelines.push(builder),updatedTimings}incrementTime(time){this.currentTimeline.forwardTime(this.currentTimeline.duration+time)}delayNextStep(delay){delay>0&&this.currentTimeline.delayNextStep(delay)}invokeQuery(selector,originalSelector,limit,includeSelf,optional,errors){let results=[];if(includeSelf&&results.push(this.element),selector.length>0){selector=(selector=selector.replace(ENTER_TOKEN_REGEX,"."+this._enterClassName)).replace(LEAVE_TOKEN_REGEX,"."+this._leaveClassName);let elements=this._driver.query(this.element,selector,1!=limit);0!==limit&&(elements=limit<0?elements.slice(elements.length+limit,elements.length):elements.slice(0,limit)),results.push(...elements)}return optional||0!=results.length||errors.push(`\`query("${originalSelector}")\` returned zero elements. (Use \`query("${originalSelector}", { optional: true })\` if you wish to allow this.)`),results}}class browser_TimelineBuilder{constructor(_driver,element,startTime,_elementTimelineStylesLookup){this._driver=_driver,this.element=element,this.startTime=startTime,this._elementTimelineStylesLookup=_elementTimelineStylesLookup,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(element),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(element,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(delay){const hasPreStyleStep=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||hasPreStyleStep?(this.forwardTime(this.currentTime+delay),hasPreStyleStep&&this.snapshotCurrentStyles()):this.startTime+=delay}fork(element,currentTime){return this.applyStylesToKeyframe(),new browser_TimelineBuilder(this._driver,element,currentTime||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(time){this.applyStylesToKeyframe(),this.duration=time,this._loadKeyframe()}_updateStyle(prop,value){this._localTimelineStyles[prop]=value,this._globalTimelineStyles[prop]=value,this._styleSummary[prop]={time:this.currentTime,value:value}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(easing){easing&&(this._previousKeyframe.easing=easing),Object.keys(this._globalTimelineStyles).forEach(prop=>{this._backFill[prop]=this._globalTimelineStyles[prop]||"*",this._currentKeyframe[prop]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(input,easing,errors,options){easing&&(this._previousKeyframe.easing=easing);const params=options&&options.params||{},styles=function(input,allStyles){const styles={};let allProperties;return input.forEach(token=>{"*"===token?(allProperties=allProperties||Object.keys(allStyles),allProperties.forEach(prop=>{styles[prop]="*"})):copyStyles(token,!1,styles)}),styles}(input,this._globalTimelineStyles);Object.keys(styles).forEach(prop=>{const val=interpolateParams(styles[prop],params,errors);this._pendingStyles[prop]=val,this._localTimelineStyles.hasOwnProperty(prop)||(this._backFill[prop]=this._globalTimelineStyles.hasOwnProperty(prop)?this._globalTimelineStyles[prop]:"*"),this._updateStyle(prop,val)})}applyStylesToKeyframe(){const styles=this._pendingStyles,props=Object.keys(styles);0!=props.length&&(this._pendingStyles={},props.forEach(prop=>{this._currentKeyframe[prop]=styles[prop]}),Object.keys(this._localTimelineStyles).forEach(prop=>{this._currentKeyframe.hasOwnProperty(prop)||(this._currentKeyframe[prop]=this._localTimelineStyles[prop])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(prop=>{const val=this._localTimelineStyles[prop];this._pendingStyles[prop]=val,this._updateStyle(prop,val)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const properties=[];for(let prop in this._currentKeyframe)properties.push(prop);return properties}mergeTimelineCollectedStyles(timeline){Object.keys(timeline._styleSummary).forEach(prop=>{const details0=this._styleSummary[prop],details1=timeline._styleSummary[prop];(!details0||details1.time>details0.time)&&this._updateStyle(prop,details1.value)})}buildKeyframes(){this.applyStylesToKeyframe();const preStyleProps=new Set,postStyleProps=new Set,isEmpty=1===this._keyframes.size&&0===this.duration;let finalKeyframes=[];this._keyframes.forEach((keyframe,time)=>{const finalKeyframe=copyStyles(keyframe,!0);Object.keys(finalKeyframe).forEach(prop=>{const value=finalKeyframe[prop];"!"==value?preStyleProps.add(prop):"*"==value&&postStyleProps.add(prop)}),isEmpty||(finalKeyframe.offset=time/this.duration),finalKeyframes.push(finalKeyframe)});const preProps=preStyleProps.size?iteratorToArray(preStyleProps.values()):[],postProps=postStyleProps.size?iteratorToArray(postStyleProps.values()):[];if(isEmpty){const kf0=finalKeyframes[0],kf1=copyObj(kf0);kf0.offset=0,kf1.offset=1,finalKeyframes=[kf0,kf1]}return createTimelineInstruction(this.element,finalKeyframes,preProps,postProps,this.duration,this.startTime,this.easing,!1)}}class SubTimelineBuilder extends browser_TimelineBuilder{constructor(driver,element,keyframes,preStyleProps,postStyleProps,timings,_stretchStartingKeyframe=!1){super(driver,element,timings.delay),this.element=element,this.keyframes=keyframes,this.preStyleProps=preStyleProps,this.postStyleProps=postStyleProps,this._stretchStartingKeyframe=_stretchStartingKeyframe,this.timings={duration:timings.duration,delay:timings.delay,easing:timings.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let keyframes=this.keyframes,{delay:delay,duration:duration,easing:easing}=this.timings;if(this._stretchStartingKeyframe&&delay){const newKeyframes=[],totalTime=duration+delay,startingGap=delay/totalTime,newFirstKeyframe=copyStyles(keyframes[0],!1);newFirstKeyframe.offset=0,newKeyframes.push(newFirstKeyframe);const oldFirstKeyframe=copyStyles(keyframes[0],!1);oldFirstKeyframe.offset=roundOffset(startingGap),newKeyframes.push(oldFirstKeyframe);const limit=keyframes.length-1;for(let i=1;i<=limit;i++){let kf=copyStyles(keyframes[i],!1);kf.offset=roundOffset((delay+kf.offset*duration)/totalTime),newKeyframes.push(kf)}duration=totalTime,delay=0,easing="",keyframes=newKeyframes}return createTimelineInstruction(this.element,keyframes,this.preStyleProps,this.postStyleProps,duration,delay,easing,!0)}}function roundOffset(offset,decimalPoints=3){const mult=Math.pow(10,decimalPoints-1);return Math.round(offset*mult)/mult}class AnimationStyleNormalizer{}class WebAnimationsStyleNormalizer extends AnimationStyleNormalizer{normalizePropertyName(propertyName,errors){return browser_dashCaseToCamelCase(propertyName)}normalizeStyleValue(userProvidedProperty,normalizedProperty,value,errors){let unit="";const strVal=value.toString().trim();if(DIMENSIONAL_PROP_MAP[normalizedProperty]&&0!==value&&"0"!==value)if("number"==typeof value)unit="px";else{const valAndSuffixMatch=value.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&errors.push(`Please provide a CSS unit value for ${userProvidedProperty}:${value}`)}return strVal+unit}}const DIMENSIONAL_PROP_MAP=(()=>function(keys){const map={};return keys.forEach(key=>map[key]=!0),map}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function createTransitionInstruction(element,triggerName,fromState,toState,isRemovalTransition,fromStyles,toStyles,timelines,queriedElements,preStyleProps,postStyleProps,totalTime,errors){return{type:0,element:element,triggerName:triggerName,isRemovalTransition:isRemovalTransition,fromState:fromState,fromStyles:fromStyles,toState:toState,toStyles:toStyles,timelines:timelines,queriedElements:queriedElements,preStyleProps:preStyleProps,postStyleProps:postStyleProps,totalTime:totalTime,errors:errors}}const EMPTY_OBJECT={};class AnimationTransitionFactory{constructor(_triggerName,ast,_stateStyles){this._triggerName=_triggerName,this.ast=ast,this._stateStyles=_stateStyles}match(currentState,nextState,element,params){return function(matchFns,currentState,nextState,element,params){return matchFns.some(fn=>fn(currentState,nextState,element,params))}(this.ast.matchers,currentState,nextState,element,params)}buildStyles(stateName,params,errors){const backupStateStyler=this._stateStyles["*"],stateStyler=this._stateStyles[stateName],backupStyles=backupStateStyler?backupStateStyler.buildStyles(params,errors):{};return stateStyler?stateStyler.buildStyles(params,errors):backupStyles}build(driver,element,currentState,nextState,enterClassName,leaveClassName,currentOptions,nextOptions,subInstructions,skipAstBuild){const errors=[],transitionAnimationParams=this.ast.options&&this.ast.options.params||EMPTY_OBJECT,currentStateStyles=this.buildStyles(currentState,currentOptions&&currentOptions.params||EMPTY_OBJECT,errors),nextAnimationParams=nextOptions&&nextOptions.params||EMPTY_OBJECT,nextStateStyles=this.buildStyles(nextState,nextAnimationParams,errors),queriedElements=new Set,preStyleMap=new Map,postStyleMap=new Map,isRemoval="void"===nextState,animationOptions={params:Object.assign({},transitionAnimationParams,nextAnimationParams)},timelines=skipAstBuild?[]:buildAnimationTimelines(driver,element,this.ast.animation,enterClassName,leaveClassName,currentStateStyles,nextStateStyles,animationOptions,subInstructions,errors);let totalTime=0;if(timelines.forEach(tl=>{totalTime=Math.max(tl.duration+tl.delay,totalTime)}),errors.length)return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,[],[],preStyleMap,postStyleMap,totalTime,errors);timelines.forEach(tl=>{const elm=tl.element,preProps=getOrSetAsInMap(preStyleMap,elm,{});tl.preStyleProps.forEach(prop=>preProps[prop]=!0);const postProps=getOrSetAsInMap(postStyleMap,elm,{});tl.postStyleProps.forEach(prop=>postProps[prop]=!0),elm!==element&&queriedElements.add(elm)});const queriedElementsList=iteratorToArray(queriedElements.values());return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,timelines,queriedElementsList,preStyleMap,postStyleMap,totalTime)}}class AnimationStateStyles{constructor(styles,defaultParams){this.styles=styles,this.defaultParams=defaultParams}buildStyles(params,errors){const finalStyles={},combinedParams=copyObj(this.defaultParams);return Object.keys(params).forEach(key=>{const value=params[key];null!=value&&(combinedParams[key]=value)}),this.styles.styles.forEach(value=>{if("string"!=typeof value){const styleObj=value;Object.keys(styleObj).forEach(prop=>{let val=styleObj[prop];val.length>1&&(val=interpolateParams(val,combinedParams,errors)),finalStyles[prop]=val})}}),finalStyles}}class AnimationTrigger{constructor(name,ast){this.name=name,this.ast=ast,this.transitionFactories=[],this.states={},ast.states.forEach(ast=>{this.states[ast.name]=new AnimationStateStyles(ast.style,ast.options&&ast.options.params||{})}),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),ast.transitions.forEach(ast=>{this.transitionFactories.push(new AnimationTransitionFactory(name,ast,this.states))}),this.fallbackTransition=function(triggerName,states){return new AnimationTransitionFactory(triggerName,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fromState,toState)=>!0],options:null,queryCount:0,depCount:0},states)}(name,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(currentState,nextState,element,params){return this.transitionFactories.find(f=>f.match(currentState,nextState,element,params))||null}matchStyles(currentState,params,errors){return this.fallbackTransition.buildStyles(currentState,params,errors)}}function balanceProperties(obj,key1,key2){obj.hasOwnProperty(key1)?obj.hasOwnProperty(key2)||(obj[key2]=obj[key1]):obj.hasOwnProperty(key2)&&(obj[key1]=obj[key2])}const EMPTY_INSTRUCTION_MAP=new ElementInstructionMap;class browser_TimelineAnimationEngine{constructor(bodyNode,_driver,_normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._normalizer=_normalizer,this._animations={},this._playersById={},this.players=[]}register(id,metadata){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error("Unable to build the animation due to the following errors: "+errors.join("\n"));this._animations[id]=ast}_buildPlayer(i,preStyles,postStyles){const element=i.element,keyframes=normalizeKeyframes(0,this._normalizer,0,i.keyframes,preStyles,postStyles);return this._driver.animate(element,keyframes,i.duration,i.delay,i.easing,[],!0)}create(id,element,options={}){const errors=[],ast=this._animations[id];let instructions;const autoStylesMap=new Map;if(ast?(instructions=buildAnimationTimelines(this._driver,element,ast,"ng-enter","ng-leave",{},{},options,EMPTY_INSTRUCTION_MAP,errors),instructions.forEach(inst=>{const styles=getOrSetAsInMap(autoStylesMap,inst.element,{});inst.postStyleProps.forEach(prop=>styles[prop]=null)})):(errors.push("The requested animation doesn't exist or has already been destroyed"),instructions=[]),errors.length)throw new Error("Unable to create the animation due to the following errors: "+errors.join("\n"));autoStylesMap.forEach((styles,element)=>{Object.keys(styles).forEach(prop=>{styles[prop]=this._driver.computeStyle(element,prop,"*")})});const player=optimizeGroupPlayer(instructions.map(i=>{const styles=autoStylesMap.get(i.element);return this._buildPlayer(i,{},styles)}));return this._playersById[id]=player,player.onDestroy(()=>this.destroy(id)),this.players.push(player),player}destroy(id){const player=this._getPlayer(id);player.destroy(),delete this._playersById[id];const index=this.players.indexOf(player);index>=0&&this.players.splice(index,1)}_getPlayer(id){const player=this._playersById[id];if(!player)throw new Error("Unable to find the timeline player referenced by "+id);return player}listen(id,element,eventName,callback){const baseEvent=makeAnimationEvent(element,"","","");return listenOnPlayer(this._getPlayer(id),eventName,baseEvent,callback),()=>{}}command(id,element,command,args){if("register"==command)return void this.register(id,args[0]);if("create"==command)return void this.create(id,element,args[0]||{});const player=this._getPlayer(id);switch(command){case"play":player.play();break;case"pause":player.pause();break;case"reset":player.reset();break;case"restart":player.restart();break;case"finish":player.finish();break;case"init":player.init();break;case"setPosition":player.setPosition(parseFloat(args[0]));break;case"destroy":this.destroy(id)}}}const EMPTY_PLAYER_ARRAY=[],NULL_REMOVAL_STATE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NULL_REMOVED_QUERIED_STATE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class StateValue{constructor(input,namespaceId=""){this.namespaceId=namespaceId;const isObj=input&&input.hasOwnProperty("value");if(this.value=null!=(value=isObj?input.value:input)?value:null,isObj){const options=copyObj(input);delete options.value,this.options=options}else this.options={};var value;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(options){const newParams=options.params;if(newParams){const oldParams=this.options.params;Object.keys(newParams).forEach(prop=>{null==oldParams[prop]&&(oldParams[prop]=newParams[prop])})}}}const DEFAULT_STATE_VALUE=new StateValue("void");class AnimationTransitionNamespace{constructor(id,hostElement,_engine){this.id=id,this.hostElement=hostElement,this._engine=_engine,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+id,addClass(hostElement,this._hostClassName)}listen(element,name,phase,callback){if(!this._triggers.hasOwnProperty(name))throw new Error(`Unable to listen on the animation trigger event "${phase}" because the animation trigger "${name}" doesn't exist!`);if(null==phase||0==phase.length)throw new Error(`Unable to listen on the animation trigger "${name}" because the provided event is undefined!`);if("start"!=(eventName=phase)&&"done"!=eventName)throw new Error(`The provided animation trigger event "${phase}" for the animation trigger "${name}" is not supported!`);var eventName;const listeners=getOrSetAsInMap(this._elementListeners,element,[]),data={name:name,phase:phase,callback:callback};listeners.push(data);const triggersWithStates=getOrSetAsInMap(this._engine.statesByElement,element,{});return triggersWithStates.hasOwnProperty(name)||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+name),triggersWithStates[name]=DEFAULT_STATE_VALUE),()=>{this._engine.afterFlush(()=>{const index=listeners.indexOf(data);index>=0&&listeners.splice(index,1),this._triggers[name]||delete triggersWithStates[name]})}}register(name,ast){return!this._triggers[name]&&(this._triggers[name]=ast,!0)}_getTrigger(name){const trigger=this._triggers[name];if(!trigger)throw new Error(`The provided animation trigger "${name}" has not been registered!`);return trigger}trigger(element,triggerName,value,defaultToFallback=!0){const trigger=this._getTrigger(triggerName),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);let triggersWithStates=this._engine.statesByElement.get(element);triggersWithStates||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+triggerName),this._engine.statesByElement.set(element,triggersWithStates={}));let fromState=triggersWithStates[triggerName];const toState=new StateValue(value,this.id);if(!(value&&value.hasOwnProperty("value"))&&fromState&&toState.absorbOptions(fromState.options),triggersWithStates[triggerName]=toState,fromState||(fromState=DEFAULT_STATE_VALUE),"void"!==toState.value&&fromState.value===toState.value){if(!function(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(k1.length!=k2.length)return!1;for(let i=0;i<k1.length;i++){const prop=k1[i];if(!b.hasOwnProperty(prop)||a[prop]!==b[prop])return!1}return!0}(fromState.params,toState.params)){const errors=[],fromStyles=trigger.matchStyles(fromState.value,fromState.params,errors),toStyles=trigger.matchStyles(toState.value,toState.params,errors);errors.length?this._engine.reportError(errors):this._engine.afterFlush(()=>{eraseStyles(element,fromStyles),setStyles(element,toStyles)})}return}const playersOnElement=getOrSetAsInMap(this._engine.playersByElement,element,[]);playersOnElement.forEach(player=>{player.namespaceId==this.id&&player.triggerName==triggerName&&player.queued&&player.destroy()});let transition=trigger.matchTransition(fromState.value,toState.value,element,toState.params),isFallbackTransition=!1;if(!transition){if(!defaultToFallback)return;transition=trigger.fallbackTransition,isFallbackTransition=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:isFallbackTransition}),isFallbackTransition||(addClass(element,"ng-animate-queued"),player.onStart(()=>{removeClass(element,"ng-animate-queued")})),player.onDone(()=>{let index=this.players.indexOf(player);index>=0&&this.players.splice(index,1);const players=this._engine.playersByElement.get(element);if(players){let index=players.indexOf(player);index>=0&&players.splice(index,1)}}),this.players.push(player),playersOnElement.push(player),player}deregister(name){delete this._triggers[name],this._engine.statesByElement.forEach((stateMap,element)=>{delete stateMap[name]}),this._elementListeners.forEach((listeners,element)=>{this._elementListeners.set(element,listeners.filter(entry=>entry.name!=name))})}clearElementCache(element){this._engine.statesByElement.delete(element),this._elementListeners.delete(element);const elementPlayers=this._engine.playersByElement.get(element);elementPlayers&&(elementPlayers.forEach(player=>player.destroy()),this._engine.playersByElement.delete(element))}_signalRemovalForInnerTriggers(rootElement,context,animate=!1){this._engine.driver.query(rootElement,".ng-trigger",!0).forEach(elm=>{if(elm.__ng_removed)return;const namespaces=this._engine.fetchNamespacesByElement(elm);namespaces.size?namespaces.forEach(ns=>ns.triggerLeaveAnimation(elm,context,!1,!0)):this.clearElementCache(elm)})}triggerLeaveAnimation(element,context,destroyAfterComplete,defaultToFallback){const triggerStates=this._engine.statesByElement.get(element);if(triggerStates){const players=[];if(Object.keys(triggerStates).forEach(triggerName=>{if(this._triggers[triggerName]){const player=this.trigger(element,triggerName,"void",defaultToFallback);player&&players.push(player)}}),players.length)return this._engine.markElementAsRemoved(this.id,element,!0,context),destroyAfterComplete&&optimizeGroupPlayer(players).onDone(()=>this._engine.processLeaveNode(element)),!0}return!1}prepareLeaveAnimationListeners(element){const listeners=this._elementListeners.get(element);if(listeners){const visitedTriggers=new Set;listeners.forEach(listener=>{const triggerName=listener.name;if(visitedTriggers.has(triggerName))return;visitedTriggers.add(triggerName);const transition=this._triggers[triggerName].fallbackTransition,fromState=this._engine.statesByElement.get(element)[triggerName]||DEFAULT_STATE_VALUE,toState=new StateValue("void"),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:!0})})}}removeNode(element,context){const engine=this._engine;if(element.childElementCount&&this._signalRemovalForInnerTriggers(element,context,!0),this.triggerLeaveAnimation(element,context,!0))return;let containsPotentialParentTransition=!1;if(engine.totalAnimations){const currentPlayers=engine.players.length?engine.playersByQueriedElement.get(element):[];if(currentPlayers&&currentPlayers.length)containsPotentialParentTransition=!0;else{let parent=element;for(;parent=parent.parentNode;)if(engine.statesByElement.get(parent)){containsPotentialParentTransition=!0;break}}}this.prepareLeaveAnimationListeners(element),containsPotentialParentTransition?engine.markElementAsRemoved(this.id,element,!1,context):(engine.afterFlush(()=>this.clearElementCache(element)),engine.destroyInnerAnimations(element),engine._onRemovalComplete(element,context))}insertNode(element,parent){addClass(element,this._hostClassName)}drainQueuedTransitions(microtaskId){const instructions=[];return this._queue.forEach(entry=>{const player=entry.player;if(player.destroyed)return;const element=entry.element,listeners=this._elementListeners.get(element);listeners&&listeners.forEach(listener=>{if(listener.name==entry.triggerName){const baseEvent=makeAnimationEvent(element,entry.triggerName,entry.fromState.value,entry.toState.value);baseEvent._data=microtaskId,listenOnPlayer(entry.player,listener.phase,baseEvent,listener.callback)}}),player.markedForDestroy?this._engine.afterFlush(()=>{player.destroy()}):instructions.push(entry)}),this._queue=[],instructions.sort((a,b)=>{const d0=a.transition.ast.depCount,d1=b.transition.ast.depCount;return 0==d0||0==d1?d0-d1:this._engine.driver.containsElement(a.element,b.element)?1:-1})}destroy(context){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,context)}elementContainsData(element){let containsData=!1;return this._elementListeners.has(element)&&(containsData=!0),containsData=!!this._queue.find(entry=>entry.element===element)||containsData,containsData}}class browser_TransitionAnimationEngine{constructor(bodyNode,driver,_normalizer){this.bodyNode=bodyNode,this.driver=driver,this._normalizer=_normalizer,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(element,context)=>{}}_onRemovalComplete(element,context){this.onRemovalComplete(element,context)}get queuedPlayers(){const players=[];return this._namespaceList.forEach(ns=>{ns.players.forEach(player=>{player.queued&&players.push(player)})}),players}createNamespace(namespaceId,hostElement){const ns=new AnimationTransitionNamespace(namespaceId,hostElement,this);return hostElement.parentNode?this._balanceNamespaceList(ns,hostElement):(this.newHostElements.set(hostElement,ns),this.collectEnterElement(hostElement)),this._namespaceLookup[namespaceId]=ns}_balanceNamespaceList(ns,hostElement){const limit=this._namespaceList.length-1;if(limit>=0){let found=!1;for(let i=limit;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,hostElement)){this._namespaceList.splice(i+1,0,ns),found=!0;break}found||this._namespaceList.splice(0,0,ns)}else this._namespaceList.push(ns);return this.namespacesByHostElement.set(hostElement,ns),ns}register(namespaceId,hostElement){let ns=this._namespaceLookup[namespaceId];return ns||(ns=this.createNamespace(namespaceId,hostElement)),ns}registerTrigger(namespaceId,name,trigger){let ns=this._namespaceLookup[namespaceId];ns&&ns.register(name,trigger)&&this.totalAnimations++}destroy(namespaceId,context){if(!namespaceId)return;const ns=this._fetchNamespace(namespaceId);this.afterFlush(()=>{this.namespacesByHostElement.delete(ns.hostElement),delete this._namespaceLookup[namespaceId];const index=this._namespaceList.indexOf(ns);index>=0&&this._namespaceList.splice(index,1)}),this.afterFlushAnimationsDone(()=>ns.destroy(context))}_fetchNamespace(id){return this._namespaceLookup[id]}fetchNamespacesByElement(element){const namespaces=new Set,elementStates=this.statesByElement.get(element);if(elementStates){const keys=Object.keys(elementStates);for(let i=0;i<keys.length;i++){const nsId=elementStates[keys[i]].namespaceId;if(nsId){const ns=this._fetchNamespace(nsId);ns&&namespaces.add(ns)}}}return namespaces}trigger(namespaceId,element,name,value){if(isElementNode(element)){const ns=this._fetchNamespace(namespaceId);if(ns)return ns.trigger(element,name,value),!0}return!1}insertNode(namespaceId,element,parent,insertBefore){if(!isElementNode(element))return;const details=element.__ng_removed;if(details&&details.setForRemoval){details.setForRemoval=!1,details.setForMove=!0;const index=this.collectedLeaveElements.indexOf(element);index>=0&&this.collectedLeaveElements.splice(index,1)}if(namespaceId){const ns=this._fetchNamespace(namespaceId);ns&&ns.insertNode(element,parent)}insertBefore&&this.collectEnterElement(element)}collectEnterElement(element){this.collectedEnterElements.push(element)}markElementAsDisabled(element,value){value?this.disabledNodes.has(element)||(this.disabledNodes.add(element),addClass(element,"ng-animate-disabled")):this.disabledNodes.has(element)&&(this.disabledNodes.delete(element),removeClass(element,"ng-animate-disabled"))}removeNode(namespaceId,element,isHostElement,context){if(isElementNode(element)){const ns=namespaceId?this._fetchNamespace(namespaceId):null;if(ns?ns.removeNode(element,context):this.markElementAsRemoved(namespaceId,element,!1,context),isHostElement){const hostNS=this.namespacesByHostElement.get(element);hostNS&&hostNS.id!==namespaceId&&hostNS.removeNode(element,context)}}else this._onRemovalComplete(element,context)}markElementAsRemoved(namespaceId,element,hasAnimation,context){this.collectedLeaveElements.push(element),element.__ng_removed={namespaceId:namespaceId,setForRemoval:context,hasAnimation:hasAnimation,removedBeforeQueried:!1}}listen(namespaceId,element,name,phase,callback){return isElementNode(element)?this._fetchNamespace(namespaceId).listen(element,name,phase,callback):()=>{}}_buildInstruction(entry,subTimelines,enterClassName,leaveClassName,skipBuildAst){return entry.transition.build(this.driver,entry.element,entry.fromState.value,entry.toState.value,enterClassName,leaveClassName,entry.fromState.options,entry.toState.options,subTimelines,skipBuildAst)}destroyInnerAnimations(containerElement){let elements=this.driver.query(containerElement,".ng-trigger",!0);elements.forEach(element=>this.destroyActiveAnimationsForElement(element)),0!=this.playersByQueriedElement.size&&(elements=this.driver.query(containerElement,".ng-animating",!0),elements.forEach(element=>this.finishActiveQueriedAnimationOnElement(element)))}destroyActiveAnimationsForElement(element){const players=this.playersByElement.get(element);players&&players.forEach(player=>{player.queued?player.markedForDestroy=!0:player.destroy()})}finishActiveQueriedAnimationOnElement(element){const players=this.playersByQueriedElement.get(element);players&&players.forEach(player=>player.finish())}whenRenderingDone(){return new Promise(resolve=>{if(this.players.length)return optimizeGroupPlayer(this.players).onDone(()=>resolve());resolve()})}processLeaveNode(element){const details=element.__ng_removed;if(details&&details.setForRemoval){if(element.__ng_removed=NULL_REMOVAL_STATE,details.namespaceId){this.destroyInnerAnimations(element);const ns=this._fetchNamespace(details.namespaceId);ns&&ns.clearElementCache(element)}this._onRemovalComplete(element,details.setForRemoval)}this.driver.matchesElement(element,".ng-animate-disabled")&&this.markElementAsDisabled(element,!1),this.driver.query(element,".ng-animate-disabled",!0).forEach(node=>{this.markElementAsDisabled(node,!1)})}flush(microtaskId=-1){let players=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ns,element)=>this._balanceNamespaceList(ns,element)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)addClass(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const cleanupFns=[];try{players=this._flushAnimations(cleanupFns,microtaskId)}finally{for(let i=0;i<cleanupFns.length;i++)cleanupFns[i]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(fn=>fn()),this._flushFns=[],this._whenQuietFns.length){const quietFns=this._whenQuietFns;this._whenQuietFns=[],players.length?optimizeGroupPlayer(players).onDone(()=>{quietFns.forEach(fn=>fn())}):quietFns.forEach(fn=>fn())}}reportError(errors){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+errors.join("\n"))}_flushAnimations(cleanupFns,microtaskId){const subTimelines=new ElementInstructionMap,skippedPlayers=[],skippedPlayersMap=new Map,queuedInstructions=[],queriedElements=new Map,allPreStyleElements=new Map,allPostStyleElements=new Map,disabledElementsSet=new Set;this.disabledNodes.forEach(node=>{disabledElementsSet.add(node);const nodesThatAreDisabled=this.driver.query(node,".ng-animate-queued",!0);for(let i=0;i<nodesThatAreDisabled.length;i++)disabledElementsSet.add(nodesThatAreDisabled[i])});const bodyNode=this.bodyNode,allTriggerElements=Array.from(this.statesByElement.keys()),enterNodeMap=buildRootMap(allTriggerElements,this.collectedEnterElements),enterNodeMapIds=new Map;let i=0;enterNodeMap.forEach((nodes,root)=>{const className="ng-enter"+i++;enterNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))});const allLeaveNodes=[],mergedLeaveNodes=new Set,leaveNodesWithoutAnimations=new Set;for(let i=0;i<this.collectedLeaveElements.length;i++){const element=this.collectedLeaveElements[i],details=element.__ng_removed;details&&details.setForRemoval&&(allLeaveNodes.push(element),mergedLeaveNodes.add(element),details.hasAnimation?this.driver.query(element,".ng-star-inserted",!0).forEach(elm=>mergedLeaveNodes.add(elm)):leaveNodesWithoutAnimations.add(element))}const leaveNodeMapIds=new Map,leaveNodeMap=buildRootMap(allTriggerElements,Array.from(mergedLeaveNodes));leaveNodeMap.forEach((nodes,root)=>{const className="ng-leave"+i++;leaveNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))}),cleanupFns.push(()=>{enterNodeMap.forEach((nodes,root)=>{const className=enterNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),leaveNodeMap.forEach((nodes,root)=>{const className=leaveNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),allLeaveNodes.forEach(element=>{this.processLeaveNode(element)})});const allPlayers=[],erroneousTransitions=[];for(let i=this._namespaceList.length-1;i>=0;i--)this._namespaceList[i].drainQueuedTransitions(microtaskId).forEach(entry=>{const player=entry.player,element=entry.element;if(allPlayers.push(player),this.collectedEnterElements.length){const details=element.__ng_removed;if(details&&details.setForMove)return void player.destroy()}const nodeIsOrphaned=!bodyNode||!this.driver.containsElement(bodyNode,element),leaveClassName=leaveNodeMapIds.get(element),enterClassName=enterNodeMapIds.get(element),instruction=this._buildInstruction(entry,subTimelines,enterClassName,leaveClassName,nodeIsOrphaned);if(instruction.errors&&instruction.errors.length)erroneousTransitions.push(instruction);else{if(nodeIsOrphaned)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);if(entry.isFallbackTransition)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);instruction.timelines.forEach(tl=>tl.stretchStartingKeyframe=!0),subTimelines.append(element,instruction.timelines),queuedInstructions.push({instruction:instruction,player:player,element:element}),instruction.queriedElements.forEach(element=>getOrSetAsInMap(queriedElements,element,[]).push(player)),instruction.preStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);if(props.length){let setVal=allPreStyleElements.get(element);setVal||allPreStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))}}),instruction.postStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);let setVal=allPostStyleElements.get(element);setVal||allPostStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))})}});if(erroneousTransitions.length){const errors=[];erroneousTransitions.forEach(instruction=>{errors.push(`@${instruction.triggerName} has failed due to:\n`),instruction.errors.forEach(error=>errors.push(`- ${error}\n`))}),allPlayers.forEach(player=>player.destroy()),this.reportError(errors)}const allPreviousPlayersMap=new Map,animationElementMap=new Map;queuedInstructions.forEach(entry=>{const element=entry.element;subTimelines.has(element)&&(animationElementMap.set(element,element),this._beforeAnimationBuild(entry.player.namespaceId,entry.instruction,allPreviousPlayersMap))}),skippedPlayers.forEach(player=>{const element=player.element;this._getPreviousPlayers(element,!1,player.namespaceId,player.triggerName,null).forEach(prevPlayer=>{getOrSetAsInMap(allPreviousPlayersMap,element,[]).push(prevPlayer),prevPlayer.destroy()})});const replaceNodes=allLeaveNodes.filter(node=>replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)),postStylesMap=new Map;cloakAndComputeStyles(postStylesMap,this.driver,leaveNodesWithoutAnimations,allPostStyleElements,"*").forEach(node=>{replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)&&replaceNodes.push(node)});const preStylesMap=new Map;enterNodeMap.forEach((nodes,root)=>{cloakAndComputeStyles(preStylesMap,this.driver,new Set(nodes),allPreStyleElements,"!")}),replaceNodes.forEach(node=>{const post=postStylesMap.get(node),pre=preStylesMap.get(node);postStylesMap.set(node,Object.assign({},post,pre))});const rootPlayers=[],subPlayers=[],NO_PARENT_ANIMATION_ELEMENT_DETECTED={};queuedInstructions.forEach(entry=>{const{element:element,player:player,instruction:instruction}=entry;if(subTimelines.has(element)){if(disabledElementsSet.has(element))return player.onDestroy(()=>setStyles(element,instruction.toStyles)),player.disabled=!0,player.overrideTotalTime(instruction.totalTime),void skippedPlayers.push(player);let parentWithAnimation=NO_PARENT_ANIMATION_ELEMENT_DETECTED;if(animationElementMap.size>1){let elm=element;const parentsToAdd=[];for(;elm=elm.parentNode;){const detectedParent=animationElementMap.get(elm);if(detectedParent){parentWithAnimation=detectedParent;break}parentsToAdd.push(elm)}parentsToAdd.forEach(parent=>animationElementMap.set(parent,parentWithAnimation))}const innerPlayer=this._buildAnimation(player.namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap);if(player.setRealPlayer(innerPlayer),parentWithAnimation===NO_PARENT_ANIMATION_ELEMENT_DETECTED)rootPlayers.push(player);else{const parentPlayers=this.playersByElement.get(parentWithAnimation);parentPlayers&&parentPlayers.length&&(player.parentPlayer=optimizeGroupPlayer(parentPlayers)),skippedPlayers.push(player)}}else eraseStyles(element,instruction.fromStyles),player.onDestroy(()=>setStyles(element,instruction.toStyles)),subPlayers.push(player),disabledElementsSet.has(element)&&skippedPlayers.push(player)}),subPlayers.forEach(player=>{const playersForElement=skippedPlayersMap.get(player.element);if(playersForElement&&playersForElement.length){const innerPlayer=optimizeGroupPlayer(playersForElement);player.setRealPlayer(innerPlayer)}}),skippedPlayers.forEach(player=>{player.parentPlayer?player.syncPlayerEvents(player.parentPlayer):player.destroy()});for(let i=0;i<allLeaveNodes.length;i++){const element=allLeaveNodes[i],details=element.__ng_removed;if(removeClass(element,"ng-leave"),details&&details.hasAnimation)continue;let players=[];if(queriedElements.size){let queriedPlayerResults=queriedElements.get(element);queriedPlayerResults&&queriedPlayerResults.length&&players.push(...queriedPlayerResults);let queriedInnerElements=this.driver.query(element,".ng-animating",!0);for(let j=0;j<queriedInnerElements.length;j++){let queriedPlayers=queriedElements.get(queriedInnerElements[j]);queriedPlayers&&queriedPlayers.length&&players.push(...queriedPlayers)}}const activePlayers=players.filter(p=>!p.destroyed);activePlayers.length?removeNodesAfterAnimationDone(this,element,activePlayers):this.processLeaveNode(element)}return allLeaveNodes.length=0,rootPlayers.forEach(player=>{this.players.push(player),player.onDone(()=>{player.destroy();const index=this.players.indexOf(player);this.players.splice(index,1)}),player.play()}),rootPlayers}elementContainsData(namespaceId,element){let containsData=!1;const details=element.__ng_removed;return details&&details.setForRemoval&&(containsData=!0),this.playersByElement.has(element)&&(containsData=!0),this.playersByQueriedElement.has(element)&&(containsData=!0),this.statesByElement.has(element)&&(containsData=!0),this._fetchNamespace(namespaceId).elementContainsData(element)||containsData}afterFlush(callback){this._flushFns.push(callback)}afterFlushAnimationsDone(callback){this._whenQuietFns.push(callback)}_getPreviousPlayers(element,isQueriedElement,namespaceId,triggerName,toStateValue){let players=[];if(isQueriedElement){const queriedElementPlayers=this.playersByQueriedElement.get(element);queriedElementPlayers&&(players=queriedElementPlayers)}else{const elementPlayers=this.playersByElement.get(element);if(elementPlayers){const isRemovalAnimation=!toStateValue||"void"==toStateValue;elementPlayers.forEach(player=>{player.queued||(isRemovalAnimation||player.triggerName==triggerName)&&players.push(player)})}}return(namespaceId||triggerName)&&(players=players.filter(player=>!(namespaceId&&namespaceId!=player.namespaceId||triggerName&&triggerName!=player.triggerName))),players}_beforeAnimationBuild(namespaceId,instruction,allPreviousPlayersMap){const rootElement=instruction.element,targetNameSpaceId=instruction.isRemovalTransition?void 0:namespaceId,targetTriggerName=instruction.isRemovalTransition?void 0:instruction.triggerName;for(const timelineInstruction of instruction.timelines){const element=timelineInstruction.element,isQueriedElement=element!==rootElement,players=getOrSetAsInMap(allPreviousPlayersMap,element,[]);this._getPreviousPlayers(element,isQueriedElement,targetNameSpaceId,targetTriggerName,instruction.toState).forEach(player=>{const realPlayer=player.getRealPlayer();realPlayer.beforeDestroy&&realPlayer.beforeDestroy(),player.destroy(),players.push(player)})}eraseStyles(rootElement,instruction.fromStyles)}_buildAnimation(namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap){const triggerName=instruction.triggerName,rootElement=instruction.element,allQueriedPlayers=[],allConsumedElements=new Set,allSubElements=new Set,allNewPlayers=instruction.timelines.map(timelineInstruction=>{const element=timelineInstruction.element;allConsumedElements.add(element);const details=element.__ng_removed;if(details&&details.removedBeforeQueried)return new NoopAnimationPlayer(timelineInstruction.duration,timelineInstruction.delay);const isQueriedElement=element!==rootElement,previousPlayers=function(players){const finalPlayers=[];return function _flattenGroupPlayersRecur(players,finalPlayers){for(let i=0;i<players.length;i++){const player=players[i];player instanceof AnimationGroupPlayer?_flattenGroupPlayersRecur(player.players,finalPlayers):finalPlayers.push(player)}}(players,finalPlayers),finalPlayers}((allPreviousPlayersMap.get(element)||EMPTY_PLAYER_ARRAY).map(p=>p.getRealPlayer())).filter(p=>!!p.element&&p.element===element),preStyles=preStylesMap.get(element),postStyles=postStylesMap.get(element),keyframes=normalizeKeyframes(0,this._normalizer,0,timelineInstruction.keyframes,preStyles,postStyles),player=this._buildPlayer(timelineInstruction,keyframes,previousPlayers);if(timelineInstruction.subTimeline&&skippedPlayersMap&&allSubElements.add(element),isQueriedElement){const wrappedPlayer=new browser_TransitionAnimationPlayer(namespaceId,triggerName,element);wrappedPlayer.setRealPlayer(player),allQueriedPlayers.push(wrappedPlayer)}return player});allQueriedPlayers.forEach(player=>{getOrSetAsInMap(this.playersByQueriedElement,player.element,[]).push(player),player.onDone(()=>function(map,key,value){let currentValues;if(map instanceof Map){if(currentValues=map.get(key),currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&map.delete(key)}}else if(currentValues=map[key],currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&delete map[key]}return currentValues}(this.playersByQueriedElement,player.element,player))}),allConsumedElements.forEach(element=>addClass(element,"ng-animating"));const player=optimizeGroupPlayer(allNewPlayers);return player.onDestroy(()=>{allConsumedElements.forEach(element=>removeClass(element,"ng-animating")),setStyles(rootElement,instruction.toStyles)}),allSubElements.forEach(element=>{getOrSetAsInMap(skippedPlayersMap,element,[]).push(player)}),player}_buildPlayer(instruction,keyframes,previousPlayers){return keyframes.length>0?this.driver.animate(instruction.element,keyframes,instruction.duration,instruction.delay,instruction.easing,previousPlayers):new NoopAnimationPlayer(instruction.duration,instruction.delay)}}class browser_TransitionAnimationPlayer{constructor(namespaceId,triggerName,element){this.namespaceId=namespaceId,this.triggerName=triggerName,this.element=element,this._player=new NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(player){this._containsRealPlayer||(this._player=player,Object.keys(this._queuedCallbacks).forEach(phase=>{this._queuedCallbacks[phase].forEach(callback=>listenOnPlayer(player,phase,void 0,callback))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(player.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(totalTime){this.totalTime=totalTime}syncPlayerEvents(player){const p=this._player;p.triggerCallback&&player.onStart(()=>p.triggerCallback("start")),player.onDone(()=>this.finish()),player.onDestroy(()=>this.destroy())}_queueEvent(name,callback){getOrSetAsInMap(this._queuedCallbacks,name,[]).push(callback)}onDone(fn){this.queued&&this._queueEvent("done",fn),this._player.onDone(fn)}onStart(fn){this.queued&&this._queueEvent("start",fn),this._player.onStart(fn)}onDestroy(fn){this.queued&&this._queueEvent("destroy",fn),this._player.onDestroy(fn)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(phaseName){const p=this._player;p.triggerCallback&&p.triggerCallback(phaseName)}}function isElementNode(node){return node&&1===node.nodeType}function cloakElement(element,value){const oldValue=element.style.display;return element.style.display=null!=value?value:"none",oldValue}function cloakAndComputeStyles(valuesMap,driver,elements,elementPropsMap,defaultStyle){const cloakVals=[];elements.forEach(element=>cloakVals.push(cloakElement(element)));const failedElements=[];elementPropsMap.forEach((props,element)=>{const styles={};props.forEach(prop=>{const value=styles[prop]=driver.computeStyle(element,prop,defaultStyle);value&&0!=value.length||(element.__ng_removed=NULL_REMOVED_QUERIED_STATE,failedElements.push(element))}),valuesMap.set(element,styles)});let i=0;return elements.forEach(element=>cloakElement(element,cloakVals[i++])),failedElements}function buildRootMap(roots,nodes){const rootMap=new Map;if(roots.forEach(root=>rootMap.set(root,[])),0==nodes.length)return rootMap;const nodeSet=new Set(nodes),localRootMap=new Map;return nodes.forEach(node=>{const root=function getRoot(node){if(!node)return 1;let root=localRootMap.get(node);if(root)return root;const parent=node.parentNode;return root=rootMap.has(parent)?parent:nodeSet.has(parent)?1:getRoot(parent),localRootMap.set(node,root),root}(node);1!==root&&rootMap.get(root).push(node)}),rootMap}function addClass(element,className){if(element.classList)element.classList.add(className);else{let classes=element.$$classes;classes||(classes=element.$$classes={}),classes[className]=!0}}function removeClass(element,className){if(element.classList)element.classList.remove(className);else{let classes=element.$$classes;classes&&delete classes[className]}}function removeNodesAfterAnimationDone(engine,element,players){optimizeGroupPlayer(players).onDone(()=>engine.processLeaveNode(element))}function replacePostStylesAsPre(element,allPreStyleElements,allPostStyleElements){const postEntry=allPostStyleElements.get(element);if(!postEntry)return!1;let preEntry=allPreStyleElements.get(element);return preEntry?postEntry.forEach(data=>preEntry.add(data)):allPreStyleElements.set(element,postEntry),allPostStyleElements.delete(element),!0}class AnimationEngine{constructor(bodyNode,_driver,normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._triggerCache={},this.onRemovalComplete=(element,context)=>{},this._transitionEngine=new browser_TransitionAnimationEngine(bodyNode,_driver,normalizer),this._timelineEngine=new browser_TimelineAnimationEngine(bodyNode,_driver,normalizer),this._transitionEngine.onRemovalComplete=(element,context)=>this.onRemovalComplete(element,context)}registerTrigger(componentId,namespaceId,hostElement,name,metadata){const cacheKey=componentId+"-"+name;let trigger=this._triggerCache[cacheKey];if(!trigger){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error(`The animation trigger "${name}" has failed to build due to the following errors:\n - ${errors.join("\n - ")}`);trigger=function(name,ast){return new AnimationTrigger(name,ast)}(name,ast),this._triggerCache[cacheKey]=trigger}this._transitionEngine.registerTrigger(namespaceId,name,trigger)}register(namespaceId,hostElement){this._transitionEngine.register(namespaceId,hostElement)}destroy(namespaceId,context){this._transitionEngine.destroy(namespaceId,context)}onInsert(namespaceId,element,parent,insertBefore){this._transitionEngine.insertNode(namespaceId,element,parent,insertBefore)}onRemove(namespaceId,element,context,isHostElement){this._transitionEngine.removeNode(namespaceId,element,isHostElement||!1,context)}disableAnimations(element,disable){this._transitionEngine.markElementAsDisabled(element,disable)}process(namespaceId,element,property,value){if("@"==property.charAt(0)){const[id,action]=parseTimelineCommand(property);this._timelineEngine.command(id,element,action,value)}else this._transitionEngine.trigger(namespaceId,element,property,value)}listen(namespaceId,element,eventName,eventPhase,callback){if("@"==eventName.charAt(0)){const[id,action]=parseTimelineCommand(eventName);return this._timelineEngine.listen(id,element,action,callback)}return this._transitionEngine.listen(namespaceId,element,eventName,eventPhase,callback)}flush(microtaskId=-1){this._transitionEngine.flush(microtaskId)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function packageNonAnimatableStyles(element,styles){let startStyles=null,endStyles=null;return Array.isArray(styles)&&styles.length?(startStyles=filterNonAnimatableStyles(styles[0]),styles.length>1&&(endStyles=filterNonAnimatableStyles(styles[styles.length-1]))):styles&&(startStyles=filterNonAnimatableStyles(styles)),startStyles||endStyles?new SpecialCasedStyles(element,startStyles,endStyles):null}let SpecialCasedStyles=(()=>{class SpecialCasedStyles{constructor(_element,_startStyles,_endStyles){this._element=_element,this._startStyles=_startStyles,this._endStyles=_endStyles,this._state=0;let initialStyles=SpecialCasedStyles.initialStylesByElement.get(_element);initialStyles||SpecialCasedStyles.initialStylesByElement.set(_element,initialStyles={}),this._initialStyles=initialStyles}start(){this._state<1&&(this._startStyles&&setStyles(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(setStyles(this._element,this._initialStyles),this._endStyles&&(setStyles(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(SpecialCasedStyles.initialStylesByElement.delete(this._element),this._startStyles&&(eraseStyles(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eraseStyles(this._element,this._endStyles),this._endStyles=null),setStyles(this._element,this._initialStyles),this._state=3)}}return SpecialCasedStyles.initialStylesByElement=new WeakMap,SpecialCasedStyles})();function filterNonAnimatableStyles(styles){let result=null;const props=Object.keys(styles);for(let i=0;i<props.length;i++){const prop=props[i];isNonAnimatableStyle(prop)&&(result=result||{},result[prop]=styles[prop])}return result}function isNonAnimatableStyle(prop){return"display"===prop||"position"===prop}class ElementAnimationStyleHandler{constructor(_element,_name,_duration,_delay,_easing,_fillMode,_onDoneFn){this._element=_element,this._name=_name,this._duration=_duration,this._delay=_delay,this._easing=_easing,this._fillMode=_fillMode,this._onDoneFn=_onDoneFn,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(element,value){const anim=getAnimationStyle(element,"").trim();anim.length&&(function(value,char){let count=0;for(let i=0;i<value.length;i++)","===value.charAt(i)&&count++}(anim),value=`${anim}, ${value}`),setAnimationStyle(element,"",value)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),addRemoveAnimationEvent(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){playPauseAnimation(this._element,this._name,"paused")}resume(){playPauseAnimation(this._element,this._name,"running")}setPosition(position){const index=findIndexForAnimation(this._element,this._name);this._position=position*this._duration,setAnimationStyle(this._element,"Delay",`-${this._position}ms`,index)}getPosition(){return this._position}_handleCallback(event){const timestamp=event._ngTestManualTimestamp||Date.now(),elapsedTime=1e3*parseFloat(event.elapsedTime.toFixed(3));event.animationName==this._name&&Math.max(timestamp-this._startTime,0)>=this._delay&&elapsedTime>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),addRemoveAnimationEvent(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(element,name){const tokens=getAnimationStyle(element,"").split(","),index=findMatchingTokenIndex(tokens,name);index>=0&&(tokens.splice(index,1),setAnimationStyle(element,"",tokens.join(",")))}(this._element,this._name))}}function playPauseAnimation(element,name,status){setAnimationStyle(element,"PlayState",status,findIndexForAnimation(element,name))}function findIndexForAnimation(element,value){const anim=getAnimationStyle(element,"");return anim.indexOf(",")>0?findMatchingTokenIndex(anim.split(","),value):findMatchingTokenIndex([anim],value)}function findMatchingTokenIndex(tokens,searchToken){for(let i=0;i<tokens.length;i++)if(tokens[i].indexOf(searchToken)>=0)return i;return-1}function addRemoveAnimationEvent(element,fn,doRemove){doRemove?element.removeEventListener("animationend",fn):element.addEventListener("animationend",fn)}function setAnimationStyle(element,name,value,index){const prop="animation"+name;if(null!=index){const oldValue=element.style[prop];if(oldValue.length){const tokens=oldValue.split(",");tokens[index]=value,value=tokens.join(",")}}element.style[prop]=value}function getAnimationStyle(element,name){return element.style["animation"+name]}class CssKeyframesPlayer{constructor(element,keyframes,animationName,_duration,_delay,easing,_finalStyles,_specialStyles){this.element=element,this.keyframes=keyframes,this.animationName=animationName,this._duration=_duration,this._delay=_delay,this._finalStyles=_finalStyles,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=easing||"linear",this.totalTime=_duration+_delay,this._buildStyler()}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(value){this._styler.setPosition(value)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ElementAnimationStyleHandler(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}beforeDestroy(){this.init();const styles={};if(this.hasStarted()){const finished=this._state>=3;Object.keys(this._finalStyles).forEach(prop=>{"offset"!=prop&&(styles[prop]=finished?this._finalStyles[prop]:computeStyle(this.element,prop))})}this.currentSnapshot=styles}}class browser_DirectStylePlayer extends NoopAnimationPlayer{constructor(element,styles){super(),this.element=element,this._startingStyles={},this.__initialized=!1,this._styles=hypenatePropsObject(styles)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(prop=>{this._startingStyles[prop]=this.element.style[prop]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(prop=>this.element.style.setProperty(prop,this._styles[prop])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(prop=>{const value=this._startingStyles[prop];value?this.element.style.setProperty(prop,value):this.element.style.removeProperty(prop)}),this._startingStyles=null,super.destroy())}}class CssKeyframesDriver{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}buildKeyframeElement(element,name,keyframes){keyframes=keyframes.map(kf=>hypenatePropsObject(kf));let keyframeStr=`@keyframes ${name} {\n`,tab="";keyframes.forEach(kf=>{tab=" ";const offset=parseFloat(kf.offset);keyframeStr+=`${tab}${100*offset}% {\n`,tab+=" ",Object.keys(kf).forEach(prop=>{const value=kf[prop];switch(prop){case"offset":return;case"easing":return void(value&&(keyframeStr+=`${tab}animation-timing-function: ${value};\n`));default:return void(keyframeStr+=`${tab}${prop}: ${value};\n`)}}),keyframeStr+=tab+"}\n"}),keyframeStr+="}\n";const kfElm=document.createElement("style");return kfElm.innerHTML=keyframeStr,kfElm}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){scrubberAccessRequested&&this._notifyFaultyScrubber();const previousCssKeyframePlayers=previousPlayers.filter(player=>player instanceof CssKeyframesPlayer),previousStyles={};allowPreviousPlayerStylesMerge(duration,delay)&&previousCssKeyframePlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const finalStyles=function(keyframes){let flatKeyframes={};return keyframes&&(Array.isArray(keyframes)?keyframes:[keyframes]).forEach(kf=>{Object.keys(kf).forEach(prop=>{"offset"!=prop&&"easing"!=prop&&(flatKeyframes[prop]=kf[prop])})}),flatKeyframes}(keyframes=balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles));if(0==duration)return new browser_DirectStylePlayer(element,finalStyles);const animationName="gen_css_kf_"+this._count++,kfElm=this.buildKeyframeElement(element,animationName,keyframes);document.querySelector("head").appendChild(kfElm);const specialStyles=packageNonAnimatableStyles(element,keyframes),player=new CssKeyframesPlayer(element,keyframes,animationName,duration,delay,easing,finalStyles,specialStyles);return player.onDestroy(()=>{var node;(node=kfElm).parentNode.removeChild(node)}),player}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class WebAnimationsPlayer{constructor(element,keyframes,options,_specialStyles){this.element=element,this.keyframes=keyframes,this.options=options,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=options.duration,this._delay=options.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const keyframes=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,keyframes,this.options),this._finalKeyframe=keyframes.length?keyframes[keyframes.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(element,keyframes,options){return element.animate(keyframes,options)}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(fn=>fn()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}setPosition(p){this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const styles={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(prop=>{"offset"!=prop&&(styles[prop]=this._finished?this._finalKeyframe[prop]:computeStyle(this.element,prop))}),this.currentSnapshot=styles}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class WebAnimationsDriver{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(getElementAnimateFn().toString()),this._cssKeyframesDriver=new CssKeyframesDriver}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}overrideWebAnimationsSupport(supported){this._isNativeImpl=supported}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){if(!scrubberAccessRequested&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(element,keyframes,duration,delay,easing,previousPlayers);const playerOptions={duration:duration,delay:delay,fill:0==delay?"both":"forwards"};easing&&(playerOptions.easing=easing);const previousStyles={},previousWebAnimationPlayers=previousPlayers.filter(player=>player instanceof WebAnimationsPlayer);allowPreviousPlayerStylesMerge(duration,delay)&&previousWebAnimationPlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const specialStyles=packageNonAnimatableStyles(element,keyframes=balancePreviousStylesIntoKeyframes(element,keyframes=keyframes.map(styles=>copyStyles(styles,!1)),previousStyles));return new WebAnimationsPlayer(element,keyframes,playerOptions,specialStyles)}}function getElementAnimateFn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class animations_BrowserAnimationBuilder extends AnimationBuilder{constructor(rootRenderer,doc){super(),this._nextAnimationId=0,this._renderer=rootRenderer.createRenderer(doc.body,{id:"0",encapsulation:ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(animation){const id=this._nextAnimationId.toString();this._nextAnimationId++;const entry=Array.isArray(animation)?sequence(animation):animation;return issueAnimationCommand(this._renderer,null,id,"register",[entry]),new animations_BrowserAnimationFactory(id,this._renderer)}}class animations_BrowserAnimationFactory extends class{}{constructor(_id,_renderer){super(),this._id=_id,this._renderer=_renderer}create(element,options){return new RendererAnimationPlayer(this._id,element,options||{},this._renderer)}}class RendererAnimationPlayer{constructor(id,element,options,_renderer){this.id=id,this.element=element,this._renderer=_renderer,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",options)}_listen(eventName,callback){return this._renderer.listen(this.element,`@@${this.id}:${eventName}`,callback)}_command(command,...args){return issueAnimationCommand(this._renderer,this.element,this.id,command,args)}onDone(fn){this._listen("done",fn)}onStart(fn){this._listen("start",fn)}onDestroy(fn){this._listen("destroy",fn)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(p){this._command("setPosition",p)}getPosition(){return 0}}function issueAnimationCommand(renderer,element,id,command,args){return renderer.setProperty(element,`@@${id}:${command}`,args)}class AnimationRendererFactory{constructor(delegate,engine,_zone){this.delegate=delegate,this.engine=engine,this._zone=_zone,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),engine.onRemovalComplete=(element,delegate)=>{delegate&&delegate.parentNode(element)&&delegate.removeChild(element.parentNode,element)}}createRenderer(hostElement,type){const delegate=this.delegate.createRenderer(hostElement,type);if(!(hostElement&&type&&type.data&&type.data.animation)){let renderer=this._rendererCache.get(delegate);return renderer||(renderer=new BaseAnimationRenderer("",delegate,this.engine),this._rendererCache.set(delegate,renderer)),renderer}const componentId=type.id,namespaceId=type.id+"-"+this._currentId;return this._currentId++,this.engine.register(namespaceId,hostElement),type.data.animation.forEach(trigger=>this.engine.registerTrigger(componentId,namespaceId,hostElement,trigger.name,trigger)),new AnimationRenderer(this,namespaceId,delegate,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(count,fn,data){count>=0&&count<this._microtaskId?this._zone.run(()=>fn(data)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(tuple=>{const[fn,data]=tuple;fn(data)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([fn,data]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class BaseAnimationRenderer{constructor(namespaceId,delegate,engine){this.namespaceId=namespaceId,this.delegate=delegate,this.engine=engine,this.destroyNode=this.delegate.destroyNode?n=>delegate.destroyNode(n):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(name,namespace){return this.delegate.createElement(name,namespace)}createComment(value){return this.delegate.createComment(value)}createText(value){return this.delegate.createText(value)}appendChild(parent,newChild){this.delegate.appendChild(parent,newChild),this.engine.onInsert(this.namespaceId,newChild,parent,!1)}insertBefore(parent,newChild,refChild){this.delegate.insertBefore(parent,newChild,refChild),this.engine.onInsert(this.namespaceId,newChild,parent,!0)}removeChild(parent,oldChild,isHostElement){this.engine.onRemove(this.namespaceId,oldChild,this.delegate,isHostElement)}selectRootElement(selectorOrNode,preserveContent){return this.delegate.selectRootElement(selectorOrNode,preserveContent)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setAttribute(el,name,value,namespace){this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){this.delegate.addClass(el,name)}removeClass(el,name){this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){"@"==name.charAt(0)&&"@.disabled"==name?this.disableAnimations(el,!!value):this.delegate.setProperty(el,name,value)}setValue(node,value){this.delegate.setValue(node,value)}listen(target,eventName,callback){return this.delegate.listen(target,eventName,callback)}disableAnimations(element,value){this.engine.disableAnimations(element,value)}}class AnimationRenderer extends BaseAnimationRenderer{constructor(factory,namespaceId,delegate,engine){super(namespaceId,delegate,engine),this.factory=factory,this.namespaceId=namespaceId}setProperty(el,name,value){"@"==name.charAt(0)?"."==name.charAt(1)&&"@.disabled"==name?this.disableAnimations(el,value=void 0===value||!!value):this.engine.process(this.namespaceId,el,name.substr(1),value):this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if("@"==eventName.charAt(0)){const element=function(target){switch(target){case"body":return document.body;case"document":return document;case"window":return window;default:return target}}(target);let name=eventName.substr(1),phase="";return"@"!=name.charAt(0)&&([name,phase]=function(triggerName){const dotIndex=triggerName.indexOf(".");return[triggerName.substring(0,dotIndex),triggerName.substr(dotIndex+1)]}(name)),this.engine.listen(this.namespaceId,element,name,phase,event=>{this.factory.scheduleListenerCallback(event._data||-1,callback,event)})}return this.delegate.listen(target,eventName,callback)}}class animations_InjectableAnimationEngine extends AnimationEngine{constructor(doc,driver,normalizer){super(doc.body,driver,normalizer)}}function instantiateSupportedAnimationDriver(){return"function"==typeof getElementAnimateFn()?new WebAnimationsDriver:new CssKeyframesDriver}function instantiateDefaultStyleNormalizer(){return new WebAnimationsStyleNormalizer}function instantiateRendererFactory(renderer,engine,zone){return new AnimationRendererFactory(renderer,engine,zone)}const ANIMATION_MODULE_TYPE=new InjectionToken("AnimationModuleType");class BrowserAnimationsModule{}let auth_interceptor_service_AuthInterceptorService=(()=>{class AuthInterceptorService{constructor(authService,router){this.authService=authService,this.router=router}addAuthHeader(request){const user=this.authService.getUser();return user?request.clone({setHeaders:{Authorization:"Bearer "+user.token,"Client-Device-Id":""+this.authService.getClientDeviceId()}}):request}handleResponseError(error,request,next){return 400===error.status||401!==error.status&&403!==error.status||(console.error("Login ist abgelaufen. Bitte neu einloggen!"),-1===this.router.url.indexOf("/auth")&&this.router.navigateByUrl("/auth")),throwError_throwError(error)}intercept(req,next){const request=this.addAuthHeader(req);return next.handle(request).pipe(catchError((error,caught)=>this.handleResponseError(error,request,next)))}}return AuthInterceptorService.ngInjectableDef=ɵɵdefineInjectable({factory:function(){return new AuthInterceptorService(ɵɵinject(auth_service_AuthService),ɵɵinject(router_Router))},token:AuthInterceptorService,providedIn:"root"}),AuthInterceptorService})(),WebcamModule=class{};var AppModuleNgFactory=createNgModuleFactory(app_module_AppModule,[app_component_AppComponent],(function(_l){return function(providers){const providersByKey={},modules=[];let isRoot=!1;for(let i=0;i<providers.length;i++){const provider=providers[i];provider.token===APP_ROOT&&!0===provider.value&&(isRoot=!0),1073741824&provider.flags&&modules.push(provider.token),provider.index=i,providersByKey[tokenKey(provider.token)]=provider}return{factory:null,providersByKey:providersByKey,providers:providers,modules:modules,isRoot:isRoot}}([moduleProvideDef(512,ComponentFactoryResolver,CodegenComponentFactoryResolver,[[8,[NgbAlertNgFactory,NgbDatepickerNgFactory,ɵuNgFactory,ɵvNgFactory,ɵmNgFactory,ɵrNgFactory,ɵsNgFactory,ɵangular_packages_router_router_lNgFactory,ToastNgFactory,AuthComponentNgFactory,SelectInventoryComponentNgFactory,InventFormComponentNgFactory,DbsyncComponentNgFactory,SettingsComponentNgFactory,CreateArtikelImageComponentNgFactory,ShowArtikelImageComponentNgFactory,ScannerComponentNgFactory,SelectCreateArtikelComponentNgFactory,SelectCreateRaumComponentNgFactory,SelectSearchRaumComponentNgFactory,SelectSearchArtikelComponentNgFactory,RaumListDoneComponentNgFactory,RaumListRestComponentNgFactory,GesamtListRestComponentNgFactory,GesamtListDoneComponentNgFactory,EditRaumComponentNgFactory,EditInventarComponentNgFactory,AppComponentNgFactory]],[3,ComponentFactoryResolver],NgModuleRef]),moduleProvideDef(5120,LOCALE_ID$1,_localeFactory,[[3,LOCALE_ID$1]]),moduleProvideDef(4608,NgLocalization,NgLocaleLocalization,[LOCALE_ID$1,[2,DEPRECATED_PLURAL_FN]]),moduleProvideDef(5120,SCHEDULER,zoneSchedulerFactory,[NgZone]),moduleProvideDef(5120,APP_ID,_appIdRandomProviderFactory,[]),moduleProvideDef(5120,IterableDiffers,_iterableDiffersFactory,[]),moduleProvideDef(5120,KeyValueDiffers,_keyValueDiffersFactory,[]),moduleProvideDef(4608,DomSanitizer,platform_browser_DomSanitizerImpl,[common_DOCUMENT]),moduleProvideDef(6144,Sanitizer,null,[DomSanitizer]),moduleProvideDef(4608,HAMMER_GESTURE_CONFIG,HammerGestureConfig,[]),moduleProvideDef(5120,EVENT_MANAGER_PLUGINS,(function(p0_0,p0_1,p0_2,p1_0,p2_0,p2_1,p2_2,p2_3){return[new platform_browser_DomEventsPlugin(p0_0,p0_1,p0_2),new KeyEventsPlugin(p1_0),new HammerGesturesPlugin(p2_0,p2_1,p2_2,p2_3)]}),[common_DOCUMENT,NgZone,PLATFORM_ID,common_DOCUMENT,common_DOCUMENT,HAMMER_GESTURE_CONFIG,Console,[2,HAMMER_LOADER]]),moduleProvideDef(4608,EventManager,EventManager,[EVENT_MANAGER_PLUGINS,NgZone]),moduleProvideDef(135680,DomSharedStylesHost,DomSharedStylesHost,[common_DOCUMENT]),moduleProvideDef(4608,platform_browser_DomRendererFactory2,platform_browser_DomRendererFactory2,[EventManager,DomSharedStylesHost,APP_ID]),moduleProvideDef(5120,AnimationDriver,instantiateSupportedAnimationDriver,[]),moduleProvideDef(5120,AnimationStyleNormalizer,instantiateDefaultStyleNormalizer,[]),moduleProvideDef(4608,AnimationEngine,animations_InjectableAnimationEngine,[common_DOCUMENT,AnimationDriver,AnimationStyleNormalizer]),moduleProvideDef(5120,RendererFactory2,instantiateRendererFactory,[platform_browser_DomRendererFactory2,AnimationEngine,NgZone]),moduleProvideDef(6144,SharedStylesHost,null,[DomSharedStylesHost]),moduleProvideDef(4608,Testability,Testability,[NgZone]),moduleProvideDef(4608,RadioControlRegistry,RadioControlRegistry,[]),moduleProvideDef(4608,ng_bootstrap_NgbModal,ng_bootstrap_NgbModal,[ComponentFactoryResolver,Injector,ng_bootstrap_NgbModalStack,ng_bootstrap_NgbModalConfig]),moduleProvideDef(4608,HttpXsrfTokenExtractor,http_HttpXsrfCookieExtractor,[common_DOCUMENT,PLATFORM_ID,XSRF_COOKIE_NAME]),moduleProvideDef(4608,HttpXsrfInterceptor,HttpXsrfInterceptor,[HttpXsrfTokenExtractor,XSRF_HEADER_NAME]),moduleProvideDef(5120,HTTP_INTERCEPTORS,(function(p0_0,p1_0,p1_1){return[p0_0,new auth_interceptor_service_AuthInterceptorService(p1_0,p1_1)]}),[HttpXsrfInterceptor,auth_service_AuthService,router_Router]),moduleProvideDef(4608,BrowserXhr,BrowserXhr,[]),moduleProvideDef(6144,XhrFactory,null,[BrowserXhr]),moduleProvideDef(4608,http_HttpXhrBackend,http_HttpXhrBackend,[XhrFactory]),moduleProvideDef(6144,HttpBackend,null,[http_HttpXhrBackend]),moduleProvideDef(4608,HttpHandler,HttpInterceptingHandler,[HttpBackend,Injector]),moduleProvideDef(4608,http_HttpClient,http_HttpClient,[HttpHandler]),moduleProvideDef(4608,AnimationBuilder,animations_BrowserAnimationBuilder,[RendererFactory2,common_DOCUMENT]),moduleProvideDef(5120,service_worker_NgswCommChannel,ngswCommChannelFactory,[SwRegistrationOptions,PLATFORM_ID]),moduleProvideDef(4608,service_worker_SwPush,service_worker_SwPush,[service_worker_NgswCommChannel]),moduleProvideDef(4608,service_worker_SwUpdate,service_worker_SwUpdate,[service_worker_NgswCommChannel]),moduleProvideDef(5120,router_ActivatedRoute,rootRoute,[router_Router]),moduleProvideDef(4608,router_NoPreloading,router_NoPreloading,[]),moduleProvideDef(6144,PreloadingStrategy,null,[router_NoPreloading]),moduleProvideDef(135680,router_RouterPreloader,router_RouterPreloader,[router_Router,NgModuleFactoryLoader,Compiler,Injector,PreloadingStrategy]),moduleProvideDef(4608,router_PreloadAllModules,router_PreloadAllModules,[]),moduleProvideDef(5120,RouterScroller,createRouterScroller,[router_Router,common_ViewportScroller,ROUTER_CONFIGURATION]),moduleProvideDef(5120,ROUTER_INITIALIZER,getBootstrapListener,[router_RouterInitializer]),moduleProvideDef(5120,APP_BOOTSTRAP_LISTENER,(function(p0_0){return[p0_0]}),[ROUTER_INITIALIZER]),moduleProvideDef(4608,api_service_ApiService,api_service_ApiService,[http_HttpClient,basedata_service_BasedataService]),moduleProvideDef(1073742336,CommonModule,CommonModule,[]),moduleProvideDef(1024,ErrorHandler,errorHandler,[]),moduleProvideDef(1024,NgProbeToken,(function(){return[routerNgProbeToken()]}),[]),moduleProvideDef(512,router_RouterInitializer,router_RouterInitializer,[Injector]),moduleProvideDef(256,SCRIPT,"ngsw-worker.js",[]),moduleProvideDef(256,SwRegistrationOptions,{enabled:!0,registrationStrategy:"registerImmediately"},[]),moduleProvideDef(1024,APP_INITIALIZER,(function(p0_0,p1_0,p2_0,p2_1,p2_2,p2_3){return[(coreTokens=p0_0,exportNgVar("probe",inspectNativeElement),exportNgVar("coreTokens",Object.assign({},CORE_TOKENS,(coreTokens||[]).reduce((prev,t)=>(prev[t.name]=t.token,prev),{}))),()=>inspectNativeElement),getAppInitializer(p1_0),ngswAppInitializer(p2_0,p2_1,p2_2,p2_3)];var coreTokens}),[[2,NgProbeToken],router_RouterInitializer,Injector,SCRIPT,SwRegistrationOptions,PLATFORM_ID]),moduleProvideDef(512,ApplicationInitStatus,ApplicationInitStatus,[[2,APP_INITIALIZER]]),moduleProvideDef(131584,core_ApplicationRef,core_ApplicationRef,[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]),moduleProvideDef(1073742336,ApplicationModule,ApplicationModule,[core_ApplicationRef]),moduleProvideDef(1073742336,platform_browser_BrowserModule,platform_browser_BrowserModule,[[3,platform_browser_BrowserModule]]),moduleProvideDef(1073742336,ɵInternalFormsSharedModule,ɵInternalFormsSharedModule,[]),moduleProvideDef(1073742336,FormsModule,FormsModule,[]),moduleProvideDef(1073742336,NgbAccordionModule,NgbAccordionModule,[]),moduleProvideDef(1073742336,NgbAlertModule,NgbAlertModule,[]),moduleProvideDef(1073742336,NgbButtonsModule,NgbButtonsModule,[]),moduleProvideDef(1073742336,NgbCarouselModule,NgbCarouselModule,[]),moduleProvideDef(1073742336,NgbCollapseModule,NgbCollapseModule,[]),moduleProvideDef(1073742336,NgbDatepickerModule,NgbDatepickerModule,[]),moduleProvideDef(1073742336,NgbDropdownModule,NgbDropdownModule,[]),moduleProvideDef(1073742336,NgbModalModule,NgbModalModule,[]),moduleProvideDef(1073742336,NgbNavModule,NgbNavModule,[]),moduleProvideDef(1073742336,NgbPaginationModule,NgbPaginationModule,[]),moduleProvideDef(1073742336,NgbPopoverModule,NgbPopoverModule,[]),moduleProvideDef(1073742336,NgbProgressbarModule,NgbProgressbarModule,[]),moduleProvideDef(1073742336,NgbRatingModule,NgbRatingModule,[]),moduleProvideDef(1073742336,NgbTabsetModule,NgbTabsetModule,[]),moduleProvideDef(1073742336,NgbTimepickerModule,NgbTimepickerModule,[]),moduleProvideDef(1073742336,NgbToastModule,NgbToastModule,[]),moduleProvideDef(1073742336,NgbTooltipModule,NgbTooltipModule,[]),moduleProvideDef(1073742336,NgbTypeaheadModule,NgbTypeaheadModule,[]),moduleProvideDef(1073742336,NgbModule,NgbModule,[]),moduleProvideDef(1073742336,HttpClientXsrfModule,HttpClientXsrfModule,[]),moduleProvideDef(1073742336,HttpClientModule,HttpClientModule,[]),moduleProvideDef(1024,ROUTER_FORROOT_GUARD,provideForRootGuard,[[3,router_Router]]),moduleProvideDef(512,UrlSerializer,DefaultUrlSerializer,[]),moduleProvideDef(512,ChildrenOutletContexts,ChildrenOutletContexts,[]),moduleProvideDef(256,ROUTER_CONFIGURATION,{},[]),moduleProvideDef(1024,LocationStrategy,provideLocationStrategy,[PlatformLocation,[2,APP_BASE_HREF],ROUTER_CONFIGURATION]),moduleProvideDef(512,common_Location,common_Location,[LocationStrategy,PlatformLocation]),moduleProvideDef(512,Compiler,Compiler,[]),moduleProvideDef(512,NgModuleFactoryLoader,SystemJsNgModuleLoader,[Compiler,[2,SystemJsNgModuleLoaderConfig]]),moduleProvideDef(1024,ROUTES,(function(){return[[{path:"",component:AuthComponent},{path:"auth",component:AuthComponent},{path:"select-inventory",component:select_inventory_component_SelectInventoryComponent},{path:"form-inventory/:clientid/:buildingid/:roomid",component:invent_form_component_InventFormComponent},{path:"form-inventory/:clientid/:buildingid",component:invent_form_component_InventFormComponent},{path:"form-inventory",component:invent_form_component_InventFormComponent},{path:"sync",component:dbsync_component_DbsyncComponent},{path:"settings",component:settings_component_SettingsComponent}]]}),[]),moduleProvideDef(1024,router_Router,setupRouter,[core_ApplicationRef,UrlSerializer,ChildrenOutletContexts,common_Location,Injector,NgModuleFactoryLoader,Compiler,ROUTES,ROUTER_CONFIGURATION,[2,UrlHandlingStrategy],[2,RouteReuseStrategy]]),moduleProvideDef(1073742336,router_RouterModule,router_RouterModule,[[2,ROUTER_FORROOT_GUARD],[2,router_Router]]),moduleProvideDef(1073742336,FontAwesomeModule,FontAwesomeModule,[]),moduleProvideDef(1073742336,ZXingScannerModule,ZXingScannerModule,[]),moduleProvideDef(1073742336,WebcamModule,WebcamModule,[]),moduleProvideDef(1073742336,AngularCropperjsModule,AngularCropperjsModule,[]),moduleProvideDef(1073742336,BrowserAnimationsModule,BrowserAnimationsModule,[]),moduleProvideDef(1073742336,ToastrModule,ToastrModule,[]),moduleProvideDef(1073742336,service_worker_ServiceWorkerModule,service_worker_ServiceWorkerModule,[]),moduleProvideDef(1073742336,app_module_AppModule,app_module_AppModule,[]),moduleProvideDef(256,APP_ROOT,!0,[]),moduleProvideDef(256,XSRF_COOKIE_NAME,"XSRF-TOKEN",[]),moduleProvideDef(256,XSRF_HEADER_NAME,"X-XSRF-TOKEN",[]),moduleProvideDef(256,ANIMATION_MODULE_TYPE,"BrowserAnimations",[]),moduleProvideDef(256,TOAST_CONFIG,{default:DefaultGlobalConfig,config:{enableHtml:!0,closeButton:!0,progressBar:!0,maxOpened:6,autoDismiss:!0,preventDuplicates:!0,resetTimeoutOnDuplicate:!0}},[])])}));environment.production&&function(){if(_runModeLocked)throw new Error("Cannot enable prod mode after platform setup.");_devMode=!1}(),platformBrowser().bootstrapModuleFactory(AppModuleNgFactory).catch(err=>console.error(err))},zWnV:function(module,exports,__webpack_require__){var __extends=__webpack_require__("mrSG").__extends;Object.defineProperty(exports,"__esModule",{value:!0});var InvertedLuminanceSource_1=__webpack_require__("2bqk"),LuminanceSource_1=__webpack_require__("yLOY"),IllegalArgumentException_1=__webpack_require__("z1Y+");exports.HTMLCanvasElementLuminanceSource=function(_super){function HTMLCanvasElementLuminanceSource(canvas){var _this=_super.call(this,canvas.width,canvas.height)||this;return _this.canvas=canvas,_this.tempCanvasElement=null,_this.buffer=HTMLCanvasElementLuminanceSource.makeBufferFromCanvasImageData(canvas),_this}return __extends(HTMLCanvasElementLuminanceSource,_super),HTMLCanvasElementLuminanceSource.makeBufferFromCanvasImageData=function(canvas){var imageData=canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height);return HTMLCanvasElementLuminanceSource.toGrayscaleBuffer(imageData.data,canvas.width,canvas.height)},HTMLCanvasElementLuminanceSource.toGrayscaleBuffer=function(imageBuffer,width,height){for(var grayscaleBuffer=new Uint8ClampedArray(width*height),i=0,j=0,length_1=imageBuffer.length;i<length_1;i+=4,j++)grayscaleBuffer[j]=0===imageBuffer[i+3]?255:306*imageBuffer[i]+601*imageBuffer[i+1]+117*imageBuffer[i+2]+512>>10;return grayscaleBuffer},HTMLCanvasElementLuminanceSource.prototype.getRow=function(y,row){if(y<0||y>=this.getHeight())throw new IllegalArgumentException_1.default("Requested row is outside the image: "+y);var width=this.getWidth(),start=y*width;return null===row?row=this.buffer.slice(start,start+width):(row.length<width&&(row=new Uint8ClampedArray(width)),row.set(this.buffer.slice(start,start+width))),row},HTMLCanvasElementLuminanceSource.prototype.getMatrix=function(){return this.buffer},HTMLCanvasElementLuminanceSource.prototype.isCropSupported=function(){return!0},HTMLCanvasElementLuminanceSource.prototype.crop=function(left,top,width,height){return this.crop(left,top,width,height),this},HTMLCanvasElementLuminanceSource.prototype.isRotateSupported=function(){return!0},HTMLCanvasElementLuminanceSource.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},HTMLCanvasElementLuminanceSource.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},HTMLCanvasElementLuminanceSource.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var tempCanvasElement=this.canvas.ownerDocument.createElement("canvas");tempCanvasElement.width=this.canvas.width,tempCanvasElement.height=this.canvas.height,this.tempCanvasElement=tempCanvasElement}return this.tempCanvasElement},HTMLCanvasElementLuminanceSource.prototype.rotate=function(angle){var tempCanvasElement=this.getTempCanvasElement(),tempContext=tempCanvasElement.getContext("2d"),angleRadians=angle*HTMLCanvasElementLuminanceSource.DEGREE_TO_RADIANS,width=this.canvas.width,height=this.canvas.height,newWidth=Math.ceil(Math.abs(Math.cos(angleRadians))*width+Math.abs(Math.sin(angleRadians))*height),newHeight=Math.ceil(Math.abs(Math.sin(angleRadians))*width+Math.abs(Math.cos(angleRadians))*height);return tempCanvasElement.width=newWidth,tempCanvasElement.height=newHeight,tempContext.translate(newWidth/2,newHeight/2),tempContext.rotate(angleRadians),tempContext.drawImage(this.canvas,width/-2,height/-2),this.buffer=HTMLCanvasElementLuminanceSource.makeBufferFromCanvasImageData(tempCanvasElement),this},HTMLCanvasElementLuminanceSource.prototype.invert=function(){return new InvertedLuminanceSource_1.default(this)},HTMLCanvasElementLuminanceSource.DEGREE_TO_RADIANS=Math.PI/180,HTMLCanvasElementLuminanceSource}(LuminanceSource_1.default)},zn8P:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id="zn8P"}},[[0,0]]]);